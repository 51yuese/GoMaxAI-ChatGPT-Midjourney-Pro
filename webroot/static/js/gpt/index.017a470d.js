import{e,b6 as a,R as t,aN as l,a7 as i,j as s,r as n,aj as o,k as d,aX as r,b2 as p,a0 as c,O as u,P as v,X as g,an as x,U as f,F as m,ab as A,Z as h,_ as b,a4 as y,$ as k,H as C,N as w,a8 as E,ao as I,b7 as B,a1 as L,aV as F,aW as S,aY as j,aZ as N,S as R,aQ as D,ad as Q,au as Y,A as z,ap as U,ak as J,ai as O,b8 as K}from"../main-6c725c30.js";import{c as X,d as V,_ as Z,a as W,b as T,h as H}from"../vip/vip.5a87ac48.js";import{C as P}from"../index/index.eb53a6d9.js";import{u as M}from"../index/index.5b75f753.js";import{_ as G,a as q}from"../sendBox_3/sendBox_3.cef6ccc8.js";import{u as _}from"../useUpload/useUpload.94c17c32.js";import{a as $}from"../music/music.7f933b9b.js";import"../katex/katex.b834b3c7.js";const ee={class:"chatBox"},ae={class:"chatBox-btn-box"},te={class:"inputOut dark:bg-[#2d2e35] bg-[#fff] dark:text-[#fff]"},le={class:"chatList"},ie=["onClick"],se=["src"],ne={class:"buttonBox"},oe={style:{display:"flex","align-items":"center"}},de={class:"deletChatSelect"},re=["onClick"],pe={key:0,class:"vipImg",src:V,alt:""},ce={class:"vipTime"},ue=L(e({__name:"index",props:{first:Number},emits:["chatLogList","openSearchApp","handleOpenApp"],setup(e,{emit:L}){a();const F=t();l();const S=i(),j=s((()=>F.isLogin)),N=s((()=>F.userInfo));!N.value||!N.value.lifetimeVip||N.value.lifetimeVip;const R=n(),D=n(),Q=n(),Y=e,z=o(),U=s((()=>"dark"==S.theme?"#36373E":"rgba(142, 145, 166, 0.15)"));s((()=>"dark"==S.theme?"darkItem item":"item bg-white dark:bg-[#3a3b41]")),s((()=>"dark"==S.theme?"darkItemSelect itemSelect":"itemSelect"));const J=L;return d((()=>{F.getUserInfo(),r().then((e=>{R.value=e.data.rows})),p().then((e=>{D.value=e.data}))})),c.on("uuid",(e=>{p().then((a=>{D.value=a.data,Q.value=e.modelId}))})),(e,a)=>(w(),u("div",{class:"siderBarBox bg-[#f2f2f5] dark:bg-[#24252b]",style:C({"border-left":`2px solid ${U.value}`})},[v("div",ee,[v("div",ae,[v("div",{class:"createdChat dark:bg-[#243932] bg-transparent border-2 border-[#3E6AE7] text-[#3E6AE7] font-semibold dark:border-[#24CB69] dark:text-[#23a559]",onClick:a[0]||(a[0]=e=>g(F).updateCreateAppDialog(!0))},a[3]||(a[3]=[x('<p class="text-[#3E6AE7] dark:text-[#259656]" style="font-size:24px;" data-v-a3f2c621>+</p><p class="title" data-v-a3f2c621>新建应用</p><p class="ctrlBg bg-[#e6ecff] dark:bg-[#23593e]" data-v-a3f2c621>Ctrl</p><p class="plusBg" data-v-a3f2c621>+</p><p class="kBg bg-[#e6ecff] dark:bg-[#23593e]" data-v-a3f2c621>k</p>',5)]))]),f(P),a[5]||(a[5]=v("div",{class:"exploreGpt"},[v("div",{style:{display:"flex"}},[v("div",{class:"text-[#333333] dark:text-white font-semibold text-[16px]"},"使用记录")])],-1)),v("div",te,[a[4]||(a[4]=v("img",{style:{width:"13px",height:"13px","margin-right":"12px"},src:X,alt:""},null,-1)),m(v("input",{class:"inputBg",placeholder:"搜索使用过的应用","onUpdate:modelValue":a[1]||(a[1]=a=>e.inputKey=a),onInput:a[2]||(a[2]=(...a)=>e.searchTodayHistory&&e.searchTodayHistory(...a))},null,544),[[A,e.inputKey]])]),v("div",le,[j.value?(w(!0),u(h,{key:0},b(D.value,(e=>(w(),u("div",{class:E(["itemBox",Q.value==e.modelId&&0!==Y.first?"item bg-[#3E6AE7] border-[1.5px] border-transparent dark:bg-[#3a3b41] dark:border-[#ffffff80]":"item bg-white border-[1.5px] border-transparent dark:bg-[#292a31] dark:border-[#36373E]"]),key:e.id,onClick:a=>function(e){Q.value=e.modelId,J("handleOpenApp",e,1)}(e)},[v("img",{src:e.logo,alt:"",style:{width:"46px",height:"46px","border-radius":"6px","margin-right":"9px"}},null,8,se),v("p",{class:E(Q.value==e.modelId&&0!==Y.first?"dark:text-[#fff] text-[#fff]":"dark:text-[#ffffff8c] text-[#333333]"),style:{"font-size":"16px","margin-right":"25px"}},k(e.modelName),3),v("div",ne,[v("div",oe,[v("div",de,[v("img",{src:"/static/svg/deletChatSelect-52cf527b.svg",alt:"",onClick:I((a=>async function(e){await B({groupId:e.id}),p().then((e=>{D.value=e.data})),z.success("删除成功")}(e)),["stop"])},null,8,re)])])])],10,ie)))),128)):y("",!0)])]),v("div",{class:"vipTimeBg",style:C({"border-top":`2px solid ${U.value}`})},[N.value&&N.value.vipExpire||1==N.value.lifetimeVip?(w(),u("img",pe)):y("",!0),v("p",ce,k(1==N.value.lifetimeVip?"会员到期日：永久会员":N.value&&N.value.vipExpire?"会员到期日："+g(M)(N.value.vipExpire,"YYYY-MM-DD"):"暂未开通会员"),1)],4)],4))}}),[["__scopeId","data-v-a3f2c621"]]),ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAAnFJREFUSA2tlFty2kAQRVmCl8BSWILL8UMJfii242AbUEuaGYnYKbIDlqClsASWMJ9UaUZqsYJ2jV4GQpnBCT/8dPc9un17Oh3L3x/Ao9/xKnmNCnqJijkAHlm22pe9xqtpLUCTqKCYo2vfbVn5IorFr6igiSgoFgUJgdKy1a4sjrFX0kcFRZUAcYHEmOrZTbComkSrWSzQ0FfDOVLIkQKOiUX7/hKz4EgUuC4QcCSfIwH/T5Yxhr3Smnf6UsBjOY1ZTqNA/1sA4hi7XKBkorSmoadWgOX0HOZyANjd78mOCs7RDQXK2vtKoKFnOQ0rAXoKMxoEuRww1XNtbsdYE0WrpKSv7am936A3Ak9hTo9hToMwo59hRg9BRvdBhvdBNnNhK3VmseawIoFyl/ewk35z+I9KgO6CjL77mlxf042fLa4hm5ZfF/Fi3iZHVNE8kL4cfrshoOkKNF2Cpj7opFPS18PbaO6kz+hxzZqW3tdr9JquoRFQ9A0UfQVFnZBjYpZ7CL0RMNZs0xuBmr4VcDw175idAMMpsHxR5n4jOWa574tt6besufYber02PJVno9Q9Brn5Wg+Z6o0Yzp7DHLeTY0evpePpxBku979pJhEDUL2HIJMtva/ptk3Opvd90NIZpZ+7fBeW3bsgkx97r6UDy89dfPMIuJC6Ve41rXvfr5PjbB9e03jo/42vZRPNPrwv98JTeGzzlNgIXoFOLkFRS+8puvAUnXtqZtNvVWMsaQ7LqQXOPEWnNimyUqiLHC+VNT2djRWdjtPFIf1Wteawzg39OKUv45ROxmpq1XhIkbnc05GanxgBL03+uuQPhr0BJUgmTe2usdwAAAAASUVORK5CYII=",ge="/static/svg/collection-e763941f.svg",xe="/static/svg/collection select-3518ff03.svg",fe=["onClick"],me={class:"absolute top-1 right-1"},Ae={class:"dark:bg-[#1c322b] dark:text-[#34D878] bg-[#DEE6FC] text-[#3E6AE7] rounded-xl w-[107px] h-[46px] flex justify-end"},he={class:"w-[60px]"},be={class:"relative z-30"},ye={class:"z-30",style:{display:"flex","justify-content":"space-between","align-items":"center"}},ke=["src"],Ce=["onClick"],we=["onClick"],Ee={style:{display:"flex","margin-top":"6px","align-items":"center"}},Ie={style:{"font-size":"16px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden","max-width":"120px"}},Be={key:0,style:{"font-size":"10px","border-radius":"30px 30px 30px 30px",width:"44px",height:"20px","text-align":"center","line-height":"20px","margin-left":"8px",background:"rgba(0, 187, 187, 0.12)",color:"#00bbbb"}},Le={style:{"font-size":"12px","margin-top":"4px"},class:"intro dark:text-[#6C6E79] text-[#8B8C8C]"},Fe=L(e({__name:"index",props:{type:String,appList:Object},emits:["handlecollection","handleChat","handleMore"],setup(e,{emit:a}){const t=e,l=a;function i(e){l("handlecollection",e)}const s=n(null);function o(){const e=s.value;e.scrollTop+e.clientHeight>=e.scrollHeight&&l("handleMore")}return(e,a)=>(w(),u("div",{class:"appBox",onScroll:o,ref_key:"containerRef",ref:s},[(w(!0),u(h,null,b(t.appList,(e=>(w(),u("div",{class:"contentItem relative",key:e.id,onClick:a=>function(e){l("handleChat",e)}(e)},[a[0]||(a[0]=v("div",{class:"absolute top-0 left-0 w-full h-full z-20 dark:bg-[url(@/views/gpt/compotents/img/card-dark.png)] bg-[url(@/views/gpt/compotents/img/card.png)] bg-contain"},null,-1)),v("div",me,[v("p",Ae,[v("span",he,k(e.groupName),1)])]),v("div",be,[v("div",ye,[v("img",{style:{width:"61px",height:"61px","border-radius":"8px"},src:e.logo,alt:""},null,8,ke),e.collected||e.collectTime?y("",!0):(w(),u("img",{key:0,src:ge,alt:"",style:{cursor:"pointer"},onClick:I((a=>i(e)),["stop"])},null,8,Ce)),e.collected||e.collectTime?(w(),u("img",{key:1,src:xe,alt:"",style:{cursor:"pointer"},onClick:I((a=>i(e)),["stop"])},null,8,we)):y("",!0)]),v("div",Ee,[v("p",Ie,k(e.modelName),1),e.gptsApp?(w(),u("p",Be," GPTS ")):y("",!0)]),v("div",Le,k(e.desc),1)])],8,fe)))),128))],544))}}),[["__scopeId","data-v-7f646a2a"]]),Se={class:"appBox"},je=["onClick"],Ne={class:"ranking"},Re={key:0,style:{width:"48px",height:"48px",position:"absolute",left:"0",top:"12px"},src:"data:image/png;base64,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",alt:""},De={key:1,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAARNSURBVHgBfVTLbhxFFL23uqfnaU+PBxNFhGSs8BBZxVJAAhb2AAtY4T+IvQq7mC9A/gLCBsgq+A/MjgXKOAEUFECWLMshbHAgwkZ2mPbE9vR0V1dxb3X3vO1r11TX69z3QUjky8bmAoJwYUgECM+BzvpSfdbr37/T2HB9yCzAGOE3N+pX1vjbTjdR2AuIcH34sqbR0dl1mur9+x0rewcBxirQgN/QtBYrS8RXnWUN2hv3ABDmbze2u2Bf3d9ahFPACX1HR7DSe9ontxtby9oSn6drSwgo5XJQKZWgSHPGsj3y0u2E0uuEgesdH8Oz588HbdG4eGPujdWxCli+vrfdYIvdYhEuTk+bC1prUEqb2TwiLTwEGSCjCPa8ZqyIrP9k7spMP54Y8VBFKxeqVahNv0jfCkIpIQylAYpoHanIfEval2EIghS9XH2BRpXuY30Yzx7euPbq6x8TiJaRxChSJsnmB1OXEdKtiDyKSJEmT6ZKE3DOrXxG20sDIetfPNwLbkaBvCVlbC0f8nx41AK/40NAFitaO5kMTJYmYaJY6obQsizI2DblDT9980Lu1oiCB7vtGobQIPdrEYWA31EYcHd/DySFBVH0busEVFhwfvoc2LZl9iyas7bjZaQzMzuD3kAOrAjm6VGNLWSIUIb4z/6/BK4omRY8azZhY3MTth49gjZ5wwlWVI+7B3usTFPSNReCVNKVTrA8JsniptKKHmk2BputQ5PQuFIk/Pzbr1Aul6FQKMLdH38we+wV58lrtZDfQK/a5gYUbPypXdq8yodpFE78k245Ok4WPnr/A3jt8is0LlNVhXTud89bx1yixjATOvqfZ8yuAj/nu+ZGci0IAnORHwPGKh3HMfP2H79DIV8Ad7Ic54QGh5XyptHgJ3WXA3cwRNq4iDjae11h8J2//oa5d94dOQsoZyZMyDAaR3NgrDGHpip0UimQdO/24x54IZ9PjYoHSZY8ZA8QjOcafOhV0dvn8ztEp83UZa6aHMVdJ3/7Bwdk/WPq6hDuP/gJvrv7PSXWS+JN0chmqaNjWzGen6Rlavc58C2R26JW2lRdpezCLpUpK6hOVeDD+nvQ3wi2nekqqEyUE/A46ShwfSREVMWrzJ5o/APIZ3O6QonkBDIn5XJ5yBOjxiMPtiXMGd+htSZQ7gXDwKjUeDb95WnQCCM5z0SWVsPRyRH8d+gh90S/B0wN1fIUFPOFuM8ImKhCU/5W33op2+WjAbKTVrRkaWzQ6xpRBhmusFgoQalQ0m2/jTKmEAqPbXIEsbOEjeSRpW0hnmSEWunHHKlJ5iQhsUEWXyLSQ500UFfYs6Q3+JfBmZPIox3H1vVZLpizFKRKLCUa5MElQ9lMITEFpCkiqwU3jQmVQOtehrwfBj9VQSoPn7YX6cp1QpzTypQsGqJCk1DO6bpQ+MW1i9m10zDOVJAK84q0/asSoWZxWFB4VuCsp7V+lvwPeQFD+KAsFAcAAAAASUVORK5CYII=",alt:""},Qe={key:2,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAARXSURBVHgBfVVtTxxVFD733pl9YbcwULEUAyxITWyQgBpTTRBoTGqTRusvKKjfi+0PMPwALX62WvkFrRrjp2ZR+8nEIhujSRPrQoxGRVzCAjtv93jO3Z3dmWXh7N6dmTP3Ps95XwENKd1euiqFdKBNNIpKqMK16cWVSly/fmfJsbW8Ch2Ez0y++8E9vrdaasGbr7VvlgJBolqj2/m43tLyDl06EtCZz+hiCGSkDBUuIWCl0wFAnCvdvtkEK31yY0EcA05S9j293DQ7/mbj4xtLSsKtpiWWBbm8A3nnCeiiq51KkwHCCdyDSq126FR3t6Gy/WcSXuDCxNu3VjsSsPz06c0iW3yqtx/ODj9D1gsIwxBQa9C0zCEhQSoBSln0LoDtvzZht05Unnjnw9E4ntVOgCEsDwyPz/WcPguB50EYBAYcEZOGCiKWPkjbhjNPjUMmm4Pff300344n2xXnX5p9s6dvAP1azRBotj4GHrnMOvaM9/Hq7h2AyZdfe78dLxEi3Pjquue5K77rQuj7dZ0OYP/fLfD2KwS0Z56tdB5yp4cg6ww2zyryJJXJUNjs99T0lZUjBLj+dcHXbjFw3QJbThZi6B+KnfJD0H7NhEQ0zadapx9pZaCv8AKBZ+rxTqUgnc1UlMBRMf1WJREicnYOw7DAlhtwrwEeuCClAO/wALyDxqJ7RWwY1GCn/AN7hSZ9lK8wCB0N1lKEa8WSdl3ThkaliOo/jwm8Rk0jzNp48MDsC8gAi8Jx4dIlYx3v2d/eEvknx0wxEAF5hLOJJOP6XYesn+KkReLubTfByQF45fLrlMQLFAYbnn91xoTLhI0++ztbrTzq0DQmY8ZClHHQRNasZjLjUq1U4OG33xnr2QsRzyKBUiiRCFFTdWG97JxEDkgnoEPjRWJTAofGx2FweMQQBY0qi4S6WzCGaGFBgkDESkTZ2SMEbNPY+Wdh6Ny4ed7b3Y220xfByuQbT4QlJV9bVSSmL5ellP/RC+OEpBFgdzmmmXj5ng/f378Pj3/+BR6VSiZMue6e+nv6pLp66Yxdzwth0GXzSJmS9nOlFJWkYYd8/5ixmhcPvRcvXjRESEU2NTMDinSa+wHre+tRkKRXRCLWjoRIoljlQ4KLniSd78Nc/yiExMCJS2Wz8PRzE2bxvW7o87Qnles1CZZsIHmvleg8TfWPXxY9153j2dLoBzzc/QOqf/8m6t3cyoek7j01cA6y3WeocjTZpXhUoJ3OrKqpK4sRZmKaCgwWKb5Fim2BRgb1jRbZnkHocgaxVt0xJJxGK91FOeoxJ7hiDHg6jdQjmxL95QQmtFfL+t0C9WKR5tEIDT2BPE2TOxLHOKw86KiMy0roeUpu+USCiEQLVaS2H+H5Eo0QU+cUazDFIk3MGdyyrG/Y+3bwYwkiCUpfLNAUvEbIs4aAQgZ1dI4Lk62Bgo+syTfuHYdxIkHMI4f+BaaEwgIFBVQoqMbdtajWT5L/AXVFMcD2y87kAAAAAElFTkSuQmCC",alt:""},Ye={key:3},ze={class:"appLogo"},Ue=["src"],Je={class:"appInfo"},Oe={class:"infoBox",style:{display:"flex","justify-content":"space-between","align-items":"center"}},Ke={class:"info"},Xe={style:{"font-size":"17px","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"130px"}},Ve={style:{"line-height":"20px",height:"20px",padding:"0 6px","border-radius":"6px",width:"auto",display:"inline-block","font-size":"12px","margin-left":"8px"},class:"dark:bg-[#222325] bg-[#F0F0F0] dark:text-[#6C6E79] text-[#8B8C8C]"},Ze=["onClick"],We=["onClick"],Te={style:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis",width:"430px","font-size":"12px"},class:"intro dark:text-[#6C6E79] text-[#8B8C8C]"},He=L(e({__name:"ranking",props:{appList:Object},emits:["handlecollection","handleChat"],setup(e,{emit:a}){const t=e,l=a;function i(e){l("handlecollection",e)}return(e,a)=>(w(),u("div",Se,[(w(!0),u(h,null,b(t.appList,((e,t)=>(w(),u("div",{class:"appItem dark:bg-[#19191B] bg-[#F8F9F9]",key:e.id,style:{position:"relative"},onClick:a=>function(e){l("handleChat",e)}(e)},[v("div",Ne,[0==Number(t)?(w(),u("img",Re)):y("",!0),1==Number(t)?(w(),u("img",De)):y("",!0),2==Number(t)?(w(),u("img",Qe)):y("",!0),Number(t)>2?(w(),u("p",Ye,k(t+1),1)):y("",!0)]),v("div",ze,[v("img",{style:{width:"48px",height:"48px","border-radius":"12px"},src:e.logo,alt:""},null,8,Ue)]),v("div",Je,[v("div",Oe,[v("div",Ke,[v("p",Xe,k(e.modelName),1),v("div",Ve,k(e.groupName),1),a[0]||(a[0]=v("div",{style:{"font-size":"12px","border-radius":"12px",width:"44px",height:"20px","text-align":"center","line-height":"20px","margin-left":"8px"},class:"border dark:border-[#004B3A] border-[#B9E8D6] dark:bg-[#101C18] bg-[#F3FBF8] dark:text-[#074938] text-[#10A37F]"}," GPTS",-1))]),v("div",null,[e.collected||e.collectTime?y("",!0):(w(),u("img",{key:0,src:ge,alt:"",style:{cursor:"pointer"},onClick:I((a=>i(e)),["stop"])},null,8,Ze)),e.collected||e.collectTime?(w(),u("img",{key:1,src:xe,alt:"",style:{cursor:"pointer"},onClick:I((a=>i(e)),["stop"])},null,8,We)):y("",!0)])]),v("div",Te,k(e.desc),1)])],8,je)))),128))]))}}),[["__scopeId","data-v-63333815"]]),Pe={style:{width:"720px",margin:"0 auto",height:"94vh",display:"flex","justify-content":"center"}},Me={key:0,class:"mask"},Ge={key:1,class:"modal dark:bg-[#19191B] bg-[#F8F9F9]"},qe={class:"appLogo"},_e=["src"],$e={class:"appInfo"},ea={style:{"font-size":"17px","margin-top":"24px","font-weight":"bold"}},aa={style:{"font-size":"12px"},class:"dark:text-[#6C6E79] text-[#8B8C8C]"},ta={style:{width:"225px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden","font-size":"12px"}},la={class:"aboutApp"},ia={class:"collectNum"},sa={style:{display:"flex"}},na={style:{"margin-top":"3px","margin-left":"6px","font-size":"24px","line-height":"28px"}},oa={class:"usedNum"},da={style:{"margin-top":"3px","margin-left":"6px","font-size":"24px","line-height":"28px"}},ra={key:0,class:"suggestion"},pa={class:"suggestBox"},ca={class:"suggestItem border dark:border-[#2D2E31] border-[#E9E9E9]"},ua=["onClick"],va={style:{display:"flex",padding:"12px"}},ga={class:"mainBox"},xa={class:"inpBox bg-white border-2 !border-transparent dark:bg-transparent dark:!border-[#57585e] relative gap-2"},fa={class:"bg-[#fff] dark:bg-[#24252b]",style:{width:"694px",height:"50px","border-radius":"10px 10px 10px 10px",display:"flex","align-items":"center","margin-top":"34px",padding:"4px"}},ma=["onClick"],Aa=["src"],ha={class:"contentBox"},ba={key:0,class:"contentRight"},ya={class:"secondClass"},ka=["onClick"],Ca={key:1,class:"contentRight"},wa={class:"secondClass"},Ea=["onClick"],Ia={style:{"font-size":"16px","line-height":"normal"}},Ba={key:2,class:"contentRight"},La={key:3,class:"contentRight"},Fa={key:4,class:"contentRight"},Sa={key:5,class:"contentRight"},ja={key:6,class:"contentRight"},Na=L(e({__name:"exploreApp",emits:["openApp"],setup(e,{emit:a}){const l=o(),p=t(),c=i();s((()=>"dark"===c.theme));const g=a,C=n([]);s((()=>"dark"==c.theme?"#243932":"rgba(35, 165, 89, 0.2)"));const I=[{title:"我的应用",iconDark:"/static/svg/collectionDark-5ab4a769.svg",iconLight:"/static/svg/collectionLight-042267a8.svg",id:0},{title:"应用分类",iconDark:"/static/svg/appDark-b0593e91.svg",iconLight:"/static/svg/appLight-b45260b9.svg",id:1},{title:"应用推荐",iconDark:"/static/svg/agreeDark-7aaeaf06.svg",iconLight:"/static/svg/agreeLight-bb49b159.svg",id:2},{title:"受欢迎的",iconDark:"/static/svg/hotDark-74c3d3ca.svg",iconLight:"/static/svg/hotLight-c684e1b8.svg",id:3},{title:"最新发布",iconDark:"/static/svg/newDark-3402b3b4.svg",iconLight:"/static/svg/newLight-fa9325fc.svg",id:4}],B=[{title:"我收藏的",id:0},{title:"我创建的",id:1}],L=n([]),R=n(1),D=n(0);function Q(e){let a={groupId:e,modelId:"",modelName:0,page:R.value,size:20};S(a).then((e=>{L.value=e.data.rows}))}function Y(e){R.value=1,D.value=e,Q(e)}Q(D.value),d((()=>async function(){const e=await F({page:1,size:50,status:1});C.value=e.data.rows}()));const z=n(1),U=n([]);function J(e){let a={appId:e.id};N(a).then((a=>{l.success(a.data),0!=U.value.length?U.value=U.value.filter((a=>a.id!=e.id)):L.value.forEach((a=>{a.id==e.id&&(a.collected=!a.collected)}))}))}const O=n(),K=n(!1);function X(e){K.value=!0,O.value=e}function V(e){console.log(O.value,"......"),K.value=!1;g("openApp",O.value,0,e)}const Z=n("");function W(e){if(Z.value&&"Enter"===e.key){e.preventDefault();let a={groupId:0,modelId:"",modelName:Z.value,page:0,size:0};S(a).then((e=>{Z.value="",D.value=0,z.value=1,L.value=e.data.rows}))}}function T(){if(Z.value){let e={groupId:0,modelId:"",modelName:Z.value,page:0,size:0};S(e).then((e=>{D.value=0,z.value=1,L.value=e.data.rows}))}}function H(){if(1==z.value){R.value++;let e={groupId:D.value,modelId:"",modelName:0,page:R.value,size:20};S(e).then((e=>{20*R.value>=e.data.count?l.error("没有更多数据了"):L.value=[...L.value,...e.data.rows]}))}}return(e,a)=>(w(),u("div",Pe,[K.value?(w(),u("div",Me)):y("",!0),K.value?(w(),u("div",Ge,[v("div",{class:"modalTop",style:{cursor:"pointer"},onClick:a[0]||(a[0]=e=>K.value=!1)},a[5]||(a[5]=[v("img",{src:"/static/svg/close-9c203e59.svg",alt:""},null,-1)])),v("div",qe,[v("img",{style:{width:"86px",height:"86px","border-radius":"12px"},src:O.value.logo,alt:""},null,8,_e)]),v("div",$e,[v("p",ea,k(O.value.modelName),1),v("p",aa," 创建时间 : "+k(O.value.createdAt.split("T")[0]),1),v("p",ta,k(O.value.desc),1)]),v("div",la,[v("div",ia,[v("div",sa,[a[6]||(a[6]=v("img",{src:"/static/svg/startCollection-2531216c.svg",alt:""},null,-1)),v("p",na,k(O.value.collectCount),1)]),a[7]||(a[7]=v("p",{style:{"font-size":"12px"},class:"text-[#8B8C8C] dark:text-[#6C6E79]"}," 收藏 ",-1))]),a[9]||(a[9]=v("div",{style:{width:"1px",height:"38px"},class:"line dark:bg-[#2D2E32] bg-[#E7E7E7]"},null,-1)),v("div",oa,[v("p",da,k(O.value.useCount),1),a[8]||(a[8]=v("p",{style:{"font-size":"12px"},class:"text-[#8B8C8C] dark:text-[#6C6E79]"}," 对话 ",-1))])]),O.value.demoData?(w(),u("div",ra,[a[10]||(a[10]=v("p",{style:{"font-size":"17px"}},"对话开场白",-1)),v("div",pa,[(w(!0),u(h,null,b(O.value.demoData.split("\n"),(e=>(w(),u("div",ca,[v("p",{onClick:a=>V(e)},k(e),9,ua)])))),256))])])):y("",!0),v("div",va,[v("div",{onClick:a[1]||(a[1]=e=>V(!1)),style:{display:"flex",width:"100%",padding:"12px 16px","justify-content":"center","border-radius":"12px",cursor:"pointer"},class:"dark:bg-[#222325] bg-[#F0F0F0]"},a[11]||(a[11]=[v("img",{src:"/static/svg/chat-c50a188c.svg",alt:""},null,-1),v("p",{style:{"margin-left":"6px"}},"开始聊天",-1)]))])])):y("",!0),v("div",ga,[a[14]||(a[14]=x('<div style="text-align:center;margin-top:43px;" data-v-0bdcfbc5><div style="display:flex;align-items:center;justify-content:center;" data-v-0bdcfbc5><img style="width:16px;height:16px;margin-right:20px;" src="'+ve+'" alt="" data-v-0bdcfbc5><p class="mainTitle" data-v-0bdcfbc5>探索应用</p><img style="width:16px;height:16px;margin-left:20px;" src="'+ve+'" alt="" data-v-0bdcfbc5></div><p class="dark:text-[#828490] text-[#828490]" style="font-size:16px;" data-v-0bdcfbc5> 探索并创建结合了指令、额外知识和任何技能组合的自定义版本的ChatGPT </p></div>',1)),v("div",xa,[a[12]||(a[12]=v("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAAAXNSR0IArs4c6QAAAstJREFUWAm9We1RwzAMzQiMwAiMwAg6u/xLsUdgg47ACBmhI3QERmCEjFCQ4pQ00fNXXLjj8mFHepb1JFntusI/evMvZI4fZN2ZrPsi477JuitZN8qzdReybiDbE5F/KhRfP52VkfGnBSAGlfs/EPnneu0ZX5I5+mClXFBoXnuwYr1p65DSmvcjWU8ZtklP4e2p3No84Ob9lEYRmZEJ8CLkYRIFfxPL8zMThonzRygdeC3QiSA3tmrCzzOoyDpvQ+LPMbDG+9vk3JsQVjRwIx38a66c5bzg2xyudLlv/mU5P3ofWLwVxJZoEELIvJ9UoMZ9R4EtB1UfagRw1kPGfepAjx/zHHiFq6zcYqio67qQldY7NrJbxL7rVCtaN0Q/qhxk3wbWxCSSXKw5dQM/ROsABMVGCcXC2vwXpKDFe2DNEcomLfWZIzY9lJQ/EMISV033xkG7p4Kkviom5sMUAnFJtwIJ9KqkQSsqQZGYO9WcK5BoBzerse6akN9kmA5KzDQgXqq1YipmNYBZZkmtAPif7S7wSY3dtm9TmEYsrmYeRFjVNw7uMyJ/95DUrGtm8zNys+LAuhti14GKCycQGFgR05qAVArrlD41oPM5Gpl/B1BYcaXICracs8F5B57NpxE9uLhYSlHjFjtz7YFpKZzryNgJNGXFWVZg3DbpC9B9bA8WBLILj7eR7bhKjs9dcVi5kJLbM1q4md8VyhTRoL5cVisDoaD7B+5ZekdTE2v57fa+9hwFGTivfrry9nFqO4eEMMi9lmbvv2sJVNp7W4Ephelx4JuVR+epF6kE3jQQbXGjuECM5bVbz26WbJekQd+1/aLhaA9QAZvbjJpAX8RyoI3yUKCBwJ24AvWv0kXj9rQ0W3ua3icO+ndRALjTXovOQFtc/8WiDwdqHS7hWigvkRGzaImch88FQL8errhUgQDl34fmCPGb238AUWGxtOaoXyEAAAAASUVORK5CYII=",alt:"",class:"w-[18px] h-[18px]"},null,-1)),m(v("input",{onInput:T,onKeydown:W,"onUpdate:modelValue":a[2]||(a[2]=e=>Z.value=e),class:"inp",type:"text",name:"",id:"",placeholder:"输入关键词，探索176个应用"},null,544),[[A,Z.value]]),v("div",{class:"bg-gradient-to-r from-[#957DF4] to-[#3C69E7] text-white dark:from-transparent dark:to-transparent dark:bg-[#23A559]",style:{display:"flex","align-items":"center","justify-content":"center","border-radius":"6px",cursor:"pointer",width:"84px",height:"40px","font-size":"16px"},onClick:a[3]||(a[3]=(...a)=>e.handleSend&&e.handleSend(...a))}," 搜索 ")]),v("div",fa,[(w(),u(h,null,b(I,(e=>v("div",{key:e.id,class:E(z.value==e.id?"bg-gradient-to-r from-[#957DF4] to-[#3C69E7] text-white dark:from-transparent dark:to-transparent dark:bg-[#243932]":"background: transparent;"),onClick:a=>function(e){z.value=e.id,0==e.id?r().then((e=>{U.value=e.data.rows})):1==e.id?(Q(0),U.value=[]):2==e.id?(U.value=[],j({type:"recommend"}).then((e=>{L.value=e.data}))):3==e.id?(U.value=[],j({type:"popular"}).then((e=>{L.value=e.data}))):4==e.id||5==e.id?(U.value=[],j({type:"latest"}).then((e=>{L.value=e.data}))):6==e.id&&p.updateCreateAppDialog(!0)}(e),style:{display:"flex","align-items":"center","justify-content":"center","border-radius":"8px 8px 8px 8px",padding:"8px 0",flex:"1",cursor:"pointer"}},[v("img",{style:{width:"15px",height:"15px","margin-right":"10px"},src:e.iconDark,class:E(z.value==e.id?"":"contrast-0"),alt:""},null,10,Aa),v("p",{class:E(z.value==e.id?"text-[#fff] dark:text-[#26F37B]":"text-[#757882]"),style:{"font-size":"16px","margin-top":"4px"}},k(e.title),3)],10,ma))),64))]),v("div",ha,[0==z.value?(w(),u("div",ba,[v("div",ya,[(w(),u(h,null,b(B,(e=>v("div",{class:E(["secondClassItem cursor",D.value==e.id?"bg-[#fff] dark:bg-[#10A37F]  text-[#3E6AE7] dark:text-[#ffffffd1] border-[1.5px] border-[#3E6AE7] dark:border-transparent":"dark:bg-[#222325] bg-[#fff] text-[#6B6D77]"]),key:e.id,onClick:a=>function(e){D.value=e.id,0==e.id?r().then((e=>{U.value=e.data.rows})):1==e.id&&j({type:"mine"}).then((e=>{U.value=e.data}))}(e)},[v("p",null,k(e.title),1)],10,ka))),64))]),f(Fe,{type:"我的收藏",onHandleChat:X,appList:U.value,onHandlecollection:J},null,8,["appList"])])):y("",!0),1==z.value?(w(),u("div",Ca,[v("div",wa,[v("div",{class:E(["cursor",0==D.value?"text-[#3E6AE7] dark:text-[#ffffffd1] secondClassItem bg-[#fff] dark:bg-[#10A37F] border-[1.5px] border-[#3E6AE7] dark:border-transparent":"secondClassItemFalse dark:bg-[#222325] bg-[#fff] text-[#6B6D77]"]),onClick:a[4]||(a[4]=e=>Y(0))},a[13]||(a[13]=[v("p",{style:{"font-size":"16px","line-height":"normal"}}," 全部分类 ",-1)]),2),(w(!0),u(h,null,b(C.value,(e=>(w(),u("div",{class:E(["cursor",D.value==e.id?"secondClassItem  bg-[#fff] dark:bg-[#10A37F]  text-[#3E6AE7] dark:text-[#ffffffd1] border-[1.5px] border-[#3E6AE7] dark:border-transparent":"secondClassItemFalse dark:bg-[#222325] bg-[#fff] text-[#6B6D77]"]),key:e.id,onClick:a=>Y(e.id)},[v("p",Ia,k(e.groupName),1)],10,Ea)))),128))]),f(Fe,{onHandleMore:H,type:"应用分类",onHandleChat:X,appList:L.value,onHandlecollection:J},null,8,["appList"])])):y("",!0),2==z.value?(w(),u("div",Ba,[f(Fe,{onHandleMore:H,onHandleChat:X,appList:L.value,onHandlecollection:J},null,8,["appList"])])):y("",!0),3==z.value?(w(),u("div",La,[f(Fe,{onHandleMore:H,onHandleChat:X,appList:L.value,onHandlecollection:J},null,8,["appList"])])):y("",!0),4==z.value?(w(),u("div",Fa,[f(Fe,{onHandleMore:H,onHandleChat:X,appList:L.value,onHandlecollection:J},null,8,["appList"])])):y("",!0),5==z.value?(w(),u("div",Sa,[f(He,{onHandleMore:H,onHandleChat:X,appList:L.value,onHandlecollection:J},null,8,["appList"])])):y("",!0),6==z.value?(w(),u("div",ja)):y("",!0)])])]))}}),[["__scopeId","data-v-0bdcfbc5"]]),Ra={class:"mainOut"},Da={class:"mainBox bg-[#fff] dark:bg-[#24252b4d]"},Qa={class:"imgBox"},Ya={key:0},za={key:0,class:"img",src:Z,alt:""},Ua={key:1,class:"img",src:Z,alt:""},Ja={key:1},Oa=["src"],Ka={class:"bigTitle"},Xa={class:"smallTitle"},Va={class:"exampleBox"},Za=["onClick"],Wa={key:0,class:"big guideQuestion"},Ta=L(e({__name:"notLoginGpt",setup(e){const a=s((()=>l.isLogin));R(),D();const l=t(),o=i(),r=s((()=>"dark"===o.theme)),p=n(),g=n(),x=n(),f=n(),m=n([]);async function A(e){x.value=!1;await Q({keys:["guideQuestion","guideAnswer"]}).then((e=>{p.value=e.data.guideAnswer.split("/"),g.value=e.data.guideQuestion.split("/")}))}return d((()=>{if(localStorage.getItem("chatLogIdGpt")){let e=JSON.parse(localStorage.getItem("chatLogIdGpt")),a=JSON.parse(e.config).modelInfo.modelType;e.gptsApp||"app"==a?(x.value=!0,f.value=e,console.log(e),m.value=e.demoData.split("\n"),p.value=e.demoData.split("\n")):(x.value=!1,A())}else A()})),(e,t)=>(w(),u("div",Ra,[v("div",Da,[v("div",Qa,[x.value?(w(),u("div",Ja,[v("img",{class:"img",src:f.value.logo,alt:""},null,8,Oa)])):(w(),u("div",Ya,[r.value?(w(),u("img",za)):(w(),u("img",Ua))])),v("label",Ka,k(x.value?f.value.modelName:"您好，今天能帮您些什么？"),1),v("label",Xa,k(x.value?f.value.desc:"您可以给智能问答发送消息，以此来帮助您解决您遇到的问题"),1)]),v("div",Va,[(w(!0),u(h,null,b(p.value,((e,t)=>(w(),u("div",{class:"exampleItem bg-[#fff] dark:bg-[#292a31]",key:e},[v("div",{class:"column",onClick:e=>function(e){if(a.value||(l.setLoginDialog(!0),c.emit("register",0)),x.value){let a={isApp:!0,msg:m.value[e]};c.emit("sendGuide",a)}else{let a={isApp:!1,msg:g.value[e]};c.emit("sendGuide",a)}}(t)},[p.value?(w(),u("p",Wa,k(e),1)):y("",!0)],8,Za)])))),128))])])]))}}),[["__scopeId","data-v-aa75342b"]]),Ha={class:"mainBox"},Pa={class:"bg-[#F8F9F9] dark:bg-[#24252b]",style:{"border-radius":"14px",border:"2px solid rgba(142, 145, 166, 0.3)",width:"694px"}},Ma={key:0,class:"fileBox"},Ga={class:"file bg-[#FFFFFF] dark:bg-[#111113]"},qa={key:0,style:{width:"24px",height:"24px","border-radius":"6px",display:"flex","justify-content":"center","align-items":"center"}},_a=["src"],$a={key:0,style:{position:"absolute"}},et={key:1,style:{"background-color":"#10a37f",width:"24px",height:"24px","border-radius":"6px",display:"flex","justify-content":"center","align-items":"center"}},at={key:0,style:{position:"relative"},src:"/static/svg/file-16b3e23d.svg",alt:""},tt={key:1,style:{position:"absolute"}},lt={style:{flex:"1","margin-left":"8px"}},it={style:{"font-size":"12px","line-height":"15px"}},st={style:{"font-size":"10px","line-height":"4px","margin-top":"4px"}},nt={class:"inpBox"},ot={key:0,style:{width:"20px",height:"20px"},src:T,alt:""},dt={key:1,style:{width:"20px",height:"20px"},src:q,alt:""},rt=L(e({__name:"sendBox",props:{appItem:Object,changeChatLog:Boolean},emits:["handleSend","handleInp","handleClear"],setup(e,{emit:a}){s((()=>l.isLogin)),R(),D();const l=t(),d=o(),r=i(),p=s((()=>"dark"===r.theme)),g=a,x=n(),f=n(),{selectFile:h,upload:b}=_(),I=Y(),B=n("/api/file/upload2Local");function L(){(x.value||f.value)&&(g("handleSend"),T.value=!1,J.value="",K.value="")}const F=e,S=s((()=>JSON.parse(F.appItem.config).modelInfo));function j(){f.value?g("handleInp",f.value+" "+x.value):g("handleInp",x.value)}function N(e){x.value&&("Enter"===e.key&&e.shiftKey?(e.preventDefault(),x.value=x.value+"\n"):"Enter"!==e.key||e.ctrlKey||e.shiftKey?"Enter"===e.key&&e.preventDefault():(e.preventDefault(),g("handleSend"),T.value=!1,J.value="",K.value="",f.value=""))}z(F,(e=>{T.value=!1})),c.on("sendSuccess",(()=>{x.value="",f.value=""}));const Q=s((()=>S.value.canUpload));const J=n(""),O=n(""),K=n(""),X=n(!1);async function V(e=1){let a;if(Z.value=!1,1===e){if(a=await h(),!a)return void d.error("选择文件错误")}else a=e;X.value=!0,T.value=!0;const t=new FormData;t.append("file",a),await U.post(B.value,t,{headers:{"Content-Type":"multipart/form-data"}}).then((a=>{if(a.data){let{data:e}=a.data;O.value=e.split(".").pop(),J.value=e.split("/ai/")[1],K.value=a.data.data,f.value=e,g("handleInp",K.value),X.value=!1}1!==e&&I.updateRecordDialog(!1)}))}const Z=n(!1),T=n(!1);return(e,a)=>(w(),u("div",Ha,[v("div",Pa,[T.value?(w(),u("div",Ma,[v("div",Ga,["png"==O.value||"jpeg"==J.value||"jpg"==J.value?(w(),u("div",qa,[v("img",{src:K.value,alt:""},null,8,_a),X.value?(w(),u("div",$a,a[5]||(a[5]=[v("div",{class:"loader"},null,-1)]))):y("",!0)])):(w(),u("div",et,[X.value?y("",!0):(w(),u("img",at)),X.value?(w(),u("div",tt,a[6]||(a[6]=[v("div",{class:"loader"},null,-1)]))):y("",!0)])),v("div",lt,[v("p",it,k(J.value),1),v("p",st,k("png"==O.value||"jpeg"==J.value||"jpg"==J.value?"图片":"文档"),1)])])])):y("",!0),v("div",nt,[Q.value?(w(),u("img",{key:0,onClick:a[0]||(a[0]=e=>function(e=1){V(e)}(1)),style:{width:"20px",height:"20px","margin-right":"10px",cursor:"pointer"},src:W})):y("",!0),m(v("textarea",{onKeypress:a[1]||(a[1]=(...a)=>e.handleEnter&&e.handleEnter(...a)),onKeydown:N,class:"inp","onUpdate:modelValue":a[2]||(a[2]=e=>x.value=e),type:"text",name:"",id:"",placeholder:"给“智能问答”发送消息",onInput:j},null,544),[[A,x.value]]),v("div",{class:E(x.value||f.value?"":"dark:bg-[#23A559]"),style:C([x.value||f.value?"background: linear-gradient(146deg, #957DF4 2%, #3C69E7 95%)":"",{display:"flex","align-items":"center","justify-content":"center","border-radius":"6px",cursor:"pointer",width:"40px",height:"40px"}]),onClick:L},[p.value?(w(),u("img",ot)):(w(),u("img",dt))],6),p.value&&Z.value?(w(),u("div",{key:1,class:"upLoadModel1",onClick:a[3]||(a[3]=e=>V(1))},a[7]||(a[7]=[v("div",{style:{display:"flex",padding:"8px","border-radius":"12px","background-color":"#222325"}},[v("img",{style:{"margin-right":"5px",width:"20px",height:"20px",cursor:"pointer"},src:G,alt:""}),v("p",null,"从电脑中上传")],-1)]))):y("",!0),!p.value&&Z.value?(w(),u("div",{key:2,class:"upLoadModel",onClick:a[4]||(a[4]=e=>V(1))},a[8]||(a[8]=[v("div",{style:{display:"flex",padding:"8px","border-radius":"12px","background-color":"#f0f0f0"}},[v("img",{style:{"margin-right":"5px",width:"20px",height:"20px",cursor:"pointer"},src:G,alt:""}),v("p",null,"从电脑中上传")],-1)]))):y("",!0)])])]))}}),[["__scopeId","data-v-3a2410ae"]]),pt={style:{display:"flex"}},ct={class:"bg-[#F8F9F9] dark:bg-[#1b1c22]",style:{flex:"1",position:"relative",height:"100vh",overflow:"hidden"}},ut={key:1,class:"div-not-login"},vt={key:4,style:{display:"flex","justify-content":"center","margin-top":"24px",position:"absolute",bottom:"80px",width:"100%","z-index":"100"}},gt={style:{color:"#eeeeee"},class:"end"},xt={style:{display:"flex",color:"rgba(142, 145, 166, 0.3)","font-size":"13px",cursor:"default"},class:"text-[#8B8C8C] dark:text-[#6C6E79]"},ft={key:0,style:{display:"flex","margin-left":"8px"}},mt=["href"],At={key:1,style:{display:"flex","margin-left":"8px"}},ht=["href"],bt=L(e({__name:"index",setup(e){const i=a(),o=t(),d=l(),r=s((()=>d.chatList)),g=s((()=>o.isLogin));n(!1),n(!0);const x=n([]),m=n(),A=n(!0),h=n(!0),b=n(""),C=n(0),E=n(""),I=n(""),B=n(""),L=n(""),F=n("");async function S(e,a,t){if(!g.value)return void o.setLoginDialog(!0);let l;if(l=a?await i.isSession(e.modelId):await i.isSession(e.id),0==l){A.value=!1,await i.addNewChat(e.id),i.updateGptsStore(!1);(await p()).data.forEach((a=>{a.modelId==e.id&&(localStorage.setItem("chatLogIdGpt",JSON.stringify(a)),c.emit("uuid",a),j(a,t))}))}else{A.value=!1;(await p()).data.forEach((l=>{a?l.modelId==e.modelId&&(localStorage.setItem("chatLogIdGpt",JSON.stringify(l)),c.emit("uuid",l),j(l,t)):l.modelId==e.id&&(console.log("进来"),localStorage.setItem("chatLogIdGpt",JSON.stringify(l)),c.emit("uuid",l),j(l,t))}))}}function j(e,a){console.log("ssssss",e),m.value={...e},c.emit("setFileModel",{...e});let t={groupId:e.id};K(t).then((async t=>{await d.setActiveGroup(e.id);let l=t.data.filter((e=>null!=e.conversationOptions));c.emit("chatLogList",l),N(l,a)}))}function N(e,a){C.value=1,a&&(h.value=!1),A.value=!0,x.value=e,a&&setTimeout((()=>{A.value=!1,R.value=a}),1e3)}$({keys:["copyrightTitle","icpNumber","policeFilingNumber","icpUrl","policeFilingUrl"]}).then((e=>{E.value=e.data.copyrightTitle,I.value=e.data.icpNumber,B.value=e.data.policeFilingNumber,L.value=e.data.icpUrl,F.value=e.data.policeFilingUrl})),c.on("sendGuide",(e=>{A.value=!1}));const R=n("");function D(e){e&&(R.value=""),A.value=!1}async function Q(e){if(g.value){if(A.value=!1,e&&"number"==typeof e){const{requestOptions:a}=r.value[e];null==a||a.prompt}R.value=b.value,console.log("FASONG")}else o.setLoginDialog(!0)}function Y(e){b.value=e}function z(){C.value=0}return(e,a)=>(w(),u("div",pt,[v("div",ct,[0==C.value?(w(),J(Na,{key:0,onOpenApp:S})):y("",!0),0===x.value.length&&1==C.value&&!0===A.value&&h.value?(w(),u("div",ut,[f(Ta,{appItem:m.value},null,8,["appItem"])])):y("",!0),1==C.value?(w(),J(H,{key:2,onIsSuccess:D,handleSubmit:R.value,appItem:m.value,chatLogList:0==x.value.length?[]:x.value},null,8,["handleSubmit","appItem","chatLogList"])):y("",!0),1===C.value?(w(),J(rt,{key:3,appItem:m.value,onHandleSend:Q,onHandleInp:Y},null,8,["appItem"])):y("",!0),1===C.value?(w(),u("div",vt,[v("div",gt,[v("div",xt,[O(" 版权所有 © "+k(E.value)+" ",1),I.value?(w(),u("div",ft,[v("a",{href:L.value||"#"},k(I.value),9,mt)])):y("",!0),B.value?(w(),u("div",At,[v("a",{href:F.value||"#"},k(B.value),9,ht)])):y("",!0)])])])):y("",!0)]),f(ue,{first:C.value,onChatLogList:N,onOpenSearchApp:z,onHandleOpenApp:S},null,8,["first"])]))}}),[["__scopeId","data-v-98c626c6"]]);export{bt as default};
