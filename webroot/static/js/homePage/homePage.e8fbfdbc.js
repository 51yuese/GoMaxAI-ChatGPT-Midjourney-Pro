import{u as e,c as a,a as l,b as t,d as i,e as s,f as n,m as o,r,g as u,h as c,V as d,i as v,n as p,j as g,k as m,l as y,o as f,p as h,q as w,s as x,t as A,v as k,w as M,x as I,y as C,z as D,A as b,B as E,C as L,D as j,F as N,E as T,G as z,N as O,H as B,I as F,J as S,_ as R,K as U,L as Q,M as Y,O as V,P as q,Q as _,R as Z,T as G,S as W,U as J,W as H,X as P,Y as K,Z as X,$,a0 as ee,a1 as ae,a2 as le,a3 as te,a4 as ie,a5 as se,a6 as ne,a7 as oe,a8 as re,a9 as ue,aa as ce,ab as de,ac as ve,ad as pe,ae as ge,af as me,ag as ye,ah as fe}from"../main-23bab8dd.js";import{v as he}from"../chat/chat.86dd0330.js";import{C as we}from"../ChevronBack/ChevronBack.cbe6845a.js";import{N as xe}from"../Carousel/Carousel.ba11fbd7.js";import{C as Ae}from"../index1/index1.2e853d1a.js";import{u as ke}from"../useScroll/useScroll.9a9428a5.js";import{I as Me}from"../mj-menu/mj-menu.41e6da46.js";import{_ as Ie,a as Ce}from"../dianzan/dianzan.4417d952.js";import{f as De}from"../ppt/ppt.e06b6928.js";import{t as be}from"../throttle/throttle.33f09de3.js";import{v as Ee,a as Le,m as je,b as Ne,q as Te,c as ze,d as Oe,e as Be,f as Fe,h as Se,g as Re,p as Ue,i as Qe,j as Ye}from"../music/music.67ae0f67.js";import{_ as Ve,a as qe,b as _e,c as Ze,d as Ge,e as We}from"../light_music_author/light_music_author.620a5e30.js";import{_ as Je,a as He,b as Pe,c as Ke,d as Xe,e as $e}from"../light_del_music/light_del_music.529f66c9.js";import"../police/police.deef576c.js";const ea=Object.assign(Object.assign({},e.props),{autoFill:Boolean,speed:{type:Number,default:48}}),aa=a([l("marquee","\n overflow: hidden;\n display: flex;\n ",[t("group","\n flex: 0 0 auto;\n min-width: var(--n-min-width);\n z-index: 1;\n display: flex;\n flex-direction: row;\n align-items: center;\n animation: n-marquee var(--n-duration) linear var(--n-delay) var(--n-iteration-count);\n animation-play-state: var(--n-play);\n animation-delay: var(--n-delay);\n animation-direction: var(--n-direction);\n "),i("auto-fill",[t("group","min-width: 100%;"),t("item","min-width: 100%;")])]),a("@keyframes n-marquee",{from:{transform:"translateX(0)"},to:{transform:"translateX(-100%)"}})]),la=s({name:"Marquee",props:ea,setup(a){const{mergedClsPrefixRef:l}=n(a);e("Marquee","-marquee",aa,o,a,l);const t=r(null),i=r(-1),s=r(-1),c=r("running"),d=u((()=>{if(!a.autoFill)return 1;const{value:e}=i,{value:l}=s;return-1===e||-1===l?1:Math.ceil(s.value/e)})),v=u((()=>{const{value:e}=i;return-1===e?0:e*d.value/a.speed}));return{mergedClsPrefix:l,animationCssVars:u((()=>({"--n-play":c.value,"--n-direction":"normal","--n-duration":`${v.value}s`,"--n-delay":"0s","--n-iteration-count":"infinite","--n-min-width":"auto"}))),containerElRef:t,repeatCountInOneGroup:d,handleContainerResize:function(e){s.value=e.contentRect.width},handleContentResize:function(e){i.value=e.contentRect.width},handleAnimationIteration:function(){c.value="paused",p().then((()=>{var e;null===(e=t.value)||void 0===e||e.offsetTop,c.value="running"}))}}},render(){const{$slots:e,mergedClsPrefix:a,animationCssVars:l,repeatCountInOneGroup:t,handleAnimationIteration:i}=this,s=c(d,{onResize:this.handleContentResize},c("div",{class:`${a}-marquee__item ${a}-marquee__original-item`},e)),n=c("div",{class:`${a}-marquee__item`},e);return this.autoFill?c(d,{onResize:this.handleContainerResize},c("div",{class:`${a}-marquee ${a}-marquee--auto-fill`,ref:"containerElRef",style:l},c("div",{class:`${a}-marquee__group`,onAnimationiteration:i},s,v(t-1,n)),c("div",{class:`${a}-marquee__group`},v(t,n)))):c("div",{class:[`${a}-marquee`],ref:"containerElRef",style:l},c("div",{class:`${a}-marquee__group`,onAnimationiteration:i},s),c("div",{class:`${a}-marquee__group`},n))}}),ta=(e={})=>g({url:"/index-rec/page",data:{page:1,size:100,...e}}),ia={class:"recommend"},sa={key:0,class:"text-[#3D3D3D] dark:text-[#FFFFFF] text-[24px] title",style:{"margin-top":"0px"}},na={key:1,class:"monitor-list"},oa={id:"list-box",class:"list-box"},ra={style:{width:"100%"}},ua=["onClick","onMouseenter"],ca={class:"name text-left mt-[5px]"},da={class:"content text-left mt-[5px]"},va=["onClick"],pa=["onClick"],ga={key:2,class:"text-[#3D3D3D] dark:text-[#FFFFFF] text-[24px]",style:{margin:"0px 0 10px"}},ma={key:3,class:"Module__BannerSearch"},ya={class:"swiper"},fa=["onClick","src"],ha={class:"swiperR"},wa=["onClick"],xa=["src"],Aa={class:"bold"},ka={class:"ellipsi"},Ma={key:0,class:"recomLabel"},Ia={class:"readItem zero"},Ca=["onClick"],Da=["onClick"],ba={key:4,class:"text-[#3D3D3D] dark:text-[#FFFFFF] text-[24px] title",style:{margin:"20px 0 10px"}},Ea={key:5,class:"hotZNbox"},La={class:"hotItem"},ja={class:"hotLi"},Na={class:"num"},Ta=["src"],za={class:"infoBox"},Oa={class:"ellipsi"},Ba={class:"span ellipsi"},Fa=["onClick"],Sa={class:"hotItem"},Ra={class:"hotLi"},Ua={class:"num"},Qa=["src"],Ya={class:"infoBox"},Va={class:"ellipsi"},qa={class:"span ellipsi"},_a=["onClick"],Za={class:"hotItem"},Ga={class:"hotLi"},Wa={class:"num"},Ja=["src"],Ha={class:"infoBox"},Pa={class:"ellipsi"},Ka={class:"span ellipsi"},Xa=["onClick"],$a={key:6,class:"text-[#3D3D3D] dark:text-[#FFFFFF] text-[24px] title",style:{margin:"10px 0"}},el={key:7,class:"AIimgList"},al={class:"AIimgBox"},ll={class:"imgBox"},tl=["src"],il={class:"ellipsi"},sl=["onClick"],nl={class:"AIimgItem zero"},ol=["onClick"],rl=["onClick"],ul=s({__name:"RecommendItem",setup(e){const a=m(),l=u((()=>a.isLogin)),t=y(),i=r([]),s=r(0),n=r([]),o=r([[]]),c=r([]),d=r([]);r("查看推荐");const v=r();f(),h();const p=r();w((()=>{_(),G(),async function(){try{const e=await k({keys:["siteName","clientLogoPath","siteKeyword","subSiteName"]});p.value=e.data}catch(e){console.log(e)}}(),R(),V(),(async()=>{console.log("aaaa");const e=await he();200==e.code&&(i.value=e.data.chatMarquee)})()}));let g=r([[]]),R=async()=>{try{let e=await ta({type:"home",tagId:"118",page:1,size:99}),a=0;e.data.rows.forEach(((e,l)=>{l<5*(a+1)?g.value[a].push(e):(a++,g.value[a]=[e])}))}catch(e){g.value=[]}},U=r([]),Q=r([]),Y=r([]),V=async()=>{x({type:"recommend"}).then((e=>{U.value=e.data.slice(0,7)})),x({type:"popular"}).then((e=>{Q.value=e.data.slice(0,7)})),x({type:"latest"}).then((e=>{Y.value=e.data.slice(0,7)}))};function q(){v.value=null}const _=async()=>{try{let e=await ta({type:"home",tagId:"73"});n.value=e.data.rows;let a=0;e.data.rows.forEach(((e,l)=>{l<4*(a+1)?o.value[a].push(e):(a++,o.value[a]=[e])}));let l=await x({type:"recommend"}),t=await A({page:1,size:4});console.log(l),c.value=l.data.splice(0,3),d.value=t.data.rows}catch(e){o.value=[[]]}};let Z=r([[]]);const G=async()=>{try{let e=await ta({type:"home",tagId:"119",page:1,size:99}),a=0;e.data.rows.forEach(((e,l)=>{l<10*(a+1)?Z.value[a].push(e):(a++,Z.value[a]=[e])}))}catch(e){Z.value=[]}};async function W(e){l.value?t.push(`/gpt?newChatID=${e}`):a.setLoginDialog(!0)}const J=e=>{if(e.targetUrl)t.push(e.targetUrl);else{if(!(e.target.indexOf("http")>-1))return l.value?void t.push(e.target):(a.setLoginDialog(!0),void S.emit("register",0));window.open(e.target)}};return(e,a)=>{var l,t,n;return M(),I("div",ia,[o.value.length>0?(M(),I("div",sa,C(null==(l=o.value[0][0])?void 0:l.tagName),1)):D("",!0),o.value.length>0?(M(),I("div",na,[b("div",oa,[b("div",ra,[E(j(xe),{autoplay:"",style:{width:"1673px","padding-top":"48px"},"show-arrow":"","show-dots":!1},{arrow:L((({prev:e,next:a})=>[b("div",{class:"custom-arrow",style:z([{top:"30px"},o.value.length<2?"opacity: 0;":""])},[b("button",{type:"button",class:"custom-arrow--left",onClick:e},[E(j(O),null,{default:L((()=>[E(j(we))])),_:1})],8,va),b("button",{type:"button",class:"custom-arrow--right",onClick:a},[E(j(O),null,{default:L((()=>[E(j(B))])),_:1})],8,pa)],4)])),default:L((()=>[(M(!0),I(N,null,T(o.value,((e,a)=>(M(),I("div",{id:"list",class:"list",key:a},[(M(!0),I(N,null,T(e,((e,a)=>(M(),I("div",{key:e.id,class:F(["list-item",v.value&&v.value.id==e.id?"selected":parseInt(a/4)==-1*s.value?"show":"hide"]),onClick:a=>J(e),onMouseenter:a=>function(e){v.value=e}(e),onMouseleave:q},[b("div",{class:"info",style:z([{"background-image":`url('${e.cover}')`}])},[b("span",ca,C(e.name),1),b("span",da,C(e.description),1)],4)],42,ua)))),128))])))),128))])),_:1})])])])):D("",!0),j(Z).length>0?(M(),I("div",ga,C(null==(t=j(Z)[0][0])?void 0:t.tagName),1)):D("",!0),j(Z).length>0?(M(),I("div",ma,[b("div",ya,[E(j(xe),{autoplay:"",style:{width:"100%"}},{default:L((()=>[(M(!0),I(N,null,T(i.value,((e,a)=>(M(),I("img",{onClick:a=>J(e),key:a,class:"carousel-img",src:e.url},null,8,fa)))),128))])),_:1})]),b("div",ha,[E(j(xe),{autoplay:"",style:{width:"100%","padding-top":"48px"},"show-arrow":"","show-dots":!1},{arrow:L((({prev:e,next:a})=>[b("div",{class:"custom-arrow",style:z(j(Z).length<2?"opacity: 0;":"")},[b("button",{type:"button",class:"custom-arrow--left",onClick:e},[E(j(O),null,{default:L((()=>[E(j(we))])),_:1})],8,Ca),b("button",{type:"button",class:"custom-arrow--right",onClick:a},[E(j(O),null,{default:L((()=>[E(j(B))])),_:1})],8,Da)],4)])),default:L((()=>[(M(!0),I(N,null,T(j(Z),((e,a)=>(M(),I("div",{class:"readBox",key:a},[(M(!0),I(N,null,T(e,((e,a)=>(M(),I("div",{class:"readItem",style:z([{"background-image":`url('${e.cover}')`,"background-repeat":"no-repeat","background-size":"100% 100%"}]),onClick:a=>J(e),key:a},[b("img",{src:e.icon,alt:""},null,8,xa),b("div",Aa,C(e.name),1),b("div",ka,C(e.description),1),1==e.publish_flag?(M(),I("div",Ma,"热门推荐")):D("",!0)],12,wa)))),128)),(M(),I(N,null,T(7,(e=>b("div",Ia))),64))])))),128))])),_:1})])])):D("",!0),j(U).length>0||j(Q).length>0||j(Y).length>0?(M(),I("div",ba," 热门应用 ")):D("",!0),j(U).length>0||j(Q).length>0||j(Y).length>0?(M(),I("div",Ea,[b("div",La,[a[0]||(a[0]=b("div",{class:"topBanner"},"热门推荐",-1)),(M(!0),I(N,null,T(j(U),((e,a)=>(M(),I("div",ja,[b("div",Na,C(a+1),1),b("img",{src:e.logo,class:"logo",alt:""},null,8,Ta),b("div",za,[b("div",Oa,C(e.modelName),1),b("div",Ba,C(e.desc),1)]),b("div",{class:"btnBox",onClick:a=>W(e.id)},"立即使用",8,Fa)])))),256))]),b("div",Sa,[a[1]||(a[1]=b("div",{class:"topBanner"},"受欢迎的",-1)),(M(!0),I(N,null,T(j(Q),((e,a)=>(M(),I("div",Ra,[b("div",Ua,C(a+1),1),b("img",{src:e.logo,class:"logo",alt:""},null,8,Qa),b("div",Ya,[b("div",Va,C(e.modelName),1),b("div",qa,C(e.desc),1)]),b("div",{class:"btnBox",onClick:a=>W(e.id)},"立即使用",8,_a)])))),256))]),b("div",Za,[a[2]||(a[2]=b("div",{class:"topBanner"},"最新发布",-1)),(M(!0),I(N,null,T(j(Y),((e,a)=>(M(),I("div",Ga,[b("div",Wa,C(a+1),1),b("img",{src:e.logo,class:"logo",alt:""},null,8,Ja),b("div",Ha,[b("div",Pa,C(e.modelName),1),b("div",Ka,C(e.desc),1)]),b("div",{class:"btnBox",onClick:a=>W(e.id)},"立即使用",8,Xa)])))),256))])])):D("",!0),j(g).length>0?(M(),I("div",$a,C(null==(n=j(g)[0][0])?void 0:n.tagName),1)):D("",!0),j(g).length>0?(M(),I("div",el,[E(j(xe),{autoplay:"",style:{width:"1673px","padding-top":"56px"},"show-arrow":"","show-dots":!1},{arrow:L((({prev:e,next:a})=>[b("div",{class:"custom-arrow",style:z(j(g).length<2?"opacity: 0;":"")},[b("button",{type:"button",class:"custom-arrow--left",onClick:e},[E(j(O),null,{default:L((()=>[E(j(we))])),_:1})],8,ol),b("button",{type:"button",class:"custom-arrow--right",onClick:a},[E(j(O),null,{default:L((()=>[E(j(B))])),_:1})],8,rl)],4)])),default:L((()=>[(M(!0),I(N,null,T(j(g),((e,l)=>(M(),I("div",al,[(M(!0),I(N,null,T(e,((e,l)=>(M(),I("div",{class:"AIimgItem",key:l},[b("div",ll,[b("img",{src:e.cover,alt:""},null,8,tl)]),b("div",il,C(e.name),1),b("div",{class:"menu",onClick:a=>J(e)},a[3]||(a[3]=[b("div",null,"查看详情",-1)]),8,sl)])))),128)),(M(),I(N,null,T(4,(e=>b("div",nl))),64))])))),256))])),_:1})])):D("",!0)])}}}),cl=R(ul,[["__scopeId","data-v-a8f59e40"]]),dl="/static/svg/mjSearch-2135ed48.svg",vl="/static/svg/mjSearch copy-4bcef775.svg",pl={class:"overflow-hidden pr-0 h-full flex flex-col"},gl={class:"market overflow-y-auto flex-1 relative itemContent"},ml=["onClick","src"],yl=["id"],fl=["id","src","onLoad","onError"],hl=["onClick"],wl={class:"bottomInfoBox"},xl={class:"userInfo"},Al=["src"],kl=["onClick"],Ml={key:0,src:Ie,class:"dianzan",alt:""},Il={key:1,src:Ce,class:"dianzan",alt:""},Cl=s({__name:"market",props:{type:{type:String,required:!1,default:"all"},keyWord:{type:String,default:""}},setup(e,{expose:a}){var l;const t=m();null==(l=U())||l.appContext.config.globalProperties.$viewerApi,h();const i=r([]),s=r({}),n=r(0),o=r(160),c=r(0),d=r(10),v=r(10),p=r([]),g=r(null),f=r(0),x=u((()=>t.isLogin)),A=r(30),k=r(""),O=u((()=>A.value+d.value+250)),B=y(),F=e,R=r();S.on("newData",(e=>{R.value=e}));const K=Q({page:1,size:999,rec:1,squareType:F.type,keyword:""});function X(){!function(){const{showName:e=0,showOther:a=0}={};n.value=15*[e,a].filter((e=>e)).length}(),function(){if(!g.value)return;const e=g.value.clientWidth;c.value=Math.floor(e/O.value);const a=e-c.value*O.value,l=(c.value-1)*d.value;a-l<0&&(c.value-=1);o.value=Math.floor((e-l)/c.value),console.log(o.value,"realWidth.value")}();const e=c.value,a=o.value,l=[];ee.value.forEach(((t,i)=>{let r=200,u=300;t.fileInfo&&(r=t.fileInfo.width||r,u=t.fileInfo.height||u);const c=u*(a/r)+v.value+n.value,p=s.value[t.id];if(l.length<e)p.style.top="0px",p.style.left=(a+d.value)*i+"px",l.push(c);else{const e=Math.min.apply(null,l),a=l.findIndex((a=>a===e));p.style.top=`${e+0}px`,p.style.left=a*(o.value+d.value)+"px",l[a]+=c}})),f.value=Math.max(...l)+130}function $(e,a){e&&a&&(s.value[a.id]=e)}const ee=u((()=>R.value?R.value.rows:k.value?i.value.filter((e=>{const{prompt:a}=e;return a.includes(k.value)})):i.value));Y(A,(()=>{X()}));let ae=null;async function le(){let e;e="fav"===K.squareType?await J({page:K.page,size:K.size}):await H(K);let a=[{id:"wapper-carousel",noShow:!0,fileInfo:{width:1024,height:1024}},{id:"wapper-carousel2",noShow:!0,fileInfo:{width:1024,height:1024}},...e.data.rows];a.forEach((e=>{e.src=e.imageUrl+"?imageView2/0/w/400/q/85"})),i.value=a}Y(ee,(()=>{ee.value.length&&(clearTimeout(ae),ae=setTimeout((()=>{X()}),300))}));const te=u((()=>e=>{let a=200,l=300;return e.fileInfo&&(a=e.fileInfo.width,l=e.fileInfo.height),l/(a/o.value)})),ie=be((function(){X()}),200);let se=r([]);w((async()=>{await le(),X(),window.addEventListener("resize",ie),De({code:"MjRcMarquee"}).then((e=>{var a;se.value=null==(a=e.data)?void 0:a.recMarquee,se.value.forEach((e=>{e.fileInfo={width:1024,height:1024}}))}))})),a({handleQuery:e=>{K.keyword="",K.squareType=e,le(),X()},handleSearch:e=>{K.squareType="",K.keyword=e,le(),X()}}),V((()=>{window.removeEventListener("resize",ie)}));const ne=r(0);return(e,a)=>(M(),I("div",pl,[b("div",gl,[b("div",{id:"wapper",ref_key:"wapperRef",ref:g,class:"wapper",style:z({height:`${f.value}px`})},[j(se).length>0?(M(),q(j(xe),{key:0,class:"wapper-item",id:"wapper-carousel",ref:e=>$(e,{id:"wapper-carousel"}),style:z([{width:2*o.value+10+"px",height:`${te.value(j(se)[0])}px`},{"border-radius":"8px",overflow:"hidden"}]),draggable:""},{default:L((()=>[(M(!0),I(N,null,T(j(se),((e,a)=>(M(),I("img",{class:"carousel-img",onClick:a=>(e=>{if(!(e.targetUrl.indexOf("http")>-1))return x.value?void B.push(e.targetUrl):(t.setLoginDialog(!0),void S.emit("register",0));window.open(e.targetUrl)})(e),style:z({width:2*o.value+10+"px",height:`${te.value(e)}px`}),src:e.url},null,12,ml)))),256))])),_:1},8,["style"])):D("",!0),(M(!0),I(N,null,T(ee.value,((e,l)=>{var t,i;return _((M(),I("div",{id:e.id,key:l,ref_for:!0,ref:a=>$(a,e),class:"wapper-item",style:z({width:`${o.value}px`})},[E(G,{name:"img",css:!0},{default:L((()=>[b("img",{id:e.id,class:"item-file rounded-sm",style:z({width:`${o.value}px`,height:`${te.value(e)}px`}),src:e.src,loading:"lazy",onLoad:a=>function(e,a){p.value.push(a.id)}(0,e),onError:a=>function(e,a){p.value.push(a.id)}(0,e)},null,44,fl)])),_:2},1024),b("div",{class:"menu",onClick:a=>function(e){S.emit("Details",!0),S.emit("DetailsData",e)}(e)},a[0]||(a[0]=[b("div",null,"查看详情",-1)]),8,hl),b("div",wl,[b("div",xl,[b("img",{src:(null==(t=e.userInfo)?void 0:t.avatar)||j(W),class:"smallHead",alt:""},null,8,Al),b("span",null,C((null==(i=e.userInfo)?void 0:i.nickname)||"官方"),1)]),b("div",{class:"userInfo",onClick:a=>function(e){let a={id:e.id,favorite:e.isCollect?0:1};1!=ne.value&&(ne.value=1,P(a).then((e=>{le(),X(),ne.value=0})).catch((e=>{ne.value=0})))}(e)},[e.isCollect?(M(),I("img",Ml)):(M(),I("img",Il)),b("span",null,C(e.collectNum||0),1)],8,kl)])],12,yl)),[[Z,!e.noShow]])})),128))],4)])]))}}),Dl=R(Cl,[["__scopeId","data-v-4a364c15"]]),bl={class:"overflow-hidden pr-0 h-full flex flex-col wapper"},El={key:0,class:"market overflow-y-auto flex-1 relative itemContent"},Ll=["onClick","src"],jl=["id"],Nl={key:0,class:"img_box"},Tl=["id","src","onLoad","onError"],zl={key:0,class:"img_info"},Ol=["title"],Bl=["onClick","onMouseenter","onMouseleave"],Fl=["src","poster","autoplay"],Sl={class:"bottomInfoBox"},Rl={class:"userInfo"},Ul=["src"],Ql=["onClick"],Yl={key:0,src:Ie,class:"dianzan",alt:""},Vl={key:1,src:Ce,class:"dianzan",alt:""},ql=R(s({__name:"newMarket",props:{type:{type:String,required:!1,default:"all"},keyWord:{type:String,default:""}},setup(e,{expose:a}){const l=m(),t=u((()=>l.isLogin)),i=r([]),s=r({}),n=r(0),o=r(160),c=r(0),d=r(10),v=r(10),p=r([]),g=r(null),y=r(0),f=r(30);r("");const h=u((()=>f.value+d.value+250)),x=e,A=r();S.on("newData",(e=>{A.value=e}));const k=Q({page:1,size:999,rec:1,classify:x.type,keyword:""});function O(){!function(){const{showName:e=0,showOther:a=0}={};n.value=15*[e,a].filter((e=>e)).length}(),function(){if(!g.value)return;const e=g.value.clientWidth;c.value=Math.floor(e/h.value);const a=e-c.value*h.value,l=(c.value-1)*d.value;a-l<0&&(c.value-=1);o.value=Math.floor((e-l)/c.value),console.log(o.value,"realWidth.value")}();const e=c.value,a=o.value,l=[];F.value.forEach(((t,i)=>{let r=200,u=300;t.fileInfo&&(r=t.fileInfo.width||r,u=t.fileInfo.height||u);const c=u*(a/r)+v.value+n.value,p=s.value[t.id];if(l.length<e)p.style.top="0px",p.style.left=(a+d.value)*i+"px",l.push(c);else{const e=Math.min.apply(null,l),a=l.findIndex((a=>a===e));p.style.top=`${e+0}px`,p.style.left=a*(o.value+d.value)+"px",l[a]+=c}})),y.value=Math.max(...l)+130}function B(e,a){e&&a&&(s.value[a.id]=e)}const F=u((()=>A.value?A.value.rows:i.value));Y(f,(()=>{O()}));let R=null;async function U(){if("pic"===x.type){let e=(await H(k)).data.rows;e.forEach((e=>{e.src=e.imageUrl+"?imageView2/0/w/400/q/85"})),i.value=e}else{const e=await async function(){var e;try{let a;a="fav"===k.classify?await je({page:1,size:999,keyword:k.keyword,modelType:"video"}):await Ne({...k,modelType:"video"});let l=(null==(e=null==a?void 0:a.data)?void 0:e.records)||[],t=[{id:"wapper-carousel",noShow:!0,fileInfo:{width:1024,height:1024}},{id:"wapper-carousel2",noShow:!0,fileInfo:{width:1024,height:1024}}];return l.forEach((async e=>{e.intro=e.prompt.split("--")[0].split("prompt ")[1],e.fileInfo={width:0,height:0},e.mp4&&t.push(e)})),t}catch(a){return[]}}(),a=await new Promise((a=>{let l=0;e.forEach((t=>{const i=new Image;i.onload=()=>{t.fileInfo={width:i.width,height:i.height},l++,l==e.length&&a(e)},i.onerror=()=>{console.log(i,"onerror"),l++,l==e.length&&a(e)},i.src=t.cover,t.imageUrl=t.cover}))}));i.value=a}}Y(F,(()=>{F.value.length&&(clearTimeout(R),R=setTimeout((()=>{O()}),300))}));const J=u((()=>e=>{let a=200,l=300;return e.fileInfo&&e.fileInfo.width&&(a=e.fileInfo.width,l=e.fileInfo.height),l/(a/o.value)})),P=be((function(){O()}),200);let $=r([]);w((async()=>{await U(),O(),window.addEventListener("resize",P),De({code:"AIVideoGlobalConfig"}).then((e=>{var a;$.value=null==(a=e.data)?void 0:a.recMarquee,$.value.forEach((e=>{e.fileInfo={width:1024,height:1024}}))}))})),a({handleQuery:e=>{k.keyword="",k.classify=e,U(),O()},handleSearch:e=>{k.classify="",k.keyword=e,U(),O()}}),V((()=>{window.removeEventListener("resize",P)}));const ee=r(),ae=r(0);return(a,i)=>(M(),I("div",bl,[F.value.length?(M(),I("div",El,[b("div",{id:"wapper",ref_key:"wapperRef",ref:g,class:"wapper",style:z({height:`${y.value}px`})},[j($).length>0?(M(),q(j(xe),{key:0,class:"wapper-item",id:"wapper-carousel",ref:e=>B(e,{id:"wapper-carousel"}),style:z([{width:2*o.value+10+"px",height:`${J.value(j($)[0])}px`},{"border-radius":"8px",overflow:"hidden"}]),draggable:""},{default:L((()=>[(M(!0),I(N,null,T(j($),((e,a)=>(M(),I("img",{class:"carousel-img",onClick:a=>(e=>{if(!(e.targetUrl.indexOf("http")>-1))return t.value?void X.push(e.targetUrl):(l.setLoginDialog(!0),void S.emit("register",0));window.open(e.targetUrl)})(e),style:z({width:2*o.value+10+"px",height:`${J.value(e)}px`}),src:e.url},null,12,Ll)))),256))])),_:1},8,["style"])):D("",!0),(M(!0),I(N,null,T(F.value,((a,s)=>_((M(),I("div",{id:a.id,key:s,ref_for:!0,ref:e=>B(e,a),class:"wapper-item",style:z({width:`${o.value}px`})},[E(G,{name:"img",css:!0},{default:L((()=>["pic"===e.type?(M(),I("div",Nl,[b("img",{id:a.id,class:"item-file rounded-sm",style:z({width:`${o.value}px`,height:`${J.value(a)}px`}),src:a.src,loading:"lazy",onLoad:e=>function(e,a){p.value.push(a.id)}(0,a),onError:e=>function(e,a){p.value.push(a.id)}(0,a)},null,44,Tl),a.fullPrompt&&""!==a.fullPrompt&&a.fullPrompt.length?(M(),I("div",zl,[b("span",{class:"introduction",title:a.fullPrompt},C(a.fullPrompt),9,Ol)])):D("",!0)])):(M(),I("div",{key:1,class:"img_box",onClick:e=>function(e){if(!t.value)return l.setLoginDialog(!0),void S.emit("register",0);S.emit("Details",!0),S.emit("DetailsData",e)}(a),onMouseenter:e=>(e=>{if(ee.value&&ee.value.id==e.id)return;if(!e.mp4)return;const a=document.querySelector(`video[src="${e.mp4}"]`);a.play(),a.loop=!0,ee.value=e})(a),onMouseleave:e=>(e=>{if(!e.mp4)return;document.querySelector(`video[src="${e.mp4}"]`).pause(),ee.value=null})(a)},[b("video",{src:a.mp4,poster:a.cover,class:"item-file rounded-sm",style:z([{width:`${o.value}px`,height:`${J.value(a)}px`},{width:"100%","object-fit":"fill"}]),autoplay:ee.value&&ee.value.id==a.id},null,12,Fl),i[0]||(i[0]=b("div",{class:"menu"},null,-1))],40,Bl))])),_:2},1024),b("div",Sl,[b("div",Rl,[b("img",{src:a.avatar||j(W),class:"smallHead",alt:""},null,8,Ul),b("span",null,C(a.nickname||"官方"),1)]),b("div",{class:"userInfo",onClick:e=>function(e){let a={id:e.id};1!=ae.value&&(ae.value=1,e.isCollect?Ee(a).then((e=>{U(),O(),ae.value=0})).catch((e=>{ae.value=0})):Le(a).then((e=>{U(),O(),ae.value=0})).catch((e=>{ae.value=0})))}(a)},[a.isCollect?(M(),I("img",Yl)):(M(),I("img",Vl)),b("span",null,C(a.collectNum||0),1)],8,Ql)])],12,jl)),[[Z,!a.noShow]]))),128))],4)])):(M(),q(j(K),{key:1,description:"暂无数据",class:"empty"}))]))}}),[["__scopeId","data-v-87bb5af4"]]),_l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAETSURBVCiRlZC9SgNREIXPuXcTMS4SlMRFJJEUFkE7K20iBl/DwiewsBBfQFTwVay1cEtBEKxsV0hhIoQtlhju7t6xSrJXCehU83dm5hvgn8afiZvDoE2oHShrTYrn8/AjKtZ1Mbjq1AJo71iImoB1rbC911h8CaORmfSookC88qYTg56P0kYx5wj+Yo6AmYkosLMNGCdIe3MZHqJRctBceleED3CAPL27CD+HztCJc320VofVXUJaAnoAQBGjFN6Yfj2ehnE83XDbqVZzLJyQCADOziS1gIFlaWu/ufoaRnGmAMCqSptEZS4pseLrcWsKnWkX9le/iEnKpucwXHbXGx5k11pZdr4iamhL+dPZfX8AAN8SFlq325tYKwAAAABJRU5ErkJggg==",Zl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAFaSURBVFiF7ZWxUoNAEIb/xcqBzNgEKKkCM0lhmZIXSJ7B0s7WLqSzy+QJHB9BbLQKvkMswhNgUjkDrWchROIcuSWaKvdXx83e/h+7d7OAlpbWqetMFeAOxpHZ7S06TkD5epVwkjr90cyy/WfOGSWA2e0tymXISWj3R/cEXAMABLxik873xRsqACKaVmshxMQdjCOF+dX2rEEPqvzKCuTrVdJxAgIQllvSSjj90Wz75yV4towbYdkAHIiyKrdtzQGAOEGV3ME4EkJM6kbAd2sOMW8NIIPYSdbSHGC2oC5JOw42Bxiv4NhqXYE9LQgt278oNunL0QBkl5CIXvHTjqFp+16xSR//HUBmni3j6PedIOCyDQQLoMm8+v4LBGsYcd65DIJzJ5Sv4FOIG5V5pWwZRzuzozYXmqSsQMcJziHggTB9f3u6U8Xn61Vi2f6HAIYG0Zw7wrW0tE5XXzu/sQ7OKOWfAAAAAElFTkSuQmCC",Gl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAFiSURBVEiJvZXBcYMwEEXfMtxNCZRACaQCJxWEDkIJdgVxBxmXkApMB3YH0IGdCn4OggwBC5Dt5M3oAEj7teJr15hAUgJkwBrIgQRIgaY39mZWTcWZEiglnbWMWlIREjyVdFwY/JpYOieQtRPvoZaUTWVwr0BfaJzRAwU6jl3sqBUocK4Z0gAFUM3/zRGZpHJJFpv2+7Pn+0HSRn4XniUlsaTck0Wfy5XnrZnt2k2sgHK0yt2rLAZeA4/hBLyYWdN79zUxfx0xn0WfHfA0EJgjjxeKXNrgVUDwjmSRiJmdbgjekUY4m04iVwlmN+OhiRg75xoJcFBIERyIVAsnp8CHpHe5FhAk8hm4sxI4BhzfPsb5/oI7kiErz8IUqCVt2/W+u9b8OFKuQfnKwptu7y/FL8k7AvmoR3npP/pJK/S3nfFBGYW4zjWyALGz+g1qgC0Qy3EWTXujwdm+wt2zk5l5K8c3konLZQJuJOwAAAAASUVORK5CYII=",Wl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAIXSURBVFiFxZdBbptQEIa/eYZdIsENyA2gVffOCdycIEdIuoysKliR5a1zhJwg9gnafZSaG4QbgOTuwJkusKmTuDXYGP879GC+X/OYefOEikpmoWPlHV+sTg/FBzxQp1iVGEgRiTXPH06/fP9ZNa5UAr/a1yJcgTjVwmqKmEkGAze4iXcysBt4gxXVwennfljLQDIbebbqI+DvCn6nKBO52JSNDwaW8B+A1xB8pTgTOX9v4o2BA8L/acKsry7Tfig4gGerPiazsPynSgPz52FIc3v+P/nWq329ehAoU//SAnwpTTPJztwgTA2ADbftwQHEWWVBAH7/Gib71PpuKrJg5k933dpwYYxoAJoWsfiWiZyVz9WCOFbe8Y1Y1mUtOKD5YnoS9CPETAAyI5OitCSqE0esTs+g6tU10JgU3wAt7/0beQaOmAHUMdtfOqwMSI0/t2lJbID4eAZIDUKt0mlUIrHRfDGt/Z3V6SWzkYdqF8BGr4qGVu8k1Tx/kGQWOrbaL8doxSef+q5xgzBV5b5dOKy6qAHITTau18f3VwaD0kDbWVDVclwvG1GRhVYqIlof00sDbhCmmcgFh+0L8ZJR6uhj+YezwA1u4kzknGa3I9oEhy13w/nzMBSRPeZFTVW5z002doNwY5VVuJyOPBtu0devdS6n28CVDaxr/nTXFcu6XE5Rzt9ZQlIgRog0X0xzaxFtA6/0B30D8TI44YwvAAAAAElFTkSuQmCC",Jl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAIfSURBVFiFxZfdTeNAFIXPuRkj8eYSvAVEsjsIFbCpAG0FYK14hjyjVaAEKgAq2HRgSylgXYLfkPBk7j4k9hqI1j8T4LwlHs35dMe+9wzRU5otQ2tsDMoplLGqRiTC7VMWAEpSC1V3H0wvV333ZR/jF7EXInIO1IadKkk8VpUsjpO0GAUw0nifFsH05/UggOdsGRmzeQAYexi3pLm1k/m+arwDeM6WURC436qIDmO+MyKKqpKTtxCvAD7K/H8Q0l5gzObho8wBQBWRMZsHzZbNO9UAVOtf1wPPvByHwfhF7EXzC6hfOvdnwCYra/nD47hKY+Ubk7QUAAgCdzV0h+MkLapKTkgUIwDCugoCAKr4PmITLwgROddsGUq1vpnBo9F4QITW2FhIORtr7g1BORVVRr4AoyGUscCvz3tBqGokgEaHAmhDoEefIBFK1yIP9aqsqI7taPtVz5N+q1kIyeLQ5gO6Yymg5l9kDlILgbqnrzAHAFV3L8aaHKMnm1eGKIPp5UqYpKVz7u6TzUHiEdgNoyNnbjGwCr7pqapk0QAMr4LOjHGZR3pq4nrTiLZVGPRFjGzhmrdjegPAJC2tncxHBoxeIlFYO5m/+u/tos+O5e9mwb9hcpgGtZXm+8yBjrvhNiljcF5sqXTO3R05c8sk3fuVdV5Od0dytcuNvS+nXca9Adqq1jczUs52KSqss4QqSpIFqDnUPRlr8i7jWn8BA1FAx8ueZuYAAAAASUVORK5CYII=",Hl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAFpSURBVEiJvZXdcYJAFIW/y/geSiAdkApCKjAdSDogHdiBKSF2kFSgHWgH0IFawcnDYmZFFhc1OTP7wl7uN2f/jjEgSSmQA1OgAFIgAxpvLM1sPdRnCFBJ2ilOtaRyTPNM0iayeR8suwTI28JbVEvKhxzcCvBB547uCDhqc+ydtIASd2rGagtUwL5nLpdUxbioJb1Kmgfmi/b/RWB+JylN2sKQi6WZfZnZHHjE3Ys+HQLfUyBPgNnggrQyswZ4Aj5i6j1NE0bshZntzewdeCPsqqtiFMSDfQIv9G94V+nkGkgLaiJLs4R42yeSVCh0s0/VJMRZ9punkhbACnd6oiDrEYCsbV5dKD2DfA8UPHiACtjg8mWMlhPc07Cn33op6QA840Krq0vL1fwGmlxAXaOVpJnCz1J5gtT1QRVSfeZL/5EnLehvk/FOjjZBBwFYOQK2kx9QHVkErMDFQeaNBnfs17h7tjWz4MvxA+Ebx1wGT+K1AAAAAElFTkSuQmCC",Pl={class:"bg-[#ffffff] dark:bg-[#24252B] musicBody"},Kl={class:"mainBox"},Xl={class:"bg-[#F8F9F9] dark:bg-[#24252B]",style:{height:"100%"}},$l={class:"contentBox"},et={style:{display:"flex",height:"100%"}},at={style:{display:"flex","flex-direction":"column",overflow:"hidden",width:"100%"}},lt={class:"contextBox"},tt={class:"contextBox-rec"},it=["onClick"],st={class:"contextBox-rec-item-title"},nt={class:"contextBox-input"},ot={class:"itemTop"},rt={class:"topImg"},ut=["src"],ct={class:"topTitle"},dt={class:"title text-[#1E1F1F] dark:text-[#ffffff]"},vt={style:{display:"flex","align-items":"center",margin:"10px 0"}},pt={key:0,src:Ge,style:{"margin-right":"4px"}},gt={key:1,src:_l,style:{"margin-right":"4px",transform:"translateY(-2px)"}},mt={class:"intro text-[#8B8C8C] dark:text-[#727586]"},yt={class:"itemTop"},ft={class:"topImg"},ht=["src"],wt={class:"topTitle"},xt={class:"title text-[#1E1F1F] dark:text-[#ffffff]"},At={style:{display:"flex","align-items":"center",margin:"10px 0"}},kt={key:0,src:Ge,style:{"margin-right":"4px"}},Mt={key:1,src:_l,style:{"margin-right":"4px",transform:"translateY(-2px)"}},It={class:"intro text-[#8B8C8C] dark:text-[#727586]"},Ct={key:0,class:"videoBox"},Dt={style:{position:"relative"}},bt=["src"],Et={class:"text-[#1E1F1F] dark:text-[#EEEEF0] text-[17px]",style:{"margin-top":"12px","font-weight":"550","text-align":"left",padding:"0 10px"}},Lt={style:{display:"flex","align-items":"center","justify-content":"left",margin:"12px 0",padding:"0 10px"}},jt={key:0,src:Ge,style:{"margin-right":"4px"}},Nt={key:1,src:_l,style:{"margin-right":"4px",transform:"translateY(-2px)"}},Tt={class:"introList"},zt=["src"],Ot={style:{position:"fixed",bottom:"0",width:"100%"}},Bt={key:0,class:"dark:bg-[#303137] bg-[#fff] text-[#8B8C8C] dark:text-[#6C6E79] border-t border-[#E8E8E8] dark:border-[#292A2E]",style:{padding:"0px 375px 0px 100px","box-sizing":"border-box"}},Ft={class:"control dark:bg-[#303137] bg-[#FFF] text-[#8B8C8C] dark:text-[#6C6E79] border-[#E8E8E8] dark:border-[#292A2E]"},St={style:{display:"flex","align-items":"center"}},Rt={style:{display:"flex","align-items":"center",gap:"5px","margin-right":"20px"}},Ut=["src"],Qt={class:"text-[#1E1F1F] dark:text-[#EEEEF0] text-[14px]"},Yt={style:{color:"#727586","margin-top":"10px",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":"1",overflow:"hidden","text-overflow":"ellipsis",width:"180px"}},Vt={style:{display:"flex","align-items":"center",flex:"1","padding-right":"20px","margin-left":"20px"}},qt={style:{width:"100%"}},_t={style:{"margin-top":"4px",display:"flex","align-items":"center",gap:"10px"}},Zt=["src"],Gt=R(s({__name:"musicSquare",setup(e){const a=h(),l=m(),t=u((()=>l.isLogin));let i=null;const s=y(),n=$();n.setTheme("light");const o=u((()=>"dark"===n.theme)),c=r();r(0);const d=r(1),v=r();r("");const p=r(""),g=r([]),f=r("00:00"),w=r("00:00"),x=r(""),A=r(""),k=r(0),z=r(null),O=r([]);function B(){i||(i=a.loading("数据加载中",{duration:0}));let e={size:50,modelType:"music",page:d.value,order:p.value};Ne(e).then((e=>{v.value=e.data.count,O.value=e.data.records,P()})).catch((e=>{P()}))}B(),Te({modelType:"music"}).then((e=>{0!=e.data.length?localStorage.setItem("musicGroupId",e.data[0].id):0==e.data.length&&ze().then((e=>{localStorage.setItem("musicGroupId",e.data.id)}))})),Oe({dictType:"music-lyrics"}).then((e=>{g.value=e.data.rows}));const S=r();Ne({size:6,modelType:"music",page:1,order:"agreeNum"}).then((e=>{S.value=e.data.records}));const R=r(""),U=r(!1),Q=r(""),V=r(0);function Z(){const e=z.value;U.value?(U.value=!1,e.pause()):(U.value=!0,e.play())}function G(){V.value-1<0?(V.value=O.value.length-1,Q.value=O.value[V.value]):(V.value=V.value-1,Q.value=O.value[V.value]);const e=setTimeout((()=>{U.value=!1,Z(),clearTimeout(e)}))}function W(){V.value+1>O.value.length-1?(V.value=0,Q.value=O.value[V.value]):(V.value=V.value+1,Q.value=O.value[V.value]);const e=setTimeout((()=>{U.value=!1,Z(),clearTimeout(e)}))}function J(e,a){if(!t.value)return void l.setLoginDialog(!0);if(Q.value&&Q.value.id==e.id)return void Z();Be({id:e.id,type:"music"}),B(),e.introList=e.intro.split("\n"),Q.value=e,V.value=a;const i=setTimeout((()=>{U.value=!1,Z(),clearTimeout(i)}))}Y((()=>Q.value),((e="")=>{}));const H=r(!1);function P(){i&&(i.destroy(),i=null)}function K(){Q.value&&(Q.value.operation=!1),H.value=!1,O.value.forEach((e=>{e.operation=!1}))}const X=r(null);function se(){const e=X.value;if(e.scrollTop+e.clientHeight+1>=e.scrollHeight){if(30*d.value>=v.value)return;d.value++,B()}}function ne(){x.value=z.value.duration,A.value=z.value.currentTime,w.value=re(parseInt(z.value.currentTime)),f.value=re(parseInt(z.value.duration))}function oe(e){w.value=re(parseInt(e.target.currentTime)),A.value=e.target.currentTime,function(){let e=A.value/x.value*100;k.value=e;const a=z.value;k.value>=100&&(U.value=!1,a.pause(),A.value=0,k.value=0,w.value="00:00")}()}function re(e){let a=parseInt(e/60),l=parseInt(e%60);return a=a>=10?a:"0"+a,l=l>=10?l:"0"+l,a+":"+l}const ue=r(!1);function ce(){c.value&&localStorage.setItem("music_rec_prompt",c.value),s.push({path:"/music/creativeCenter"})}function de(){z.value.pause()}function ve(){z.value.currentTime=A.value,z.value.play()}return(e,a)=>(M(),I("div",Pl,[H.value?(M(),I("div",{key:0,class:"mask",onClick:K})):D("",!0),b("div",Kl,[b("div",Xl,[b("div",$l,[b("div",et,[b("div",at,[b("div",lt,[b("div",tt,[(M(!0),I(N,null,T(g.value.slice(0,3),(e=>(M(),I("div",{class:"contextBox-rec-item bg-gradient-to-t to-[#2c2d32] from-[#3F3C31] text-[14px] p-[20px]",onClick:a=>c.value=e.dictValue},[b("div",st,C(e.dictValue),1),a[4]||(a[4]=b("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAErSURBVFiF7dbBbYMwFMbxv2lzhw0YoYzABtmg7QRppPaQCaIIJEZIN8gIjOCMwAbmHir3YGhaCSNsWqUHfxcE8nv84CEAQkL+YcSSYiWLCkQMuk2yt61vn2gJAvQa9JPZ+mch4ncSEEMCYkhADJlEKHlYK1nFS06gZBUreZh8j1gRShYvEJ2gq5Xcp36AfQpdDdHJ9HNAmKsXm373AVbOELN+VZt6ALGx3dVRRJJtW7jkIBpzRKcukCtA9+tFA5fc9J2JMJBd4wOxA3aNrWbywXSF+ABg5qfczLL7Pt8ed1eDSEE38JH/BHCGe+sInBF2iI6BGGhBtD4AJ8Q4ZDROAGfEDIgzwAtxxZRH81f11eo9yV6ffft5R8nyqGShDeiGUbJ8vCkgJOSv8gnIw5o7HWqnWwAAAABJRU5ErkJggg=="},null,-1))],8,it)))),256))]),b("div",nt,[_(b("input",{class:"inp","onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),type:"text",placeholder:"输入创作歌词提示词！"},null,512),[[ee,c.value]]),E(j(ae),{class:"music_btn",show:ue.value,stroke:"#000"},{default:L((()=>[b("div",{class:"flex items-center",onClick:ce},a[5]||(a[5]=[b("span",{style:{"margin-top":"3px"}},"创作",-1),b("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAARCAYAAADQWvz5AAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAEOSURBVDiNrZLhTcQwDIWfmwwQJiBsYLXqHjACIzABbMAINwIwAYzgDS7doAPEMj/InUqaU3uI9yfKk/P5JQ6hUt/3L0T0XPtb6mqDiG6vhZhZWoH+qhYoXgshov9L5GvDzCIRQVXvNg97H83sE0BagQosiUjaAo3jGMwMQHtqcQuwaBjKOjXfiIg20xTA+av8AjHzKc28N1VpfLw0tb2gsErEzMF7H5vlDTFzMLObkmjyzBydc28A+DQBM5suAYZhuAfwip+Pe07unXMHALw3BYDD4koBAHLOqWtBiOjYAnnveQFZau4AfNWmqn60QDlnAZAqW0Rk7lT1qcBmAALgUUSaUxORWVUfFvXvZY9vsExoA77sdzkAAAAASUVORK5CYII="},null,-1)]))])),_:1},8,["show"])]),a[8]||(a[8]=b("div",{class:"contextBox-hot-title"},"热门推荐",-1)),S.value&&S.value.length>2?(M(),I("div",{key:0,class:"content hot",ref_key:"container",ref:X},[(M(!0),I(N,null,T(S.value,((e,l)=>(M(),I("div",{class:F(["contentItem bg-[#F9FAFB]",l<3?"hot":""]),key:e.chatId},[b("div",ot,[b("div",rt,[b("img",{class:"bgImg",src:e.cover,alt:"加载失败"},null,8,ut),Q.value&&Q.value.id!=e.id||!U.value?(M(),q(j(le),{key:0,onClick:a=>J(e,l),style:{"font-size":"30px"},icon:"gridicons:play",class:"playImg"},null,8,["onClick"])):(M(),q(j(le),{key:1,onClick:Z,style:{"font-size":"30px"},icon:"gridicons:pause",class:"playImg"}))]),b("div",ct,[b("div",dt,C(" "==e.title||null==e.title?"匿名":e.title),1),b("div",vt,[o.value?(M(),I("img",pt)):(M(),I("img",gt)),a[6]||(a[6]=b("span",{class:"text-[#8C441A] dark:text-[#9A9EB5] text-[12px]",style:{"font-weight":"550"}},"Suno",-1))]),b("div",mt,[b("span",null,C(e.intro),1)])])])],2)))),128))],512)):D("",!0),a[9]||(a[9]=b("div",{class:"contextBox-hot-title"},"最新歌曲",-1)),O.value&&O.value.length>2?(M(),I("div",{key:1,class:"content",ref_key:"container",ref:X,onScroll:se},[(M(!0),I(N,null,T(O.value,((e,l)=>(M(),I("div",{class:"contentItem bg-gradient-to-t to-[#2c2d32] from-[#3F3C31]",key:e.chatId},[b("div",yt,[b("div",ft,[b("img",{class:"bgImg",src:e.cover,alt:"加载失败"},null,8,ht),Q.value.id==e.id&&U.value?(M(),q(j(le),{key:1,onClick:Z,style:{"font-size":"30px"},icon:"gridicons:pause",class:"playImg"})):(M(),q(j(le),{key:0,onClick:a=>J(e,l),style:{"font-size":"30px"},icon:"gridicons:play",class:"playImg"},null,8,["onClick"]))]),b("div",wt,[b("div",xt,C(" "==e.title||null==e.title?"匿名":e.title),1),b("div",At,[o.value?(M(),I("img",kt)):(M(),I("img",Mt)),a[7]||(a[7]=b("span",{class:"text-[#8C441A] dark:text-[#9A9EB5] text-[12px]",style:{"font-weight":"550"}},"Suno",-1))]),b("div",It,[b("span",null,C(e.intro),1)])])])])))),128))],544)):D("",!0)])]),Q.value?(M(),I("div",Ct,[b("div",{class:F(["bg-[#f9fafb] dark:bg-[#222325] musicInfoDialog",{hasMusic:Q.value}])},[b("div",Dt,[b("img",{src:Zl,style:{background:"#D8D8D8",position:"absolute",right:"10px",top:"10px",cursor:"pointer","border-radius":"5px"},onClick:a[1]||(a[1]=e=>Q.value="")}),b("img",{src:Q.value.cover,style:{width:"100%"}},null,8,bt)]),b("div",Et,C(" "==Q.value.title||null==Q.value.title?"匿名":Q.value.title),1),b("div",Lt,[o.value?(M(),I("img",jt)):(M(),I("img",Nt)),a[10]||(a[10]=b("span",{class:"text-[#8C441A] dark:text-[#EEEEF0] text-[12px]",style:{"font-weight":"550"}},"Suno",-1))]),b("div",Tt,[(M(!0),I(N,null,T(Q.value.introList,(e=>(M(),I("div",{key:e,style:{"margin-bottom":"10px"}},C(e),1)))),128))])],2),b("audio",{class:"video",type:"audio/mp3",id:"video",src:R.value,onTimeupdate:a[2]||(a[2]=(...a)=>e.audioTimeUpdate&&e.audioTimeUpdate(...a))},null,40,zt)])):D("",!0)])]),b("div",Ot,[Q.value?(M(),I("div",Bt,[b("div",Ft,[b("div",St,[b("div",Rt,[b("img",{src:Q.value.cover,style:{"border-radius":"5px",width:"60px",height:"60px"}},null,8,Ut),b("div",Qt,[b("div",null,C(" "==Q.value.title||null==Q.value.title?"匿名":Q.value.title),1),b("div",Yt,C(Q.value.intro),1)])]),b("div",null,[o.value?(M(),I("img",{key:0,class:"controlItem",style:{cursor:"pointer",width:"25px",height:"25px"},src:Gl,alt:"",onClick:G})):(M(),I("img",{key:1,class:"controlItem",style:{cursor:"pointer"},src:Ve,alt:"",onClick:G}))]),b("div",null,[U.value&&o.value?(M(),I("img",{key:0,class:"controlItem",src:Wl,style:{margin:"0 10px",cursor:"pointer"},alt:"",onClick:Z})):D("",!0),U.value&&0==o.value?(M(),I("img",{key:1,class:"controlItem",src:qe,style:{margin:"0 10px",cursor:"pointer"},alt:"",onClick:Z})):D("",!0)]),b("div",null,[!U.value&&o.value?(M(),I("img",{key:0,class:"controlItem",src:Jl,style:{margin:"0 10px",cursor:"pointer"},alt:"",onClick:Z})):D("",!0),U.value||0!=o.value?D("",!0):(M(),I("img",{key:1,class:"controlItem",src:_e,style:{margin:"0 10px",cursor:"pointer"},alt:"",onClick:Z}))]),b("div",null,[o.value?(M(),I("img",{key:0,class:"controlItem",style:{cursor:"pointer",width:"25px",height:"25px"},src:Hl,alt:"",onClick:W})):(M(),I("img",{key:1,class:"controlItem",style:{cursor:"pointer"},src:Ze,alt:"",onClick:W}))])]),b("div",Vt,[b("div",qt,[b("div",_t,[b("audio",{id:"audio",src:Q.value.mp3,onCanplay:ne,ref_key:"audioRef",ref:z,onTimeupdate:oe},null,40,Zt),te(" "+C(w.value)+" ",1),E(j(ie),{value:A.value,"onUpdate:value":a[3]||(a[3]=e=>A.value=e),"on-dragstart":de,"on-dragend":ve,tooltip:!1,max:x.value,min:0},null,8,["value","max"]),te(" "+C(f.value),1)])])])])])):D("",!0)])])])]))}}),[["__scopeId","data-v-70802660"]]),Wt={style:{padding:"0 24px",display:"flex","flex-direction":"column"},class:"bg-[#fff] dark:bg-[#2B2D31]"},Jt={class:"topBox"},Ht={key:0,class:"flex w-full flex-j mb-2 items-center overflow-x-hidden"},Pt={class:"relative z-40 transition-300 ease"},Kt={class:"flex justify-start items-center",ref:"tabListRef"},Xt=["onClick"],$t={class:"pl-3 pr-3 pt-1 pb-1 whitespace-nowrap"},ei={key:1,class:"flex w-full flex-j mb-2 items-center overflow-x-hidden"},ai={class:"relative z-40 transition-300 ease"},li={class:"flex justify-start items-center",ref:"tabListRef"},ti=["onClick"],ii={class:"pl-3 pr-3 pt-1 pb-1 whitespace-nowrap"},si={key:2,class:"searchBox bg-[#F8F9F9] dark:bg-[#19191B]"},ni={key:0,src:dl,alt:""},oi={key:1,src:vl,alt:""},ri={class:"flex-1 marketBox"},ui=R(s({__name:"square",setup(e){se();const a=r(""),l=r(),t=r(""),i=r(),s=$(),n=u((()=>"dark"===s.theme)),o=r([]),c=r([]);s.setTheme("light");(async()=>{const e=await re({page:1,size:100}).then((e=>e.data.rows));o.value=[{name:"全部",value:""},{name:"我的收藏",value:"fav"}].concat(e)||Me,l.value.handleQuery(a.value)})();(async()=>{const e=await re({page:1,size:100,dataType:1}).then((e=>e.data.rows));c.value=[{name:"全部",value:""},{name:"我的收藏",value:"fav"}].concat(e)||Me,i.value.handleQuery(t.value)})();r("");const d=r("");function v(e){13==e.keyCode&&("pic"==p.value?l.value.handleSearch(d.value):i.value.handleSearch(d.value))}const p=r("pic");return w((()=>{})),(e,s)=>(M(),I("div",Wt,[E(j(oe),{class:"squareTabs",value:p.value,"onUpdate:value":[s[0]||(s[0]=e=>p.value=e),s[1]||(s[1]=e=>d.value="")],size:"large"},{default:L((()=>[E(j(ne),{name:"pic",tab:"绘画广场"}),E(j(ne),{name:"video",tab:"视频广场"}),E(j(ne),{name:"music",tab:"音乐广场"})])),_:1},8,["value"]),b("div",Jt,["pic"===p.value?(M(),I("div",Ht,[b("div",Pt,[b("ul",Kt,[(M(!0),I(N,null,T(o.value,(e=>(M(),I("li",{onClick:t=>{return i=e,a.value=i.value,l.value.handleQuery(i.value),void S.emit("newData","");var i},class:F(["mr-1 ml-1 w-auto select-none cursor-pointer hover:dark:text-[#fff] hover:text-[#fff] hover:bg-black dark:hover:from-transparent dark:hover:to-transparent dark:border dark:border-[transparent] dark:hover:border-[#3E6AE7] duration-300 flex rounded-lg",[e.value===a.value?"text-white bg-black":"bg-white dark:bg-transparent"]])},[b("div",$t,C(e.name),1)],10,Xt)))),256))],512)])])):D("",!0),"video"===p.value?(M(),I("div",ei,[b("div",ai,[b("ul",li,[(M(!0),I(N,null,T(c.value,(e=>(M(),I("li",{onClick:a=>{return l=e,t.value=l.value,void i.value.handleQuery(l.value);var l},class:F(["mr-1 ml-1 w-auto select-none cursor-pointer hover:dark:text-[#fff] hover:text-[#fff] hover:bg-black dark:hover:from-transparent dark:hover:to-transparent dark:border dark:border-[transparent] dark:hover:border-[#3E6AE7] duration-300 flex rounded-lg",[e.value===t.value?"text-white bg-black":"bg-white dark:bg-transparent"]])},[b("div",ii,C(e.name),1)],10,ti)))),256))],512)])])):D("",!0),"pic"===p.value||"video"===p.value?(M(),I("div",si,[n.value?(M(),I("img",ni)):(M(),I("img",oi)),_(b("input",{type:"text",onKeydown:v,name:"","onUpdate:modelValue":s[2]||(s[2]=e=>d.value=e),id:"",placeholder:"请输入关键词"},null,544),[[ee,d.value]])])):D("",!0)]),b("div",ri,["pic"===p.value?(M(),q(Dl,{key:0,ref_key:"marketRef",ref:l,type:a.value,keyWord:d.value},null,8,["type","keyWord"])):D("",!0),"video"===p.value?(M(),q(ql,{key:1,ref_key:"marketRef2",ref:i,type:t.value},null,8,["type"])):D("",!0),"music"===p.value?(M(),q(Gt,{key:2})):D("",!0)])]))}}),[["__scopeId","data-v-63bd6856"]]),ci={class:"bg-[#fff] dark:bg-[#2B2D31] musicBody"},di={class:"createCenterBox"},vi={class:"createInfo"},pi=["onClick","src"],gi={key:3,style:{width:"100px",height:"100px"},src:"/static/png/error-f74c9bd3.png",alt:""},mi={class:"itemInfo"},yi={class:"info",style:{flex:"1","margin-right":"10px"}},fi={style:{display:"flex","align-items":"center","justify-content":"space-between"}},hi={style:{display:"flex","align-items":"center"}},wi={class:"text-[17px] dark:text-[#9A9EB5] text-[#1E1F1F]",style:{"font-weight":"550"}},xi={class:"model"},Ai={class:"operation"},ki=["onClick"],Mi={key:0,class:"operationBox bg-[#fff] dark:bg-[#111113] border border-[#E8E8E8] dark:border-[#292A2E]"},Ii=["onClick"],Ci={key:0,src:Je,style:{"margin-right":"5px"}},Di={key:1,src:He,style:{"margin-right":"5px"}},bi=["onClick"],Ei={key:0,src:Pe,style:{"margin-right":"5px"}},Li={key:1,src:Ke,style:{"margin-right":"5px"}},ji=["onClick"],Ni={key:0,src:Xe,style:{"margin-right":"5px"}},Ti={key:1,src:$e,style:{"margin-right":"5px"}},zi={style:{display:"flex","align-items":"center",margin:"12px 0"}},Oi={key:0,src:Ge,style:{"margin-right":"4px"}},Bi={key:1,src:_l,style:{"margin-right":"4px",transform:"translateY(-2px)"}},Fi={class:"text-[12px] text-[#8B8C8C] dark:text-[#595C6E]",style:{width:"90%",display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical",overflow:"hidden"}},Si={style:{width:"108px",height:"108px","border-radius":"8px",position:"relative",display:"flex","justify-content":"center","align-items":"center"}},Ri={class:"itemInfo"},Ui={class:"info",style:{width:"100%"}},Qi={style:{width:"100%",display:"flex","align-items":"center","justify-content":"space-between"}},Yi={style:{display:"flex","align-items":"center"}},Vi={class:"text-[17px] dark:text-[#EEEEF0] text-[#1E1F1F]",style:{"font-weight":"550"}},qi={class:"text-[12px] text-[#1E1F1F] dark:text-[#EEEEF0] bg-[#F0F0F0] dark:bg-[#222325]",style:{padding:"1px 6px","border-radius":"6px","margin-left":"12px"}},_i={style:{display:"flex","align-items":"center"}},Zi={style:{display:"flex","align-items":"center",margin:"12px 0"}},Gi={key:0,src:Ge,style:{"margin-right":"4px"}},Wi={key:1,src:We,style:{"margin-right":"4px"}},Ji={class:"text-[12px] text-[#8B8C8C] dark:text-[#6C6E79]",style:{"word-break":"keep-all","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},Hi={key:0,class:"mainRight"},Pi={style:{width:"100%"}},Ki=["src"],Xi={class:"text-[#1E1F1F] dark:text-[#EEEEF0] text-[17px]",style:{"margin-top":"12px","font-weight":"550"}},$i={style:{display:"flex","align-items":"center",margin:"12px 0"}},es={key:0,src:Ge,style:{"margin-right":"4px"}},as={key:1,src:We,style:{"margin-right":"4px"}},ls={class:"introList"},ts={class:""},is={style:{position:"fixed",width:"100%",bottom:"0","z-index":"1"}},ss={key:0,class:"control dark:bg-[#303137] bg-[#FFF] text-[#8B8C8C] dark:text-[#6C6E79] border-t border-[#E8E8E8] dark:border-[#292A2E]"},ns={style:{display:"flex","align-items":"center"}},os={style:{display:"flex","align-items":"center",gap:"5px","margin-right":"20px"}},rs=["src"],us={class:"text-[#1E1F1F] dark:text-[#EEEEF0] text-[14px]"},cs={style:{color:"#727586","font-size":"12px","margin-top":"10px",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":"1",overflow:"hidden","text-overflow":"ellipsis",width:"180px"}},ds={style:{display:"flex","align-items":"center",flex:"1","padding-right":"20px","margin-left":"20px"}},vs={style:{width:"100%"}},ps={style:{"margin-top":"4px",display:"flex","align-items":"center",gap:"10px"}},gs=["src"],ms=R(s({__name:"myMusic",setup(e){const a=r(null),l=m();u((()=>l.isLogin));const t=r([]);let i=null;const s=h();ue(),se(),r(!0),r(!1);const n=r(1),o=r(0),c=$(),d=u((()=>"dark"===c.theme));c.setTheme("light");const v=r([{name:"V3（一次生成两首歌）",value:"chirp-v3-0",title:"V3"},{name:"V3.5（一次生成两首歌）",value:"chirp-v3-5",title:"V3.5"}]);r("").value=v.value[0].name;const p=r(!1),g=r([]),y=r([]),f=r(!1),x=r(1),A=r("00:00"),k=r("00:00"),z=r(""),O=r(""),B=r(0);function S(){Se({size:20,page:n.value,modelType:"music",modelSubType:"create",order:"createAt"}).then((e=>{const{records:a}=e.data;0!=a.length&&a.forEach((e=>{if(""==e.answer&&null==e.errMsg&&0==e.children.length){let a={intro:""},i={intro:""};a.id=e.id,i.id=e.id;e.prompt.split(",").forEach((e=>{let l=e.split(" ");if(""==l[0]&&l.shift(),"prompt"==l[0])for(var t=1;t<=l.length-1;t++)a.intro=a.intro+l[t],i.intro=a.intro+l[t];"mv"==l[0]&&(a.modetitle=l[1],i.modetitle=l[1]),"title"==l[0]&&(a.name=l[1],i.name=l[1])})),g.value.push(a),g.value.push(i),setTimeout((()=>ne()),300),t.value.push(e.id),1==t.value.length&&function(e,a,i){try{var n=setInterval((()=>{if(0==t.value.length)return R.value=!0,void clearTimeout(n);Re({ids:t.value.join()}).then((e=>{e.data.forEach((e=>{if(console.log(g.value),null!=e.errMsg){l.getUserInfo(),t.value.splice(t.value.indexOf(e.id),1),s.error(e.errMsg);for(var n=0;n<=g.value.length-1;n++)e.id==g.value[n].id&&g.value.splice(n,2);y.value.push(a),y.value.push(i)}else if(null!=e.answer&&0!=e.children.length){t.value.splice(t.value.indexOf(e.id),1),l.getUserInfo();for(n=0;n<=g.value.length-1;n++)e.id==g.value[n].id&&(console.log(g.value[n]),g.value.splice(n,2));e.children.forEach((a=>{a.model=e.model,y.value.push(a)})),Ue({ids:[e.children[0].id,e.children[1].id]})}}))}))}),3e3)}catch(o){s.error(o.message),console.log(o);const[e,a]=ve("Request failed");g.value=[],e.modetitle=Q.value,a.modetitle=Q.value,y.value=[...y.value,e,a],R.value=!0,function(e){let a;X.value=0,ee.value=0,1==e?a=setInterval((()=>{X.value+=10,ee.value=X.value/100*200,X.value>=99&&(clearTimeout(a),X.value=99,ee.value=X.value/100*200)}),5e3):clearTimeout(a)}(!1)}}(0,a,i)}else 0!=e.children.length&&e.children.forEach((a=>{a.model=e.model,y.value.unshift(a)}))}))}))}Fe({modelType:"music"}).then((e=>{})),r(""),r(0),r(""),r("chirp-v3"),r("");const R=r(!0);r(),r();const U=r(null);w((()=>{!async function(){var e;try{const a=await ce({modelType:"music",page:1,size:10}),l=(a.data||{}).rows||[];o.value=(null==(e=l[0])?void 0:e.deduct)||0}catch(a){s.error(a.message)}}(),S(),setTimeout((()=>ne()),300)}));const Q=r("V3");const Y=r(),V=r(0),_=r(!1);function Z(e,a){if(Y.value&&Y.value.id==e.id)return void G();Y.value={...e},Y.value.introList=e.intro.split("\n"),V.value=a;const l=setTimeout((()=>{_.value=!1,G(),clearTimeout(l)}))}function G(){const e=U.value;_.value?(_.value=!1,e.pause()):(_.value=!0,e.play())}function W(){V.value-1<0?(V.value=y.value.length-1,Y.value=y.value[V.value]):(V.value=V.value-1,Y.value=y.value[V.value]);const e=setTimeout((()=>{_.value=!1,G(),clearTimeout(e)}))}function J(){V.value+1>y.value.length-1?(V.value=0,Y.value=y.value[V.value]):(V.value=V.value+1,Y.value=y.value[V.value]);const e=setTimeout((()=>{_.value=!1,G(),clearTimeout(e)}))}function H(){Y.value&&(Y.value.operation=!1),p.value=!1,f.value=!1,y.value.forEach((e=>{e.operation=!1}))}function P(){i&&(i.destroy(),i=null)}function K(e,a){let l="/api";if(i||(i=s.loading("下载中，请稍等",{duration:0})),"mp4"==a){let a=e.mp4.split("/").pop();H(),pe.get(l+"/file/down",{responseType:"blob",params:{url:e.mp4}}).then((e=>{const l=window.URL.createObjectURL(new Blob([e.data])),t=document.createElement("a");t.href=l,t.setAttribute("download",a),t.click(),P(),s.success("下载成功")})).catch((e=>{s.error("下载失败"),P()}))}else if("mp3"==a){let a=e.mp3.split("/").pop();H(),pe.get(l+"/file/down",{responseType:"blob",params:{url:e.mp3}}).then((e=>{const l=window.URL.createObjectURL(new Blob([e.data])),t=document.createElement("a");t.href=l,t.setAttribute("download",a),t.click(),P(),s.success("下载成功")})).catch((e=>{s.error("下载失败"),P()}))}}const X=r(0),ee=r(0);function ne(){let e=a.value;e.scrollTo({top:e.scrollHeight+7e3,behavior:"smooth"})}function oe(){z.value=U.value.duration,O.value=U.value.currentTime,k.value=ge(parseInt(U.value.currentTime)),A.value=ge(parseInt(U.value.duration))}function re(e){k.value=ge(parseInt(e.target.currentTime)),O.value=e.target.currentTime,function(){let e=O.value/z.value*100;B.value=e}();const a=U.value;O.value>=z.value&&(_.value=!1,a.pause(),O.value=0,B.value=0,k.value="00:00")}function ge(e){let a=parseInt(e/60),l=parseInt(e%60);return a=a>=10?a:"0"+a,l=l>=10?l:"0"+l,a+":"+l}function me(){U.value.pause()}function ye(){U.value.currentTime=O.value,U.value.play()}return(e,l)=>(M(),I("div",ci,[p.value||f.value?(M(),I("div",{key:0,class:"mask",onClick:H})):D("",!0),b("div",di,[b("div",{class:F(["createCenterMain",{hasMusic:Y.value}])},[b("div",vi,[b("div",{class:"mainLeft",ref_key:"createCenterRef",ref:a,onScroll:l[0]||(l[0]=e=>{var a;(a=e).target.scrollTop+a.target.clientHeight==a.target.scrollHeight&&(n.value+=1,S())})},[(M(!0),I(N,null,T(y.value,((e,a)=>(M(),I("div",{class:"mainItem dark:bg-[#2b2d31] bg-[#fff]",key:a},[Y.value&&Y.value.id!=e.id||!_.value?(M(),q(j(le),{key:0,onClick:l=>Z(e,a),style:{"font-size":"30px"},icon:"gridicons:play",class:"playImg"},null,8,["onClick"])):(M(),q(j(le),{key:1,onClick:G,style:{"font-size":"30px"},icon:"gridicons:pause",class:"playImg"})),e.cover?(M(),I("img",{key:2,onClick:l=>Z(e,a),style:{width:"100px",height:"100px","max-width":"108px"},src:e.cover,alt:""},null,8,pi)):D("",!0),e.cover?D("",!0):(M(),I("img",gi)),b("div",mi,[b("div",yi,[b("div",fi,[b("div",hi,[b("div",wi,C(" "==e.title||null==e.title?"匿名":e.title),1),b("div",xi,C(e.model.indexOf("v4")>-1?"V4":e.model.indexOf("v3-5")>-1?"V3.5":"V3.0"),1)]),b("div",Ai,[b("div",{class:F(["collect",{collected:e.agree}]),onClick:a=>function(e){console.log(e);let a={relateId:e.id,action:"agree",relateType:"music"};0!=x.value&&(x.value=0,Ye(a).then((a=>{null!=e.agree?y.value.forEach((a=>{a.id==e.id&&(a.agree=null)})):y.value.forEach((a=>{a.id==e.id&&(a.agree="agree")})),x.value=1})))}(e)},null,10,ki),E(j(le),{icon:"ri:more-line",class:"icon text-xl text-center",onClick:a=>function(e,a){3==a&&(e.operation=!0,f.value=!0)}(e,3)},null,8,["onClick"]),e.operation?(M(),I("div",Mi,[b("div",{class:"operationItem",onClick:a=>K(e,"mp4"),style:{display:"flex"}},[d.value?(M(),I("img",Ci)):(M(),I("img",Di)),l[11]||(l[11]=b("div",null,"下载视频",-1))],8,Ii),b("div",{class:"operationItem",onClick:a=>K(e,"mp3"),style:{display:"flex"}},[d.value?(M(),I("img",Ei)):(M(),I("img",Li)),l[12]||(l[12]=b("div",null,"下载音频",-1))],8,bi),b("div",{class:"operationItem",style:{display:"flex",color:"#ff5e55"},onClick:l=>async function(e,a){try{await Qe({ids:[e]}),s.success("创作记录删除成功"),n.value=1,y.value.splice(a,1)}catch(l){s.error(l.message)}}(e.id,a)},[d.value?(M(),I("img",Ni)):(M(),I("img",Ti)),l[13]||(l[13]=b("div",null,"删除",-1))],8,ji)])):D("",!0)])]),b("div",zi,[d.value?(M(),I("img",Oi)):(M(),I("img",Bi)),l[14]||(l[14]=b("span",{class:"text-[#8C441A] dark:text-[#9A9EB5] text-[14px]",style:{"font-weight":"550"}},"Suno",-1))]),b("div",Fi,C(e.intro),1)])])])))),128)),g.value?(M(!0),I(N,{key:0},T(g.value,((e,a)=>(M(),I("div",{class:"mainItem dark:bg-[#2b2d31] bg-[#FFF]",key:a},[b("div",Si,[E(j(de),null,{default:L((()=>[E(j(ae),{stroke:"#76777A",size:"large"})])),_:1})]),b("div",Ri,[b("div",Ui,[b("div",Qi,[b("div",Yi,[b("div",Vi,C(null==e.name?"匿名":e.name),1),b("div",qi,C(e.modetitle),1)]),b("div",_i,[E(j(de),null,{default:L((()=>[E(j(ae),{stroke:"#10A37F",size:10})])),_:1}),l[15]||(l[15]=b("div",{style:{"margin-left":"10px","font-size":"13px",color:"#10a37f"}}," 创作中，请耐心等待 ",-1))])]),l[17]||(l[17]=b("div",null,null,-1)),b("div",Zi,[d.value?(M(),I("img",Gi)):(M(),I("img",Wi)),l[16]||(l[16]=b("span",{class:"text-[#1E1F1F] dark:text-[#EEEEF0] text-[12px]",style:{"font-weight":"550"}},"Suno",-1))]),b("div",Ji,C(e.intro),1)])])])))),128)):D("",!0)],544),Y.value?(M(),I("div",Hi,[b("div",Pi,[b("img",{src:Zl,style:{background:"#D8D8D8",position:"absolute",right:"10px",top:"10px",cursor:"pointer","border-radius":"5px"},onClick:l[1]||(l[1]=e=>Y.value="")}),b("img",{src:Y.value.cover,style:{width:"100%"}},null,8,Ki)]),b("div",null,[b("div",{class:F(["musicInfoDialog",{hasMusic:Y.value}]),style:{height:"calc(100vh - 225px)",display:"flex","flex-direction":"column","align-items":"center",overflow:"scroll","border-radius":"10px"}},[b("div",Xi,C(" "==Y.value.title?"匿名":Y.value.title),1),b("div",$i,[d.value?(M(),I("img",es)):(M(),I("img",as)),l[18]||(l[18]=b("span",{class:"text-[#1E1F1F] dark:text-[#EEEEF0] text-[12px]",style:{"font-weight":"550"}},"Suno",-1))]),b("div",ls,[(M(!0),I(N,null,T(Y.value.introList,(e=>(M(),I("div",{key:e,style:{"margin-bottom":"10px"}},C(e),1)))),128))])],2)])])):D("",!0)]),b("div",ts,[b("div",is,[Y.value?(M(),I("div",ss,[b("div",ns,[b("div",os,[b("img",{src:Y.value.cover,style:{"border-radius":"5px",width:"60px",height:"60px"}},null,8,rs),b("div",us,[b("div",null,C(" "==Y.value.title||null==Y.value.title?"匿名":Y.value.title),1),b("div",cs,C(Y.value.intro),1)])]),b("div",null,[d.value?(M(),I("img",{key:0,class:"controlItem",style:{cursor:"pointer",width:"25px",height:"25px"},src:Gl,alt:"",onClick:W})):(M(),I("img",{key:1,class:"controlItem",style:{cursor:"pointer"},src:Ve,alt:"",onClick:W}))]),b("div",null,[_.value&&d.value?(M(),I("img",{key:0,class:"controlItem",src:Wl,style:{margin:"0 10px",cursor:"pointer"},alt:"",onClick:G})):D("",!0),_.value&&0==d.value?(M(),I("img",{key:1,class:"controlItem",src:qe,style:{margin:"0 10px",cursor:"pointer"},alt:"",onClick:G})):D("",!0)]),b("div",null,[!_.value&&d.value?(M(),I("img",{key:0,class:"controlItem",src:Jl,style:{margin:"0 10px",cursor:"pointer"},alt:"",onClick:G})):D("",!0),_.value||0!=d.value?D("",!0):(M(),I("img",{key:1,class:"controlItem",src:_e,style:{margin:"0 10px",cursor:"pointer"},alt:"",onClick:G}))]),b("div",null,[d.value?(M(),I("img",{key:0,class:"controlItem",style:{cursor:"pointer",width:"25px",height:"25px"},src:Hl,alt:"",onClick:J})):(M(),I("img",{key:1,class:"controlItem",style:{cursor:"pointer"},src:Ze,alt:"",onClick:J}))])]),b("div",ds,[b("div",vs,[b("div",ps,[b("audio",{id:"audio",src:Y.value.mp3,onCanplay:oe,ref_key:"audioRef",ref:U,onTimeupdate:re},null,40,gs),te(" "+C(k.value)+" ",1),E(j(ie),{value:O.value,"onUpdate:value":l[2]||(l[2]=e=>O.value=e),tooltip:!1,"on-dragstart":me,"on-dragend":ye,max:z.value,min:0},null,8,["value","max"]),te(" "+C(A.value),1)])])])])):D("",!0)])])],2)]),D("",!0)]))}}),[["__scopeId","data-v-3a3309a4"]]),ys={style:{padding:"0 24px",display:"flex","flex-direction":"column"},class:"bg-[#fff] dark:bg-[#2B2D31]"},fs={class:"topBox"},hs={key:0,class:"flex w-full flex-j mb-2 items-center overflow-x-hidden"},ws={class:"relative z-40 transition-300 ease"},xs={class:"flex justify-start items-center",ref:"tabListRef"},As=["onClick"],ks={class:"pl-3 pr-3 pt-1 pb-1 whitespace-nowrap"},Ms={key:1,class:"flex w-full flex-j mb-2 items-center overflow-x-hidden"},Is={class:"relative z-40 transition-300 ease"},Cs={class:"flex justify-start items-center",ref:"tabListRef"},Ds=["onClick"],bs={class:"pl-3 pr-3 pt-1 pb-1 whitespace-nowrap"},Es={key:2,class:"searchBox bg-[#F8F9F9] dark:bg-[#19191B]"},Ls={key:0,src:dl,alt:""},js={key:1,src:vl,alt:""},Ns={class:"flex-1 marketBox"},Ts={key:0,class:"worksPage"},zs={class:"itemBox"},Os=["onClick","onMouseenter","onMouseleave"],Bs=["src","poster","autoplay"],Fs=["src"],Ss={key:2,style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",height:"100%","background-color":"rgba(106, 106, 106, 0.4)"}},Rs={class:"imgLabel"},Us=["onClick"],Qs={class:"itemBox zero"},Ys=R(s({__name:"myWorks",setup(e){se();const a=m(),l=u((()=>a.isLogin)),t=r("my");r();const i=r("my");r();const s=$(),n=u((()=>"dark"===s.theme)),o=r([{name:"全部作品",value:"my"},{name:"我的收藏",value:"fav"}]),c=r([{name:"全部作品",value:"my"},{name:"我的收藏",value:"fav"}]);s.setTheme("light");let d=r(!1),v=r([]),p=async()=>{v.value=[],d.value=!0,"pic"==f.value?"my"==t.value?ge({page:1,size:999,keyword:g.value}).then((e=>{d.value=!1,v.value=e.data.rows,v.value.forEach((e=>{let a=e.extraParam.split(" ");e.extraName=a[0]+a[1]}))})):J({page:1,size:999,keyword:g.value}).then((e=>{d.value=!1,v.value=e.data.rows,v.value.forEach((e=>{let a=e.extraParam.split(" ");e.extraName=a[0]+a[1]}))})):"my"==i.value?Se({page:1,size:999,modelType:"video",order:"createAt",keyword:g.value}).then((e=>{d.value=!1,v.value=e.data.records,v.value.forEach((e=>{e.children&&e.children.length>0&&(e.mp4=e.children[0].mp4,e.cover=e.children[0].cover)}))})):je({page:1,size:999,modelType:"video",keyword:g.value}).then((e=>{d.value=!1,v.value=e.data.records}))};const g=r("");function y(e){13==e.keyCode&&p()}const f=r("pic");function h(e){S.emit("Details",!0),S.emit("DetailsData",e)}w((()=>{p(),l.value||(a.setLoginDialog(!0),S.emit("register",0))})),S.on("myWorksList",(e=>{p()}));const x=r();return(e,a)=>(M(),q(j(ae),{show:j(d),"content-style":{height:"100%"},style:{height:"100%"}},{default:L((()=>[b("div",ys,[E(j(oe),{class:"squareTabs",value:f.value,"onUpdate:value":[a[0]||(a[0]=e=>f.value=e),a[1]||(a[1]=e=>{g.value="",j(p)()})],size:"large"},{default:L((()=>[E(j(ne),{name:"pic",tab:"我的绘画"}),E(j(ne),{name:"video",tab:"我的视频"}),E(j(ne),{name:"music",tab:"我的音乐"})])),_:1},8,["value"]),b("div",fs,["pic"===f.value?(M(),I("div",hs,[b("div",ws,[b("ul",xs,[(M(!0),I(N,null,T(o.value,(e=>(M(),I("li",{onClick:a=>{return l=e,t.value=l.value,void p();var l},class:F(["mr-1 ml-1 w-auto select-none cursor-pointer hover:dark:text-[#fff] hover:text-[#fff] hover:bg-black dark:hover:from-transparent dark:hover:to-transparent dark:border dark:border-[transparent] dark:hover:border-[#3E6AE7] duration-300 flex rounded-lg",[e.value===t.value?"text-white bg-black":"bg-white dark:bg-transparent"]])},[b("div",ks,C(e.name),1)],10,As)))),256))],512)])])):D("",!0),"video"===f.value?(M(),I("div",Ms,[b("div",Is,[b("ul",Cs,[(M(!0),I(N,null,T(c.value,(e=>(M(),I("li",{onClick:a=>{return l=e,i.value=l.value,void p();var l},class:F(["mr-1 ml-1 w-auto select-none cursor-pointer hover:dark:text-[#fff] hover:text-[#fff] hover:bg-black dark:hover:from-transparent dark:hover:to-transparent dark:border dark:border-[transparent] dark:hover:border-[#3E6AE7] duration-300 flex rounded-lg",[e.value===i.value?"text-white bg-black":"bg-white dark:bg-transparent"]])},[b("div",bs,C(e.name),1)],10,Ds)))),256))],512)])])):D("",!0),"pic"===f.value||"video"===f.value?(M(),I("div",Es,[n.value?(M(),I("img",Ls)):(M(),I("img",js)),_(b("input",{type:"text",onKeydown:y,name:"","onUpdate:modelValue":a[2]||(a[2]=e=>g.value=e),id:"",placeholder:"请输入关键词"},null,544),[[ee,g.value]])])):D("",!0)]),b("div",Ns,["music"!==f.value?(M(),I("div",Ts,[(M(!0),I(N,null,T(j(v),(e=>(M(),I("div",zs,["video"===f.value&&e.mp4?(M(),I("div",{key:0,class:"img_box",onClick:a=>h(e),onMouseenter:a=>(e=>{if(x.value&&x.value.id==e.id)return;if(!e.mp4)return;const a=document.querySelector(`video[src="${e.mp4}"]`);a.play(),a.loop=!0,x.value=e})(e),onMouseleave:a=>(e=>{if(!e.mp4)return;document.querySelector(`video[src="${e.mp4}"]`).pause(),x.value=null})(e)},[b("video",{src:e.mp4,poster:e.cover,class:"item-file rounded-sm",style:{width:"100%",height:"100%","object-fit":"cover"},autoplay:x.value&&x.value.id==e.id},null,8,Bs),a[3]||(a[3]=b("div",{class:"menu1"},null,-1))],40,Os)):D("",!0),"pic"===f.value&&e.imageUrl?(M(),I("img",{key:1,src:e.imageUrl+"?imageView2/0/w/300/q/85&format=webp&quality=lossless&width=300&height=300",alt:""},null,8,Fs)):D("",!0),e.mp4||e.imageUrl?D("",!0):(M(),I("div",Ss,a[4]||(a[4]=[b("div",{class:"loader"},null,-1),b("p",{style:{"margin-top":"12px"}},"生成中，请稍等...",-1)]))),b("div",Rs,C(e.extraName||e.model),1),"pic"===f.value&&e.imageUrl?(M(),I("div",{key:3,class:"menu",onClick:a=>h(e)},a[5]||(a[5]=[b("div",null,"查看详情",-1)]),8,Us)):D("",!0)])))),256)),(M(),I(N,null,T(6,(e=>b("div",Qs))),64))])):D("",!0),"music"===f.value?(M(),q(ms,{key:1})):D("",!0)])])])),_:1},8,["show"]))}}),[["__scopeId","data-v-1aed1693"]]),Vs={class:"home-page bg-white",style:{display:"flex","flex-direction":"column"}},qs={key:2,class:"sbox"},_s={class:"Module__BannerSearch"},Zs={class:"Component__Welcome"},Gs={key:0,class:"Component__WelcomeWord"},Ws={style:{color:"#565656","font-size":"24px","font-weight":"400"}},Js={style:{color:"#767676","font-size":"18px","font-weight":"300"}},Hs={class:"Component__SwiperBanner"},Ps={class:"swiper"},Ks=["onClick","src"],Xs={key:0,class:"marqueeBox"},$s=["onClick"],en={key:1,class:"marqueeBox"},an=["onClick"],ln=R(s({__name:"homePage",setup(e){const{scrollRef:a,scrollToBottom:l,scrollToBottomIfAtBottom:t}=ke(),i=m(),s=u((()=>i.isLogin)),n=me(),o=ye();r(!0),r(!1);const c=r(null);u((()=>n.chatList));const d=r("");h();const v=ue(),y=r([]),{isMobile:f}=se(),x=u((()=>v.query.appId));let A=r([]),z=r([]);w((async()=>{(async(e={})=>{try{e=Object.assign({type:"swiper",notInTagId:"112,113"},e);let a=(await ta(e)).data.rows;y.value=a}catch(a){y.value=[]}})(),g({url:"/cm/getValue?code=ChatRecTalk",data:{}}).then((e=>{[A.value,z.value]=function(e){const a=Math.floor(e.length/2),l=e.slice(0,a),t=e.slice(a);return[l,t]}(e.data.recList),console.log(A.value,z.value,"recList.valuerecList.value")})),S.emit("onConversation"),S.emit("aboutIsShow"),await i.getUserInfo(),x.value&&await async function(e){const a=+e;await X.replace({name:"Chat",query:{}});const l=n.groupList.find((e=>e.appId===a));l?await n.setActiveGroup(l.uuid):(await n.addNewChatGroup(a),await n.queryMyGroup()),d.value&&handlePrompt(d.value)}(Number(x.value)),await p((async()=>{var e;await n.queryActiveChatLogList(),await n.queryMyGroup(),await l(),c.value&&!f.value&&(null==(e=c.value)||e.focus())}))})),r("");let O=e=>{console.log(e,"row.valuerow.value"),X.push({name:"Chat",query:{rec:e}})};r(0);const B=r(!1);S.on("exploreApp",(e=>{B.value=e})),r([]),r();const F=r(!1);S.on("chatLogList",(e=>{0==e.length?F.value=!1:F.value=!0})),S.on("haveLog",(e=>{F.value=e})),S.on("notData",(e=>{F.value=!1}));const R=u((()=>n.active));u((()=>n.groupList.find((e=>e.uuid===R.value))));const U=r({});!async function(){try{const e=await k({keys:["siteName","clientLogoPath","siteKeyword","subSiteName"]});U.value=e.data}catch(e){console.log(e)}}();let Q=r(u((()=>o.homePageType)));return(e,a)=>(M(),I("div",Vs,[2==j(Q)?(M(),q(ui,{key:0,class:"sbox"})):3==j(Q)?(M(),q(Ys,{key:1,class:"sbox"})):(M(),I("div",qs,[b("div",_s,[b("div",Zs,[a[0]||(a[0]=b("div",{class:"Component__WelcomeImage",style:{"background-image":"url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBmaWxsPSJub25lIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSIxMjMuMzc2MDA3MDgwMDc4MTIiIGhlaWdodD0iNTUuMzI4MDAyOTI5Njg3NSIgdmlld0JveD0iMCAwIDEyMy4zNzYwMDcwODAwNzgxMiA1NS4zMjgwMDI5Mjk2ODc1Ij48ZGVmcz48bGluZWFyR3JhZGllbnQgeDE9IjAiIHkxPSIwLjUiIHgyPSIxIiB5Mj0iMC41IiBpZD0ibWFzdGVyX3N2ZzBfNDZfOTIyMyI+PHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI0IxQTJFQSIgc3RvcC1vcGFjaXR5PSIwLjY5OTk5OTk4ODA3OTA3MSIvPjxzdG9wIG9mZnNldD0iOTcuMTQyODU3MzEzMTU2MTMlIiBzdG9wLWNvbG9yPSIjM0M2OUU3IiBzdG9wLW9wYWNpdHk9IjAuNDA5OTk5OTk2NDIzNzIxMyIvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iIzM0MDFGRiIgc3RvcC1vcGFjaXR5PSIxIi8+PC9saW5lYXJHcmFkaWVudD48L2RlZnM+PGc+PGc+PHBhdGggZD0iTTExLjE1MjAwMDAwMDAwMDAwMSwzMC4yMjRROS4xODQwMDAwMDAwMDAwMDEsMzIuNTI4LDcuMDI0LDM0Ljc4NEw1LjM5MTk5OTk5OTk5OTk5OTUsMjkuNTA0UTEyLjc4NCwyMS4yOTYsMTYuMzg0LDEwLjI1NkwyMS4wNCwxMi40NjRRMTkuMTY4LDE4LjA4LDE2LjE0NCwyMy4xMkwxNi4xNDQsNTQuOTkyTDExLjE1MjAwMDAwMDAwMDAwMSw1NC45OTJMMTEuMTUyMDAwMDAwMDAwMDAxLDMwLjIyNFpNNDQuMzIsMjkuODRRNDcuNDg4LDM3Ljc2LDQ5Ljg4OCw0Ni43ODRMNDUuMzc2LDQ4LjhRNDIuOTI4LDM4LjkxMiwzOS44NTYsMzEuMzc1OTk5OTk5OTk5OTk4TDQ0LjMyLDI5Ljg0Wk0yNi44OTYsMjAuNzJRMjQuNzM2LDI2LDIyLDMwLjMyTDE3LjY4LDI3LjYzMlEyMy4wMDgsMTkuNjE2LDI1LjE2OCwxMC42NEwyOS44NzIsMTEuNjQ4UTI5LjI5NiwxMy44MDgsMjguNjI0LDE1LjkyMDAwMDAwMDAwMDAwMkw0OC42NCwxNS45MjAwMDAwMDAwMDAwMDJMNDguNjQsMTkuMTg0UTQ3LjU4NCwyMy41MDQsNDUuOTA0LDI3LjcyOEw0MS4xMDQsMjYuMzM2UTQyLjU0NCwyMy44ODgsNDMuNTA0LDIwLjcyTDM3LjEyLDIwLjcyTDM3LjEyLDQ5LjY2NFEzNy4xMiw1NC42MDgsMzIuMjI0MDAwMDAwMDAwMDA0LDU0LjY1NkwyNi4xMjgsNTQuNjU2TDI1LjAyNCw0OS45NTJRMjcuOTUyLDUwLjI4OCwzMC41NDQsNTAuMjg4UTMyLjI3Miw1MC4yODgsMzIuMjcyLDQ4LjQxNkwzMi4yNzIsMjAuNzJMMjYuODk2LDIwLjcyWk0yNC4zNTIsMzAuNDY0TDI4Ljg2NCwzMS43MTIwMDAwMDAwMDAwMDNRMjYuNDE2LDQxLjEyLDIyLjY3Miw0OC4yNzJMMTcuOTY4LDQ2LjU5MlEyMS42MTYsNDAuMTYsMjQuMzUyLDMwLjQ2NFpNNjEuNTA0LDEwLjE2TDY2LjQsMTAuNjRRNjUuNzc2MDAwMDAwMDAwMDEsMTQuMTkyLDY1LjIsMTcuMzZRNjUuMDA4MDAwMDAwMDAwMDEsMTguMjcyLDY0Ljg2NCwxOS4xODRMNzIuNzM2LDE5LjE4NEw3Mi43MzYsMjEuOTJRNzIuMzA0LDMzLjE1Miw2OC40NjQsNDEuNDA4UTcyLjMwNCw0NC4zODQsNzQuNzUyLDQ2LjgzMkw3MS4zNDQsNTAuNzY4UTY5LjA4OCw0OC40NjQsNjYuMDY0LDQ1Ljg3MlE2Mi42NTYsNTEuMjk2LDU3LjQ3Miw1NS4zMjhMNTQuMDE2LDUxLjA1NlE1OC45Niw0Ny40NTYsNjIuMTI4LDQyLjYwOFE1OC45MTIsMzkuOTIsNTUuMDcyLDM3LjEzNlE1Ny4xMzYsMzEuMDg4LDU4Ljg2NCwyNC4wMzJMNTQuNDQ4LDI0LjAzMkw1NC40NDgsMTkuMTg0TDU5LjkyLDE5LjE4NFE2MC43ODQsMTQuNzY4LDYxLjUwNCwxMC4xNlpNNjQuNDMyLDM4LjM4NFE2Ny4yNjQwMDAwMDAwMDAwMSwzMi4wNDgsNjcuODQsMjQuMDMyTDYzLjg1NiwyNC4wMzJRNjIuMjcyLDMwLjk0NCw2MC41NDQsMzUuNlE2Mi42NTYsMzcuMDQsNjQuNDMyLDM4LjM4NFpNNzMuNjk2LDMwLjE3Nkw4My45MiwzMC4xNzZMODMuOTIsMjQuODk2UTg3LjM3NiwyMS43MjgsOTAuNjg4LDE3LjQwOEw3NS4wNCwxNy40MDhMNzUuMDQsMTIuNTEyTDk2LjQ0OCwxMi41MTJMOTYuNDQ4LDE3LjQwOFE5My4xMzYsMjIuMTYsODguOTYsMjYuNDMyTDg4Ljk2LDMwLjE3Nkw5OC4xMjgsMzAuMTc2TDk4LjEyOCwzNS4wNzJMODguOTYsMzUuMDcyTDg4Ljk2LDQ4Ljg0OFE4OC45Niw1NC40NjQsODQuNzM2LDU0LjQ2NEw3Ny41MzYsNTQuNDY0TDc2LjI0LDQ5LjcxMlE3OS4xNjgsNDkuODA4LDgyLjY3Miw0OS44MDhRODMuOTIsNDkuODA4LDgzLjkyLDQ3LjM2TDgzLjkyLDM1LjA3Mkw3My42OTYsMzUuMDcyTDczLjY5NiwzMC4xNzZaTTEwNy4yLDI4Ljc4NFExMDkuNiwyOC43ODQsMTEyLjYyNCwzMC43MDRRMTE1LjY0OCwzMi41NzYsMTE2LjgsMzIuNTc2UTExOC4yNCwzMi41NzYsMTIwLjA2NCwyOS40NTZMMTIzLjM3NiwzMS43NTk5OTk5OTk5OTk5OThRMTIwLjIwOCwzNi44LDExNi44LDM2LjhRMTE0LjQ0OCwzNi44LDExMS40MjQsMzQuOTI4UTEwOC4zNTIsMzMuMDA4LDEwNy4yLDMzLjAwOFExMDUuNzYsMzMuMDA4LDEwMy45MzYsMzYuMTI4TDEwMC42MjQsMzMuODI0UTEwMy43NDQsMjguNzg0LDEwNy4yLDI4Ljc4NFoiIGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMSIvPjwvZz48Zz48ZWxsaXBzZSBjeD0iMTgiIGN5PSIxOCIgcng9IjE4IiByeT0iMTgiIGZpbGw9InVybCgjbWFzdGVyX3N2ZzBfNDZfOTIyMykiIGZpbGwtb3BhY2l0eT0iMSIvPjwvZz48L2c+PC9zdmc+)"}},null,-1)),U.value?(M(),I("div",Gs,[b("div",Ws," 欢迎进入"+C(U.value.siteName),1),b("div",Js,C(U.value.subSiteName),1)])):D("",!0)]),b("div",Hs,[b("div",Ps,[E(j(xe),{autoplay:"",style:{width:"100%"}},{default:L((()=>[(M(!0),I(N,null,T(y.value,((e,a)=>(M(),I("img",{onClick:a=>(e=>{if(!(e.target.indexOf("http")>-1))return s.value?void X.push(e.target):(i.setLoginDialog(!0),void S.emit("register",0));window.open(e.target)})(e),key:a,class:"carousel-img",src:e.cover},null,8,Ks)))),128))])),_:1})])])]),j(A).length>0?(M(),I("div",Xs,[E(j(la),{"auto-fill":"",speed:24},{default:L((()=>[(M(!0),I(N,null,T(j(A),((e,a)=>(M(),I("span",{class:"item",key:a,onClick:a=>j(O)(e.title)},[b("div",null,[E(j(fe),{width:"22px",height:"22px",src:e.icon,style:{"margin-right":"4px"}},null,8,["src"]),b("span",null,C(e.title),1)])],8,$s)))),128))])),_:1})])):D("",!0),j(z).length>0?(M(),I("div",en,[E(j(la),{"auto-fill":"",speed:24},{default:L((()=>[(M(!0),I(N,null,T(j(z),((e,a)=>(M(),I("span",{class:"item",key:a,onClick:a=>j(O)(e.title)},[b("div",null,[E(j(fe),{width:"22px",height:"22px",src:e.icon,style:{"margin-right":"4px"}},null,8,["src"]),b("span",null,C(e.title),1)])],8,an)))),128))])),_:1})])):D("",!0),E(cl)])),E(Ae)]))}}),[["__scopeId","data-v-d97b9457"]]);export{ln as default};
