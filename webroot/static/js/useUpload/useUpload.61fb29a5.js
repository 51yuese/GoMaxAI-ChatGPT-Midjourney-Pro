import{ao as e,aw as t}from"../main-b128e95b.js";function n(){const n=e();return{selectFile:function(){return new Promise(((e,t)=>{const i="text/x-c,text/x-c++,application/csv,application/vnd.openxmlformats-officedocument.wordprocessingml.document,text/html,text/x-java,application/json,text/markdown,application/pdf,text/x-php,application/vnd.openxmlformats-officedocument.presentationml.presentation,text/x-python,text/x-script.python,text/x-ruby,text/x-tex,text/plain,text/css,image/jpeg,image/gif,image/png,application/x-tar,application/typescript,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/xml,application/zip",p=[".c",".cpp",".csv",".docx",".html",".java",".json",".md",".pdf",".php",".pptx",".py",".py",".rb",".tex",".txt",".css",".jpeg",".jpg",".js",".gif",".png",".tar",".ts",".xlsx",".xml",".zip"],o=document.createElement("input");o.multiple=!0,o.name="file",o.type="file",o.accept=i,o.click(),o.style.display="none",o.onchange=async()=>{const a=o.files;let c=a&&(null==a?void 0:a.length)>=1?a[0]:void 0;if(c)return i.includes(c.type)?c.size>=536870912?(n.error("上传的文件不能超过512Mb"),void t("上传的文件不能超过512Mb")):void e(c):(n.error("上传文件只支持"+p.join(",")+"格式"),void t("上传文件只支持"+p.join(",")+"格式"));t("未选择文件")},o.remove()}))},selectFileByImageAndVideo:function(){return new Promise(((e,t)=>{const i="image/jpeg,image/png, video/mp4",p=[".jpeg",".jpg",".png",".mp4"],o=document.createElement("input");o.multiple=!0,o.name="file",o.type="file",o.accept=i,o.click(),o.style.display="none",o.onchange=async()=>{const a=o.files;let c=a&&(null==a?void 0:a.length)>=1?a[0]:void 0;if(c)return i.includes(c.type)?c.size>=10485760?(n.error("上传的文件不能超过10Mb"),void t("上传的文件不能超过10Mb")):void e(c):(n.error("上传文件只支持"+p.join(",")+"格式"),void t("上传文件只支持"+p.join(",")+"格式"));t("未选择文件")},o.remove()}))},upload:async function(e,n){const{file:i,purpose:p}=e,o=new FormData;return o.append("file",i),o.append("purpose",p),await t(o,n)}}}export{n as u};
