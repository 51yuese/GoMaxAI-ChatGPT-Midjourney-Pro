import{e,r as t,b2 as r,cx as n,g as o,f as a,cy as i,bl as s,L as l,ad as d,cz as c,cA as u,aF as h,P as b,Q as m,h as f,cB as g,T as v,bB as p,cC as w,cD as y,cE as S,cF as $,c as z,cG as C,a as x,cc as k,b as B,cH as E,cI as O,u as F,cf as M,cg as R,cJ as H,cK as P,ch as T,cL as D,cM as A,cN as j,cO as N,cP as U,c9 as W,cQ as L}from"../main-a0b53047.js";const I=e({name:"NDrawerContent",inheritAttrs:!1,props:{blockScroll:Boolean,show:{type:Boolean,default:void 0},displayDirective:{type:String,required:!0},placement:{type:String,required:!0},contentClass:String,contentStyle:[Object,String],nativeScrollbar:{type:Boolean,required:!0},scrollbarProps:Object,trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},showMask:{type:[Boolean,String],required:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,onClickoutside:Function,onAfterLeave:Function,onAfterEnter:Function,onEsc:Function},setup(e){const b=t(!!e.show),f=t(null),g=r(n);let v=0,p="",w=null;const z=t(!1),C=t(!1),x=o((()=>"top"===e.placement||"bottom"===e.placement)),{mergedClsPrefixRef:k,mergedRtlRef:B}=a(e),E=i("Drawer",B,k),O=H,{doUpdateHeight:F,doUpdateWidth:M}=g;function R(t){var r,n;if(C.value)if(x.value){let n=(null===(r=f.value)||void 0===r?void 0:r.offsetHeight)||0;const o=v-t.clientY;n+="bottom"===e.placement?o:-o,n=(t=>{const{maxHeight:r}=e;if(r&&t>r)return r;const{minHeight:n}=e;return n&&t<n?n:t})(n),F(n),v=t.clientY}else{let r=(null===(n=f.value)||void 0===n?void 0:n.offsetWidth)||0;const o=v-t.clientX;r+="right"===e.placement?o:-o,r=(t=>{const{maxWidth:r}=e;if(r&&t>r)return r;const{minWidth:n}=e;return n&&t<n?n:t})(r),M(r),v=t.clientX}}function H(){C.value&&(v=0,C.value=!1,document.body.style.cursor=p,document.body.removeEventListener("mousemove",R),document.body.removeEventListener("mouseup",H),document.body.removeEventListener("mouseleave",O))}s((()=>{e.show&&(b.value=!0)})),l((()=>e.show),(e=>{e||H()})),d((()=>{H()}));const P=o((()=>{const{show:t}=e,r=[[m,t]];return e.showMask||r.push([c,e.onClickoutside,void 0,{capture:!0}]),r}));return u(o((()=>e.blockScroll&&b.value))),h(y,f),h(S,null),h($,null),{bodyRef:f,rtlEnabled:E,mergedClsPrefix:g.mergedClsPrefixRef,isMounted:g.isMountedRef,mergedTheme:g.mergedThemeRef,displayed:b,transitionName:o((()=>({right:"slide-in-from-right-transition",left:"slide-in-from-left-transition",top:"slide-in-from-top-transition",bottom:"slide-in-from-bottom-transition"}[e.placement]))),handleAfterLeave:function(){var t;b.value=!1,null===(t=e.onAfterLeave)||void 0===t||t.call(e)},bodyDirectives:P,handleMousedownResizeTrigger:e=>{C.value=!0,v=x.value?e.clientY:e.clientX,p=document.body.style.cursor,document.body.style.cursor=x.value?"ns-resize":"ew-resize",document.body.addEventListener("mousemove",R),document.body.addEventListener("mouseleave",O),document.body.addEventListener("mouseup",H)},handleMouseenterResizeTrigger:()=>{null!==w&&(window.clearTimeout(w),w=null),C.value?z.value=!0:w=window.setTimeout((()=>{z.value=!0}),300)},handleMouseleaveResizeTrigger:()=>{null!==w&&(window.clearTimeout(w),w=null),z.value=!1},isDragging:C,isHoverOnResizeTrigger:z}},render(){const{$slots:e,mergedClsPrefix:t}=this;return"show"===this.displayDirective||this.displayed||this.show?b(f("div",{role:"none"},f(g,{disabled:!this.showMask||!this.trapFocus,active:this.show,autoFocus:this.autoFocus,onEsc:this.onEsc},{default:()=>f(v,{name:this.transitionName,appear:this.isMounted,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>b(f("div",p(this.$attrs,{role:"dialog",ref:"bodyRef","aria-modal":"true",class:[`${t}-drawer`,this.rtlEnabled&&`${t}-drawer--rtl`,`${t}-drawer--${this.placement}-placement`,this.isDragging&&`${t}-drawer--unselectable`,this.nativeScrollbar&&`${t}-drawer--native-scrollbar`]}),[this.resizable?f("div",{class:[`${t}-drawer__resize-trigger`,(this.isDragging||this.isHoverOnResizeTrigger)&&`${t}-drawer__resize-trigger--hover`],onMouseenter:this.handleMouseenterResizeTrigger,onMouseleave:this.handleMouseleaveResizeTrigger,onMousedown:this.handleMousedownResizeTrigger}):null,this.nativeScrollbar?f("div",{class:[`${t}-drawer-content-wrapper`,this.contentClass],style:this.contentStyle,role:"none"},e):f(w,Object.assign({},this.scrollbarProps,{contentStyle:this.contentStyle,contentClass:[`${t}-drawer-content-wrapper`,this.contentClass],theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar}),e)]),this.bodyDirectives)})})),[[m,"if"===this.displayDirective||this.displayed||this.show]]):null}}),{cubicBezierEaseIn:X,cubicBezierEaseOut:Y}=C;const{cubicBezierEaseIn:_,cubicBezierEaseOut:q}=C;const{cubicBezierEaseIn:Q,cubicBezierEaseOut:V}=C;const{cubicBezierEaseIn:G,cubicBezierEaseOut:J}=C;const K=z([x("drawer","\n word-break: break-word;\n line-height: var(--n-line-height);\n position: absolute;\n pointer-events: all;\n box-shadow: var(--n-box-shadow);\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n background-color: var(--n-color);\n color: var(--n-text-color);\n box-sizing: border-box;\n ",[function({duration:e="0.3s",leaveDuration:t="0.2s",name:r="slide-in-from-right"}={}){return[z(`&.${r}-transition-leave-active`,{transition:`transform ${t} ${Q}`}),z(`&.${r}-transition-enter-active`,{transition:`transform ${e} ${V}`}),z(`&.${r}-transition-enter-to`,{transform:"translateX(0)"}),z(`&.${r}-transition-enter-from`,{transform:"translateX(100%)"}),z(`&.${r}-transition-leave-from`,{transform:"translateX(0)"}),z(`&.${r}-transition-leave-to`,{transform:"translateX(100%)"})]}(),function({duration:e="0.3s",leaveDuration:t="0.2s",name:r="slide-in-from-left"}={}){return[z(`&.${r}-transition-leave-active`,{transition:`transform ${t} ${_}`}),z(`&.${r}-transition-enter-active`,{transition:`transform ${e} ${q}`}),z(`&.${r}-transition-enter-to`,{transform:"translateX(0)"}),z(`&.${r}-transition-enter-from`,{transform:"translateX(-100%)"}),z(`&.${r}-transition-leave-from`,{transform:"translateX(0)"}),z(`&.${r}-transition-leave-to`,{transform:"translateX(-100%)"})]}(),function({duration:e="0.3s",leaveDuration:t="0.2s",name:r="slide-in-from-top"}={}){return[z(`&.${r}-transition-leave-active`,{transition:`transform ${t} ${G}`}),z(`&.${r}-transition-enter-active`,{transition:`transform ${e} ${J}`}),z(`&.${r}-transition-enter-to`,{transform:"translateY(0)"}),z(`&.${r}-transition-enter-from`,{transform:"translateY(-100%)"}),z(`&.${r}-transition-leave-from`,{transform:"translateY(0)"}),z(`&.${r}-transition-leave-to`,{transform:"translateY(-100%)"})]}(),function({duration:e="0.3s",leaveDuration:t="0.2s",name:r="slide-in-from-bottom"}={}){return[z(`&.${r}-transition-leave-active`,{transition:`transform ${t} ${X}`}),z(`&.${r}-transition-enter-active`,{transition:`transform ${e} ${Y}`}),z(`&.${r}-transition-enter-to`,{transform:"translateY(0)"}),z(`&.${r}-transition-enter-from`,{transform:"translateY(100%)"}),z(`&.${r}-transition-leave-from`,{transform:"translateY(0)"}),z(`&.${r}-transition-leave-to`,{transform:"translateY(100%)"})]}(),k("unselectable","\n user-select: none; \n -webkit-user-select: none;\n "),k("native-scrollbar",[x("drawer-content-wrapper","\n overflow: auto;\n height: 100%;\n ")]),B("resize-trigger","\n position: absolute;\n background-color: #0000;\n transition: background-color .3s var(--n-bezier);\n ",[k("hover","\n background-color: var(--n-resize-trigger-color-hover);\n ")]),x("drawer-content-wrapper","\n box-sizing: border-box;\n "),x("drawer-content","\n height: 100%;\n display: flex;\n flex-direction: column;\n ",[k("native-scrollbar",[x("drawer-body-content-wrapper","\n height: 100%;\n overflow: auto;\n ")]),x("drawer-body","\n flex: 1 0 0;\n overflow: hidden;\n "),x("drawer-body-content-wrapper","\n box-sizing: border-box;\n padding: var(--n-body-padding);\n "),x("drawer-header","\n font-weight: var(--n-title-font-weight);\n line-height: 1;\n font-size: var(--n-title-font-size);\n color: var(--n-title-text-color);\n padding: var(--n-header-padding);\n transition: border .3s var(--n-bezier);\n border-bottom: 1px solid var(--n-divider-color);\n border-bottom: var(--n-header-border-bottom);\n display: flex;\n justify-content: space-between;\n align-items: center;\n ",[B("main","\n flex: 1;\n "),B("close","\n margin-left: 6px;\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n ")]),x("drawer-footer","\n display: flex;\n justify-content: flex-end;\n border-top: var(--n-footer-border-top);\n transition: border .3s var(--n-bezier);\n padding: var(--n-footer-padding);\n ")]),k("right-placement","\n top: 0;\n bottom: 0;\n right: 0;\n border-top-left-radius: var(--n-border-radius);\n border-bottom-left-radius: var(--n-border-radius);\n ",[B("resize-trigger","\n width: 3px;\n height: 100%;\n top: 0;\n left: 0;\n transform: translateX(-1.5px);\n cursor: ew-resize;\n ")]),k("left-placement","\n top: 0;\n bottom: 0;\n left: 0;\n border-top-right-radius: var(--n-border-radius);\n border-bottom-right-radius: var(--n-border-radius);\n ",[B("resize-trigger","\n width: 3px;\n height: 100%;\n top: 0;\n right: 0;\n transform: translateX(1.5px);\n cursor: ew-resize;\n ")]),k("top-placement","\n top: 0;\n left: 0;\n right: 0;\n border-bottom-left-radius: var(--n-border-radius);\n border-bottom-right-radius: var(--n-border-radius);\n ",[B("resize-trigger","\n width: 100%;\n height: 3px;\n bottom: 0;\n left: 0;\n transform: translateY(1.5px);\n cursor: ns-resize;\n ")]),k("bottom-placement","\n left: 0;\n bottom: 0;\n right: 0;\n border-top-left-radius: var(--n-border-radius);\n border-top-right-radius: var(--n-border-radius);\n ",[B("resize-trigger","\n width: 100%;\n height: 3px;\n top: 0;\n left: 0;\n transform: translateY(-1.5px);\n cursor: ns-resize;\n ")])]),z("body",[z(">",[x("drawer-container","\n position: fixed;\n ")])]),x("drawer-container","\n position: relative;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n pointer-events: none;\n ",[z("> *","\n pointer-events: all;\n ")]),x("drawer-mask","\n background-color: rgba(0, 0, 0, .3);\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n ",[k("invisible","\n background-color: rgba(0, 0, 0, 0)\n "),E({enterDuration:"0.2s",leaveDuration:"0.2s",enterCubicBezier:"var(--n-bezier-in)",leaveCubicBezier:"var(--n-bezier-out)"})])]),Z=e({name:"Drawer",inheritAttrs:!1,props:Object.assign(Object.assign({},F.props),{show:Boolean,width:[Number,String],height:[Number,String],placement:{type:String,default:"right"},maskClosable:{type:Boolean,default:!0},showMask:{type:[Boolean,String],default:!0},to:[String,Object],displayDirective:{type:String,default:"if"},nativeScrollbar:{type:Boolean,default:!0},zIndex:Number,onMaskClick:Function,scrollbarProps:Object,contentClass:String,contentStyle:[Object,String],trapFocus:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,defaultWidth:{type:[Number,String],default:251},defaultHeight:{type:[Number,String],default:251},onUpdateWidth:[Function,Array],onUpdateHeight:[Function,Array],"onUpdate:width":[Function,Array],"onUpdate:height":[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,drawerStyle:[String,Object],drawerClass:String,target:null,onShow:Function,onHide:Function}),setup(e){const{mergedClsPrefixRef:r,namespaceRef:i,inlineThemeDisabled:s}=a(e),l=O(),d=F("Drawer","-drawer",K,j,e,r),c=t(e.defaultWidth),u=t(e.defaultHeight),b=M(R(e,"width"),c),m=M(R(e,"height"),u),f=o((()=>{const{placement:t}=e;return"top"===t||"bottom"===t?"":H(b.value)})),g=o((()=>{const{placement:t}=e;return"left"===t||"right"===t?"":H(m.value)})),v=o((()=>[{width:f.value,height:g.value},e.drawerStyle||""]));function p(t){const{onMaskClick:r,maskClosable:n}=e;n&&y(!1),r&&r(t)}const w=P();function y(t){const{onHide:r,onUpdateShow:n,"onUpdate:show":o}=e;n&&U(n,t),o&&U(o,t),r&&!t&&U(r,t)}h(n,{isMountedRef:l,mergedThemeRef:d,mergedClsPrefixRef:r,doUpdateShow:y,doUpdateHeight:t=>{const{onUpdateHeight:r,"onUpdate:width":n}=e;r&&U(r,t),n&&U(n,t),u.value=t},doUpdateWidth:t=>{const{onUpdateWidth:r,"onUpdate:width":n}=e;r&&U(r,t),n&&U(n,t),c.value=t}});const S=o((()=>{const{common:{cubicBezierEaseInOut:e,cubicBezierEaseIn:t,cubicBezierEaseOut:r},self:{color:n,textColor:o,boxShadow:a,lineHeight:i,headerPadding:s,footerPadding:l,borderRadius:c,bodyPadding:u,titleFontSize:h,titleTextColor:b,titleFontWeight:m,headerBorderBottom:f,footerBorderTop:g,closeIconColor:v,closeIconColorHover:p,closeIconColorPressed:w,closeColorHover:y,closeColorPressed:S,closeIconSize:$,closeSize:z,closeBorderRadius:C,resizableTriggerColorHover:x}}=d.value;return{"--n-line-height":i,"--n-color":n,"--n-border-radius":c,"--n-text-color":o,"--n-box-shadow":a,"--n-bezier":e,"--n-bezier-out":r,"--n-bezier-in":t,"--n-header-padding":s,"--n-body-padding":u,"--n-footer-padding":l,"--n-title-text-color":b,"--n-title-font-size":h,"--n-title-font-weight":m,"--n-header-border-bottom":f,"--n-footer-border-top":g,"--n-close-icon-color":v,"--n-close-icon-color-hover":p,"--n-close-icon-color-pressed":w,"--n-close-size":z,"--n-close-color-hover":y,"--n-close-color-pressed":S,"--n-close-icon-size":$,"--n-close-border-radius":C,"--n-resize-trigger-color-hover":x}})),$=s?T("drawer",void 0,S,e):void 0;return{mergedClsPrefix:r,namespace:i,mergedBodyStyle:v,handleOutsideClick:function(e){p(e)},handleMaskClick:p,handleEsc:function(t){var r;null===(r=e.onEsc)||void 0===r||r.call(e),e.show&&e.closeOnEsc&&N(t)&&(w.value||y(!1))},mergedTheme:d,cssVars:s?void 0:S,themeClass:null==$?void 0:$.themeClass,onRender:null==$?void 0:$.onRender,isMounted:l}},render(){const{mergedClsPrefix:e}=this;return f(A,{to:this.to,show:this.show},{default:()=>{var t;return null===(t=this.onRender)||void 0===t||t.call(this),b(f("div",{class:[`${e}-drawer-container`,this.namespace,this.themeClass],style:this.cssVars,role:"none"},this.showMask?f(v,{name:"fade-in-transition",appear:this.isMounted},{default:()=>this.show?f("div",{"aria-hidden":!0,class:[`${e}-drawer-mask`,"transparent"===this.showMask&&`${e}-drawer-mask--invisible`],onClick:this.handleMaskClick}):null}):null,f(I,Object.assign({},this.$attrs,{class:[this.drawerClass,this.$attrs.class],style:[this.mergedBodyStyle,this.$attrs.style],blockScroll:this.blockScroll,contentStyle:this.contentStyle,contentClass:this.contentClass,placement:this.placement,scrollbarProps:this.scrollbarProps,show:this.show,displayDirective:this.displayDirective,nativeScrollbar:this.nativeScrollbar,onAfterEnter:this.onAfterEnter,onAfterLeave:this.onAfterLeave,trapFocus:this.trapFocus,autoFocus:this.autoFocus,resizable:this.resizable,maxHeight:this.maxHeight,minHeight:this.minHeight,maxWidth:this.maxWidth,minWidth:this.minWidth,showMask:this.showMask,onEsc:this.handleEsc,onClickoutside:this.handleOutsideClick}),this.$slots)),[[D,{zIndex:this.zIndex,enabled:this.show}]])}})}}),ee=e({name:"DrawerContent",props:{title:String,headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],bodyClass:String,bodyStyle:[Object,String],bodyContentClass:String,bodyContentStyle:[Object,String],nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,closable:Boolean},slots:Object,setup(){const e=r(n,null);e||W("drawer-content","`n-drawer-content` must be placed inside `n-drawer`.");const{doUpdateShow:t}=e;return{handleCloseClick:function(){t(!1)},mergedTheme:e.mergedThemeRef,mergedClsPrefix:e.mergedClsPrefixRef}},render(){const{title:e,mergedClsPrefix:t,nativeScrollbar:r,mergedTheme:n,bodyClass:o,bodyStyle:a,bodyContentClass:i,bodyContentStyle:s,headerClass:l,headerStyle:d,footerClass:c,footerStyle:u,scrollbarProps:h,closable:b,$slots:m}=this;return f("div",{role:"none",class:[`${t}-drawer-content`,r&&`${t}-drawer-content--native-scrollbar`]},m.header||e||b?f("div",{class:[`${t}-drawer-header`,l],style:d,role:"none"},f("div",{class:`${t}-drawer-header__main`,role:"heading","aria-level":"1"},void 0!==m.header?m.header():e),b&&f(L,{onClick:this.handleCloseClick,clsPrefix:t,class:`${t}-drawer-header__close`,absolute:!0})):null,r?f("div",{class:[`${t}-drawer-body`,o],style:a,role:"none"},f("div",{class:[`${t}-drawer-body-content-wrapper`,i],style:s,role:"none"},m)):f(w,Object.assign({themeOverrides:n.peerOverrides.Scrollbar,theme:n.peers.Scrollbar},h,{class:`${t}-drawer-body`,contentClass:[`${t}-drawer-body-content-wrapper`,i],contentStyle:s}),m),m.footer?f("div",{class:[`${t}-drawer-footer`,c],style:u,role:"none"},m.footer()):null)}});export{ee as N,Z as a};
