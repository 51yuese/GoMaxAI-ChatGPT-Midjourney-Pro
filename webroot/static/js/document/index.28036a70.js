import{A as e,_ as a,a as l,q as t,b as i,c as s,d as o,s as n,e as u,f as d,g as r,h as p,i as c}from"../aboutUs copy/aboutUs copy.24b4c8bf.js";import{a as v,_ as g,h as f}from"../sendBox_3/sendBox_3.5bccd5a3.js";import{a as x,n as h}from"../newNavBar/newNavBar.31be7d69.js";import{e as m,R as y,j as b,a9 as k,ax as w,ao as F,r as C,N as I,O as D,P as S,Z as j,_ as B,at as L,a1 as _,a2 as U,a3 as E,S as N,aT as T,a0 as M,A as P,a6 as R,$ as z,F as K,ag as O,aa as A,k as H,U as G,W as J,X,ad as q,H as V,an as W,aq as Z,b7 as $}from"../main-b128e95b.js";import{u as Q}from"../useUpload/useUpload.61fb29a5.js";import{_ as Y}from"../file/file.977b36cf.js";import{a as ee}from"../music/music.6e7912cb.js";import"../index/index.d335b448.js";import"../start copy/start copy.4aa28f32.js";const ae=e=>(_("data-v-a8857a9f"),e=e(),U(),e),le={class:"contentBox"},te={class:"upLoadBox"},ie={key:0,src:"/static/svg/fileD-0ccbe29a.svg",alt:"",style:{width:"80px",height:"80px"}},se={key:1,src:"/static/svg/file copy-7aceb648.svg",alt:"",style:{width:"80px",height:"80px"}},oe={style:{padding:"48px",width:"720px","border-radius":"12px",border:"1px dashed #10A37F",display:"flex","flex-direction":"column","align-items":"center","margin-top":"24px"}},ne={class:"imgBox"},ue=["src"],de=ae((()=>S("div",{style:{"text-align":"center","margin-top":"8px","font-size":"12px"}},[S("p",null,"将文档拖到此处"),S("p",null,"或")],-1))),re=[ae((()=>S("img",{src:"/static/svg/upload-f6d62db0.svg",alt:""},null,-1))),ae((()=>S("p",{style:{"margin-left":"4px"}},"上传文档",-1)))],pe=ae((()=>S("div",{style:{"font-size":"10px","margin-top":"24px"},class:"text-[#8B8C8C] dark:text-[#6C6E79]"},[S("p",null,"支持PDF、JPG、PNG、DOC、TXT、XLS、PPT等17种文档格式"),S("p",null,"请不要上传敏感数据，比如私密、隐私文档等内容（最大1MB）")],-1))),ce=E(m({__name:"documentContent",emits:["uploadIsSuccess"],setup(e,{emit:a}){const l=y(),t=b((()=>l.isLogin)),i=k(),s=w(),o=F(),n=C("/api/file/upload"),u=a,{selectFile:d,upload:r}=Q(),p=b((()=>"dark"===i.theme)),c=[{id:0,imgurl:"/static/svg/pdf-42416cf9.svg"},{id:1,imgurl:"/static/svg/jpg-92ed99c6.svg"},{id:2,imgurl:"/static/svg/png-adcf3ca5.svg"},{id:3,imgurl:"/static/svg/doc-e5077b2b.svg"},{id:4,imgurl:"/static/svg/docTxt-287d976d.svg"},{id:5,imgurl:"/static/svg/xls-16755e1f.svg"},{id:9,imgurl:"/static/svg/ppt-3fa6be75.svg"}];function v(){t.value?async function(e=1){let a;if(1===e){if(a=await d(),!a)return void o.error("选择文件错误")}else a=e;h.value=!0;const l=new FormData;l.append("file",a),await L.post(n.value,l,{headers:{"Content-Type":"multipart/form-data"}}).then((a=>{if(a.data){let{data:e}=a.data;f.value=e.split(".").pop(),g.value=e.split("/ai/")[1],x.value=a.data.data,h.value=!1,u("uploadIsSuccess",x.value)}1!==e&&s.updateRecordDialog(!1)}))}():l.setLoginDialog(!0)}const g=C(""),f=C(""),x=C(""),h=C(!1);return(e,a)=>(I(),D("div",le,[S("div",te,[p.value?(I(),D("img",ie)):(I(),D("img",se)),S("div",oe,[S("div",ne,[(I(),D(j,null,B(c,(e=>S("img",{style:{width:"32px",height:"32px"},key:e.id,src:e.imgurl,alt:""},null,8,ue))),64))]),de,S("div",{class:"btnBox",onClick:v},re),pe])])]))}}),[["__scopeId","data-v-a8857a9f"]]),ve=e=>(_("data-v-e69c6f75"),e=e(),U(),e),ge={class:"mainBox"},fe={class:"bg-[#F8F9F9] dark:bg-[#19191B]",style:{padding:"0 12px","border-radius":"24px"}},xe={key:0,class:"fileBox",style:{position:"relative"}},he={class:"file bg-[#FFFFFF] dark:bg-[#111113]"},me={key:0,style:{width:"24px",height:"24px","border-radius":"6px",display:"flex","justify-content":"center","align-items":"center"}},ye=["src"],be={key:0,style:{position:"absolute"}},ke=[ve((()=>S("div",{class:"loader"},null,-1)))],we={key:1,style:{"background-color":"#10A37F",width:"24px",height:"24px","border-radius":"6px",display:"flex","justify-content":"center","align-items":"center"}},Fe={key:0,style:{position:"relative"},src:Y,alt:""},Ce={key:1,style:{position:"absolute"}},Ie=[ve((()=>S("div",{class:"loader"},null,-1)))],De={style:{flex:"1","margin-left":"8px"}},Se={style:{"font-size":"12px","line-height":"15px"}},je={style:{"font-size":"10px","line-height":"4px","margin-top":"4px"}},Be={class:"inpBox"},Le=[ve((()=>S("div",{style:{display:"flex",padding:"8px","border-radius":"12px","background-color":"#222325"}},[S("img",{style:{"margin-right":"5px",width:"20px",height:"20px",cursor:"pointer"},src:v,alt:""}),S("p",null,"从电脑中上传")],-1)))],_e=[ve((()=>S("div",{style:{display:"flex",padding:"8px","border-radius":"12px","background-color":"#F0F0F0"}},[S("img",{style:{"margin-right":"5px",width:"20px",height:"20px",cursor:"pointer"},src:v,alt:""}),S("p",null,"从电脑中上传")],-1)))],Ue=E(m({__name:"documentSend",props:{changeChatLog:Boolean,modelInfo:Object,fileUrl:String},emits:["handleSend","handleInp"],setup(e,{emit:a}){b((()=>l.isLogin)),N(),T();const l=y(),t=F(),i=k(),s=b((()=>"dark"===i.theme)),o=a,n=C(),u=C(),{selectFile:d,upload:r}=Q(),p=w(),c=C("/api/file/upload");function f(){(n.value||u.value)&&(n.value?u.value?n.value&&u.value&&o("handleSend",u.value+" "+n.value):o("handleSend",n.value):o("handleSend",u.value),J.value=!1,B.value="",U.value="",n.value="",u.value="")}const x=e;function h(){u.value?o("handleInp",u.value+" "+n.value):o("handleInp",n.value)}function m(e){n.value&&("Enter"===e.key&&e.shiftKey?(e.preventDefault(),n.value=n.value+"\n"):"Enter"!==e.key||e.ctrlKey||e.shiftKey?"Enter"===e.key&&e.preventDefault():(e.preventDefault(),o("handleSend"),J.value=!1,B.value="",U.value="",u.value=""))}M.on("sendSuccess",(()=>{n.value="",u.value=""}));const j=C(!1);P(x,(e=>{if(J.value=!1,e.modelInfo&&(j.value=e.modelInfo.canUpload),e.fileUrl){let a=e.fileUrl;U.value=a,u.value=a,J.value=!0,_.value=a.split(".").pop(),B.value=a.split("/ai/")[1],E.value=!1}})),M.on("setModel",(e=>{j.value=e.canUpload}));const B=C(""),_=C(""),U=C(""),E=C(!1);async function H(e=1){let a;if(G.value=!1,1===e){if(a=await d(),!a)return void t.error("选择文件错误")}else a=e;E.value=!0,J.value=!0;const l=new FormData;l.append("file",a),await L.post(c.value,l,{headers:{"Content-Type":"multipart/form-data"}}).then((a=>{if(a.data){let{data:e}=a.data;_.value=e.split(".").pop(),B.value=e.split("/ai/")[1],U.value=a.data.data,u.value=e,o("handleInp",U.value),E.value=!1}1!==e&&p.updateRecordDialog(!1)}))}const G=C(!1),J=C(!1);function X(){J.value=!1,u.value=""}return(e,a)=>(I(),D("div",ge,[S("div",fe,[J.value?(I(),D("div",xe,[S("div",he,["png"==_.value||"jpeg"==_.value||"jpg"==_.value?(I(),D("div",me,[S("img",{src:U.value,alt:""},null,8,ye),E.value?(I(),D("div",be,ke)):R("",!0)])):(I(),D("div",we,[E.value?R("",!0):(I(),D("img",Fe)),E.value?(I(),D("div",Ce,Ie)):R("",!0)])),S("div",De,[S("p",Se,z(B.value),1),S("p",je,z("png"==_.value||"jpeg"==_.value||"jpg"==_.value?"图片":"文档"),1)])]),S("div",{style:{position:"absolute",top:"10px",right:"5px",cursor:"pointer"},class:"closeFile",onClick:X},"×")])):R("",!0),S("div",Be,[j.value?(I(),D("img",{key:0,onClick:a[0]||(a[0]=e=>function(e=1){H(e)}(1)),style:{"margin-right":"5px",width:"20px",height:"20px",cursor:"pointer"},src:v,alt:""})):R("",!0),K(S("textarea",{onKeydown:m,class:"inp","onUpdate:modelValue":a[1]||(a[1]=e=>n.value=e),type:"text",name:"",id:"",placeholder:"在此输入您想了解的内容，输入shift+回车换行",onInput:h},null,544),[[O,n.value]]),s.value?(I(),D("img",{key:1,class:A(n.value||u.value?"bg-[#fff]":"dark:bg-[#46484F]"),style:{"border-radius":"50%",cursor:"pointer",width:"24px",height:"24px"},src:"/static/svg/sendBox_2-563d9c6b.svg",alt:"",onClick:f},null,2)):(I(),D("img",{key:2,class:A(n.value||u.value?"bg-[#000]":"dark:bg-[#46484F] bg-[#CDCECE]"),style:{"border-radius":"50%",cursor:"pointer",width:"24px",height:"24px"},src:g,alt:"",onClick:f},null,2)),s.value&&G.value?(I(),D("div",{key:3,class:"upLoadModel1",onClick:a[2]||(a[2]=e=>H(1))},Le)):R("",!0),!s.value&&G.value?(I(),D("div",{key:4,class:"upLoadModel",onClick:a[3]||(a[3]=e=>H(1))},_e)):R("",!0)])])]))}}),[["__scopeId","data-v-e69c6f75"]]),Ee=e=>(_("data-v-8d3f6fe7"),e=e(),U(),e),Ne={style:{display:"flex"},class:"bg-[#F8F9F9] dark:bg-[#111113]"},Te={class:"dark:bg-[#19191B] bg-[#F8F9F9]",style:{width:"466px",height:"394px","border-radius":"24px"}},Me={style:{display:"flex","justify-content":"space-between",padding:"16px"}},Pe=Ee((()=>S("p",{style:{"font-size":"17px","font-weight":"bold"}},"客服",-1))),Re={style:{flex:"1",display:"flex","justify-content":"center",height:"calc(100% - 56px)","align-items":"center","padding-bottom":"24px"}},ze={style:{padding:"24px 24px 12px 24px","border-radius":"12px","background-color":"#fff",border:"1px solid #e8e8e8","text-align":"center"}},Ke=["src"],Oe=Ee((()=>S("p",{style:{color:"#8b8c8c","margin-top":"12px"}}," 请使用微信扫描上方二维码 ",-1))),Ae={style:{width:"100%",overflow:"hidden",height:"100vh",position:"relative"}},He={style:{display:"flex","justify-content":"center","margin-top":"24px",position:"absolute",bottom:"80px",width:"100%"}},Ge={style:{color:"#eeeeee"},class:"end"},Je={style:{display:"flex"},class:"text-[#8B8C8C] dark:text-[#6C6E79]"},Xe={key:0,style:{display:"flex","margin-left":"8px"}},qe=["href"],Ve={key:1,style:{display:"flex","margin-left":"8px"}},We=["href"],Ze={class:"fixedBox"},$e=[Ee((()=>S("img",{src:p,alt:""},null,-1)))],Qe=[Ee((()=>S("img",{src:c,alt:""},null,-1)))],Ye=["onClick"],ea=["src"],aa={style:{"margin-left":"8px","margin-top":"3px"}},la=E(m({__name:"index",setup(p){const c=y(),v=b((()=>c.isLogin)),g=C(""),m=T(),F=w(),L=C(!0),_=C(""),U=C(""),E=C(""),N=C(""),P=C(""),K=C(!0),O=k(),Q=b((()=>"dark"===O.theme));ee({keys:["copyrightTitle","icpNumber","policeFilingNumber","icpUrl","policeFilingUrl"]}).then((e=>{_.value=e.data.copyrightTitle,U.value=e.data.icpNumber,E.value=e.data.policeFilingNumber,N.value=e.data.icpUrl,P.value=e.data.policeFilingUrl})),H((()=>{g.value=m.path}));const Y=C([]);function ae(e){0==e.length?(L.value=!0,K.value=!0):K.value=!1,Y.value=e}function le(e){e&&(re.value="")}const te=C(),ie=C();function se(e){ue.value="",re.value="",ie.value=e,te.value=JSON.parse(e.config).modelInfo}const oe=C(0);function ne(){oe.value++}const ue=C();function de(e){console.log(e),e&&(ue.value=e)}const re=C();function pe(e){if(0==Y.value.length){e.split("/ai/")[1].split(" ")[0];ie.value.id,K.value=!1}re.value=e}const ve=C(!1),ge=C(""),fe=async()=>{ge.value=await(async()=>await $({keys:["wechatImage"]}).then((e=>e.data)))(),ve.value=!0},xe=[{title:"帮助与常见问题解答",id:0,iconDark:t,iconLight:i},{title:"条款与政策",id:1,iconDark:s,iconLight:o},{title:"反馈与建议",id:2,iconDark:n,iconLight:u},{title:"关于我们",id:3,iconDark:d,iconLight:r}],he=C(!1);function me(){he.value=!he.value}return(t,i)=>(I(),D("div",Ne,[G(e),G(X(Z),{show:ve.value,"onUpdate:show":i[2]||(i[2]=e=>ve.value=e)},{default:J((()=>[S("div",Te,[S("div",Me,[Pe,Q.value?(I(),D("img",{key:0,src:a,style:{cursor:"pointer"},alt:"",onClick:i[0]||(i[0]=e=>ve.value=!1)})):(I(),D("img",{key:1,src:l,style:{cursor:"pointer"},alt:"",onClick:i[1]||(i[1]=e=>ve.value=!1)}))]),S("div",Re,[S("div",ze,[S("img",{src:ge.value,alt:"",style:{width:"200px",height:"200px"}},null,8,Ke),Oe])])])])),_:1},8,["show"]),S("div",Ae,[G(x,{onChangeModelSuccess:ne,modelInfo:te.value,currentRoute:g.value},null,8,["modelInfo","currentRoute"]),K.value||!v.value?(I(),q(ce,{key:0,onUploadIsSuccess:de})):R("",!0),G(f,{onIsSuccess:le,handleSubmit:re.value,chatLogList:0==Y.value.length?[]:Y.value},null,8,["handleSubmit","chatLogList"]),G(Ue,{onHandleSend:pe,fileUrl:ue.value,modelInfo:te.value,style:V(0!=Y.value.length||ue.value?"":"position: absolute;left:-999px;bottom:-999px")},null,8,["fileUrl","modelInfo","style"]),S("div",He,[S("div",Ge,[S("div",Je,[W(" 版权所有 © "+z(_.value)+" ",1),U.value?(I(),D("div",Xe,[S("a",{href:N.value||"#"},z(U.value),9,qe)])):R("",!0),E.value?(I(),D("div",Ve,[S("a",{href:P.value||"#"},z(E.value),9,We)])):R("",!0)])])]),S("div",Ze,[S("div",{class:"fixedIcon border border-[#E8E8E8] dark:border-[#2C2D31]",onClick:fe},$e),S("div",{class:"fixedIcon border border-[#E8E8E8] dark:border-[#2C2D31]",onClick:me,style:{"margin-top":"12px"}},Qe),he.value?(I(),D("div",{key:0,class:A(Q.value?"helpBoxD":"helpBoxL")},[(I(),D(j,null,B(xe,(e=>S("div",{class:A(Q.value?"hlepItemD":"hlepItemL"),key:e.id,style:{display:"flex","align-items":"center"},onClick:a=>function(e){0==e.id?he.value=!1:1==e.id?(window.open("/policy","_blank"),he.value=!1):2==e.id?(F.updateFeedbackDialog(!0),he.value=!1):3==e.id&&(M.emit("aboutIsShow",!0),he.value=!1)}(e)},[S("img",{src:Q.value?e.iconDark:e.iconLight,alt:""},null,8,ea),S("div",aa,z(e.title),1)],10,Ye))),64))],2)):R("",!0)])]),G(h,{changeModelisSuccess:oe.value,onHandleModelInfo:se,onDocumentChatLog:ae,currentRoute:g.value},null,8,["changeModelisSuccess","currentRoute"])]))}}),[["__scopeId","data-v-8d3f6fe7"]]);export{la as default};
