import{a as e,_ as a,b as l,c as t}from"../KLingIcon3/KLingIcon3.528c15f9.js";import{e as s,w as i,x as n,B as o,p as r,g as c,K as d,r as u,O as p,D as A,y as v,a6 as g,C as m,a3 as k,aC as y,aH as x,aj as f,dS as I,ab as C,k as b,ba as h,b3 as w,Z as B,L as E,q as F,aV as D,I as P,ag as V,a1 as L,F as U,E as q,z as S,A as J,G as R,n as Y,an as O,X as Q,ai as G,N,a0 as T,bI as H,_ as j,aq as M,a7 as K,a8 as _,bo as z}from"../main-bf8e7d49.js";import{u as Z}from"../index/index.5b75f753.js";import{N as X}from"../Popconfirm/Popconfirm.2a2fe636.js";const W={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},$=[o("path",{d:"M400 148l-21.12-24.57A191.43 191.43 0 0 0 240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 0 0 181.07-128",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),o("path",{d:"M464 97.42V208a16 16 0 0 1-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z",fill:"currentColor"},null,-1)],ee=s({name:"ReloadOutline",render:function(e,a){return i(),n("svg",W,$)}}),ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAFfSURBVDiNldOti9RRFMbxz5EJEyYYNmwwLFgtgqBistksCyZxQcNu2iSL7BZhBUH/CMGgokGDrGFhBIsGk8IIYhQGLAbBCcJjmDvwY5wd3FPu5d7nfM/LPbeSDLCLC45n73Gvhz1cxbMGeo2Xc+IdnMId/EIf2yDJMMlm268n+Z1kveudZDXJKMm7lrEkm0mGJ5pmAlX1AtfxuAupqjEuYwUHDTKBXtNcSpJO0Dd4kuQ0xp3zR9jHAb5AJRniTKvtODbA51kPNuZqXkuytsw7yUa3B92LAT7ha5IHSU4uA/0DMG3UAFu4glGSm0l6C7QLATM7xFncxX0MF0GWAVTVH9OheotzLbP/BvST7GCEVVysqp/zokV1Tdo6bPutqnp6VJQZoN9Je5zkdjt7WFWThZ7Np4cP2G6TOBP/aOu1zoB+r6rD1sgbpp/pVbV338P5o9Js9q2qbrW5eI6P2P8L5C+pk8CzbKIAAAAASUVORK5CYII=",le="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAC/SURBVDiN7dSxDcIwFATQO+wBYqWhA4kFGCASUDEGBROwQUYJW9BBky0oKKFJ0kf6nwaQIpLop6Eh11lnPZ1cGBjzCruKoigS7/3CCtV1/Yjj+PQ++567iYhsTevIqXPuDuADNxYPXQkAqpqLSEJyF0XRpnWxc24vImsAN6O7VNVDW/H1FKp6DCGkFrWqqnNXNzEuG5wRHuEfwn1/hTkhhAxA1guTXJVlmRrNeVfRgFU1JwmSMyN8EZGr8e6/5gltNDYPUoYNCgAAAABJRU5ErkJggg==",te="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAD8SURBVDiNjZItTgRBEIW/moxEIBCQjFiBQGIQJIvYhDvADbAkcIDlBtg9AuEICAzJWvAkIBCIEUMyAvch6Ek20NuzT1Wq3nv10w0FqNfqVYlTl4rA1kidKnWaqkv1TW0KEzWJs1SnqxPcA3fAM9AVGnbADXCYNHuDq+ok03GuzjP5SdI0FeN3KKGuMu7b6kUmf56bcl33S/UA+EriW+AMOB41iIhOnQGPQAP0/B7vKCI+/vL/rZBMPoET4AV4B2Y5cWkFIqJVT1P8vY5XfIGScEAFtCneHSOvYPitbR0RvboAHtS2pFrBDrCIiD6GTPrb+xsavEbE0+YDF/ADG619cnPFZRIAAAAASUVORK5CYII=",se={class:"my-8"},ie=s({__name:"index",props:{taskId:{}},emits:["close"],setup(e,{emit:a}){const l=r(),t=e,s=a,n=c((()=>Boolean(t.taskId))),C=d({squareType:""}),b=u([]),h=async()=>{const e=await g({page:1,size:100,dataType:1});b.value=e.data.rows,b.value.length&&(C.squareType=b.value[0].value)},w=async()=>{await I({id:t.taskId,classify:C.squareType,isRec:1})&&l.success("发布到广场成功"),s("close",!0)};return(e,a)=>(i(),p(v(f),{show:n.value,"mask-closable":!1,"show-icon":!1,preset:"dialog",title:"发布到广场",onAfterEnter:h,onClose:a[2]||(a[2]=e=>s("close",!1))},{action:A((()=>[m(v(y),{round:"",onClick:a[1]||(a[1]=e=>s("close",!1))},{default:A((()=>a[4]||(a[4]=[k("取消")]))),_:1,__:[4]}),m(v(y),{round:"",type:"primary",onClick:w},{default:A((()=>a[5]||(a[5]=[k("发布")]))),_:1,__:[5]})])),default:A((()=>[o("div",se,[a[3]||(a[3]=o("div",null,"选择广场类型",-1)),o("div",null,[m(v(x),{class:"dark:bg-[#010102]",value:C.squareType,"onUpdate:value":a[0]||(a[0]=e=>C.squareType=e),placeholder:"选择广场类型","label-field":"name",options:b.value},null,8,["value","options"])])])])),_:1},8,["show"]))}}),ne={class:"video_list_box"},oe={class:"topInfoBox"},re={class:"flexL"},ce={class:"p"},de={key:0,class:"labeItem"},ue={key:1,class:"labeItem"},pe={key:2,class:"labeItem"},Ae={key:0,class:"flexL"},ve={class:"iconBox"},ge=["onClick"],me={class:"iconBox"},ke=["onClick"],ye={class:"promptBox"},xe=["onClick"],fe={style:{height:"450px"}},Ie={style:{padding:"0 4px","margin-top":"18px"}},Ce={class:"video_desc text-[#8B8C8C] dark:text-[#d3d1d9]"},be={class:"flex items-center justify-between mb-3.5"},he={class:"flex gap-2 items-center"},we={key:0,class:"flex gap-4 items-center cursor-pointer bottmIconBox"},Be=["onClick"],Ee={class:"errorResult"},Fe={class:"play"},De=["onClick"],Pe={style:{padding:"0 4px","margin-top":"18px"}},Ve={class:"video_desc text-[#8B8C8C] dark:text-[#d3d1d9]"},Le={class:"flex items-center justify-between mb-3.5"},Ue={class:"flex gap-2 items-center"},qe={key:0,class:"flex gap-4 items-center cursor-pointer bottmIconBox"},Se=["onClick"],Je={class:"topInfoBox"},Re={class:"flexL"},Ye={class:"p"},Oe={key:0,class:"labeItem"},Qe={key:1,class:"labeItem"},Ge={key:2,class:"labeItem"},Ne={key:0,class:"flexL"},Te={class:"iconBox"},He=["onClick"],je={class:"iconBox"},Me=["onClick"],Ke={class:"promptBox"},_e=["onClick"],ze={style:{height:"450px"},class:"generateBox"},Ze={style:{padding:"0 4px","margin-top":"18px"}},Xe={class:"video_desc text-[#8B8C8C] dark:text-[#d3d1d9]"},We={class:"flex items-center justify-between mb-3.5"},$e={class:"flex gap-2 items-center"},ea={key:0,class:"flex gap-4 items-center cursor-pointer bottmIconBox"},aa=["onClick"],la={class:"dialog dark:bg-[#1E1F1F] bg-[#EEEEF0]"},ta={style:{display:"flex","align-items":"center","justify-content":"space-between","margin-bottom":"10px"}},sa={class:"text-[17px] dark:text-[#EEEEF0] text-[#1E1F1F]",style:{"font-weight":"bold"}},ia={class:"input_card"},na=["src"],oa=j(s({__name:"VideoList",props:{title:{type:String,default:"匿名"},tabIndex:{type:Number,default:0}},emits:["updatePage"],setup(t,{expose:s,emit:d}){const g=C(),y=b(),x=h(),I=t,j=r(),M=w("videoBase"),K=B(),_=u(!1),z=u(""),W=u("");u();const $=c((()=>I.tabIndex||0)),se=c((()=>"dark"===K.theme)),oa=u(c((()=>M.videoData.value)));E((()=>oa.value),(e=>{e&&console.log(e,"videoData")})),E((()=>M),(e=>{e&&console.log(e,"videoBase")}));const ra=d,ca=u(),da=()=>{W.value&&W.value.play()},ua=function(e){const a=e.target,{scrollTop:l,offsetHeight:t,scrollHeight:s}=a;s-t-l<=30&&(M.noMore||M.loading||ra("updatePage"))},pa=e=>{M.remove((null==e?void 0:e.chatLogId)||e.id)};F((()=>{var e;null==(e=ca.value)||e.addEventListener("scroll",ua)})),D((()=>{var e;null==(e=ca.value)||e.removeEventListener("scroll",ua)})),s({scrollViewFn:(e=0)=>{Y((()=>{var a;console.log(e),null==(a=ca.value)||a.scrollTo({top:e||ca.value.scrollHeight,behavior:"smooth"})}))}});const Aa=u(null),va=u(!1);function ga(e){va.value&&j.warning("正在下载中，请稍后"),va.value=!0,Aa.value=j.loading("正在下载中，请稍后",{duration:0});const a=new XMLHttpRequest;a.open("get",e.mp4,!0),a.setRequestHeader("Content-Type","application/pdf"),a.responseType="blob",a.onload=function(){if(200===this.status){!function(e,a,l){const t=document.createElement("a"),s=window.URL.createObjectURL(e);t.href=s,t.download=`${a}.${l}`,document.body.appendChild(t),t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(s)}(this.response,e.prompt,"mp4"),Aa.value.destroy()}va.value=!1},a.onerror=function(){va.value=!1,Aa.value.destroy(),j.error("下载失败")},a.send()}function ma(e){e?(O({text:e}),j.success("复制成功")):j.error("无内容可复制")}let ka=e=>{P.emit("copyVideoData",e.requestParams)},ya=e=>{var a;if((null==(a=null==y?void 0:y.userInfo)?void 0:a.score)>0){let a=function(){return e.requestParams};P.emit("generateVideo",a)}else j.error("积分不足")},xa=u("文生视频");P.on("changeTypeIndexName",(e=>{xa.value=e}));const fa=u(0),Ia=function(e){fa.value=0};return(s,r)=>{const c=V("vue3-video-player");return i(),n("div",ne,[oa.value.data&&oa.value.data.length?(i(),n("div",{key:1,ref_key:"scrollView",ref:ca,class:L(["video_card",{works_video_card:0==$.value,my_video_card:1==$.value}])},[(i(!0),n(U,null,q(oa.value.data,((t,s)=>{var d,u,y,f,C,b;return i(),n("div",{class:"video_item bg-white dark:bg-[#0e0f0f] relative",key:t.id},[t.mp4?(i(),n(U,{key:0},[o("div",oe,[o("div",re,[r[2]||(r[2]=o("img",{src:ae,alt:""},null,-1)),o("span",ce,S(v(xa)),1),r[3]||(r[3]=o("div",{class:"shu"},null,-1)),-1==v(g).path.indexOf("JMeng")?(i(),n("div",de,S(null==(d=t.requestParams)?void 0:d.duration)+"S",1)):J("",!0),-1==v(g).path.indexOf("JMeng")?(i(),n("div",ue,S("std"==(null==(u=t.requestParams)?void 0:u.mode)?"高性能模式":"高品质模式"),1)):J("",!0),-1!=v(g).path.indexOf("JMeng")?(i(),n("div",pe,S(null==(y=t.requestParams)?void 0:y.aspect_ratio),1)):J("",!0)]),1===I.tabIndex?(i(),n("div",Ae,[o("div",ve,[m(v(G),{trigger:"hover"},{trigger:A((()=>[o("img",{src:a,onClick:e=>v(ka)(t),alt:""},null,8,ge)])),default:A((()=>[r[4]||(r[4]=o("div",{style:{display:"flex","align-items":"center"}},[o("span",null,"使用本视频的参数")],-1))])),_:2,__:[4]},1024)]),o("div",me,[o("img",{src:e,onClick:e=>v(ya)(t),alt:""},null,8,ke)])])):J("",!0)]),o("div",ye,[o("span",null,S(t.intro||t.prompt),1),o("img",{src:le,onClick:e=>ma(t.intro||t.prompt),alt:""},null,8,xe)]),o("div",fe,[m(c,{src:t.mp4,cover:t.cover},null,8,["src","cover"])]),o("div",Ie,[o("div",Ce,[o("div",be,[o("div",he,[r[5]||(r[5]=o("div",{class:"flex gap-1 items-center cursor-pointer"},[o("span",null,"生成时间：")],-1)),o("div",null,S(v(Z)(t.createdAt)),1)]),1===I.tabIndex?(i(),n("div",we,[1===I.tabIndex?(i(),n("img",{key:0,src:te,alt:"",style:{width:"16px",height:"16px"},onClick:e=>ga(t)},null,8,Be)):J("",!0),1==$.value?(i(),p(v(X),{key:1,onPositiveClick:e=>pa(t),style:R(se.value?"background:#19191B":"background:#F8F9F9")},{trigger:A((()=>r[6]||(r[6]=[o("img",{src:l,alt:"",style:{width:"16px",height:"16px"}},null,-1)]))),default:A((()=>[r[7]||(r[7]=k(" 您确认要删除任务吗？ "))])),_:2,__:[7]},1032,["onPositiveClick","style"])):J("",!0)])):J("",!0)])])])],64)):"error"===t.status?(i(),n(U,{key:1},[o("div",Ee,[o("div",Fe,[r[9]||(r[9]=o("div",null,[o("img",{src:"/static/svg/gerror-f84649ad.svg",width:"80"})],-1)),o("div",{onClick:e=>v(ya)(t),class:"errorReload",style:{"justify-content":"center"}},[m(v(N),{class:L({rotate:t.generateLoading})},{default:A((()=>[m(v(ee))])),_:2},1032,["class"]),r[8]||(r[8]=k(" 重新生成 "))],8,De)])]),o("div",Pe,[o("div",Ve,[o("div",Le,[o("div",Ue,[r[10]||(r[10]=o("div",{class:"flex gap-1 items-center cursor-pointer"},[o("span",null,"生成时间：")],-1)),o("div",null,S(v(Z)(t.createdAt)),1)]),1===I.tabIndex?(i(),n("div",qe,[1===I.tabIndex?(i(),n("img",{key:0,src:te,alt:"",style:{width:"16px",height:"16px"},onClick:e=>ga(t)},null,8,Se)):J("",!0),1==$.value?(i(),p(v(X),{key:1,onPositiveClick:e=>pa(t),style:R(se.value?"background:#19191B":"background:#F8F9F9")},{trigger:A((()=>r[11]||(r[11]=[o("img",{src:l,alt:"",style:{width:"16px",height:"16px"}},null,-1)]))),default:A((()=>[r[12]||(r[12]=k(" 您确认要删除任务吗？ "))])),_:2,__:[12]},1032,["onPositiveClick","style"])):J("",!0)])):J("",!0)])])])],64)):(i(),n(U,{key:2},[o("div",Je,[o("div",Re,[r[13]||(r[13]=o("img",{src:ae,alt:""},null,-1)),o("span",Ye,S(v(xa)),1),r[14]||(r[14]=o("div",{class:"shu"},null,-1)),-1==v(g).path.indexOf("JMeng")?(i(),n("div",Oe,S(null==(f=t.requestParams)?void 0:f.duration)+"S",1)):J("",!0),-1==v(g).path.indexOf("JMeng")?(i(),n("div",Qe,S("std"==(null==(C=t.requestParams)?void 0:C.mode)?"高性能模式":"高品质模式"),1)):J("",!0),-1!=v(g).path.indexOf("JMeng")?(i(),n("div",Ge,S(null==(b=t.requestParams)?void 0:b.aspect_ratio),1)):J("",!0)]),1===I.tabIndex?(i(),n("div",Ne,[o("div",Te,[m(v(G),{trigger:"hover"},{trigger:A((()=>[o("img",{src:a,onClick:e=>v(ka)(t),alt:""},null,8,He)])),default:A((()=>[r[15]||(r[15]=o("div",{style:{display:"flex","align-items":"center"}},[o("span",null,"使用本视频的参数")],-1))])),_:2,__:[15]},1024)]),o("div",je,[o("img",{src:e,onClick:e=>v(ya)(t),alt:""},null,8,Me)])])):J("",!0)]),o("div",Ke,[o("span",null,S(t.intro||t.prompt),1),o("img",{src:le,onClick:e=>ma(t.intro||t.prompt),alt:""},null,8,_e)]),o("div",ze,[r[16]||(r[16]=o("img",{src:"data:image/png;base64,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",alt:""},null,-1)),r[17]||(r[17]=o("div",{class:"text1"},"正在生成中，请等候",-1)),r[18]||(r[18]=o("div",{class:"text2"},"升级会员通道，更快生成",-1)),m(v(T),{size:"small"}),o("div",{class:"btnBox",onClick:r[0]||(r[0]=e=>v(x).updateVipDialog(!0))},"即刻成为会员")]),o("div",Ze,[o("div",Xe,[o("div",We,[o("div",$e,[r[19]||(r[19]=o("div",{class:"flex gap-1 items-center cursor-pointer"},[o("span",null,"生成时间：")],-1)),o("div",null,S(v(Z)(t.createdAt)),1)]),1===I.tabIndex?(i(),n("div",ea,[1===I.tabIndex?(i(),n("img",{key:0,src:te,alt:"",style:{width:"16px",height:"16px"},onClick:e=>ga(t)},null,8,aa)):J("",!0),1==$.value?(i(),p(v(X),{key:1,onPositiveClick:e=>pa(t),style:R(se.value?"background:#19191B":"background:#F8F9F9")},{trigger:A((()=>r[20]||(r[20]=[o("img",{src:l,alt:"",style:{width:"16px",height:"16px"}},null,-1)]))),default:A((()=>[r[21]||(r[21]=k(" 您确认要删除任务吗？ "))])),_:2,__:[21]},1032,["onPositiveClick","style"])):J("",!0)])):J("",!0)])])])],64))])})),128)),m(ie,{taskId:fa.value,onClose:Ia},null,8,["taskId"])],2)):(i(),p(v(Q),{key:0,description:"暂无视频记录哦"})),m(v(f),{show:_.value,"mask-closable":!1},{default:A((()=>[o("div",la,[o("div",ta,[o("div",sa,S(null==z.value.title?t.title:z.value.title),1),o("div",{class:"close_btn",onClick:r[1]||(r[1]=e=>_.value=!1)},r[22]||(r[22]=[o("img",{src:H},null,-1)]))]),o("div",ia,[o("video",{controls:"",src:z.value.mp4,preload:"auto",ref_key:"videoPlayer",ref:W,onLoadeddata:da,autoplay:"",style:{width:"100%",height:"350px"}},null,40,na)])])])),_:1},8,["show"])])}}}),[["__scopeId","data-v-a540ec49"]]),ra={class:"video_content"},ca={style:{display:"flex","align-items":"center","justify-content":"center",padding:"0 12px"},class:"border-b border-[#E8E8E8] dark:border-[#292A2E]"},da={class:"rightBox"},ua=j(s({__name:"VideoContentMain",props:{generateInfo:Array,succeedVideo:Array,subType:String,title:{type:String,default:"匿名"}},setup(e,{expose:a}){const l=b(),s=h();M();const r=c((()=>1===l.userInfo.lifetimeVip||l.userInfo.vipExpire&&new Date(l.userInfo.vipExpire)>new Date)),d=e,p=w("videoBase"),g=u(0),k=u();l.isLogin&&(g.value=1,Y((()=>{setTimeout((()=>{k.value.scrollViewFn()}),1e3)})));function y(e){e!=g.value?(g.value=e,p.list(g.value,d.subType,1).then((a=>{1===e?k.value.scrollViewFn():k.value.scrollViewFn(1)}))):1===e?k.value.scrollViewFn():k.value.scrollViewFn(1)}const x=(e=0)=>{e?p.list(g.value,d.subType,e):p.list(g.value,d.subType)};return F((()=>{p.list(g.value,d.subType,1)})),a({changeTypeIndex:y}),(a,c)=>(i(),n("div",ra,[o("div",ca,[m(v(_),{class:"card-tabs",style:{flex:"1"},"default-value":g.value,size:"large",animated:"","onUpdate:value":y},{default:A((()=>[m(v(K),{name:0,tab:"作品广场"}),m(v(K),{name:1,tab:"我的作品"})])),_:1},8,["default-value"]),o("div",da,[c[2]||(c[2]=o("img",{src:t,alt:""},null,-1)),o("span",null,S(v(l).userInfo.score),1),c[3]||(c[3]=o("div",{class:"shu"},null,-1)),r.value?(i(),n("div",{key:0,onClick:c[0]||(c[0]=e=>v(s).updateVipDialog(!0))},S(1==v(l).userInfo.lifetimeVip?"永久会员":"会员到期: "+v(z)(v(l).userInfo.vipExpire,"YYYY-MM-DD")),1)):(i(),n("div",{key:1,onClick:c[1]||(c[1]=e=>v(s).updateVipDialog(!0))}," 开通会员，得积分 "))])]),m(oa,{ref_key:"listRef",ref:k,tabIndex:g.value,generateInfo:e.generateInfo,title:e.title,onUpdatePage:x},null,8,["tabIndex","generateInfo","title"])]))}}),[["__scopeId","data-v-17042f2b"]]);export{ua as V};
