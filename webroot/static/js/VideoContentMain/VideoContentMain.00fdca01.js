import{a as e,_ as a,b as l,c as t}from"../KLingIcon3/KLingIcon3.528c15f9.js";import{e as s,w as i,x as n,A as o,p as r,g as c,L as d,r as u,P as A,C as p,D as v,a8 as g,B as k,a3 as m,aF as y,aL as x,an as f,d_ as C,a9 as I,k as h,bd as b,b6 as w,$ as B,M as E,q as F,aY as D,J as P,ak as U,I as L,F as V,E as R,y as S,z as q,G as J,n as Q,aq as Y,Y as N,am as G,N as O,a1 as T,bD as z,_ as H,at as j,a6 as M,a7 as X,br as K}from"../main-23bab8dd.js";import{u as Z}from"../index/index.5b75f753.js";import{N as W}from"../Popconfirm/Popconfirm.6ca3ead0.js";const _={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},$=[o("path",{d:"M400 148l-21.12-24.57A191.43 191.43 0 0 0 240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 0 0 181.07-128",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),o("path",{d:"M464 97.42V208a16 16 0 0 1-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z",fill:"currentColor"},null,-1)],ee=s({name:"ReloadOutline",render:function(e,a){return i(),n("svg",_,$)}}),ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAFfSURBVDiNldOti9RRFMbxz5EJEyYYNmwwLFgtgqBistksCyZxQcNu2iSL7BZhBUH/CMGgokGDrGFhBIsGk8IIYhQGLAbBCcJjmDvwY5wd3FPu5d7nfM/LPbeSDLCLC45n73Gvhz1cxbMGeo2Xc+IdnMId/EIf2yDJMMlm268n+Z1kveudZDXJKMm7lrEkm0mGJ5pmAlX1AtfxuAupqjEuYwUHDTKBXtNcSpJO0Dd4kuQ0xp3zR9jHAb5AJRniTKvtODbA51kPNuZqXkuytsw7yUa3B92LAT7ha5IHSU4uA/0DMG3UAFu4glGSm0l6C7QLATM7xFncxX0MF0GWAVTVH9OheotzLbP/BvST7GCEVVysqp/zokV1Tdo6bPutqnp6VJQZoN9Je5zkdjt7WFWThZ7Np4cP2G6TOBP/aOu1zoB+r6rD1sgbpp/pVbV338P5o9Js9q2qbrW5eI6P2P8L5C+pk8CzbKIAAAAASUVORK5CYII=",le="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAC/SURBVDiN7dSxDcIwFATQO+wBYqWhA4kFGCASUDEGBROwQUYJW9BBky0oKKFJ0kf6nwaQIpLop6Eh11lnPZ1cGBjzCruKoigS7/3CCtV1/Yjj+PQ++567iYhsTevIqXPuDuADNxYPXQkAqpqLSEJyF0XRpnWxc24vImsAN6O7VNVDW/H1FKp6DCGkFrWqqnNXNzEuG5wRHuEfwn1/hTkhhAxA1guTXJVlmRrNeVfRgFU1JwmSMyN8EZGr8e6/5gltNDYPUoYNCgAAAABJRU5ErkJggg==",te="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAEWSURBVDiNxZItTwNREEXPQyEqVqyowJAUBaICiahEIBAlwcMPQCAQiP6EujaBpAJBUGhURQ2uAkFIEBjSJiVpCAgSxEHwgM2ykAUE183HvXNn3oP/gLqqzv2GuKYOfUXzJ8SG2lef/UC9DLEeiSN1X71Qu1GgAjDzDfEU6ANnwDywCNwCh8A4hPBYRKypR+pUbalJzLfUS7WiNtVBnlhVe+qD2lbTTG1Tnai1GO+pnbzASpzazx5HXY75RiZ3oO4W2U+i1am6FV2N1O1c30BdL7pddp1U7ajdgvpEXXqLP71CCGEcQrgDZoHzOLEXD5wAKXD9pUABNoB7YAgcAzchhKfSAtHRDrAAXAEnJYa+f6Zqqea/4AW8gQrza2jGxAAAAABJRU5ErkJggg==",se="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAD8SURBVDiNjZItTgRBEIW/moxEIBCQjFiBQGIQJIvYhDvADbAkcIDlBtg9AuEICAzJWvAkIBCIEUMyAvch6Ek20NuzT1Wq3nv10w0FqNfqVYlTl4rA1kidKnWaqkv1TW0KEzWJs1SnqxPcA3fAM9AVGnbADXCYNHuDq+ok03GuzjP5SdI0FeN3KKGuMu7b6kUmf56bcl33S/UA+EriW+AMOB41iIhOnQGPQAP0/B7vKCI+/vL/rZBMPoET4AV4B2Y5cWkFIqJVT1P8vY5XfIGScEAFtCneHSOvYPitbR0RvboAHtS2pFrBDrCIiD6GTPrb+xsavEbE0+YDF/ADG619cnPFZRIAAAAASUVORK5CYII=",ie={class:"my-8"},ne=s({__name:"index",props:{taskId:{}},emits:["close"],setup(e,{emit:a}){const l=r(),t=e,s=a,n=c((()=>Boolean(t.taskId))),I=d({squareType:""}),h=u([]),b=async()=>{const e=await g({page:1,size:100,dataType:1});h.value=e.data.rows,h.value.length&&(I.squareType=h.value[0].value)},w=async()=>{await C({id:t.taskId,classify:I.squareType,isRec:1})&&l.success("发布到广场成功"),s("close",!0)};return(e,a)=>(i(),A(v(f),{show:n.value,"mask-closable":!1,"show-icon":!1,preset:"dialog",title:"发布到广场",onAfterEnter:b,onClose:a[2]||(a[2]=e=>s("close",!1))},{action:p((()=>[k(v(y),{round:"",onClick:a[1]||(a[1]=e=>s("close",!1))},{default:p((()=>a[4]||(a[4]=[m("取消")]))),_:1}),k(v(y),{round:"",type:"primary",onClick:w},{default:p((()=>a[5]||(a[5]=[m("发布")]))),_:1})])),default:p((()=>[o("div",ie,[a[3]||(a[3]=o("div",null,"选择广场类型",-1)),o("div",null,[k(v(x),{class:"dark:bg-[#010102]",value:I.squareType,"onUpdate:value":a[0]||(a[0]=e=>I.squareType=e),placeholder:"选择广场类型","label-field":"name",options:h.value},null,8,["value","options"])])])])),_:1},8,["show"]))}}),oe={class:"video_list_box"},re={class:"topInfoBox"},ce={class:"flexL"},de={class:"p"},ue={key:0,class:"labeItem"},Ae={key:1,class:"labeItem"},pe={key:2,class:"labeItem"},ve={key:0,class:"flexL"},ge={class:"iconBox"},ke=["onClick"],me={class:"iconBox"},ye=["onClick"],xe={class:"promptBox"},fe=["onClick"],Ce={style:{height:"450px"}},Ie={style:{padding:"0 4px","margin-top":"18px"}},he={class:"video_desc text-[#8B8C8C] dark:text-[#d3d1d9]"},be={class:"flex items-center justify-between mb-3.5"},we={class:"flex gap-2 items-center"},Be={key:0,class:"flex gap-4 items-center cursor-pointer bottmIconBox"},Ee=["onClick"],Fe={class:"errorResult"},De={class:"play"},Pe=["onClick"],Ue={style:{padding:"0 4px","margin-top":"18px"}},Le={class:"video_desc text-[#8B8C8C] dark:text-[#d3d1d9]"},Ve={class:"flex items-center justify-between mb-3.5"},Re={class:"flex gap-2 items-center"},Se={key:0,class:"flex gap-4 items-center cursor-pointer bottmIconBox"},qe=["onClick"],Je={class:"topInfoBox"},Qe={class:"flexL"},Ye={class:"p"},Ne={key:0,class:"labeItem"},Ge={key:1,class:"labeItem"},Oe={key:2,class:"labeItem"},Te={key:0,class:"flexL"},ze={class:"iconBox"},He=["onClick"],je={class:"iconBox"},Me=["onClick"],Xe={class:"promptBox"},Ke=["onClick"],Ze={style:{height:"450px"},class:"generateBox"},We={style:{padding:"0 4px","margin-top":"18px"}},_e={class:"video_desc text-[#8B8C8C] dark:text-[#d3d1d9]"},$e={class:"flex items-center justify-between mb-3.5"},ea={class:"flex gap-2 items-center"},aa={key:0,class:"flex gap-4 items-center cursor-pointer bottmIconBox"},la=["onClick"],ta={class:"dialog dark:bg-[#1E1F1F] bg-[#EEEEF0]"},sa={style:{display:"flex","align-items":"center","justify-content":"space-between","margin-bottom":"10px"}},ia={class:"text-[17px] dark:text-[#EEEEF0] text-[#1E1F1F]",style:{"font-weight":"bold"}},na={class:"input_card"},oa=["src"],ra=H(s({__name:"VideoList",props:{title:{type:String,default:"匿名"},tabIndex:{type:Number,default:0}},emits:["updatePage"],setup(t,{expose:s,emit:d}){const g=I(),y=h(),x=b(),C=t,H=r(),j=w("videoBase"),M=B(),X=u(!1),K=u(""),_=u("");u();const $=c((()=>C.tabIndex||0)),ie=c((()=>"dark"===M.theme)),ra=u(c((()=>j.videoData.value)));E((()=>ra.value),(e=>{e&&console.log(e,"videoData")})),E((()=>j),(e=>{e&&console.log(e,"videoBase")}));const ca=d,da=u(),ua=()=>{_.value&&_.value.play()},Aa=function(e){const a=e.target,{scrollTop:l,offsetHeight:t,scrollHeight:s}=a;s-t-l<=30&&(j.noMore||j.loading||ca("updatePage"))},pa=e=>{j.remove((null==e?void 0:e.chatLogId)||e.id)};F((()=>{var e;null==(e=da.value)||e.addEventListener("scroll",Aa)})),D((()=>{var e;null==(e=da.value)||e.removeEventListener("scroll",Aa)})),s({scrollViewFn:(e=0)=>{Q((()=>{var a;console.log(e),null==(a=da.value)||a.scrollTo({top:e||da.value.scrollHeight,behavior:"smooth"})}))}});const va=u(null),ga=u(!1);function ka(e){ga.value&&H.warning("正在下载中，请稍后"),ga.value=!0,va.value=H.loading("正在下载中，请稍后",{duration:0});const a=new XMLHttpRequest;a.open("get",e.mp4,!0),a.setRequestHeader("Content-Type","application/pdf"),a.responseType="blob",a.onload=function(){if(200===this.status){!function(e,a,l){const t=document.createElement("a"),s=window.URL.createObjectURL(e);t.href=s,t.download=`${a}.${l}`,document.body.appendChild(t),t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(s)}(this.response,e.prompt,"mp4"),va.value.destroy()}ga.value=!1},a.onerror=function(){ga.value=!1,va.value.destroy(),H.error("下载失败")},a.send()}function ma(e){e?(Y({text:e}),H.success("复制成功")):H.error("无内容可复制")}let ya=e=>{P.emit("copyVideoData",e.requestParams)},xa=e=>{var a;if((null==(a=null==y?void 0:y.userInfo)?void 0:a.score)>0){let a=function(){return e.requestParams};P.emit("generateVideo",a)}else H.error("积分不足")},fa=u("文生视频");P.on("changeTypeIndexName",(e=>{fa.value=e}));const Ca=u(0),Ia=function(e){Ca.value=e},ha=function(e){Ca.value=0};return(s,r)=>{const c=U("vue3-video-player");return i(),n("div",oe,[ra.value.data&&ra.value.data.length?(i(),n("div",{key:1,ref_key:"scrollView",ref:da,class:L(["video_card",{works_video_card:0==$.value,my_video_card:1==$.value}])},[(i(!0),n(V,null,R(ra.value.data,((t,s)=>{var d,u,y,f,I,h;return i(),n("div",{class:"video_item bg-white dark:bg-[#0e0f0f] relative",key:t.id},[t.mp4?(i(),n(V,{key:0},[o("div",re,[o("div",ce,[r[2]||(r[2]=o("img",{src:ae,alt:""},null,-1)),o("span",de,S(v(fa)),1),r[3]||(r[3]=o("div",{class:"shu"},null,-1)),-1==v(g).path.indexOf("JMeng")?(i(),n("div",ue,S(null==(d=t.requestParams)?void 0:d.duration)+"S",1)):q("",!0),-1==v(g).path.indexOf("JMeng")?(i(),n("div",Ae,S("std"==(null==(u=t.requestParams)?void 0:u.mode)?"高性能模式":"高品质模式"),1)):q("",!0),-1!=v(g).path.indexOf("JMeng")?(i(),n("div",pe,S(null==(y=t.requestParams)?void 0:y.aspect_ratio),1)):q("",!0)]),1===C.tabIndex?(i(),n("div",ve,[o("div",ge,[k(v(G),{trigger:"hover"},{trigger:p((()=>[o("img",{src:a,onClick:e=>v(ya)(t),alt:""},null,8,ke)])),default:p((()=>[r[4]||(r[4]=o("div",{style:{display:"flex","align-items":"center"}},[o("span",null,"使用本视频的参数")],-1))])),_:2},1024)]),o("div",me,[o("img",{src:e,onClick:e=>v(xa)(t),alt:""},null,8,ye)])])):q("",!0)]),o("div",xe,[o("span",null,S(t.intro||t.prompt),1),o("img",{src:le,onClick:e=>ma(t.intro||t.prompt),alt:""},null,8,fe)]),o("div",Ce,[k(c,{src:t.mp4,cover:t.cover},null,8,["src","cover"])]),o("div",Ie,[o("div",he,[o("div",be,[o("div",we,[r[5]||(r[5]=o("div",{class:"flex gap-1 items-center cursor-pointer"},[o("span",null,"生成时间：")],-1)),o("div",null,S(v(Z)(t.createdAt)),1)]),1===C.tabIndex?(i(),n("div",Be,[k(v(W),{onPositiveClick:e=>Ia(t.id),style:J(ie.value?"background:#19191B":"background:#F8F9F9")},{trigger:p((()=>r[6]||(r[6]=[o("img",{src:te,alt:"",style:{width:"16px",height:"16px"}},null,-1)]))),default:p((()=>[r[7]||(r[7]=m(" 是否发布该视频？ "))])),_:2},1032,["onPositiveClick","style"]),1===C.tabIndex?(i(),n("img",{key:0,src:se,alt:"",style:{width:"16px",height:"16px"},onClick:e=>ka(t)},null,8,Ee)):q("",!0),1==$.value?(i(),A(v(W),{key:1,onPositiveClick:e=>pa(t),style:J(ie.value?"background:#19191B":"background:#F8F9F9")},{trigger:p((()=>r[8]||(r[8]=[o("img",{src:l,alt:"",style:{width:"16px",height:"16px"}},null,-1)]))),default:p((()=>[r[9]||(r[9]=m(" 您确认要删除任务吗？ "))])),_:2},1032,["onPositiveClick","style"])):q("",!0)])):q("",!0)])])])],64)):"error"===t.status?(i(),n(V,{key:1},[o("div",Fe,[o("div",De,[r[11]||(r[11]=o("div",null,[o("img",{src:"/static/svg/gerror-f84649ad.svg",width:"80"})],-1)),o("div",{onClick:e=>v(xa)(t),class:"errorReload",style:{"justify-content":"center"}},[k(v(O),{class:L({rotate:t.generateLoading})},{default:p((()=>[k(v(ee))])),_:2},1032,["class"]),r[10]||(r[10]=m(" 重新生成 "))],8,Pe)])]),o("div",Ue,[o("div",Le,[o("div",Ve,[o("div",Re,[r[12]||(r[12]=o("div",{class:"flex gap-1 items-center cursor-pointer"},[o("span",null,"生成时间：")],-1)),o("div",null,S(v(Z)(t.createdAt)),1)]),1===C.tabIndex?(i(),n("div",Se,[k(v(W),{onPositiveClick:e=>Ia(t.id),style:J(ie.value?"background:#19191B":"background:#F8F9F9")},{trigger:p((()=>r[13]||(r[13]=[o("img",{src:te,alt:"",style:{width:"16px",height:"16px"}},null,-1)]))),default:p((()=>[r[14]||(r[14]=m(" 是否发布该视频？ "))])),_:2},1032,["onPositiveClick","style"]),1===C.tabIndex?(i(),n("img",{key:0,src:se,alt:"",style:{width:"16px",height:"16px"},onClick:e=>ka(t)},null,8,qe)):q("",!0),1==$.value?(i(),A(v(W),{key:1,onPositiveClick:e=>pa(t),style:J(ie.value?"background:#19191B":"background:#F8F9F9")},{trigger:p((()=>r[15]||(r[15]=[o("img",{src:l,alt:"",style:{width:"16px",height:"16px"}},null,-1)]))),default:p((()=>[r[16]||(r[16]=m(" 您确认要删除任务吗？ "))])),_:2},1032,["onPositiveClick","style"])):q("",!0)])):q("",!0)])])])],64)):(i(),n(V,{key:2},[o("div",Je,[o("div",Qe,[r[17]||(r[17]=o("img",{src:ae,alt:""},null,-1)),o("span",Ye,S(v(fa)),1),r[18]||(r[18]=o("div",{class:"shu"},null,-1)),-1==v(g).path.indexOf("JMeng")?(i(),n("div",Ne,S(null==(f=t.requestParams)?void 0:f.duration)+"S",1)):q("",!0),-1==v(g).path.indexOf("JMeng")?(i(),n("div",Ge,S("std"==(null==(I=t.requestParams)?void 0:I.mode)?"高性能模式":"高品质模式"),1)):q("",!0),-1!=v(g).path.indexOf("JMeng")?(i(),n("div",Oe,S(null==(h=t.requestParams)?void 0:h.aspect_ratio),1)):q("",!0)]),1===C.tabIndex?(i(),n("div",Te,[o("div",ze,[k(v(G),{trigger:"hover"},{trigger:p((()=>[o("img",{src:a,onClick:e=>v(ya)(t),alt:""},null,8,He)])),default:p((()=>[r[19]||(r[19]=o("div",{style:{display:"flex","align-items":"center"}},[o("span",null,"使用本视频的参数")],-1))])),_:2},1024)]),o("div",je,[o("img",{src:e,onClick:e=>v(xa)(t),alt:""},null,8,Me)])])):q("",!0)]),o("div",Xe,[o("span",null,S(t.intro||t.prompt),1),o("img",{src:le,onClick:e=>ma(t.intro||t.prompt),alt:""},null,8,Ke)]),o("div",Ze,[r[20]||(r[20]=o("img",{src:"data:image/png;base64,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",alt:""},null,-1)),r[21]||(r[21]=o("div",{class:"text1"},"正在生成中，请等候",-1)),r[22]||(r[22]=o("div",{class:"text2"},"升级会员通道，更快生成",-1)),k(v(T),{size:"small"}),o("div",{class:"btnBox",onClick:r[0]||(r[0]=e=>v(x).updateVipDialog(!0))},"即刻成为会员")]),o("div",We,[o("div",_e,[o("div",$e,[o("div",ea,[r[23]||(r[23]=o("div",{class:"flex gap-1 items-center cursor-pointer"},[o("span",null,"生成时间：")],-1)),o("div",null,S(v(Z)(t.createdAt)),1)]),1===C.tabIndex?(i(),n("div",aa,[k(v(W),{onPositiveClick:e=>Ia(t.id),style:J(ie.value?"background:#19191B":"background:#F8F9F9")},{trigger:p((()=>r[24]||(r[24]=[o("img",{src:te,alt:"",style:{width:"16px",height:"16px"}},null,-1)]))),default:p((()=>[r[25]||(r[25]=m(" 是否发布该视频？ "))])),_:2},1032,["onPositiveClick","style"]),1===C.tabIndex?(i(),n("img",{key:0,src:se,alt:"",style:{width:"16px",height:"16px"},onClick:e=>ka(t)},null,8,la)):q("",!0),1==$.value?(i(),A(v(W),{key:1,onPositiveClick:e=>pa(t),style:J(ie.value?"background:#19191B":"background:#F8F9F9")},{trigger:p((()=>r[26]||(r[26]=[o("img",{src:l,alt:"",style:{width:"16px",height:"16px"}},null,-1)]))),default:p((()=>[r[27]||(r[27]=m(" 您确认要删除任务吗？ "))])),_:2},1032,["onPositiveClick","style"])):q("",!0)])):q("",!0)])])])],64))])})),128)),k(ne,{taskId:Ca.value,onClose:ha},null,8,["taskId"])],2)):(i(),A(v(N),{key:0,description:"暂无视频记录哦"})),k(v(f),{show:X.value,"mask-closable":!1},{default:p((()=>[o("div",ta,[o("div",sa,[o("div",ia,S(null==K.value.title?t.title:K.value.title),1),o("div",{class:"close_btn",onClick:r[1]||(r[1]=e=>X.value=!1)},r[28]||(r[28]=[o("img",{src:z},null,-1)]))]),o("div",na,[o("video",{controls:"",src:K.value.mp4,preload:"auto",ref_key:"videoPlayer",ref:_,onLoadeddata:ua,autoplay:"",style:{width:"100%",height:"350px"}},null,40,oa)])])])),_:1},8,["show"])])}}}),[["__scopeId","data-v-e04d5976"]]),ca={class:"video_content"},da={style:{display:"flex","align-items":"center","justify-content":"center",padding:"0 12px"},class:"border-b border-[#E8E8E8] dark:border-[#292A2E]"},ua={class:"rightBox"},Aa=H(s({__name:"VideoContentMain",props:{generateInfo:Array,succeedVideo:Array,subType:String,title:{type:String,default:"匿名"}},setup(e,{expose:a}){const l=h(),s=b();j();const r=c((()=>1===l.userInfo.lifetimeVip||l.userInfo.vipExpire&&new Date(l.userInfo.vipExpire)>new Date)),d=e,A=w("videoBase"),g=u(0),m=u();l.isLogin&&(g.value=1,Q((()=>{setTimeout((()=>{m.value.scrollViewFn()}),1e3)})));function y(e){e!=g.value?(g.value=e,A.list(g.value,d.subType,1).then((a=>{1===e?m.value.scrollViewFn():m.value.scrollViewFn(1)}))):1===e?m.value.scrollViewFn():m.value.scrollViewFn(1)}const x=(e=0)=>{e?A.list(g.value,d.subType,e):A.list(g.value,d.subType)};return F((()=>{A.list(g.value,d.subType,1)})),a({changeTypeIndex:y}),(a,c)=>(i(),n("div",ca,[o("div",da,[k(v(X),{class:"card-tabs",style:{flex:"1"},"default-value":g.value,size:"large",animated:"","onUpdate:value":y},{default:p((()=>[k(v(M),{name:0,tab:"作品广场"}),k(v(M),{name:1,tab:"我的作品"})])),_:1},8,["default-value"]),o("div",ua,[c[2]||(c[2]=o("img",{src:t,alt:""},null,-1)),o("span",null,S(v(l).userInfo.score),1),c[3]||(c[3]=o("div",{class:"shu"},null,-1)),r.value?(i(),n("div",{key:0,onClick:c[0]||(c[0]=e=>v(s).updateVipDialog(!0))},S(1==v(l).userInfo.lifetimeVip?"永久会员":"会员到期: "+v(K)(v(l).userInfo.vipExpire,"YYYY-MM-DD")),1)):(i(),n("div",{key:1,onClick:c[1]||(c[1]=e=>v(s).updateVipDialog(!0))}," 开通会员，得积分 "))])]),k(ra,{ref_key:"listRef",ref:m,tabIndex:g.value,generateInfo:e.generateInfo,title:e.title,onUpdatePage:x},null,8,["tabIndex","generateInfo","title"])]))}}),[["__scopeId","data-v-17042f2b"]]);export{Aa as V};
