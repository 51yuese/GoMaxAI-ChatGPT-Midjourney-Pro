import{e as n,r as l,h as o,c7 as t,c8 as e}from"../main-b114ff11.js";var i=globalThis&&globalThis.__awaiter||function(n,l,o,t){return new(o||(o=Promise))((function(e,i){function a(n){try{c(t.next(n))}catch(l){i(l)}}function r(n){try{c(t.throw(n))}catch(l){i(l)}}function c(n){var l;n.done?e(n.value):(l=n.value,l instanceof o?l:new o((function(n){n(l)}))).then(a,r)}c((t=t.apply(n,l||[])).next())}))};const a=n({name:"InfiniteScroll",props:{distance:{type:Number,default:0},onLoad:Function,scrollbarProps:Object},setup(n){const o=l(null);let t=!1;const e=()=>i(this,void 0,void 0,(function*(){var l;const{value:e}=o;if(e){const{containerRef:o}=e,a=null==o?void 0:o.scrollHeight,r=null==o?void 0:o.clientHeight,c=null==o?void 0:o.scrollTop;if(o&&void 0!==a&&void 0!==r&&void 0!==c&&c+r>=a-n.distance){t=!0;try{yield null===(l=n.onLoad)||void 0===l?void 0:l.call(n)}catch(i){}t=!1}}}));return{scrollbarInstRef:o,handleScroll:()=>{t||e()},handleWheel:n=>{n.deltaY<=0||t||e()}}},render(){return o(e,Object.assign({},this.scrollbarProps,{ref:"scrollbarInstRef",onWheel:this.handleWheel,onScroll:this.handleScroll}),{default:()=>t(this.$slots.default,(()=>[]))})}});export{a as N};
