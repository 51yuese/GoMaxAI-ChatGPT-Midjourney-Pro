import{e,a6 as a,g as t,r as l,v as i,w as s,A as r,a2 as d,z as o,y as n,_ as p,o as v,j as c,a8 as g,P as u,t as x,B as m,F as y,D as f,H as k,E as b,x as E,a1 as h,S as C,T as F,M as B,bO as A,p as w,bP as j,Z as D,bQ as I,I as z}from"../main-da83e417.js";import{b as T,_ as M,a as G,n as S}from"../delImg copy/delImg copy.b4f22db1.js";import{a as J,_ as N}from"../draw-fail/draw-fail.ad8fd01b.js";import{_ as R,b as Y}from"../baiduThink/baiduThink.1514f96a.js";import{u as X}from"../useUpload/useUpload.38dff529.js";import{M as Q,a as W}from"../index/index.27c727e8.js";import"../index/index.5b75f753.js";const q={class:"dallTaskBox"},L=["src"],O={class:"dallTaskItem bg-[#F8F9F9] dark:bg-[#181818]",style:{padding:"12px","border-radius":"12px",display:"flex","margin-top":"12px"}},U={class:"avator"},V={class:"discord-avatar border border-[#E8E8E8] dark:border-[#2D2E33]"},P={key:0,src:T,alt:""},Z={key:1,src:N,alt:""},H={class:"content",style:{"margin-left":"12px",width:"100%"}},K={style:{display:"flex","justify-content":"space-between"}},_={style:{display:"flex",width:"50px",cursor:"pointer"}},$={key:0,src:"/static/svg/Delete-4144aadd.svg",alt:""},ee={key:1,src:"/static/svg/Delete copy-ae974714.svg",alt:""},ae={class:"title",style:{"margin-top":"4px"}},te=["src"],le={key:1,style:{width:"20%",height:"246px",display:"flex","justify-content":"center","align-items":"center"}},ie={key:0,style:{display:"flex","flex-direction":"column","align-items":"center"}},se={key:1,style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},re=p(e({__name:"index",props:{task:{type:Object}},setup(e){const p=a(),v=t((()=>"dark"===p.theme)),c=e,g=l(!1),u=l("");return(e,a)=>(i(),s("div",q,[g.value?(i(),s("div",{key:0,onClick:a[1]||(a[1]=e=>{g.value=!1,u.value=""}),class:"mask"},[r("img",{src:u.value,style:{width:"auto",height:"90%"},alt:"",onClick:a[0]||(a[0]=d((()=>{}),["stop"]))},null,8,L)])):o("",!0),r("div",O,[r("div",U,[r("div",V,[v.value?(i(),s("img",P)):(i(),s("img",Z))])]),r("div",H,[r("div",K,[a[4]||(a[4]=r("div",{style:{display:"flex","align-items":"center"}},[r("span",{class:"discord-en"},"DALL"),r("span",{class:"discord-cn dark:bg-[#101C18] bg-[#F3FBF8]"},"Ai机器人")],-1)),r("div",_,[v.value?(i(),s("img",ee)):(i(),s("img",$)),a[3]||(a[3]=r("p",{style:{"font-size":"14px","margin-top":"3px","margin-left":"4px"}},"删除",-1))])]),r("div",ae,n(c.task.prompt),1),r("div",null,[c.task.answer?(i(),s("img",{key:0,style:{width:"20%",height:"auto","margin-top":"12px",cursor:"pointer"},onClick:a[2]||(a[2]=e=>{return a=c.task,g.value=!0,void(u.value=a.thumbImg?a.thumbImg:a.answer);var a}),src:c.task.answer,alt:""},null,8,te)):(i(),s("div",le,[c.task.fail?(i(),s("div",ie,a[5]||(a[5]=[r("img",{src:J,alt:""},null,-1),r("p",{style:{"margin-top":"8px",color:"#D4237A"}},"绘画失败",-1)]))):(i(),s("div",se,a[6]||(a[6]=[r("div",{class:"loader"},null,-1),r("p",{style:{"margin-top":"12px"}},"生成中，请稍等...",-1)])))]))])])])]))}}),[["__scopeId","data-v-65568edc"]]),de="/static/svg/comeBack-cccc6b1c.svg",oe="/static/svg/comeBack copy-37a3cddc.svg",ne="/static/svg/delImg-51a7c91d.svg",pe={class:"promptBox dark:bg-[#2B2D31] bg-[#2B2D31]"},ve={key:0,style:{position:"relative",height:"100%",display:"flex","flex-direction":"column"}},ce={key:0,class:"SDpromptBox"},ge={class:"robotAvatarBox dark:bg-[#38393E] bg-[#FFFFFF]"},ue=["src"],xe={class:"selectModeBox"},me={class:"modeBox"},ye=["onClick"],fe={key:0,style:{width:"17px",height:"17px"},src:"/static/svg/selectMode_1-db516376.svg",alt:""},ke={key:1,style:{width:"17px",height:"17px"},src:"/static/svg/selectMode_1 copy-57a7edd1.svg",alt:""},be={style:{"margin-left":"12px"}},Ee={style:{"font-size":"16px"}},he={key:0,class:"vipImg",src:"data:image/png;base64,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",alt:""},Ce={class:"vipTime"},Fe={key:2,class:"ImgToTextBox"},Be={class:"top"},Ae={key:0,src:de,alt:""},we={key:1,src:oe,alt:""},je=["src"],De={key:1,class:"text-[#10A37F] dark:text-[#10A37F]"},Ie={key:0,src:ne,alt:""},ze={key:1,src:M,alt:""},Te={key:3,class:"imgMixImg",style:{height:"calc(100vh - 54px)"}},Me={class:"top"},Ge={key:0,src:de,alt:""},Se={key:1,src:oe,alt:""},Je={style:{display:"flex","flex-wrap":"wrap"}},Ne={style:{display:"flex","flex-wrap":"wrap"}},Re=["src"],Ye=["onClick"],Xe={key:0,src:ne,alt:""},Qe={key:1,src:M,alt:""},We=["src"],qe={key:1,class:"text-[#10A37F] dark:text-[#10A37F]"},Le={class:"sizeMain"},Oe=["onClick"],Ue={style:{height:"40px",display:"flex","align-items":"center"}},Ve={class:"text-[#8B8C8C] dark:text-[#6C6E79]"},Pe={key:4,class:"AIBox"},Ze={class:"top"},He={key:0,src:de,alt:""},Ke={key:1,src:oe,alt:""},_e=["src"],$e={key:1,class:"text-[#10A37F] dark:text-[#10A37F]"},ea={key:0,src:ne,alt:""},aa={key:1,src:M,alt:""},ta=["src"],la={key:1,class:"text-[#10A37F] dark:text-[#10A37F]"},ia={key:0,src:ne,alt:""},sa={key:1,src:M,alt:""},ra={key:5,class:"bottom border-t dark:border-[#2D2E33] border-[#E6E6E6]"},da={key:0},oa={key:1,class:"loader"},na={key:1,class:"dallBox"},pa={class:"inputBox dark:bg-[#383838] bg-[#FFFFFF] border dark:border-[#2C2D32] border-[#EBEBEB]"},va={style:{display:"flex","justify-content":"flex-end","margin-top":"24px"}},ca={class:"bottom border-t dark:border-[#2D2E33] border-[#E6E6E6]"},ga={key:0},ua={key:1,class:"loader"},xa=p(e({__name:"index",props:{type:String,drawType:String,isLoading:Boolean,makePrompt:String,isSuccess:Boolean},emits:["submit","mjVersionChange","submitData","dallprompt"],setup(e,{emit:p}){const w=v(),j=c(),D=t((()=>j.isLogin)),I=t((()=>j.userInfo)),z=!(!I.value||!I.value.lifetimeVip||"1"!=I.value.lifetimeVip);g();const T=a(),M=t((()=>"dark"===T.theme)),S=t((()=>"dark"==T.theme?"darkItem":"item")),J=t((()=>"dark"==T.theme?"darkItemSelect":"itemSelect text-white bg-gradient-to-r from-[#957DF4] to-[#3C69E7]")),N=t((()=>"dark"==T.theme?"#36373E":"rgba(142, 145, 166, 0.15)")),{selectFile:q}=X(),L=e;u(L,(e=>{0==e.isLoading&&(ka.value=""),e.isSuccess&&(K.value="",$.value="",ee.value="",_.value=[],oe.value=!1)}));const O=["imgToText","imgMixImg","AI"],U=p,V=l(""),P=l("");x({keys:["dialogueTail","robotAvatar","mjModel","relax_mjDeduction1","relax_mjDeduction2","fast_mjDeduction1","fast_mjDeduction2"]}).then((e=>{P.value=e.data.mjModel,V.value=e.data.robotAvatar}));const Z=l(5),H=[{name:"MJ6.1",intro:"MJv6.1震撼来袭",id:5,value:"--v 6.1"},{name:"MJ6.0",intro:"全新6.0ALPHA真实风，格图像",id:0,value:"--v 6.0"},{name:"MJ5.2",intro:"增强真实风格图像细节",id:1,value:"--v 5.2"},{name:"MJ5.1",intro:"专注真实艺术风格图像",id:2,value:"--v 5.1"},{name:"Nj6.0",intro:"官方最新动漫模型同步",id:3,value:"--niji 6"},{name:"Nj5.0",intro:"增强动漫风格图像细节",id:4,value:"--niji 5"}];"mj"===L.type?U("mjVersionChange",H[0].value):U("submit",H[0].value);const K=l(""),_=l([]),$=l(),ee=l();async function ae(e=1,a){if("imgmiximg"==a&&5==_.value.length)return void w.warning("最多上传5张图片");let t;if(1===e){if(t=await q(),!t)return void w.error("选择文件错误")}else t=e;(new FormData).append("file",t),function(e){return new Promise(((a,t)=>{const l=new FileReader;l.readAsDataURL(e),l.onload=function(){const e=l.result.split(",")[1];a(e)},l.onerror=function(){t(new Error("Failed to load file"))}}))}(t).then((e=>{let t="data:image/png;base64,"+e;if("imgToText"==a)K.value=t;else if("Ai1"==a)$.value=t;else if("Ai2"==a)ee.value=t;else if("imgmiximg"==a){if(0!=_.value.filter((e=>e==t)).length)return void w.error("不可重复上传相同的图片");_.value.push(t)}}))}function te(e,a){"imgMixImg"==a?_.value=_.value.filter((a=>a!=e)):"imgToText"==a?K.value="":"Ai1"==a?$.value="":"Ai2"==a&&(ee.value="")}const le=l(1);l(1);const ie=l(0),se=[{name:"头像框",intro:"1:2",value:"SQUARE",width:"16px",height:"16px",id:0},{name:"横板名片",intro:"3:2",value:"PORTRAIT",width:"23px",height:"16px",id:1},{name:"小红书",intro:"2:3",value:"LANDSCAPE",width:"16px",height:"23px",id:2}],re=l(se[ie.value].value);function de(){B.push("/draw/tool")}const oe=l(!1);function ne(){if(D.value){if("imgToText"==L.drawType){if(!K.value)return void w.error("请上传图片");oe.value=!0;let e={action:Q.IMAGE_TO_TEXT,mode:le.value,files:"",base64Array:[K.value],type:W.IMAGE_TO_TEXT};U("submitData",e),_.value=[],K.value=""}else if("imgMixImg"==L.drawType){if(_.value.length<2)return void w.error("请至少上传两张图片");oe.value=!0;let e={action:Q.IMAGE_MIX_IMAGE,mode:le.value,size:re.value,base64Array:_.value,type:W.IMAGE_MIX_IMAGE};U("submitData",e),_.value=[],K.value=""}else if("AI"==L.drawType){if(!$.value)return void w.error("请上传人脸模板图片");if(!ee.value)return void w.error("请上传替换人脸目标图");oe.value=!0;let e={params:{action:22,mode:le.value,sourceBase64:$.value,targetBase64:ee.value},type:W.INSIGHT_FACE};U("submitData",e),_.value=[],K.value=""}}else j.setLoginDialog(!0)}const xa=l(),ma=l(),ya=()=>{xa.value.open()},fa=()=>{ma.value.open()},ka=l("");function ba(e){ka.value=e}function Ea(){if(!D.value)return void j.setLoginDialog(!0);if(!ka.value)return void w.error("请输入画面描述");oe.value=!0;let e={n:1,prompt:ka.value,size:"1024x1024"};U("dallprompt",e)}return u(L,(e=>{ka.value=e.makePrompt})),(e,a)=>(i(),s("div",pe,[m(R,{ref_key:"inspirationRef",ref:xa,onDall:ba,type:"dall"},null,512),m(Y,{onDall:ba,type:"dall",ref_key:"thinkRef",ref:ma},null,512),"mj"===L.type?(i(),s("div",ve,["textToImg"==L.drawType?(i(),s("div",ce,[r("div",ge,[V.value?(i(),s("img",{key:0,style:{width:"73px",height:"73px","border-radius":"50%"},src:V.value,alt:""},null,8,ue)):o("",!0),a[9]||(a[9]=r("div",{style:{"text-align":"center","margin-top":"12px"}},[r("div",null,[r("span",{style:{"font-size":"14px",color:"#BDC0D5"}},"Mjdjourney"),r("span",{class:"AItext dark:bg-[#1C4638] bg-[#d8e1fa] text-[#10A37F]",style:{}},"AI")]),r("div",{class:"intro"}," 一款强大的人工智能绘画工具，为用户提供了各种创意的烩图功能。一次生成4张高质显的艺术创作 ")],-1))]),r("div",xe,[a[10]||(a[10]=r("div",{class:"",style:{display:"flex","align-items":"center"}},[r("p",{class:"dark:text-white text-[#333333] font-semibold",style:{"font-size":"16px"}},"模型广场")],-1)),r("div",me,[(i(),s(y,null,f(H,(e=>r("div",{class:k(Z.value==e.id?J.value:S.value),key:e.id,onClick:a=>function(e){Z.value=e.id,"mj"===L.type?U("mjVersionChange",e.value):U("submit",e.value)}(e)},[M.value?(i(),s("img",fe)):(i(),s("img",ke)),r("div",be,[r("p",Ee,n(e.name),1),r("p",{style:{"font-size":"12px"},class:k(Z.value==e.id?"intro text-[#fff]":"intro dark:text-[#6C6E79] text-[#8B8C8C]")},n(e.intro),3)])],10,ye))),64))])])])):o("",!0),"textToImg"==L.drawType?(i(),s("div",{key:1,class:"vipTimeBg dark:bg-[#24252b] bg-[#fff]",style:b({"border-top":`2px solid ${N.value}`})},[I.value&&I.value.vipExpire||E(z)?(i(),s("img",he)):o("",!0),r("p",Ce,n(E(z)?"会员到期日：永久会员":I.value&&I.value.vipExpire?"会员到期日："+E(A)(I.value.vipExpire,"YYYY-MM-DD"):"暂未开通会员"),1)],4)):o("",!0),"imgToText"==L.drawType?(i(),s("div",Fe,[r("div",Be,[r("div",{style:{display:"flex",padding:"12px",cursor:"pointer"},onClick:de},[M.value?(i(),s("img",Ae)):(i(),s("img",we)),a[11]||(a[11]=r("p",{style:{"margin-left":"4px"}},"返回",-1))]),a[12]||(a[12]=r("div",{style:{padding:"12px"}},[r("p",null,"工具箱-图片解析")],-1))]),a[13]||(a[13]=h('<div class="line bg-[#EBEBEB] dark:bg-[#222226]" data-v-6006079e></div><div class="" style="display:flex;align-items:center;margin-top:8px;" data-v-6006079e><div style="width:4px;height:8px;border-radius:4px;" class="bg-[#000] dark:bg-[#fff]" data-v-6006079e></div><p style="margin-left:4px;margin-top:3px;" data-v-6006079e>上传图片</p></div><div style="font-size:10px;" class="text-[#8B8C8C] dark:text-[#6C6E79]" data-v-6006079e>（请上传图片）</div>',3)),r("div",{class:"upload border-[2px] border-[#E9E9E9] dark:border-[#232327]",onClick:a[1]||(a[1]=e=>ae(1,"imgToText"))},[K.value?(i(),s("img",{key:0,src:K.value,alt:""},null,8,je)):(i(),s("p",De,"点击上传")),K.value?(i(),s("div",{key:2,class:"del dark:bg-[#19191B] bg-[#EFEFEF]",onClick:a[0]||(a[0]=d((e=>te(K.value,"imgToText")),["stop"]))},[M.value?(i(),s("img",ze)):(i(),s("img",Ie))])):o("",!0)]),a[14]||(a[14]=r("div",{class:"",style:{display:"flex","align-items":"center","margin-top":"8px"}},[r("div",{style:{width:"4px",height:"8px","border-radius":"4px"},class:"bg-[#000] dark:bg-[#fff]"}),r("p",{style:{"margin-left":"4px","margin-top":"3px"}},"温馨提示")],-1)),a[15]||(a[15]=r("div",{style:{"font-size":"10px"},class:"text-[#8B8C8C] dark:text-[#6C6E79]"}," 同官方的/describe命令系统将根据您上传的图片，解读出多个相关的提示词，您可以根据解读出的提示词重新绘制图像。 ",-1))])):o("",!0),"imgMixImg"==L.drawType?(i(),s("div",Te,[r("div",Me,[r("div",{style:{display:"flex",padding:"12px",cursor:"pointer"},onClick:de},[M.value?(i(),s("img",Ge)):(i(),s("img",Se)),a[16]||(a[16]=r("p",{style:{"margin-left":"4px"}},"返回",-1))]),a[17]||(a[17]=r("div",{style:{padding:"12px"}},[r("p",null,"工具箱-图片融合")],-1))]),a[18]||(a[18]=h('<div class="line bg-[#EBEBEB] dark:bg-[#222226]" data-v-6006079e></div><div class="" style="display:flex;align-items:center;margin-top:8px;" data-v-6006079e><div style="width:4px;height:8px;border-radius:4px;" class="bg-[#000] dark:bg-[#fff]" data-v-6006079e></div><p style="margin-left:4px;margin-top:3px;" data-v-6006079e>上传图片</p></div><div style="font-size:10px;" class="text-[#8B8C8C] dark:text-[#6C6E79]" data-v-6006079e>（请上传2-5张图片）</div>',3)),r("div",Je,[r("div",Ne,[(i(!0),s(y,null,f(_.value,((e,a)=>(i(),s("div",{class:"upload border-[2px] border-[#E9E9E9] dark:border-[#232327]",key:a},[e?(i(),s("img",{key:0,src:e,alt:""},null,8,Re)):o("",!0),r("div",{class:"del dark:bg-[#19191B] bg-[#EFEFEF]",onClick:a=>te(e,"imgMixImg")},[M.value?(i(),s("img",Qe)):(i(),s("img",Xe))],8,Ye)])))),128)),r("div",{class:"upload border-[2px] border-[#E9E9E9] dark:border-[#232327]",onClick:a[2]||(a[2]=e=>ae(1,"imgmiximg"))},[K.value?(i(),s("img",{key:0,src:K.value,alt:""},null,8,We)):(i(),s("p",qe,"点击上传"))])])]),a[19]||(a[19]=r("div",{class:"",style:{display:"flex","align-items":"center","margin-top":"8px"}},[r("div",{style:{width:"4px",height:"8px","border-radius":"4px"},class:"bg-[#000] dark:bg-[#fff]"}),r("p",{style:{"margin-left":"4px","margin-top":"3px"}},"图片尺寸")],-1)),a[20]||(a[20]=r("div",{style:{"font-size":"10px"},class:"text-[#8B8C8C] dark:text-[#6C6E79]"},"选择生成图像的宽度x高度",-1)),r("div",Le,[(i(),s(y,null,f(se,(e=>r("div",{class:k([ie.value==e.id?"dark:bg-[#101C18] dark:border-[#1E6953] bg-[#F3FBF8] border-[#86CFB5]":"dark:border-[#292A2E] dark:bg-[#111113] border-[#E8E8E8] bg-[#FFFFFF]","sizeItem border"]),key:e.id,onClick:a=>function(e){ie.value=e.id,re.value=e.value}(e)},[r("div",Ue,[r("div",{style:b({width:e.width,height:e.height}),class:k(["size border",ie.value==e.id?"border-[#86CFB5] dark:border-[#1E6953]":"dark:bg-[#19191B] dark:border-[#46484F] bg-[#F8F9F9] border-[#CDCECE]"])},null,6)]),r("p",Ve,n(e.intro),1),r("p",null,n(e.name),1)],10,Oe))),64))]),a[21]||(a[21]=r("div",{class:"",style:{display:"flex","align-items":"center","margin-top":"8px"}},[r("div",{style:{width:"4px",height:"8px","border-radius":"4px"},class:"bg-[#000] dark:bg-[#fff]"}),r("p",{style:{"margin-left":"4px","margin-top":"3px"}},"温馨提示")],-1)),a[22]||(a[22]=r("div",{style:{"font-size":"10px"},class:"text-[#8B8C8C] dark:text-[#6C6E79]"}," 同官方的/blend命令图混图，最多可以上传5张图片进行混图，图片越靠前，权重越高。",-1))])):o("",!0),"AI"==L.drawType?(i(),s("div",Pe,[r("div",Ze,[r("div",{style:{display:"flex",padding:"12px",cursor:"pointer"},onClick:de},[M.value?(i(),s("img",He)):(i(),s("img",Ke)),a[23]||(a[23]=r("p",{style:{"margin-left":"4px"}},"返回",-1))]),a[24]||(a[24]=r("div",{style:{padding:"12px"}},[r("p",null,"工具箱-Ai换脸")],-1))]),a[25]||(a[25]=h('<div class="line bg-[#EBEBEB] dark:bg-[#222226]" data-v-6006079e></div><div class="" style="display:flex;align-items:center;margin-top:8px;" data-v-6006079e><div style="width:4px;height:8px;border-radius:4px;" class="bg-[#000] dark:bg-[#fff]" data-v-6006079e></div><p style="margin-left:4px;margin-top:3px;font-size:12px;" data-v-6006079e>第一步，上传人脸模板图片</p></div><div style="font-size:10px;" class="text-[#8B8C8C] dark:text-[#6C6E79]" data-v-6006079e> 严禁上传违规图（政治人物、色情、暴恐等）违者100%封号 </div>',3)),r("div",{class:"upload border-[2px] border-[#E9E9E9] dark:border-[#232327]",onClick:a[4]||(a[4]=e=>ae(1,"Ai1"))},[$.value?(i(),s("img",{key:0,src:$.value,alt:""},null,8,_e)):(i(),s("p",$e,"点击上传")),$.value?(i(),s("div",{key:2,class:"del dark:bg-[#19191B] bg-[#EFEFEF]",onClick:a[3]||(a[3]=d((e=>te($.value,"Ai1")),["stop"]))},[M.value?(i(),s("img",aa)):(i(),s("img",ea))])):o("",!0)]),a[26]||(a[26]=h('<div style="font-size:10px;margin-top:10px;" class="text-[#8B8C8C] dark:text-[#6C6E79]" data-v-6006079e> 注意素材质量，保证脸部足够清晰，为了更好的效果，最好正脸。 </div><div class="" style="display:flex;align-items:center;margin-top:8px;" data-v-6006079e><div style="width:4px;height:8px;border-radius:4px;" class="bg-[#000] dark:bg-[#fff]" data-v-6006079e></div><p style="margin-left:4px;margin-top:3px;font-size:12px;" data-v-6006079e>第二步，上传需要替换人脸的目标图片</p></div><div style="font-size:10px;" class="text-[#8B8C8C] dark:text-[#6C6E79]" data-v-6006079e> 严禁上传违规图（政治人物、色情、暴恐等）违者100%封号</div>',3)),r("div",{class:"upload border-[2px] border-[#E9E9E9] dark:border-[#232327]",onClick:a[6]||(a[6]=e=>ae(1,"Ai2"))},[ee.value?(i(),s("img",{key:0,src:ee.value,alt:""},null,8,ta)):(i(),s("p",la,"点击上传")),ee.value?(i(),s("div",{key:2,class:"del dark:bg-[#19191B] bg-[#EFEFEF]",onClick:a[5]||(a[5]=d((e=>te(ee.value,"Ai2")),["stop"]))},[M.value?(i(),s("img",sa)):(i(),s("img",ia))])):o("",!0)]),a[27]||(a[27]=h('<div style="font-size:10px;margin-top:10px;" class="text-[#8B8C8C] dark:text-[#6C6E79]" data-v-6006079e> 最大2048x2048像素，不超过5MB，建议：五官无遮挡，角度小于20% </div><div style="font-size:10px;" class="text-[#8B8C8C] dark:text-[#6C6E79]" data-v-6006079e> 换脸操作只能在写实版人物上进行，漫回类因面部五官比例不统一，是无法完成换脸操作 </div><div class="" style="display:flex;align-items:center;margin-top:8px;" data-v-6006079e><div style="width:4px;height:8px;border-radius:4px;" class="bg-[#000] dark:bg-[#fff]" data-v-6006079e></div><p style="margin-left:4px;margin-top:3px;font-size:12px;" data-v-6006079e>第三步，提交任务</p></div><div style="font-size:10px;" class="text-[#8B8C8C] dark:text-[#6C6E79]" data-v-6006079e> 免责声明： 本功能效果太逼真！请遵守相关法律法规，反对非法用途，包括但不限于侵犯他人隐私、散布虚假信息，进行诈骗等行为！</div>',4))])):o("",!0),-1!=O.indexOf(L.drawType)?(i(),s("div",ra,[r("div",{class:"btn bg-gradient-to-r from-[#957DF4] to-[#3C69E7] dark:from-transparent dark:to-transparent text-white",onClick:ne},[oe.value?(i(),s("div",oa)):(i(),s("p",da,"提交任务"))])])):o("",!0)])):o("",!0),"dall"===L.type?(i(),s("div",na,[a[28]||(a[28]=h('<div class="" style="display:flex;align-items:center;justify-content:space-between;" data-v-6006079e><div style="display:flex;align-items:center;" data-v-6006079e><p style="margin-top:3px;font-size:12px;" data-v-6006079e>画面描述</p></div><div style="display:flex;align-items:center;" data-v-6006079e><img src="'+G+'" alt="" data-v-6006079e><p style="margin-left:4px;font-size:10px;" class="dark:text-[#6C6E79] text-[#8B8C8C]" data-v-6006079e>绘画说明</p></div></div>',1)),r("div",pa,[C(r("textarea",{"onUpdate:modelValue":a[7]||(a[7]=e=>ka.value=e),class:"Dallinp text-[#8B8C8C] dark:text-[#6C6E79]",type:"text",placeholder:"在此描述画面的关键词，注意不要再次填入萝莉、性感、血腥等敏感词内容，否则100%不会出图"},null,512),[[F,ka.value]]),r("div",va,[r("p",{style:{"font-size":"12px",cursor:"pointer"},class:"text-[#8B8C8C] dark:text-[#6C6E79]",onClick:a[8]||(a[8]=e=>ka.value="")},"清空")]),r("div",{style:{display:"flex","padding-top":"8px","align-items":"center"}},[r("div",{class:"public bg-[#F0F0F0] dark:bg-[#222325]",onClick:ya},"提示词"),r("div",{class:"public bg-[#F0F0F0] dark:bg-[#222325]",onClick:fa},"联想")])]),r("div",ca,[r("div",{onClick:Ea,class:"btn bg-gradient-to-r from-[#957DF4] to-[#3C69E7] text-white"},[L.isLoading?(i(),s("div",ua)):(i(),s("p",ga,"提交任务"))])])])):o("",!0)]))}}),[["__scopeId","data-v-6006079e"]]),ma={class:"bg-[#2B2D31] dark:bg-[#2B2D31]",style:{display:"flex",padding:"12px","box-sizing":"border-box",height:"100%",overflow:"hidden"}},ya={style:{flex:"1",display:"flex","flex-direction":"column","margin-left":"10px"},class:"contentBox border-l dark:border-[#2A2C30] border-[#EBEBEB] bg-[#fff] dark:bg-[#181818]"},fa=e({__name:"dall",setup(e){const a=v(),d=c(),o=t((()=>d.isLogin)),n=l(null);function p(){let e=n.value;e.scrollTo({top:e.scrollHeight+100,behavior:"smooth"}),console.log(e.scrollHeight)}u(o,(e=>{e&&k()})),w((()=>{setTimeout((()=>p()),300)}));const g=l([]);w((()=>{k()})),l(!1);const x={page:1,size:20,model:"DALL-E2"},k=async function(){const e=await j(x);g.value=e.data.reverse(),setTimeout((()=>p()),300)},b=l(!1);async function E(e){let t={id:0,prompt:e.prompt,answer:"",fail:!1};b.value=!0,g.value.push(t),setTimeout((()=>p()),300),await I(e).then((e=>{g.value[g.value.length-1].answer=e.data[0],b.value=!1,z.emit("getUserInfo",!0)})).catch((e=>{b.value=!1,g.value[g.value.length-1].fail=!0,a.error(e.message)}))}const h=l("");function C(e){h.value=e}return(e,a)=>(i(),s("div",ma,[m(xa,{type:"dall",makePrompt:h.value,isLoading:b.value,onDallprompt:E},null,8,["makePrompt","isLoading"]),r("div",ya,[r("div",{style:{flex:"1","overflow-y":"auto",padding:"12px"},ref_key:"taskBox",ref:n},[o.value&&0!=g.value.length?(i(!0),s(y,{key:0},f(g.value,(e=>(i(),D(re,{key:e.id,task:e},null,8,["task"])))),128)):(i(),D(S,{key:1,onHandleprompt:C}))],512)])]))}});export{fa as default};
