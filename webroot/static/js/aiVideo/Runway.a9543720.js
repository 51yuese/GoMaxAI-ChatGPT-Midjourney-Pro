import{e,k as t,b2 as a,p as i,r,g as l,aP as d,aQ as s,L as o,w as n,x as v,B as p,C as u,aH as c,y as x,aI as g,A as m,P as b,Q as E,z as f,F as y,E as h,a2 as k,a4 as F,ai as _,a0 as w,G as C,D as I,aD as A,$,dM as z,dN as T,_ as O}from"../main-a0b53047.js";import{_ as V}from"../aiVideoGou/aiVideoGou.56a8a6eb.js";import{_ as B,V as M}from"../VideoContentMain/VideoContentMain.5f9ff8d2.js";import{_ as j}from"../video_create/video_create.4f3c17fd.js";import"../KLingIcon3/KLingIcon3.6acffd30.js";import"../index/index.5b75f753.js";import"../Popconfirm/Popconfirm.a6d67891.js";const N={class:"video_sub_sidebar"},D={class:"scroll_card",style:{height:"100%","overflow-y":"scroll"}},S={key:0},U={style:{display:"flex","align-items":"center","margin-bottom":"6px",height:"66px"}},L={style:{width:"140px",position:"relative"},class:"customBox"},P={key:0,class:"newModel"},R={class:"custerSelect"},G=["onClick"],K={class:"name"},Q={key:0,class:"newModel"},J={style:{display:"flex","align-items":"stretch",height:"40px",border:"1px solid #E0E2E9","border-radius":"10px"}},W={style:{"margin-top":"12px"}},H={style:{border:"1px dashed #E0E2E9",color:"#9E9E9E","border-radius":"10px",padding:"10px"}},Z={style:{"font-size":"13px"}},q={key:0},X={style:{display:"flex","margin-bottom":"6px"}},Y={class:"dark:text-[#EEEEF0] text-[#1E1F1F] text-[12px]"},ee={class:"dark:text-[#6C6E79] text-[#8B8C8C] text-[10px]"},te={key:0,style:{height:"134px",padding:"8px","border-radius":"8px",display:"flex","align-items":"center","justify-content":"center"},class:"bg-[#FFF] dark:bg-[#111113] border border-[#E8E8E8] dark:border-[#292A2E]"},ae={class:"text-[12px] text-[#8B8C8C] dark:text-[#6C6E79]"},ie={class:"text-[12px] text-[#8B8C8C] dark:text-[#6C6E79]"},re={class:"text-[12px] text-[#3e6ae7]"},le={key:1,style:{height:"134px",padding:"8px","border-radius":"8px",display:"flex","align-items":"center","justify-content":"center"},class:"bg-[#FFF] dark:bg-[#111113] border border-[#E8E8E8] dark:border-[#292A2E]"},de=["src"],se={style:{"margin-top":"10px","padding-bottom":"10px"},class:"border-b border-[#E8E8E8] dark:border-[#292A2E]"},oe={style:{display:"flex","align-items":"center"}},ne={class:"text-[#1E1F1F] dark:text-[#EEEEF0] text-[12px]",style:{"margin-right":"10px"}},ve={style:{"margin-top":"20px"}},pe={style:{display:"flex","align-items":"center","margin-bottom":"6px"}},ue={class:"dark:text-[#EEEEF0] text-[#1E1F1F] text-[12px]"},ce={style:{width:"100%",height:"94px",padding:"8px","border-radius":"8px"},class:"bg-[#FFF] dark:bg-[#111113] border border-[#E8E8E8] dark:border-[#292A2E]"},xe=["placeholder"],ge={style:{"margin-top":"20px"}},me={style:{display:"flex","align-items":"center","margin-bottom":"6px"}},be={class:"dark:text-[#EEEEF0] text-[#1E1F1F] text-[12px]"},Ee={class:"size_card"},fe=["onClick"],ye={style:{"margin-top":"20px"}},he={style:{display:"flex","align-items":"center","margin-bottom":"6px"}},ke={class:"dark:text-[#EEEEF0] text-[#1E1F1F] text-[12px]"},Fe={class:"size_card new_size_card"},_e={style:{padding:"0 20px",position:"absolute",bottom:"20px",left:"0px",width:"100%"},class:"bg-[#F8F9F9] dark:bg-[#222325] border-t border-[#E8E8E8] dark:border-[#292A2E]"},we={key:0,class:"vipIcon",src:B,alt:""},Ce={key:0,style:{color:"#fff"}},Ie={key:1,style:{color:"#fff"}},Ae={key:2,style:{color:"#fff"}},$e={key:3,style:{color:"#fff"}},ze={key:4,style:{color:"#fff"}},Te={key:5,style:{color:"#fff"}},Oe=O(e({__name:"RunwaySidebar",emits:["generateInfo","changeTab"],setup(e,{emit:O}){const B=t(),M=a("videoBase"),Oe=i(),Ve=r(""),Be=l((()=>B.userInfo.vipLeavelId));let Me=r([]);d().then((e=>{Me.value=e.data}));const je=r(0),Ne=r(999),De=r(1),Se=O,Ue=l((()=>1===B.userInfo.lifetimeVip||B.userInfo.vipExpire&&new Date(B.userInfo.vipExpire)>new Date)),Le=r([{id:2,width:"20px",height:"12px",value:"16:9",size:"16:9"},{id:3,width:"12px",height:"20px",value:"9:16",size:"9:16"}]);let Pe=r(!1);const Re=r([]);s({modelType:"video",keyType:2}).then((e=>{console.log(e.data,"fetchQueryModelsListAPIMaps"),e.data&&e.data.rows&&e.data.rows[0].children&&(Re.value=e.data.rows[0].children)}));const Ge=l((()=>0==je.value&&Re.value.length>0?(console.log(Re.value.filter((e=>e.t2v)),"文生视频videoOptions.value"),Ke.value.model=Re.value.filter((e=>e.t2v))[0].value,Re.value.filter((e=>e.t2v))):1==je.value&&Re.value.length>0?(console.log(Re.value.filter((e=>e.i2v)),"图生视频videoOptions.value"),Ke.value.model=Re.value.filter((e=>e.i2v))[0].value,Re.value.filter((e=>e.i2v))):void 0)),Ke=r({prompt:"",ratio:"16:9",model:"gen3",image:"",last_image:"",keyType:2,modelOptions:{seconds:5,image_as_end_frame:!1,flip:!1}});function Qe(e){je.value=e}function Je(){Ve.value=""}function We(){if(Ye.value.isVipUsed&&-1===Ye.value.userType.indexOf(Be.value)){let e=Ye.value.userType.split(","),t="";return e.forEach(((a,i)=>{t+=Me.value.filter((e=>e.id==a))[0].dictName,i<e.length-1&&(t+=",")})),void Oe.error($("digitalMan.vipUse1")+t+$("digitalMan.vipUse2"))}M.create(Ze,"runway").then((e=>{Xe(),e&&Se("changeTab",1)}))}function He(e){Ke.value.modelOptions.seconds=e}function Ze(){const e=JSON.parse(JSON.stringify(Ke.value));let t="";return 1==je.value&&""==e.modelOptions.init_image?Oe.error($("AIvideo.img1Nodata")):null==Ve.value||""==Ve.value?Oe.error($("AIvideo.videoSceneNodata")):(t+=Ve.value,999!=Ne.value&&(t+=", "+M.videoData.value.styleData[Ne.value].dictName),e.prompt=t,e.image||delete e.image,e)}const qe=({focused:e,checked:t})=>{const a={};return t&&(a.background="linear-gradient(124deg, #957DF4 7%, #3C69E7 88%)"),e&&(a.boxShadow="0 0 0 2px #957df480"),a};function Xe(){B.isLogin?z({model:Ke.value.model,keyType:2,duration:Ke.value.modelOptions.seconds}).then((e=>{200===e.code?(Ye.value=e.data,et.value=!1):et.value=!0})).catch((e=>{et.value=!0})):T(Ke.value).then((e=>{Ye.value=e.data}))}const Ye=r({remainCount:0,freeCount:0,useIntegrate:0}),et=r(!1);return o((()=>Ke.value),((e,t)=>{Xe()}),{deep:!0,immediate:!0}),(e,t)=>(n(),v("div",N,[p("div",D,[Ge.value&&Ge.value.length>0?(n(),v("div",S,[p("div",U,[t[10]||(t[10]=p("div",{class:"dark:text-[#EEEEF0] text-[#000] text-[18px]",style:{"margin-right":"12px","font-weight":"500"}},"Runway视频",-1)),p("div",L,[u(x(g),{value:Ke.value.model,"onUpdate:value":t[0]||(t[0]=e=>Ke.value.model=e),options:Ge.value,onClick:t[1]||(t[1]=e=>c(Pe)?Pe.value=!x(Pe):Pe=!x(Pe)),show:!1},null,8,["value","options"]),Re.value.filter((e=>e.value==Ke.value.model))[0].new?(n(),v("div",P,"NEW")):m("",!0),b(p("div",R,[p("p",null,f(e.$t("draw.videoModelChose"))+":",1),(n(!0),v(y,null,h(Ge.value,(e=>(n(),v("div",{class:k(["selectItem",Ke.value.model==e.value?"active":""]),onClick:t=>{Ke.value.model=e.value,c(Pe)?Pe.value=!1:Pe=!1}},[p("div",K,[F(f(e.label)+" ",1),e.new?(n(),v("div",Q,"NEW ")):m("",!0)]),p("span",null,f(e.desc),1),t[9]||(t[9]=p("img",{src:V,alt:""},null,-1))],10,G)))),256))],512),[[E,x(Pe)]])])])])):m("",!0),p("div",J,[p("div",{class:k([0==je.value?"type_tab selected_type_tab bg-gradient-to-r from-[#574FFE] to-[#726AFB]  ":"type_tab","dark:text-[#EEEEF0] text-[#1E1F1F] text-[12px]"]),onClick:t[2]||(t[2]=e=>Qe(0))},f(e.$t("AIvideo.textToVideo")),3),p("div",{class:k([1==je.value?"type_tab selected_type_tab bg-gradient-to-r from-[#574FFE] to-[#726AFB] ":"type_tab","dark:text-[#EEEEF0] text-[#1E1F1F] text-[12px]"]),onClick:t[3]||(t[3]=e=>Qe(1))},f(e.$t("AIvideo.imgToVideo")),3)]),p("div",W,[p("div",H,[p("p",null,f(e.$t("draw.featureIntrod")),1),p("div",Z,f(e.$t("AIvideo.RunwayDesc")),1)]),1==je.value?(n(),v("div",q,[p("div",{style:{"margin-top":"20px",cursor:"pointer"},onClick:t[4]||(t[4]=e=>async function(){try{M.uploadFile().then((e=>{Ke.value.image=e}))}catch(e){Oe.error(e.message)}}())},[p("div",X,[p("div",null,[p("div",Y,f(e.$t("AIvideo.uploadFirstImg")),1),p("div",ee,f(e.$t("draw.PuploadImgText1")),1)])]),""==Ke.value.image?(n(),v("div",te,[p("div",ae,f(e.$t("draw.cankaoImgTuo")),1),p("div",ie,f(e.$t("draw.huo")),1),p("div",re,f(e.$t("digitalMan.clickUpload")),1)])):(n(),v("div",le,[p("img",{src:Ke.value.image,style:{width:"100%",height:"100%"}},null,8,de)]))]),p("div",se,[p("div",oe,[p("div",ne,f(e.$t("AIvideo.imgEndZhen")),1),p("div",null,[u(x(_),{modelValue:Ke.value.modelOptions.image_as_end_frame,"onUpdate:modelValue":t[5]||(t[5]=e=>Ke.value.modelOptions.image_as_end_frame=e),size:"small","rail-style":qe},null,8,["modelValue"])])])])])):m("",!0),p("div",ve,[p("div",pe,[p("div",ue,f(e.$t("AIvideo.videoScene")),1)]),p("div",ce,[b(p("textarea",{"onUpdate:modelValue":t[6]||(t[6]=e=>Ve.value=e),style:{width:"100%",height:"55px",resize:"none","background-color":"transparent"},class:"text-[12px] text-[#8B8C8C] dark-[#6C6E79]",placeholder:e.$t("AIvideo.videoSceneText1")},null,8,xe),[[w,Ve.value]]),p("div",{style:{width:"100%","text-align":"right",cursor:"pointer"},class:"text-[12px] text-[#8B8C8C] dark-[#6C6E79]",onClick:Je},f(e.$t("common.clear")),1)])]),p("div",ge,[p("div",me,[p("div",be,f(e.$t("draw.sizeChose")),1)]),p("div",Ee,[(n(!0),v(y,null,h(Le.value,((e,t)=>(n(),v("div",{class:k(De.value==t?"size_item selected dark:bg-[#383838] bg-gradient-to-b from-[#574FFE] to-[#726AFB] dark:from-transparent dark:to-transparent border dark:border-[#1E6953] border-transparent":"size_item dark:bg-[#383838] bg-[#FFF] border dark:border-[#292A2E] border-transparent"),key:e.id,onClick:a=>function(e,t){Ke.value.ratio=t,De.value=e}(t,e.size)},[p("div",{style:C([{width:e.width,height:e.height},{"border-radius":"2px","margin-bottom":"4px"}]),class:k(De.value==t?"bg-[#FFFFFF]  border border-transparent dark:border-transparent":"bg-[#fff]  border border-transparent dark:border-[#46484F]")},null,6),p("div",{class:k(["text-[12px] dark:text-[#EEEEF0] text-[#333333]",De.value==t?"text-white":""])},f(e.value),3)],10,fe)))),128))])]),p("div",ye,[p("div",he,[p("div",ke,f(e.$t("AIvideo.videoGenTime")),1)]),p("div",Fe,[p("div",{class:k(5==Ke.value.modelOptions.seconds?"size_item selected dark:bg-[#383838] bg-gradient-to-b from-[#574FFE] to-[#726AFB] dark:from-transparent dark:to-transparent border dark:border-[#1E6953] border-transparent":"size_item dark:bg-[#383838] bg-[#FFF] border dark:border-[#292A2E] border-transparent"),onClick:t[7]||(t[7]=e=>He(5))},[p("div",{class:k(["text-[12px] dark:text-[#EEEEF0] text-[#333333]",5==Ke.value.modelOptions.seconds?"text-white":""])},"5秒",2)],2),p("div",{class:k(10==Ke.value.modelOptions.seconds?"size_item selected dark:bg-[#383838] bg-gradient-to-b from-[#574FFE] to-[#726AFB] dark:from-transparent dark:to-transparent border dark:border-[#1E6953] border-transparent":"size_item dark:bg-[#383838] bg-[#FFF] border dark:border-[#292A2E] border-transparent"),onClick:t[8]||(t[8]=e=>He(10))},[p("div",{class:k(["text-[12px] dark:text-[#EEEEF0] text-[#333333]",10==Ke.value.modelOptions.seconds?"text-white":""])},"10秒",2)],2)])])])]),p("div",_e,[Ye.value&&Ye.value.isVipUsed?(n(),v("img",we)):m("",!0),u(x(A),{loading:x(M).videoData.value.generate,tertiary:"",class:"bg-gradient-to-r from-[#574FFE] to-[#726AFB]",style:{width:"100%",height:"64px","font-size":"15px","border-radius":"10px",padding:"12px 0","margin-top":"12px"},onClick:We},{default:I((()=>[t[11]||(t[11]=p("img",{src:j,style:{"margin-right":"5px"}},null,-1)),et.value?(n(),v("span",Ce,f(e.$t("draw.modelNotSet")),1)):x(B).isLogin?Ye.value&&Ye.value.isVipFree&&Ue.value?(n(),v("span",Ae,f(e.$t("chat.vipFree")),1)):Ye.value&&Ye.value.remainCount&&Ue.value?(n(),v("span",$e,f(e.$t("draw.shenyu")+Ye.value.remainCount+e.$t("draw.chiFree")),1)):Ye.value?(n(),v("span",ze,f(Ye.value.useIntegrate+e.$t("chat.pointsChi")),1)):(n(),v("span",Te,f(e.$t("draw.gen")),1)):(n(),v("span",Ie,f(e.$t("draw.beginGen")),1))])),_:1,__:[11]},8,["loading"])])]))}}),[["__scopeId","data-v-f648af9b"]]),Ve={style:{display:"flex"}},Be=e({__name:"Runway",setup(e){const t=r();function a(){t.value&&t.value.changeTypeIndex(1)}return(e,i)=>(n(),v("div",Ve,[u(Oe,{onChangeTab:a}),u(M,{ref_key:"mainRef",ref:t,title:"Runway",subType:"2"},null,512)]))}});export{Be as default};
