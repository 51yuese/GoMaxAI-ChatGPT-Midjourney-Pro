import{e,k as t,b7 as a,p as r,r as i,g as d,aP as s,L as o,w as l,x as n,B as p,a2 as v,z as u,C as c,y as x,ai as g,A as m,P as b,a0 as E,F as y,E as f,G as F,aI as k,D as h,aD as _,$ as C,dU as w,dV as I,_ as A}from"../main-4156cf5e.js";import{_ as $,V as z}from"../VideoContentMain/VideoContentMain.0ab2e29f.js";import{_ as T}from"../video_create/video_create.4f3c17fd.js";import"../KLingIcon3/KLingIcon3.6acffd30.js";import"../index/index.5b75f753.js";import"../Popconfirm/Popconfirm.c9db7ff9.js";const V={class:"video_sub_sidebar"},B={class:"scroll_card",style:{height:"100%","overflow-y":"scroll"}},O={style:{display:"flex","align-items":"stretch",height:"40px",border:"1px solid #E0E2E9","border-radius":"10px"}},D={style:{"margin-top":"12px"}},U={style:{border:"1px dashed #E0E2E9",color:"#9E9E9E","border-radius":"10px",padding:"10px"}},j={style:{"font-size":"13px"}},S={key:0},L={style:{display:"flex","margin-bottom":"6px"}},N={class:"dark:text-[#EEEEF0] text-[#1E1F1F] text-[12px]"},M={class:"dark:text-[#6C6E79] text-[#8B8C8C] text-[10px]"},P={key:0,style:{height:"134px",padding:"8px","border-radius":"8px",display:"flex","align-items":"center","justify-content":"center"},class:"bg-[#FFF] dark:bg-[#111113] border border-[#E8E8E8] dark:border-[#292A2E]"},R={class:"text-[12px] text-[#8B8C8C] dark:text-[#6C6E79]"},G={class:"text-[12px] text-[#8B8C8C] dark:text-[#6C6E79]"},J={class:"text-[12px] text-[#3e6ae7]"},K={key:1,style:{height:"134px",padding:"8px","border-radius":"8px",display:"flex","align-items":"center","justify-content":"center"},class:"bg-[#FFF] dark:bg-[#111113] border border-[#E8E8E8] dark:border-[#292A2E]"},H=["src"],Z={style:{"margin-top":"10px","padding-bottom":"10px"},class:"border-b border-[#E8E8E8] dark:border-[#292A2E]"},q={style:{display:"flex","align-items":"center"}},Q={class:"text-[#1E1F1F] dark:text-[#EEEEF0] text-[12px]",style:{"margin-right":"10px"}},W={style:{"margin-top":"20px"}},X={style:{display:"flex","align-items":"center","margin-bottom":"6px"}},Y={class:"dark:text-[#EEEEF0] text-[#1E1F1F] text-[12px]"},ee={style:{width:"100%",height:"94px",padding:"8px","border-radius":"8px"},class:"bg-[#FFF] dark:bg-[#111113] border border-[#E8E8E8] dark:border-[#292A2E]"},te=["placeholder"],ae={style:{"margin-top":"20px"}},re={style:{display:"flex","align-items":"center","margin-bottom":"6px"}},ie={class:"dark:text-[#EEEEF0] text-[#1E1F1F] text-[12px]"},de={class:"size_card"},se=["onClick"],oe={style:{"margin-top":"20px"}},le={style:{display:"flex","align-items":"center","margin-bottom":"6px"}},ne={class:"dark:text-[#EEEEF0] text-[#1E1F1F] text-[12px]"},pe={class:"size_card new_size_card"},ve={key:1,style:{"margin-top":"20px"}},ue={style:{display:"flex","align-items":"center","margin-bottom":"6px"}},ce={class:"dark:text-[#EEEEF0] text-[#1E1F1F] text-[12px]"},xe={style:{padding:"0 20px",position:"absolute",bottom:"20px",left:"0px",width:"100%"},class:"bg-[#F8F9F9] dark:bg-[#222325] border-t border-[#E8E8E8] dark:border-[#292A2E]"},ge={key:0,class:"vipIcon",src:$,alt:""},me={key:0,style:{color:"#fff"}},be={key:1,style:{color:"#fff"}},Ee={key:2,style:{color:"#fff"}},ye={key:3,style:{color:"#fff"}},fe={key:4,style:{color:"#fff"}},Fe={key:5,style:{color:"#fff"}},ke=A(e({__name:"RunwaySidebar",emits:["generateInfo","changeTab"],setup(e,{emit:A}){const $=t(),z=a("videoBase"),ke=r(),he=i(""),_e=d((()=>$.userInfo.vipLeavelId));let Ce=i([]);s().then((e=>{Ce.value=e.data}));const we=i(0),Ie=i(999),Ae=i(1),$e=A,ze=d((()=>1===$.userInfo.lifetimeVip||$.userInfo.vipExpire&&new Date($.userInfo.vipExpire)>new Date)),Te=i([{id:2,width:"20px",height:"12px",value:"16:9",size:"16:9"},{id:3,width:"12px",height:"20px",value:"9:16",size:"9:16"}]),Ve=i([{label:"gen2",value:"gen2"},{label:"gen3",value:"gen3"}]),Be=i({prompt:"",ratio:"16:9",model:"gen3",image:"",last_image:"",keyType:2,modelOptions:{seconds:5,image_as_end_frame:!1,flip:!1}});function Oe(e){we.value=e}function De(){he.value=""}function Ue(){if(Me.value.isVipUsed&&-1===Me.value.userType.indexOf(_e.value)){let e=Me.value.userType.split(","),t="";return e.forEach(((a,r)=>{t+=Ce.value.filter((e=>e.id==a))[0].dictName,r<e.length-1&&(t+=",")})),void ke.error(C("digitalMan.vipUse1")+t+C("digitalMan.vipUse2"))}z.create(Se,"runway").then((e=>{Ne(),e&&$e("changeTab",1)}))}function je(e){Be.value.modelOptions.seconds=e}function Se(){const e=JSON.parse(JSON.stringify(Be.value));let t="";return 1==we.value&&""==e.modelOptions.init_image?ke.error(C("AIvideo.img1Nodata")):null==he.value||""==he.value?ke.error(C("AIvideo.videoSceneNodata")):(t+=he.value,999!=Ie.value&&(t+=", "+z.videoData.value.styleData[Ie.value].dictName),e.prompt=t,e.image||delete e.image,e)}const Le=({focused:e,checked:t})=>{const a={};return t&&(a.background="linear-gradient(124deg, #957DF4 7%, #3C69E7 88%)"),e&&(a.boxShadow="0 0 0 2px #957df480"),a};function Ne(){$.isLogin?w({model:Be.value.model,keyType:2,duration:Be.value.modelOptions.seconds}).then((e=>{200===e.code?(Me.value=e.data,Pe.value=!1):Pe.value=!0})).catch((e=>{Pe.value=!0})):I(Be.value).then((e=>{Me.value=e.data}))}const Me=i({remainCount:0,freeCount:0,useIntegrate:0}),Pe=i(!1);return o((()=>Be.value),((e,t)=>{Ne()}),{deep:!0,immediate:!0}),(e,t)=>(l(),n("div",V,[p("div",B,[p("div",O,[p("div",{class:v([0==we.value?"type_tab selected_type_tab bg-gradient-to-r from-[#574FFE] to-[#726AFB]  ":"type_tab","dark:text-[#EEEEF0] text-[#1E1F1F] text-[12px]"]),onClick:t[0]||(t[0]=e=>Oe(0))},u(e.$t("AIvideo.textToVideo")),3),p("div",{class:v([1==we.value?"type_tab selected_type_tab bg-gradient-to-r from-[#574FFE] to-[#726AFB] ":"type_tab","dark:text-[#EEEEF0] text-[#1E1F1F] text-[12px]"]),onClick:t[1]||(t[1]=e=>Oe(1))},u(e.$t("AIvideo.imgToVideo")),3)]),p("div",D,[p("div",U,[p("p",null,u(e.$t("draw.featureIntrod")),1),p("div",j,u(e.$t("AIvideo.RunwayDesc")),1)]),1==we.value?(l(),n("div",S,[p("div",{style:{"margin-top":"20px",cursor:"pointer"},onClick:t[2]||(t[2]=e=>async function(){try{z.uploadFile().then((e=>{Be.value.image=e}))}catch(e){ke.error(e.message)}}())},[p("div",L,[p("div",null,[p("div",N,u(e.$t("AIvideo.uploadFirstImg")),1),p("div",M,u(e.$t("draw.PuploadImgText1")),1)])]),""==Be.value.image?(l(),n("div",P,[p("div",R,u(e.$t("draw.cankaoImgTuo")),1),p("div",G,u(e.$t("draw.huo")),1),p("div",J,u(e.$t("digitalMan.clickUpload")),1)])):(l(),n("div",K,[p("img",{src:Be.value.image,style:{width:"100%",height:"100%"}},null,8,H)]))]),p("div",Z,[p("div",q,[p("div",Q,u(e.$t("AIvideo.imgEndZhen")),1),p("div",null,[c(x(g),{modelValue:Be.value.modelOptions.image_as_end_frame,"onUpdate:modelValue":t[3]||(t[3]=e=>Be.value.modelOptions.image_as_end_frame=e),size:"small","rail-style":Le},null,8,["modelValue"])])])])])):m("",!0),p("div",W,[p("div",X,[p("div",Y,u(e.$t("AIvideo.videoScene")),1)]),p("div",ee,[b(p("textarea",{"onUpdate:modelValue":t[4]||(t[4]=e=>he.value=e),style:{width:"100%",height:"55px",resize:"none","background-color":"transparent"},class:"text-[12px] text-[#8B8C8C] dark-[#6C6E79]",placeholder:e.$t("AIvideo.videoSceneText1")},null,8,te),[[E,he.value]]),p("div",{style:{width:"100%","text-align":"right",cursor:"pointer"},class:"text-[12px] text-[#8B8C8C] dark-[#6C6E79]",onClick:De},u(e.$t("common.clear")),1)])]),p("div",ae,[p("div",re,[p("div",ie,u(e.$t("draw.sizeChose")),1)]),p("div",de,[(l(!0),n(y,null,f(Te.value,((e,t)=>(l(),n("div",{class:v(Ae.value==t?"size_item selected dark:bg-[#383838] bg-gradient-to-b from-[#574FFE] to-[#726AFB] dark:from-transparent dark:to-transparent border dark:border-[#1E6953] border-transparent":"size_item dark:bg-[#383838] bg-[#FFF] border dark:border-[#292A2E] border-transparent"),key:e.id,onClick:a=>function(e,t){Be.value.ratio=t,Ae.value=e}(t,e.size)},[p("div",{style:F([{width:e.width,height:e.height},{"border-radius":"2px","margin-bottom":"4px"}]),class:v(Ae.value==t?"bg-[#FFFFFF]  border border-transparent dark:border-transparent":"bg-[#fff]  border border-transparent dark:border-[#46484F]")},null,6),p("div",{class:v(["text-[12px] dark:text-[#EEEEF0] text-[#333333]",Ae.value==t?"text-white":""])},u(e.value),3)],10,se)))),128))])]),p("div",oe,[p("div",le,[p("div",ne,u(e.$t("AIvideo.videoGenTime")),1)]),p("div",pe,[p("div",{class:v(5==Be.value.modelOptions.seconds?"size_item selected dark:bg-[#383838] bg-gradient-to-b from-[#574FFE] to-[#726AFB] dark:from-transparent dark:to-transparent border dark:border-[#1E6953] border-transparent":"size_item dark:bg-[#383838] bg-[#FFF] border dark:border-[#292A2E] border-transparent"),onClick:t[5]||(t[5]=e=>je(5))},[p("div",{class:v(["text-[12px] dark:text-[#EEEEF0] text-[#333333]",5==Be.value.modelOptions.seconds?"text-white":""])},"5秒",2)],2),p("div",{class:v(10==Be.value.modelOptions.seconds?"size_item selected dark:bg-[#383838] bg-gradient-to-b from-[#574FFE] to-[#726AFB] dark:from-transparent dark:to-transparent border dark:border-[#1E6953] border-transparent":"size_item dark:bg-[#383838] bg-[#FFF] border dark:border-[#292A2E] border-transparent"),onClick:t[6]||(t[6]=e=>je(10))},[p("div",{class:v(["text-[12px] dark:text-[#EEEEF0] text-[#333333]",10==Be.value.modelOptions.seconds?"text-white":""])},"10秒",2)],2)])]),Ve.value&&Ve.value.length>1?(l(),n("div",ve,[p("div",ue,[p("div",ce,u(e.$t("AIvideo.videoModel")),1)]),p("div",null,[c(x(k),{value:Be.value.model,"onUpdate:value":t[7]||(t[7]=e=>Be.value.model=e),options:Ve.value},null,8,["value","options"])])])):m("",!0)])]),p("div",xe,[Me.value&&Me.value.isVipUsed?(l(),n("img",ge)):m("",!0),c(x(_),{loading:x(z).videoData.value.generate,tertiary:"",class:"bg-gradient-to-r from-[#574FFE] to-[#726AFB]",style:{width:"100%",height:"64px","font-size":"15px","border-radius":"10px",padding:"12px 0","margin-top":"12px"},onClick:Ue},{default:h((()=>[t[8]||(t[8]=p("img",{src:T,style:{"margin-right":"5px"}},null,-1)),Pe.value?(l(),n("span",me,u(e.$t("draw.modelNotSet")),1)):x($).isLogin?Me.value&&Me.value.isVipFree&&ze.value?(l(),n("span",Ee,u(e.$t("chat.vipFree")),1)):Me.value&&Me.value.remainCount&&ze.value?(l(),n("span",ye,u(e.$t("draw.shenyu")+Me.value.remainCount+e.$t("draw.chiFree")),1)):Me.value?(l(),n("span",fe,u(Me.value.useIntegrate+e.$t("chat.pointsChi")),1)):(l(),n("span",Fe,u(e.$t("draw.gen")),1)):(l(),n("span",be,u(e.$t("draw.beginGen")),1))])),_:1,__:[8]},8,["loading"])])]))}}),[["__scopeId","data-v-ecbd810b"]]),he={style:{display:"flex"}},_e=e({__name:"Runway",setup(e){const t=i();function a(){t.value&&t.value.changeTypeIndex(1)}return(e,r)=>(l(),n("div",he,[c(ke,{onChangeTab:a}),c(z,{ref_key:"mainRef",ref:t,title:"Runway",subType:"2"},null,512)]))}});export{_e as default};
