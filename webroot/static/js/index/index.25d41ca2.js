import{_ as e,a}from"../draw-fail/draw-fail.ad8fd01b.js";import{e as s,an as t,r as l,j as i,A as o,Q as n,ac as r,a3 as c,S as d,R as u,a2 as p,a8 as v,ao as k,a4 as f,W as g,a9 as m,U as y,bm as b,ap as x,a0 as h,am as w,aR as _,bn as I,aa as C,bo as A,bp as U,a7 as E,bq as R,X as T,H as j,be as V,aQ as O,ax as S,br as N,bs as P,aE as L,bt as M,Z as F,_ as G,$ as Z}from"../main-f2e6132a.js";import{u as q}from"./index.5b75f753.js";import{S as z}from"./index.5af60b3c.js";import{g as B,M as D}from"../draw/draw.a7ba2d86.js";import{M as X,b as Y,c as Q,d as H,a as W}from"./index.27c727e8.js";import{N as $}from"../Popconfirm/Popconfirm.54287f3d.js";const J={class:"relative"},K={class:"flex-1 flex items-center justify-center relative h-full"},ee={key:0,class:"absolute top-0 h-[640px]"},ae={class:"w-full h-full justify-center items-center flex"},se={class:"absolute left-0 top-0 flex justify-center items-center",id:"appbody"},te={class:"flex inset-x-0 bottom-0 w-full items-end justify-between p-3 gap-4"},le=["onClick"],ie={class:"flex items-end flex-1 gap-4"},oe=["disabled"],ne=s({__name:"index",props:{taskId:{}},emits:["close"],setup(e,{emit:a}){const s=e,h=a,w=[{label:"rect",value:0,icon:"rect"},{label:"lasso",value:.5,icon:"lasso"}],_=t(),I=l(),C=l(0),A=l(),U=l(0),E=l(!0),R=l(""),T=i((()=>Boolean(s.taskId))),j=async function(){R.value="",U.value=0,E.value=!0;const e=await B(s.taskId),a=await(t=e.data,new Promise((async e=>{const a=new Image;a.src=t,a.onload=()=>e(a)})));var t;E.value=!1,I.value=new D(A.value,a)},V=()=>{var e;null==(e=I.value)||e.undo()},O=function(){var e;1!=C.value&&(C.value=1,null==(e=I.value)||e.submit().then((async e=>{h("close",{mask:e,taskId:s.taskId,prompt:R.value,action:X.VARY_REGION})})).catch((e=>{_.error(e),C.value=0})))};return o((()=>s.taskId),(e=>{var a;e?j():null==(a=I.value)||a.destroy()})),(e,a)=>(n(),r(v(x),{show:T.value,"mask-closable":!1,"show-icon":!1,preset:"dialog",style:{width:"1200px",height:"800px"},title:"Âå∫ÂüüÈáçÁªò",onClose:a[1]||(a[1]=e=>h("close"))},{default:c((()=>[d("div",J,[d("div",K,[E.value?(n(),u("div",ee,[d("div",ae,[p(v(k),{size:"large"})])])):f("",!0),d("canvas",{ref_key:"canvasRef",ref:A,resize:"true",style:{padding:"0px",margin:"0px",width:"1024px",height:"640px"}},null,512)]),d("div",se,[d("button",{onClick:V,class:"rounded-full bg-[#5a91fc] dark:bg-[#888] w-8 h-8"},[p(v(z),{name:"undo",class:"text-white"})])]),d("div",te,[(n(),u(y,null,g(w,(e=>d("div",{class:"flex gap-2",onClick:a=>(e=>{var a;U.value=e.value,null==(a=I.value)||a.updateTool(e.value)})(e)},[d("button",{class:m(["rounded-full w-8 h-8",[e.value===U.value?"bg-[#10A37F] dark:bg-[#10A37F]":"bg-[#5a91fc] dark:bg-[#888]"]])},[p(v(z),{name:e.icon,class:"text-white"},null,8,["name"])],2)],8,le))),64)),d("div",ie,[p(v(b),{value:R.value,"onUpdate:value":a[0]||(a[0]=e=>R.value=e),rows:2,class:"resize-none overflow-hidden flex-1 !border-gray-200 rounded bg-[#f4f4f4] dark:bg-[#010102]",placeholder:"ËæìÂÖ•ÊèèËø∞‰ø°ÊÅØ"},null,8,["value"]),d("button",{class:"rounded-full bg-[#10A37F] dark:bg-[#10A37F] w-8 h-8",disabled:!R.value,onClick:O},[C.value?(n(),r(v(k),{key:0,size:18,stroke:"#fff",style:{"margin-top":"5px"}})):(n(),r(v(z),{key:1,name:"send",class:"text-white"}))],8,oe)])])])])),_:1},8,["show"]))}}),re={class:"my-8"},ce=d("div",null,"ÈÄâÊã©ÂπøÂú∫Á±ªÂûã",-1),de=s({__name:"index",props:{taskId:{}},emits:["close"],setup(e,{emit:a}){const s=t(),o=e,u=a,k=i((()=>Boolean(o.taskId))),f=h({squareType:""}),g=l([]),m=async()=>{const e=await C({page:1,size:100});g.value=e.data.rows,g.value.length&&(f.squareType=g.value[0].value)},y=async()=>{await A({id:o.taskId,squareType:f.squareType})&&s.success("ÂèëÂ∏ÉÂà∞ÂπøÂú∫ÊàêÂäü"),u("close",!0)};return(e,a)=>(n(),r(v(x),{show:k.value,"mask-closable":!1,"show-icon":!1,preset:"dialog",title:"ÂèëÂ∏ÉÂà∞ÂπøÂú∫",onAfterEnter:m,onClose:a[2]||(a[2]=e=>u("close",!1))},{action:c((()=>[p(v(_),{round:"",onClick:a[1]||(a[1]=e=>u("close",!1))},{default:c((()=>[w("ÂèñÊ∂à")])),_:1}),p(v(_),{round:"",type:"primary",onClick:y},{default:c((()=>[w("ÂèëÂ∏É")])),_:1})])),default:c((()=>[d("div",re,[ce,d("div",null,[p(v(I),{class:"dark:bg-[#010102]",value:f.squareType,"onUpdate:value":a[0]||(a[0]=e=>f.squareType=e),placeholder:"ÈÄâÊã©ÂπøÂú∫Á±ªÂûã","label-field":"name",options:g.value},null,8,["value","options"])])])])),_:1},8,["show"]))}}),ue={class:"my-8"},pe=d("div",null,"ËæìÂÖ•Êñ∞ÁöÑÁªòÂõæÊèèËø∞",-1),ve=s({__name:"index",props:{taskId:{}},emits:["close"],setup(e,{emit:a}){const s=t(),u=e,k=a,f=l(""),g=i((()=>Boolean(u.taskId)));o((()=>g),(e=>{e&&(f.value="")}));return(e,a)=>(n(),r(v(x),{show:g.value,"mask-closable":!1,"show-icon":!1,preset:"dialog",title:"ÊèèËø∞Ë°•ÂÖÖ",onClose:a[3]||(a[3]=e=>k("close"))},{action:c((()=>[p(v(_),{round:"",onClick:a[1]||(a[1]=e=>k("close"))},{default:c((()=>[w("ÂèñÊ∂à")])),_:1}),p(v(_),{round:"",type:"primary",onClick:a[2]||(a[2]=e=>{f.value?k("close",f.value):s.warning("ÊèèËø∞Ë°•ÂÖÖ‰∏çËÉΩ‰∏∫Á©∫ÔºÅ")})},{default:c((()=>[w("Á°ÆÂÆö")])),_:1})])),default:c((()=>[d("div",ue,[pe,p(v(b),{value:f.value,"onUpdate:value":a[0]||(a[0]=e=>f.value=e),placeholder:"ËæìÂÖ•Êñ∞ÁöÑÁªòÂõæÊèèËø∞",type:"textarea",resizable:!1,rows:7},null,8,["value"])])])),_:1},8,["show"]))}}),ke=e=>(F("data-v-ade553d1"),e=e(),G(),e),fe={key:0,style:{width:"100%"}},ge={class:"discord-avatar border border-[#E8E8E8] dark:border-[#2D2E33] dark:bg-[#fff]"},me={key:0,src:"/static/png/botAvatar-253a5030.png",style:{width:"26px",height:"26px"},alt:""},ye={key:1,src:e,alt:""},be={style:{display:"flex","justify-content":"space-between"}},xe={style:{display:"flex","align-items":"center"}},he=ke((()=>d("span",{class:"discord-en"},"Midjourney Bot",-1))),we=ke((()=>d("span",{class:"discord-cn"},"AIÊú∫Âô®‰∫∫",-1))),_e={style:{"margin-left":"10px"}},Ie={class:"task-time"},Ce={class:"task-delete"},Ae=ke((()=>d("span",null,"Âà†Èô§",-1))),Ue={class:"origin-prompt"},Ee=ke((()=>d("div",{style:{width:"100%","background-color":"#5A504A",height:"1px","margin-top":"8px"}},null,-1))),Re={class:"en-prompt"},Te={key:1,style:{width:"100%"}},je={style:{display:"flex","justify-content":"space-between"}},Ve={class:"action-text"},Oe={style:{flex:"1",display:"flex","align-items":"center","justify-content":"end"}},Se={class:"full-prompt"},Ne={key:0,class:"loader-box"},Pe=ke((()=>d("div",{class:"loader"},null,-1))),Le={key:0},Me={key:1,class:"loader-box"},Fe=[ke((()=>d("div",{class:"loader"},null,-1))),ke((()=>d("span",null,"ÊéíÈòü‰∏≠",-1)))],Ge={key:3,src:a,alt:""},Ze={key:4,style:{height:"400px",width:"400px"}},qe={class:"btn-desc"},ze={style:{"margin-right":"6px",color:"#DBD2CF","font-size":"16px"}},Be=ke((()=>d("img",{src:"/static/svg/info-1f57612a.svg",alt:"",srcset:""},null,-1))),De=["onClick"],Xe={key:0},Ye={key:1},Qe=[ke((()=>d("div",{class:"loader"},null,-1)))],He={key:1},We=ke((()=>d("span",null,"‰ªªÂä°Â§±Ë¥•:",-1))),$e={key:2,style:{bottom:"16px",display:"flex","margin-top":"6px",position:"absolute",width:"calc(100% - 26px)","justify-content":"space-between"}},Je={class:"task-mode"},Ke={class:"task-time"},ea=Z(s({__name:"index",props:{type:{},task:{}},emits:["remove","addTask"],setup(e,{emit:a}){const s=U(),o=E(),k=i((()=>"dark"===o.theme)),{type:b,task:x}=e,h=a,_=t(),{toClipboard:I}=R(),C=i((()=>Y[x.mode]||"Ê®°ÂºèÈîôËØØ")),A=i((()=>Q[x.action])),F=i((()=>H[x.status]||"-"));let G="";const Z=l(0),z=new Map([["U1","ÈÄâ‰∏≠1"],["U2","ÈÄâ‰∏≠2"],["U3","ÈÄâ‰∏≠3"],["U4","ÈÄâ‰∏≠4"],["V1","ÂèòÊç¢1"],["V2","ÂèòÊç¢2"],["V3","ÂèòÊç¢3"],["V4","ÂèòÊç¢4"],["Vary (Subtle)","ÂæÆË∞ÉÔºàÂº±Ôºâ"],["Vary (Strong)","ÂæÆË∞ÉÔºàÂº∫Ôºâ"],["Vary (Region)","Â±ÄÈÉ®ÈáçÁªò"],["Zoom Out 2x","Êâ©2ÂÄç"],["Zoom Out 1.5x","Êâ©1.5ÂÄç"],["Upscale (Subtle)","ÊîæÂ§ßÔºàÂº±Ôºâ"],["Upscale (Creative)","ÊîæÂ§ßÔºàÂº∫Ôºâ"],["Vary (Subtle)","ÂèòÊç¢ÔºàÂº±Ôºâ"],["Vary (Strong)","ÂèòÊç¢ÔºàÂº∫Ôºâ"],["Redo Upscale (Subtle)","ÈáçÁªòÔºàÂº±Ôºâ"],["Redo Upscale (Creative)","ÈáçÁªòÔºàÂº∫Ôºâ"],["Redo Upscale (2x)","ÈáçÁªòÔºà2xÔºâ"],["Redo Upscale (4x)","ÈáçÁªòÔºà4xÔºâ"]]),B=[{text:"ÁºñËæë",reg:function(e){return/upsample:|reroll/.test(e.customId)},desc:"ÂèÇÊï∞Èáä‰πâÔºöÈÄâ‰∏≠Âπ∂ÊîæÂ§ßÊüêÂº†ÂõæÁâáÔºåÊîæÂ§ßÂêéÂèØËøõË°å‰∏ã‰∏ÄÊ≠•ÁöÑÁªòÁîªÊìç‰ΩúÔºåÂ±ÄÈÉ®ÈáçÁªò„ÄÅÂπ≥Áßª„ÄÅÊâ©ÂõæÁ≠â"},{text:"ÂèòÂåñ",reg:function(e){return/:variation:/.test(e.customId)},desc:"ÂèÇÊï∞Èáä‰πâÔºö‰ª•ÊüêÂº†ÂõæÁâá‰∏∫Âü∫ÂáÜÈáçÊñ∞ÁîüÊàê Â¶Ç V1 ÂàôÂèòÊç¢Á¨¨‰∏ÄÂº†ÂõæÁâáÔºå‰ª•Ê≠§Á±ªÊé®"},{text:"ÊîæÂ§ß",reg:function(e){return/upsample_/.test(e.customId)},desc:"ÂèÇÊï∞Èáä‰πâÔºöÂØπÂΩìÂâçÂõæÁâáËøõË°åÊîæÂ§ß"},{text:"Ë∞ÉÊï¥",reg:function(e){return/_variation|Inpaint:/.test(e.customId)},desc:"ÂèÇÊï∞Èáä‰πâÔºöVary ‰ª•ÂΩìÂâçÂõæÁâá‰∏∫Âü∫Á°ÄË∞ÉÊï¥ÂõæÁâá"},{text:"Êâ©Âõæ",reg:function(e){return/Outpaint:/.test(e.customId)},desc:"ÂèÇÊï∞Èáä‰πâÔºöZoomOut ÔºåÂØπÂΩìÂâçÂõæÁâáÊåâÁÖßÂÄçÊï∞ËøõË°åÊâ©Â§ßÔºåÂë®Âõ¥Ëá™Âä®AIÂ°´ÂÖÖÔºåÂèØÊó†ÈôêÈáçÂ§çÊó†ÈôêÊâ©Â§ß"},{text:"Êãâ‰º∏",reg:function(e){return/pan_/.test(e.customId)},desc:"ÂèÇÊï∞Èáä‰πâÔºöÂØπÂΩìÂâçÂõæÁâáËøõË°åÂêÑ‰∏™ÊñπÂêëÁöÑÊãìÂ±ï"},{text:"ÊèèËø∞",reg:function(e){return/PicReader|Picread:/.test(e.customId)},desc:""}],D=i((()=>{if(!x.buttons)return[];const e=[];return B.forEach((a=>{const s=x.buttons.filter((e=>"string"==typeof a.reg?e.label.includes(a.reg):"function"==typeof a.reg?a.reg(e):void 0));s.forEach((e=>e.zhLabel=z.get(e.label)||e.label)),s.length&&e.push({text:a.text,desc:a.desc,children:s})})),e})),J=l(""),K=l(0),ee=function(e){e&&(x.favorite=Number(!x.favorite)),K.value=0},ae=async function(){try{await I(x.fullPrompt),_.success("Â§çÂà∂ÊàêÂäü")}catch(e){_.error("Â§çÂà∂Â§±Ë¥•!!")}},se=async function(){await L({id:x.id}),h("remove")},te=e=>{if(["U1","U2","U3","U4"].includes(e.label))return X.U_SCALE;if(["V1","V2","V3","V4"].includes(e.label))return X.V_EXPAND;if(!e.label&&e.emoji){if("üîÑ"===e.emoji)return X.REGENERATE;if(["‚¨ÖÔ∏è","‚û°Ô∏è","‚¨ÜÔ∏è","‚¨áÔ∏è"].includes(e.emoji))return X.STRETCH;if(["1Ô∏è‚É£","2Ô∏è‚É£","3Ô∏è‚É£","4Ô∏è‚É£"].includes(e.emoji))return X.IMAGE_TO_TEXT_ACTION}return e.label.includes("Upscale (4x)")?X.UPSCALE_4X:e.label.includes("Upscale (2x)")?X.UPSCALE_2X:e.label.includes("Vary (Subtle)")?X.VARY_SUBTLE:e.label.includes("Vary (Strong)")?X.VARY_STRONG:e.label.includes("Vary (Region)")?X.VARY_REGION:e.label.includes("Make Square")?X.SQUARE:e.label.includes("Zoom Out 2x")?X.ZOOM2X:e.label.includes("Zoom Out 1.5x")?X.ZOOM1_5X:e.label.includes("Custom Zoom")?X.ZOOM_CUSTOM:e.label.includes("Redo Upscale (Subtle)")?X.REDO_UPSCALE_SUBTLE:e.label.includes("Redo Upscale (Creative)")?X.REDO_UPSCALE_CREATIVE:X.NONE},le=l(0),ie=function(e){if(e){const a={type:W.IMAGE_ACTION,params:{prompt:e,taskId:x.id,action:X.VARY_REGION}};h("addTask",a,(e=>{e&&(le.value=0)}))}else le.value=0},oe=function(e){if(e){const a={type:W.IMAGE_ACTION,params:{...e,taskId:x.id,customId:G}};h("addTask",a,(e=>{e&&(G="",Z.value=0)}))}else G="",Z.value=0};return(e,a)=>(n(),u("div",{class:m(["mj-task",e.type]),style:{"border-left":"2px solid #F0B132",background:"rgba(216, 176, 116, 0.10)"}},["chat"===e.type?(n(),u("div",fe,[d("div",ge,[k.value?(n(),u("img",me)):(n(),u("img",ye))]),d("div",null,[d("div",be,[d("div",xe,[he,we,J.value?(n(),u("span",{key:1,class:"task-seed",onClick:a[1]||(a[1]=e=>async function(){try{await I(J.value),_.success("Â§çÂà∂ÊàêÂäü")}catch(e){_.error("Â§çÂà∂Â§±Ë¥•!!")}}())},T(J.value),1)):(n(),u("span",{key:0,class:"task-seed",onClick:a[0]||(a[0]=e=>async function(){const e=await N({jobId:x.jobId});J.value=e.data}())},"Ëé∑ÂèñseedÂÄº")),d("div",_e,[d("span",Ie,T(e.task.createdAt),1)])]),e.task.status>=3?(n(),r(v($),{key:0,onPositiveClick:a[2]||(a[2]=e=>se()),style:j(k.value?"background:#19191B":"background:#F8F9F9")},{trigger:c((()=>[d("div",Ce,[d("div",{class:m(["delete-icon",k.value?"icon-delete-copy":"delete-icon"])},null,2),Ae])])),default:c((()=>[w(" ÊÇ®Á°ÆËÆ§Ë¶ÅÂà†Èô§‰ªªÂä°ÂêóÔºü ")])),_:1},8,["style"])):f("",!0)])]),d("div",Ue,[d("p",{style:{display:"inline-block"},onClick:a[3]||(a[3]=e=>ae())},T(e.task.originPrompt),1)]),Ee,d("div",Re,[d("p",{style:{display:"inline-block"},onClick:a[4]||(a[4]=e=>ae())},T(e.task.prompt),1)])])):f("",!0),"task"===e.type?(n(),u("div",Te,[d("div",je,[d("div",Ve,[d("span",null,T(A.value)+"-"+T(F.value),1)]),d("div",Oe,[p(v(V),{trigger:"hover"},{trigger:c((()=>[d("div",{class:m(["action-icon",k.value?"icon-share-copy":"icon-share"]),onClick:a[5]||(a[5]=e=>{K.value=x.id})},null,2)])),default:c((()=>[w(" ÂèëÂ∏ÉÂà∞ÂπøÂú∫ ")])),_:1}),p(v(V),{trigger:"hover"},{trigger:c((()=>[d("div",{class:m(["action-icon",k.value?"icon-copy-copy":"icon-copy"]),onClick:a[6]||(a[6]=e=>ae())},null,2)])),default:c((()=>[w(" Â§çÂà∂ÊúÄÁªàÊâßË°åÊèêÁ§∫ËØç ")])),_:1}),p(v(V),{trigger:"hover"},{trigger:c((()=>[d("div",{class:m(["action-icon",k.value?"icon-down-copy":"icon-down"]),onClick:a[7]||(a[7]=e=>async function(){x.imageUrl?s.info({title:"‰∏ãËΩΩÂõæÁâá",content:"ÊòØÂê¶Á°ÆËÆ§‰∏ãËΩΩÂΩìÂâçÂõæÁâá",positiveText:"‰∏ãËΩΩ",negativeText:"ÂèñÊ∂à",onPositiveClick:async()=>{const e=x.imageUrl.split("/");P(x.imageUrl,e[e.length-1])}}):_.warning("ÂõæÁâáÊú™ÁîüÊàêÂÆåÊàêÊöÇ‰∏çËÉΩ‰∏ãËΩΩ")}())},null,2)])),default:c((()=>[w(" ‰∏ãËΩΩÂõæÁâá ")])),_:1}),e.task.status>=3?(n(),r(v(V),{key:0,trigger:"hover"},{trigger:c((()=>[d("div",{class:m(["action-icon",k.value?"icon-delete-copy":"icon-delete"]),onClick:a[8]||(a[8]=e=>{s.create({type:"default",title:"Á°ÆËÆ§Âà†Èô§",content:(x.favorite?"ÂΩìÂâç‰ªªÂä°Â∑≤Ë¢´Êî∂ËóèÔºåÂà†Èô§ÁªòÁîª‰ªªÂä°‰ºöÂØºËá¥Êî∂ËóèÂ§±Êïà‰∏î‰∏çÂèØÊâæÂõûÔºåÁ°ÆÂÆöÂà†Èô§":"Âà†Èô§ÁªòÁîª‰ªªÂä°‰∏çÂèØÊâæÂõûÔºåÁ°ÆÂÆöÂà†Èô§")+"Ôºü",positiveText:"Á°ÆÂÆö",negativeText:"ÂèñÊ∂à",maskClosable:!1,onPositiveClick:()=>se()})})},null,2)])),default:c((()=>[w(" Âà†Èô§‰ªªÂä° ")])),_:1})):f("",!0),p(v(V),{trigger:"hover"},{trigger:c((()=>[p(v(O),{onClick:a[9]||(a[9]=e=>(async()=>{await M({id:x.id,favorite:Number(!x.favorite)})&&_.success((0===x.favorite?"Êî∂Ëóè":"ÂèñÊ∂àÊî∂Ëóè")+" ÊàêÂäü"),1==x.favorite&&h("remove"),x.favorite=Number(!x.favorite)})()),icon:0===e.task.favorite?"uit:favorite":"uis:favorite",class:"mx-1 cursor-pointer action-icon"},null,8,["icon"])])),default:c((()=>[w(" Êî∂ËóèÊ≠§‰ªªÂä° ")])),_:1})])]),p(v(V),{trigger:"hover"},{trigger:c((()=>[d("div",Se,[d("div",null,T(e.task.fullPrompt),1)])])),default:c((()=>[w(" "+T(e.task.fullPrompt),1)])),_:1})])):f("",!0),d("div",{class:m(["task-img",e.type])},[2!==e.task.status&&6!==e.task.status||0==e.task.progress?f("",!0):(n(),u("div",Ne,[Pe,e.task.progress&&100!==e.task.progress?(n(),u("span",Le,T(e.task.progress)+"%",1)):f("",!0)])),1===e.task.status||0==e.task.progress?(n(),u("div",Me,Fe)):f("",!0),e.task.imageUrl&&3===e.task.status?(n(),r(v(S),{key:2,"preview-src":e.task.imageUrl,style:{width:"400px",height:"400px",display:"flex","justify-content":"center","border-radius":"12px"},"fallback-src":v("/static/png/draw-fail-ce560894.png"),"object-fit":"contain",src:e.task.imageUrl+"?imageView2/0/w/300/q/85&format=webp&quality=lossless&width=300&height=300"},null,8,["preview-src","fallback-src","src"])):4===e.task.status?(n(),u("img",Ge)):e.task.status<=3||6===e.task.status?(n(),u("div",Ze)):f("",!0)],2),d("div",null,[3===e.task.status?(n(!0),u(y,{key:0},g(D.value,((a,s)=>(n(),u("div",{class:"task-btns",key:e.task.id+"-"+s},[d("div",qe,[d("span",ze,T(a.text)+" :",1),a.desc?(n(),r(v(V),{key:0,trigger:"hover"},{trigger:c((()=>[Be])),default:c((()=>[w(" "+T(a.desc),1)])),_:2},1024)):f("",!0)]),(n(!0),u(y,null,g(a.children,((a,t)=>(n(),u("div",{class:"btn-item dark:bg-[#554F4D] bg-[#10A37F]",key:e.task.id+"-"+s+"-"+t,onClick:e=>async function(e){if(1==e.isLoding)return;if(e.isLoding=!0,te(e)===X.VARY_REGION)Z.value=x.id,G=e.customId;else{const a={type:W.IMAGE_ACTION,params:{taskId:x.id,action:te(e),customId:e.customId}};h("addTask",a,(a=>{console.log(a),e.isLoding=!1}))}}(a)},[a.isLoding?f("",!0):(n(),u("div",Xe,T(a.zhLabel||a.emoji),1)),a.isLoding?(n(),u("div",Ye,Qe)):f("",!0)],8,De)))),128))])))),128)):f("",!0),4===e.task.status?(n(),u("div",He,[We,d("span",null,T(e.task.failReason),1)])):f("",!0),6===e.task.status?(n(),u("div",{key:2,class:"modal-btn",onClick:a[10]||(a[10]=e=>{9===x.action?(G=x.customId,Z.value=x.id):(le.value=x.id,console.log(le))})},"Ë°•ÂÖÖÊèêÁ§∫ËØç")):f("",!0)]),"task"===e.type?(n(),u("div",$e,[d("span",Je,T(C.value),1),d("span",Ke,T(v(q)(e.task.createdAt)),1)])):f("",!0),p(ne,{taskId:Z.value,onClose:oe},null,8,["taskId"]),p(de,{taskId:K.value,onClose:ee},null,8,["taskId"]),p(ve,{"task-id":le.value,onClose:ie},null,8,["task-id"])],2))}}),[["__scopeId","data-v-ade553d1"]]);export{ea as M};
