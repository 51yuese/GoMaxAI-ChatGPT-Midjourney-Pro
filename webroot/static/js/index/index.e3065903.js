import{_ as e,a}from"../draw-fail/draw-fail.ad8fd01b.js";import{e as s,aj as t,r as l,j as i,A as o,N as n,ak as r,W as c,P as d,O as u,U as p,X as v,al as k,a4 as f,_ as g,a8 as m,Z as y,bo as b,am as x,a2 as h,ai as w,aP as _,bp as C,a9 as I,bq as A,br as U,a7 as E,bs as T,$ as R,H as j,bd as O,aO as V,av as S,bt as P,bu as N,aC as D,bv as L,a1 as M}from"../main-6c725c30.js";import{u as F}from"./index.5b75f753.js";import{S as B}from"./index.c5596e0e.js";import{g as G,M as q}from"../draw/draw.3889f162.js";import{M as Z,b as z,c as X,d as Y,a as H}from"./index.27c727e8.js";import{N as $}from"../Popconfirm/Popconfirm.534000dc.js";const Q={class:"relative"},W={class:"flex-1 flex items-center justify-center relative h-full"},J={key:0,class:"absolute top-0 h-[640px]"},K={class:"w-full h-full justify-center items-center flex"},ee={class:"absolute left-0 top-0 flex justify-center items-center",id:"appbody"},ae={class:"flex inset-x-0 bottom-0 w-full items-end justify-between p-3 gap-4"},se=["onClick"],te={class:"flex items-end flex-1 gap-4"},le=["disabled"],ie=s({__name:"index",props:{taskId:{}},emits:["close"],setup(e,{emit:a}){const s=e,h=a,w=[{label:"rect",value:0,icon:"rect"},{label:"lasso",value:.5,icon:"lasso"}],_=t(),C=l(),I=l(0),A=l(),U=l(0),E=l(!0),T=l(""),R=i((()=>Boolean(s.taskId))),j=async function(){T.value="",U.value=0,E.value=!0;const e=await G(s.taskId),a=await(t=e.data,new Promise((async e=>{const a=new Image;a.src=t,a.onload=()=>e(a)})));var t;E.value=!1,C.value=new q(A.value,a)},O=()=>{var e;null==(e=C.value)||e.undo()},V=function(){var e;1!=I.value&&(I.value=1,null==(e=C.value)||e.submit().then((async e=>{h("close",{mask:e,taskId:s.taskId,prompt:T.value,action:Z.VARY_REGION})})).catch((e=>{_.error(e),I.value=0})))};return o((()=>s.taskId),(e=>{var a;e?j():null==(a=C.value)||a.destroy()})),(e,a)=>(n(),r(v(x),{show:R.value,"mask-closable":!1,"show-icon":!1,preset:"dialog",style:{width:"1200px",height:"800px"},title:"Âå∫ÂüüÈáçÁªò",onClose:a[1]||(a[1]=e=>h("close"))},{default:c((()=>[d("div",Q,[d("div",W,[E.value?(n(),u("div",J,[d("div",K,[p(v(k),{size:"large"})])])):f("",!0),d("canvas",{ref_key:"canvasRef",ref:A,resize:"true",style:{padding:"0px",margin:"0px",width:"1024px",height:"640px"}},null,512)]),d("div",ee,[d("button",{onClick:O,class:"rounded-full bg-[#5a91fc] dark:bg-[#888] w-8 h-8"},[p(v(B),{name:"undo",class:"text-white"})])]),d("div",ae,[(n(),u(y,null,g(w,(e=>d("div",{class:"flex gap-2",onClick:a=>(e=>{var a;U.value=e.value,null==(a=C.value)||a.updateTool(e.value)})(e)},[d("button",{class:m(["rounded-full w-8 h-8",[e.value===U.value?"bg-[#10A37F] dark:bg-[#10A37F]":"bg-[#5a91fc] dark:bg-[#888]"]])},[p(v(B),{name:e.icon,class:"text-white"},null,8,["name"])],2)],8,se))),64)),d("div",te,[p(v(b),{value:T.value,"onUpdate:value":a[0]||(a[0]=e=>T.value=e),rows:2,class:"resize-none overflow-hidden flex-1 !border-gray-200 rounded bg-[#f4f4f4] dark:bg-[#010102]",placeholder:"ËæìÂÖ•ÊèèËø∞‰ø°ÊÅØ"},null,8,["value"]),d("button",{class:"rounded-full bg-[#10A37F] dark:bg-[#10A37F] w-8 h-8",disabled:!T.value,onClick:V},[I.value?(n(),r(v(k),{key:0,size:18,stroke:"#fff",style:{"margin-top":"5px"}})):(n(),r(v(B),{key:1,name:"send",class:"text-white"}))],8,le)])])])])),_:1},8,["show"]))}}),oe={class:"my-8"},ne=s({__name:"index",props:{taskId:{}},emits:["close"],setup(e,{emit:a}){const s=t(),o=e,u=a,k=i((()=>Boolean(o.taskId))),f=h({squareType:""}),g=l([]),m=async()=>{const e=await I({page:1,size:100});g.value=e.data.rows,g.value.length&&(f.squareType=g.value[0].value)},y=async()=>{await A({id:o.taskId,squareType:f.squareType})&&s.success("ÂèëÂ∏ÉÂà∞ÂπøÂú∫ÊàêÂäü"),u("close",!0)};return(e,a)=>(n(),r(v(x),{show:k.value,"mask-closable":!1,"show-icon":!1,preset:"dialog",title:"ÂèëÂ∏ÉÂà∞ÂπøÂú∫",onAfterEnter:m,onClose:a[2]||(a[2]=e=>u("close",!1))},{action:c((()=>[p(v(_),{round:"",onClick:a[1]||(a[1]=e=>u("close",!1))},{default:c((()=>a[4]||(a[4]=[w("ÂèñÊ∂à")]))),_:1}),p(v(_),{round:"",type:"primary",onClick:y},{default:c((()=>a[5]||(a[5]=[w("ÂèëÂ∏É")]))),_:1})])),default:c((()=>[d("div",oe,[a[3]||(a[3]=d("div",null,"ÈÄâÊã©ÂπøÂú∫Á±ªÂûã",-1)),d("div",null,[p(v(C),{class:"dark:bg-[#010102]",value:f.squareType,"onUpdate:value":a[0]||(a[0]=e=>f.squareType=e),placeholder:"ÈÄâÊã©ÂπøÂú∫Á±ªÂûã","label-field":"name",options:g.value},null,8,["value","options"])])])])),_:1},8,["show"]))}}),re={class:"my-8"},ce=s({__name:"index",props:{taskId:{}},emits:["close"],setup(e,{emit:a}){const s=t(),u=e,k=a,f=l(""),g=i((()=>Boolean(u.taskId)));o((()=>g),(e=>{e&&(f.value="")}));return(e,a)=>(n(),r(v(x),{show:g.value,"mask-closable":!1,"show-icon":!1,preset:"dialog",title:"ÊèèËø∞Ë°•ÂÖÖ",onClose:a[3]||(a[3]=e=>k("close"))},{action:c((()=>[p(v(_),{round:"",onClick:a[1]||(a[1]=e=>k("close"))},{default:c((()=>a[5]||(a[5]=[w("ÂèñÊ∂à")]))),_:1}),p(v(_),{round:"",type:"primary",onClick:a[2]||(a[2]=e=>{f.value?k("close",f.value):s.warning("ÊèèËø∞Ë°•ÂÖÖ‰∏çËÉΩ‰∏∫Á©∫ÔºÅ")})},{default:c((()=>a[6]||(a[6]=[w("Á°ÆÂÆö")]))),_:1})])),default:c((()=>[d("div",re,[a[4]||(a[4]=d("div",null,"ËæìÂÖ•Êñ∞ÁöÑÁªòÂõæÊèèËø∞",-1)),p(v(b),{value:f.value,"onUpdate:value":a[0]||(a[0]=e=>f.value=e),placeholder:"ËæìÂÖ•Êñ∞ÁöÑÁªòÂõæÊèèËø∞",type:"textarea",resizable:!1,rows:7},null,8,["value"])])])),_:1},8,["show"]))}}),de={key:0,style:{width:"100%"}},ue={class:"discord-avatar border border-[#E8E8E8] dark:border-[#2D2E33] dark:bg-[#fff]"},pe={key:0,src:"/static/png/botAvatar-253a5030.png",style:{width:"26px",height:"26px"},alt:""},ve={key:1,src:e,alt:""},ke={style:{display:"flex","justify-content":"space-between"}},fe={style:{display:"flex","align-items":"center"}},ge={style:{"margin-left":"10px"}},me={class:"task-time"},ye={class:"task-delete"},be={class:"origin-prompt dark:text-white text-[#333333]"},xe={class:"en-prompt"},he={key:1,style:{width:"100%"}},we={style:{display:"flex","justify-content":"space-between"}},_e={class:"action-text"},Ce={style:{flex:"1",display:"flex","align-items":"center","justify-content":"end"}},Ie={class:"full-prompt"},Ae={key:0,class:"loader-box"},Ue={key:0},Ee={key:1,class:"loader-box"},Te={key:3,src:a,alt:""},Re={key:4,style:{height:"400px",width:"400px"}},je={class:"btn-desc"},Oe={class:"dark:text-[#DBD2CF] text-[#666666]",style:{"margin-right":"6px","font-size":"16px","white-space":"nowrap"}},Ve=["onClick"],Se={key:0},Pe={key:1},Ne={key:1},De={key:2,style:{bottom:"16px",display:"flex","margin-top":"6px",position:"absolute",width:"calc(100% - 26px)","justify-content":"space-between"}},Le={class:"task-mode"},Me={class:"task-time"},Fe=M(s({__name:"index",props:{type:{},task:{}},emits:["remove","addTask"],setup(e,{emit:a}){const s=U(),o=E(),k=i((()=>"dark"===o.theme)),b=a,x=t(),{toClipboard:h}=T(),_=i((()=>z[e.task.mode]||"Ê®°ÂºèÈîôËØØ")),C=i((()=>X[e.task.action])),I=i((()=>Y[e.task.status]||"-"));let A="";const M=l(0),B=new Map([["U1","ÈÄâ‰∏≠1"],["U2","ÈÄâ‰∏≠2"],["U3","ÈÄâ‰∏≠3"],["U4","ÈÄâ‰∏≠4"],["V1","ÂèòÊç¢1"],["V2","ÂèòÊç¢2"],["V3","ÂèòÊç¢3"],["V4","ÂèòÊç¢4"],["Vary (Subtle)","ÂæÆË∞ÉÔºàÂº±Ôºâ"],["Vary (Strong)","ÂæÆË∞ÉÔºàÂº∫Ôºâ"],["Vary (Region)","Â±ÄÈÉ®ÈáçÁªò"],["Zoom Out 2x","Êâ©2ÂÄç"],["Zoom Out 1.5x","Êâ©1.5ÂÄç"],["Upscale (Subtle)","ÊîæÂ§ßÔºàÂº±Ôºâ"],["Upscale (Creative)","ÊîæÂ§ßÔºàÂº∫Ôºâ"],["Vary (Subtle)","ÂèòÊç¢ÔºàÂº±Ôºâ"],["Vary (Strong)","ÂèòÊç¢ÔºàÂº∫Ôºâ"],["Redo Upscale (Subtle)","ÈáçÁªòÔºàÂº±Ôºâ"],["Redo Upscale (Creative)","ÈáçÁªòÔºàÂº∫Ôºâ"],["Redo Upscale (2x)","ÈáçÁªòÔºà2xÔºâ"],["Redo Upscale (4x)","ÈáçÁªòÔºà4xÔºâ"]]),G=[{text:"ÁºñËæë",reg:function(e){return/upsample:|reroll/.test(e.customId)},desc:"ÂèÇÊï∞Èáä‰πâÔºöÈÄâ‰∏≠Âπ∂ÊîæÂ§ßÊüêÂº†ÂõæÁâáÔºåÊîæÂ§ßÂêéÂèØËøõË°å‰∏ã‰∏ÄÊ≠•ÁöÑÁªòÁîªÊìç‰ΩúÔºåÂ±ÄÈÉ®ÈáçÁªò„ÄÅÂπ≥Áßª„ÄÅÊâ©ÂõæÁ≠â"},{text:"ÂèòÂåñ",reg:function(e){return/:variation:/.test(e.customId)},desc:"ÂèÇÊï∞Èáä‰πâÔºö‰ª•ÊüêÂº†ÂõæÁâá‰∏∫Âü∫ÂáÜÈáçÊñ∞ÁîüÊàê Â¶Ç V1 ÂàôÂèòÊç¢Á¨¨‰∏ÄÂº†ÂõæÁâáÔºå‰ª•Ê≠§Á±ªÊé®"},{text:"ÊîæÂ§ß",reg:function(e){return/upsample_/.test(e.customId)},desc:"ÂèÇÊï∞Èáä‰πâÔºöÂØπÂΩìÂâçÂõæÁâáËøõË°åÊîæÂ§ß"},{text:"Ë∞ÉÊï¥",reg:function(e){return/_variation|Inpaint:/.test(e.customId)},desc:"ÂèÇÊï∞Èáä‰πâÔºöVary ‰ª•ÂΩìÂâçÂõæÁâá‰∏∫Âü∫Á°ÄË∞ÉÊï¥ÂõæÁâá"},{text:"Êâ©Âõæ",reg:function(e){return/Outpaint:/.test(e.customId)},desc:"ÂèÇÊï∞Èáä‰πâÔºöZoomOut ÔºåÂØπÂΩìÂâçÂõæÁâáÊåâÁÖßÂÄçÊï∞ËøõË°åÊâ©Â§ßÔºåÂë®Âõ¥Ëá™Âä®AIÂ°´ÂÖÖÔºåÂèØÊó†ÈôêÈáçÂ§çÊó†ÈôêÊâ©Â§ß"},{text:"Êãâ‰º∏",reg:function(e){return/pan_/.test(e.customId)},desc:"ÂèÇÊï∞Èáä‰πâÔºöÂØπÂΩìÂâçÂõæÁâáËøõË°åÂêÑ‰∏™ÊñπÂêëÁöÑÊãìÂ±ï"},{text:"ÊèèËø∞",reg:function(e){return/PicReader|Picread:/.test(e.customId)},desc:""}],q=i((()=>{if(!e.task.buttons)return[];const a=[];return G.forEach((s=>{const t=e.task.buttons.filter((e=>"string"==typeof s.reg?e.label.includes(s.reg):"function"==typeof s.reg?s.reg(e):void 0));t.forEach((e=>e.zhLabel=B.get(e.label)||e.label)),t.length&&a.push({text:s.text,desc:s.desc,children:t})})),a})),Q=l(""),W=l(0),J=function(a){a&&(e.task.favorite=Number(!e.task.favorite)),W.value=0},K=async function(){try{await h(e.task.fullPrompt),x.success("Â§çÂà∂ÊàêÂäü")}catch(a){x.error("Â§çÂà∂Â§±Ë¥•!!")}},ee=async function(){await D({id:e.task.id}),b("remove")},ae=e=>{if(["U1","U2","U3","U4"].includes(e.label))return Z.U_SCALE;if(["V1","V2","V3","V4"].includes(e.label))return Z.V_EXPAND;if(!e.label&&e.emoji){if("üîÑ"===e.emoji)return Z.REGENERATE;if(["‚¨ÖÔ∏è","‚û°Ô∏è","‚¨ÜÔ∏è","‚¨áÔ∏è"].includes(e.emoji))return Z.STRETCH;if(["1Ô∏è‚É£","2Ô∏è‚É£","3Ô∏è‚É£","4Ô∏è‚É£"].includes(e.emoji))return Z.IMAGE_TO_TEXT_ACTION}return e.label.includes("Upscale (4x)")?Z.UPSCALE_4X:e.label.includes("Upscale (2x)")?Z.UPSCALE_2X:e.label.includes("Vary (Subtle)")?Z.VARY_SUBTLE:e.label.includes("Vary (Strong)")?Z.VARY_STRONG:e.label.includes("Vary (Region)")?Z.VARY_REGION:e.label.includes("Make Square")?Z.SQUARE:e.label.includes("Zoom Out 2x")?Z.ZOOM2X:e.label.includes("Zoom Out 1.5x")?Z.ZOOM1_5X:e.label.includes("Custom Zoom")?Z.ZOOM_CUSTOM:e.label.includes("Redo Upscale (Subtle)")?Z.REDO_UPSCALE_SUBTLE:e.label.includes("Redo Upscale (Creative)")?Z.REDO_UPSCALE_CREATIVE:Z.NONE},se=l(0),te=function(a){if(a){const s={type:H.IMAGE_ACTION,params:{prompt:a,taskId:e.task.id,action:Z.VARY_REGION}};b("addTask",s,(e=>{e&&(se.value=0)}))}else se.value=0},le=function(a){if(a){const s={type:H.IMAGE_ACTION,params:{...a,taskId:e.task.id,customId:A}};b("addTask",s,(e=>{e&&(A="",M.value=0)}))}else A="",M.value=0};return(a,t)=>(n(),u("div",{class:m([["mj-task",a.type],"dark:bg-[#D8B07419] bg-[#e0e5f7] border-l-2 border-[#3c69e7] dark:border-[#F0B132]"])},["chat"===a.type?(n(),u("div",de,[d("div",ue,[k.value?(n(),u("img",pe)):(n(),u("img",ve))]),d("div",null,[d("div",ke,[d("div",fe,[t[11]||(t[11]=d("span",{class:"discord-en text-[#333333] dark:text-[#D9D3D0]"},"Midjourney Bot",-1)),t[12]||(t[12]=d("span",{class:"discord-cn text-[#079F49] bg-[#c7dbe4] dark:text-[#26F37B] dark:bg-[#23A5592D]"},"AIÊú∫Âô®‰∫∫",-1)),Q.value?(n(),u("span",{key:1,class:"task-seed",onClick:t[1]||(t[1]=e=>async function(){try{await h(Q.value),x.success("Â§çÂà∂ÊàêÂäü")}catch(e){x.error("Â§çÂà∂Â§±Ë¥•!!")}}())},R(Q.value),1)):(n(),u("span",{key:0,class:"task-seed",onClick:t[0]||(t[0]=a=>async function(){const a=await P({jobId:e.task.jobId});Q.value=a.data}())},"Ëé∑ÂèñseedÂÄº")),d("div",ge,[d("span",me,R(a.task.createdAt),1)])]),a.task.status>=3?(n(),r(v($),{key:0,onPositiveClick:t[2]||(t[2]=e=>ee()),style:j(k.value?"background:#19191B":"background:#F8F9F9")},{trigger:c((()=>[d("div",ye,[d("div",{class:m(["delete-icon",k.value?"icon-delete-copy":"delete-icon"])},null,2),t[13]||(t[13]=d("span",null,"Âà†Èô§",-1))])])),default:c((()=>[t[14]||(t[14]=w(" ÊÇ®Á°ÆËÆ§Ë¶ÅÂà†Èô§‰ªªÂä°ÂêóÔºü "))])),_:1},8,["style"])):f("",!0)])]),d("div",be,[d("p",{style:{display:"inline-block"},onClick:t[3]||(t[3]=e=>K())},R(a.task.originPrompt),1)]),t[15]||(t[15]=d("div",{style:{width:"100%","background-color":"#5A504A",height:"1px","margin-top":"8px"}},null,-1)),d("div",xe,[d("p",{style:{display:"inline-block"},onClick:t[4]||(t[4]=e=>K())},R(a.task.prompt),1)])])):f("",!0),"task"===a.type?(n(),u("div",he,[d("div",we,[d("div",_e,[d("span",null,R(C.value)+"-"+R(I.value),1)]),d("div",Ce,[p(v(O),{trigger:"hover"},{trigger:c((()=>[d("div",{class:m(["action-icon",k.value?"icon-share-copy":"icon-share"]),onClick:t[5]||(t[5]=a=>{W.value=e.task.id})},null,2)])),default:c((()=>[t[16]||(t[16]=w(" ÂèëÂ∏ÉÂà∞ÂπøÂú∫ "))])),_:1}),p(v(O),{trigger:"hover"},{trigger:c((()=>[d("div",{class:m(["action-icon",k.value?"icon-copy-copy":"icon-copy"]),onClick:t[6]||(t[6]=e=>K())},null,2)])),default:c((()=>[t[17]||(t[17]=w(" Â§çÂà∂ÊúÄÁªàÊâßË°åÊèêÁ§∫ËØç "))])),_:1}),p(v(O),{trigger:"hover"},{trigger:c((()=>[d("div",{class:m(["action-icon",k.value?"icon-down-copy":"icon-down"]),onClick:t[7]||(t[7]=a=>async function(){e.task.imageUrl?s.info({title:"‰∏ãËΩΩÂõæÁâá",content:"ÊòØÂê¶Á°ÆËÆ§‰∏ãËΩΩÂΩìÂâçÂõæÁâá",positiveText:"‰∏ãËΩΩ",negativeText:"ÂèñÊ∂à",onPositiveClick:async()=>{const a=e.task.imageUrl.split("/");N(e.task.imageUrl,a[a.length-1])}}):x.warning("ÂõæÁâáÊú™ÁîüÊàêÂÆåÊàêÊöÇ‰∏çËÉΩ‰∏ãËΩΩ")}())},null,2)])),default:c((()=>[t[18]||(t[18]=w(" ‰∏ãËΩΩÂõæÁâá "))])),_:1}),a.task.status>=3?(n(),r(v(O),{key:0,trigger:"hover"},{trigger:c((()=>[d("div",{class:m(["action-icon",k.value?"icon-delete-copy":"icon-delete"]),onClick:t[8]||(t[8]=a=>{s.create({type:"default",title:"Á°ÆËÆ§Âà†Èô§",content:(e.task.favorite?"ÂΩìÂâç‰ªªÂä°Â∑≤Ë¢´Êî∂ËóèÔºåÂà†Èô§ÁªòÁîª‰ªªÂä°‰ºöÂØºËá¥Êî∂ËóèÂ§±Êïà‰∏î‰∏çÂèØÊâæÂõûÔºåÁ°ÆÂÆöÂà†Èô§":"Âà†Èô§ÁªòÁîª‰ªªÂä°‰∏çÂèØÊâæÂõûÔºåÁ°ÆÂÆöÂà†Èô§")+"Ôºü",positiveText:"Á°ÆÂÆö",negativeText:"ÂèñÊ∂à",maskClosable:!1,onPositiveClick:()=>ee()})})},null,2)])),default:c((()=>[t[19]||(t[19]=w(" Âà†Èô§‰ªªÂä° "))])),_:1})):f("",!0),p(v(O),{trigger:"hover"},{trigger:c((()=>[p(v(V),{onClick:t[9]||(t[9]=a=>(async()=>{await L({id:e.task.id,favorite:Number(!e.task.favorite)})&&x.success((0===e.task.favorite?"Êî∂Ëóè":"ÂèñÊ∂àÊî∂Ëóè")+" ÊàêÂäü"),1==e.task.favorite&&b("remove"),e.task.favorite=Number(!e.task.favorite)})()),icon:0===a.task.favorite?"uit:favorite":"uis:favorite",class:"mx-1 cursor-pointer action-icon"},null,8,["icon"])])),default:c((()=>[t[20]||(t[20]=w(" Êî∂ËóèÊ≠§‰ªªÂä° "))])),_:1})])]),p(v(O),{trigger:"hover"},{trigger:c((()=>[d("div",Ie,[d("div",null,R(a.task.fullPrompt),1)])])),default:c((()=>[w(" "+R(a.task.fullPrompt),1)])),_:1})])):f("",!0),d("div",{class:m(["task-img",a.type])},[2!==a.task.status&&6!==a.task.status||0==a.task.progress?f("",!0):(n(),u("div",Ae,[t[21]||(t[21]=d("div",{class:"loader"},null,-1)),a.task.progress&&100!==a.task.progress?(n(),u("span",Ue,R(a.task.progress)+"%",1)):f("",!0)])),1===a.task.status||0==a.task.progress?(n(),u("div",Ee,t[22]||(t[22]=[d("div",{class:"loader"},null,-1),d("span",null,"ÊéíÈòü‰∏≠",-1)]))):f("",!0),a.task.imageUrl&&3===a.task.status&&0!==a.task.progress?(n(),r(v(S),{key:2,"preview-src":a.task.imageUrl,style:{width:"400px",height:"400px",display:"flex","justify-content":"center","border-radius":"12px"},"fallback-src":v("/static/png/draw-fail-ce560894.png"),"object-fit":"contain",src:a.task.imageUrl+"?imageView2/0/w/300/q/85&format=webp&quality=lossless&width=300&height=300"},null,8,["preview-src","fallback-src","src"])):4===a.task.status?(n(),u("img",Te)):a.task.status<=3||6===a.task.status?(n(),u("div",Re)):f("",!0)],2),d("div",null,[3===a.task.status?(n(!0),u(y,{key:0},g(q.value,((s,l)=>(n(),u("div",{class:"task-btns",key:a.task.id+"-"+l},[d("div",je,[d("span",Oe,R(s.text)+" :",1),s.desc?(n(),r(v(O),{key:0,trigger:"hover"},{trigger:c((()=>t[23]||(t[23]=[d("img",{src:"/static/svg/info-1f57612a.svg",alt:"",srcset:""},null,-1)]))),default:c((()=>[w(" "+R(s.desc),1)])),_:2},1024)):f("",!0)]),(n(!0),u(y,null,g(s.children,((s,i)=>(n(),u("div",{class:"btn-item dark:bg-[#554F4D] bg-[#fff] dark:text-[#DBD2CF] text-[#666666]",key:a.task.id+"-"+l+"-"+i,onClick:a=>async function(a){if(1==a.isLoding)return;if(a.isLoding=!0,ae(a)===Z.VARY_REGION)M.value=e.task.id,A=a.customId;else{const s={type:H.IMAGE_ACTION,params:{taskId:e.task.id,action:ae(a),customId:a.customId}};b("addTask",s,(e=>{console.log(e),a.isLoding=!1}))}}(s)},[s.isLoding?f("",!0):(n(),u("div",Se,R(s.zhLabel||s.emoji),1)),s.isLoding?(n(),u("div",Pe,t[24]||(t[24]=[d("div",{class:"loader"},null,-1)]))):f("",!0)],8,Ve)))),128))])))),128)):f("",!0),4===a.task.status?(n(),u("div",Ne,[t[25]||(t[25]=d("span",null,"‰ªªÂä°Â§±Ë¥•:",-1)),d("span",null,R(a.task.failReason),1)])):f("",!0),6===a.task.status?(n(),u("div",{key:2,class:"modal-btn",onClick:t[10]||(t[10]=a=>{9===e.task.action?(A=e.task.customId,M.value=e.task.id):(se.value=e.task.id,console.log(se))})},"Ë°•ÂÖÖÊèêÁ§∫ËØç")):f("",!0)]),"task"===a.type?(n(),u("div",De,[d("span",Le,R(_.value),1),d("span",Me,R(v(F)(a.task.createdAt)),1)])):f("",!0),p(ie,{taskId:M.value,onClose:le},null,8,["taskId"]),p(ne,{taskId:W.value,onClose:J},null,8,["taskId"]),p(ce,{"task-id":se.value,onClose:te},null,8,["task-id"])],2))}}),[["__scopeId","data-v-e152919d"]]);export{Fe as M};
