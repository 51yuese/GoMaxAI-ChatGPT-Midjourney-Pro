import{_ as e,a}from"../draw-fail/draw-fail.ad8fd01b.js";import{e as t,N as s,O as l,P as i,a9 as o,W as n,r,j as c,A as d,ag as u,a2 as p,a1 as k,a5 as v,aq as f,a0 as g,a4 as m,a8 as y,a3 as b,bd as x,ar as h,ae as w,a6 as C,aL as _,bx as I,bp as A,by as E,bz as U,av as j,bA as T,$ as R,a7 as O,H as V,b8 as S,aK as N,ay as P,bB as M,bC as B,aF as L,bD as D,ad as F}from"../main-33bcbc1f.js";import{u as q}from"./index.5b75f753.js";import{S as z}from"./index.9bea5fab.js";import{g as G,M as Z}from"../draw/draw.be7c76b3.js";import{M as H,b as X,c as Y,d as K,a as Q}from"./index.27c727e8.js";import{H as W}from"../HeartOutline/HeartOutline.864ab73b.js";import{N as $}from"../Popconfirm/Popconfirm.372e0cee.js";const J={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ee=[i("path",{d:"M256 448l-9-6c-42.78-28.57-96.91-60.86-137-108.32c-42.25-50-62.52-101.35-62-157C48.63 114.54 98.46 64 159.08 64c48.11 0 80.1 28 96.92 48.21C272.82 92 304.81 64 352.92 64c60.62 0 110.45 50.54 111.08 112.65c.56 55.68-19.71 107-62 157c-40.09 47.49-94.22 79.78-137 108.35z",fill:"currentColor"},null,-1)],ae=t({name:"HeartSharp",render:function(e,a){return s(),l("svg",J,ee)}}),te={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},se=[o('<circle cx="128" cy="256" r="48" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="384" cy="112" r="48" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="384" cy="400" r="48" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M169.83 279.53l172.34 96.94"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M342.17 135.53l-172.34 96.94"></path>',5)],le=t({name:"ShareSocialOutline",render:function(e,a){return s(),l("svg",te,se)}}),ie={class:"relative"},oe={class:"flex-1 flex items-center justify-center relative h-full"},ne={key:0,class:"absolute top-0 h-[640px]"},re={class:"w-full h-full justify-center items-center flex"},ce={class:"absolute left-0 top-0 flex justify-center items-center",id:"appbody"},de={class:"flex inset-x-0 bottom-0 w-full items-end justify-between p-3 gap-4"},ue=["onClick"],pe={class:"flex items-end flex-1 gap-4"},ke=["disabled"],ve=t({__name:"index",props:{taskId:{}},emits:["close"],setup(e,{emit:a}){const t=e,o=a,w=[{label:"rect",value:0,icon:"rect"},{label:"lasso",value:.5,icon:"lasso"}],C=n(),_=r(),I=r(0),A=r(),E=r(0),U=r(!0),j=r(""),T=c((()=>Boolean(t.taskId))),R=async function(){j.value="",E.value=0,U.value=!0;const e=await G(t.taskId),a=await(s=e.data,new Promise((async e=>{const a=new Image;a.src=s,a.onload=()=>e(a)})));var s;U.value=!1,_.value=new Z(A.value,a)},O=()=>{var e;null==(e=_.value)||e.undo()},V=function(){var e;1!=I.value&&(I.value=1,null==(e=_.value)||e.submit().then((async e=>{o("close",{mask:e,taskId:t.taskId,prompt:j.value,action:H.VARY_REGION})})).catch((e=>{C.error(e),I.value=0})))};return d((()=>t.taskId),(e=>{var a;e?R():null==(a=_.value)||a.destroy()})),(e,a)=>(s(),u(v(h),{show:T.value,"mask-closable":!1,"show-icon":!1,preset:"dialog",style:{width:"1200px",height:"800px"},title:"Âå∫ÂüüÈáçÁªò",onClose:a[1]||(a[1]=e=>o("close"))},{default:p((()=>[i("div",ie,[i("div",oe,[U.value?(s(),l("div",ne,[i("div",re,[k(v(f),{size:"large"})])])):g("",!0),i("canvas",{ref_key:"canvasRef",ref:A,resize:"true",style:{padding:"0px",margin:"0px",width:"1024px",height:"640px"}},null,512)]),i("div",ce,[i("button",{onClick:O,class:"rounded-full bg-[#5a91fc] dark:bg-[#888] w-8 h-8"},[k(v(z),{name:"undo",class:"text-white"})])]),i("div",de,[(s(),l(b,null,m(w,(e=>i("div",{class:"flex gap-2",onClick:a=>(e=>{var a;E.value=e.value,null==(a=_.value)||a.updateTool(e.value)})(e)},[i("button",{class:y(["rounded-full w-8 h-8",[e.value===E.value?"bg-[#10A37F] dark:bg-[#10A37F]":"bg-[#5a91fc] dark:bg-[#888]"]])},[k(v(z),{name:e.icon,class:"text-white"},null,8,["name"])],2)],8,ue))),64)),i("div",pe,[k(v(x),{value:j.value,"onUpdate:value":a[0]||(a[0]=e=>j.value=e),rows:2,class:"resize-none overflow-hidden flex-1 !border-gray-200 rounded bg-[#f4f4f4] dark:bg-[#010102]",placeholder:"ËæìÂÖ•ÊèèËø∞‰ø°ÊÅØ"},null,8,["value"]),i("button",{class:"rounded-full bg-[#10A37F] dark:bg-[#10A37F] w-8 h-8",disabled:!j.value,onClick:V},[I.value?(s(),u(v(f),{key:0,size:18,stroke:"#fff",style:{"margin-top":"5px"}})):(s(),u(v(z),{key:1,name:"send",class:"text-white"}))],8,ke)])])])])),_:1},8,["show"]))}}),fe={class:"my-8"},ge=t({__name:"index",props:{taskId:{}},emits:["close"],setup(e,{emit:a}){const t=n(),l=e,o=a,d=c((()=>Boolean(l.taskId))),f=w({squareType:""}),g=r([]),m=async()=>{const e=await A({page:1,size:100});g.value=e.data.rows,g.value.length&&(f.squareType=g.value[0].value)},y=async()=>{await E({id:l.taskId,squareType:f.squareType})&&t.success("ÂèëÂ∏ÉÂà∞ÂπøÂú∫ÊàêÂäü"),o("close",!0)};return(e,a)=>(s(),u(v(h),{show:d.value,"mask-closable":!1,"show-icon":!1,preset:"dialog",title:"ÂèëÂ∏ÉÂà∞ÂπøÂú∫",onAfterEnter:m,onClose:a[2]||(a[2]=e=>o("close",!1))},{action:p((()=>[k(v(_),{round:"",onClick:a[1]||(a[1]=e=>o("close",!1))},{default:p((()=>a[4]||(a[4]=[C("ÂèñÊ∂à")]))),_:1}),k(v(_),{round:"",type:"primary",onClick:y},{default:p((()=>a[5]||(a[5]=[C("ÂèëÂ∏É")]))),_:1})])),default:p((()=>[i("div",fe,[a[3]||(a[3]=i("div",null,"ÈÄâÊã©ÂπøÂú∫Á±ªÂûã",-1)),i("div",null,[k(v(I),{class:"dark:bg-[#010102]",value:f.squareType,"onUpdate:value":a[0]||(a[0]=e=>f.squareType=e),placeholder:"ÈÄâÊã©ÂπøÂú∫Á±ªÂûã","label-field":"name",options:g.value},null,8,["value","options"])])])])),_:1},8,["show"]))}}),me={class:"my-8"},ye=t({__name:"index",props:{taskId:{}},emits:["close"],setup(e,{emit:a}){const t=n(),l=e,o=a,f=r(""),g=c((()=>Boolean(l.taskId)));d((()=>g),(e=>{e&&(f.value="")}));return(e,a)=>(s(),u(v(h),{show:g.value,"mask-closable":!1,"show-icon":!1,preset:"dialog",title:"ÊèèËø∞Ë°•ÂÖÖ",onClose:a[3]||(a[3]=e=>o("close"))},{action:p((()=>[k(v(_),{round:"",onClick:a[1]||(a[1]=e=>o("close"))},{default:p((()=>a[5]||(a[5]=[C("ÂèñÊ∂à")]))),_:1}),k(v(_),{round:"",type:"primary",onClick:a[2]||(a[2]=e=>{f.value?o("close",f.value):t.warning("ÊèèËø∞Ë°•ÂÖÖ‰∏çËÉΩ‰∏∫Á©∫ÔºÅ")})},{default:p((()=>a[6]||(a[6]=[C("Á°ÆÂÆö")]))),_:1})])),default:p((()=>[i("div",me,[a[4]||(a[4]=i("div",null,"ËæìÂÖ•Êñ∞ÁöÑÁªòÂõæÊèèËø∞",-1)),k(v(x),{value:f.value,"onUpdate:value":a[0]||(a[0]=e=>f.value=e),placeholder:"ËæìÂÖ•Êñ∞ÁöÑÁªòÂõæÊèèËø∞",type:"textarea",resizable:!1,rows:7},null,8,["value"])])])),_:1},8,["show"]))}}),be={key:0,style:{width:"100%"}},xe={class:"discord-avatar border border-[#E8E8E8] dark:border-[#2D2E33] dark:bg-[#fff]"},he={key:0,src:"/static/png/botAvatar-253a5030.png",style:{width:"26px",height:"26px"},alt:""},we={key:1,src:e,alt:""},Ce={style:{display:"flex","justify-content":"space-between"}},_e={style:{display:"flex","align-items":"center"}},Ie={style:{"margin-left":"10px"}},Ae={class:"task-time"},Ee={class:"flex gap-4"},Ue={class:"task-delete"},je={class:"origin-prompt dark:text-white text-[#333333]"},Te={class:"en-prompt"},Re={key:1,style:{width:"100%"}},Oe={style:{display:"flex","justify-content":"space-between"}},Ve={class:"action-text"},Se={style:{flex:"1",display:"flex","align-items":"center","justify-content":"end"}},Ne={class:"full-prompt"},Pe={key:0,class:"loader-box"},Me={key:0},Be={key:1,class:"loader-box"},Le={key:3,src:a,alt:""},De={key:4,style:{height:"400px",width:"400px"}},Fe={class:"btn-desc"},qe={class:"dark:text-[#DBD2CF] text-[#666666]",style:{"margin-right":"6px","font-size":"16px","white-space":"nowrap"}},ze=["onClick"],Ge={key:0},Ze={key:1},He={key:1},Xe={key:2,style:{bottom:"16px",display:"flex","margin-top":"6px",position:"absolute",width:"calc(100% - 26px)","justify-content":"space-between"}},Ye={class:"task-mode"},Ke={class:"task-time"},Qe=F(t({__name:"index",props:{type:{},task:{}},emits:["remove","addTask"],setup(e,{emit:a}){const t=U(),o=j(),d=c((()=>"dark"===o.theme)),f=a,x=n(),{toClipboard:h}=T(),w=c((()=>X[e.task.mode]||"Ê®°ÂºèÈîôËØØ")),_=c((()=>Y[e.task.action])),I=c((()=>K[e.task.status]||"-"));let A="";const E=r(0),F=new Map([["U1","ÈÄâ‰∏≠1"],["U2","ÈÄâ‰∏≠2"],["U3","ÈÄâ‰∏≠3"],["U4","ÈÄâ‰∏≠4"],["V1","ÂèòÊç¢1"],["V2","ÂèòÊç¢2"],["V3","ÂèòÊç¢3"],["V4","ÂèòÊç¢4"],["Vary (Subtle)","ÂæÆË∞ÉÔºàÂº±Ôºâ"],["Vary (Strong)","ÂæÆË∞ÉÔºàÂº∫Ôºâ"],["Vary (Region)","Â±ÄÈÉ®ÈáçÁªò"],["Zoom Out 2x","Êâ©2ÂÄç"],["Zoom Out 1.5x","Êâ©1.5ÂÄç"],["Upscale (Subtle)","ÊîæÂ§ßÔºàÂº±Ôºâ"],["Upscale (Creative)","ÊîæÂ§ßÔºàÂº∫Ôºâ"],["Vary (Subtle)","ÂèòÊç¢ÔºàÂº±Ôºâ"],["Vary (Strong)","ÂèòÊç¢ÔºàÂº∫Ôºâ"],["Redo Upscale (Subtle)","ÈáçÁªòÔºàÂº±Ôºâ"],["Redo Upscale (Creative)","ÈáçÁªòÔºàÂº∫Ôºâ"],["Redo Upscale (2x)","ÈáçÁªòÔºà2xÔºâ"],["Redo Upscale (4x)","ÈáçÁªòÔºà4xÔºâ"]]),z=[{text:"ÁºñËæë",reg:function(e){return/upsample:|reroll/.test(e.customId)},desc:"ÂèÇÊï∞Èáä‰πâÔºöÈÄâ‰∏≠Âπ∂ÊîæÂ§ßÊüêÂº†ÂõæÁâáÔºåÊîæÂ§ßÂêéÂèØËøõË°å‰∏ã‰∏ÄÊ≠•ÁöÑÁªòÁîªÊìç‰ΩúÔºåÂ±ÄÈÉ®ÈáçÁªò„ÄÅÂπ≥Áßª„ÄÅÊâ©ÂõæÁ≠â"},{text:"ÂèòÂåñ",reg:function(e){return/:variation:/.test(e.customId)},desc:"ÂèÇÊï∞Èáä‰πâÔºö‰ª•ÊüêÂº†ÂõæÁâá‰∏∫Âü∫ÂáÜÈáçÊñ∞ÁîüÊàê Â¶Ç V1 ÂàôÂèòÊç¢Á¨¨‰∏ÄÂº†ÂõæÁâáÔºå‰ª•Ê≠§Á±ªÊé®"},{text:"ÊîæÂ§ß",reg:function(e){return/upsample_/.test(e.customId)},desc:"ÂèÇÊï∞Èáä‰πâÔºöÂØπÂΩìÂâçÂõæÁâáËøõË°åÊîæÂ§ß"},{text:"Ë∞ÉÊï¥",reg:function(e){return/_variation|Inpaint:/.test(e.customId)},desc:"ÂèÇÊï∞Èáä‰πâÔºöVary ‰ª•ÂΩìÂâçÂõæÁâá‰∏∫Âü∫Á°ÄË∞ÉÊï¥ÂõæÁâá"},{text:"Êâ©Âõæ",reg:function(e){return/Outpaint:/.test(e.customId)},desc:"ÂèÇÊï∞Èáä‰πâÔºöZoomOut ÔºåÂØπÂΩìÂâçÂõæÁâáÊåâÁÖßÂÄçÊï∞ËøõË°åÊâ©Â§ßÔºåÂë®Âõ¥Ëá™Âä®AIÂ°´ÂÖÖÔºåÂèØÊó†ÈôêÈáçÂ§çÊó†ÈôêÊâ©Â§ß"},{text:"Êãâ‰º∏",reg:function(e){return/pan_/.test(e.customId)},desc:"ÂèÇÊï∞Èáä‰πâÔºöÂØπÂΩìÂâçÂõæÁâáËøõË°åÂêÑ‰∏™ÊñπÂêëÁöÑÊãìÂ±ï"},{text:"ÊèèËø∞",reg:function(e){return/PicReader|Picread:/.test(e.customId)},desc:""}],G=c((()=>{if(!e.task.buttons)return[];const a=[];return z.forEach((t=>{const s=e.task.buttons.filter((e=>"string"==typeof t.reg?e.label.includes(t.reg):"function"==typeof t.reg?t.reg(e):void 0));s.forEach((e=>e.zhLabel=F.get(e.label)||e.label)),s.length&&a.push({text:t.text,desc:t.desc,children:s})})),a})),Z=r(""),J=r(0),ee=function(){J.value=e.task.id},te=function(a){a&&(e.task.favorite=Number(!e.task.favorite)),J.value=0},se=async function(){try{await h(e.task.fullPrompt),x.success("Â§çÂà∂ÊàêÂäü")}catch(a){x.error("Â§çÂà∂Â§±Ë¥•!!")}},ie=async function(){await L({id:e.task.id}),f("remove")},oe=async()=>{await D({id:e.task.id,favorite:Number(!e.task.favorite)})&&x.success((0===e.task.favorite?"Êî∂Ëóè":"ÂèñÊ∂àÊî∂Ëóè")+" ÊàêÂäü"),1==e.task.favorite&&f("remove"),e.task.favorite=Number(!e.task.favorite)},ne=e=>{if(["U1","U2","U3","U4"].includes(e.label))return H.U_SCALE;if(["V1","V2","V3","V4"].includes(e.label))return H.V_EXPAND;if(!e.label&&e.emoji){if("üîÑ"===e.emoji)return H.REGENERATE;if(["‚¨ÖÔ∏è","‚û°Ô∏è","‚¨ÜÔ∏è","‚¨áÔ∏è"].includes(e.emoji))return H.STRETCH;if(["1Ô∏è‚É£","2Ô∏è‚É£","3Ô∏è‚É£","4Ô∏è‚É£"].includes(e.emoji))return H.IMAGE_TO_TEXT_ACTION}return e.label.includes("Upscale (4x)")?H.UPSCALE_4X:e.label.includes("Upscale (2x)")?H.UPSCALE_2X:e.label.includes("Vary (Subtle)")?H.VARY_SUBTLE:e.label.includes("Vary (Strong)")?H.VARY_STRONG:e.label.includes("Vary (Region)")?H.VARY_REGION:e.label.includes("Make Square")?H.SQUARE:e.label.includes("Zoom Out 2x")?H.ZOOM2X:e.label.includes("Zoom Out 1.5x")?H.ZOOM1_5X:e.label.includes("Custom Zoom")?H.ZOOM_CUSTOM:e.label.includes("Redo Upscale (Subtle)")?H.REDO_UPSCALE_SUBTLE:e.label.includes("Redo Upscale (Creative)")?H.REDO_UPSCALE_CREATIVE:H.NONE},re=r(0),ce=function(a){if(a){const t={type:Q.IMAGE_ACTION,params:{prompt:a,taskId:e.task.id,action:H.VARY_REGION}};f("addTask",t,(e=>{e&&(re.value=0)}))}else re.value=0},de=function(a){if(a){const t={type:Q.IMAGE_ACTION,params:{...a,taskId:e.task.id,customId:A}};f("addTask",t,(e=>{e&&(A="",E.value=0)}))}else A="",E.value=0};return(a,o)=>{var n,r;return s(),l("div",{class:y([["mj-task",a.type],"dark:bg-[#D8B07419] bg-[#e0e5f7] border-l-2 border-[#3c69e7] dark:border-[#F0B132]"])},["chat"===a.type?(s(),l("div",be,[i("div",xe,[d.value?(s(),l("img",he)):(s(),l("img",we))]),i("div",null,[i("div",Ce,[i("div",_e,[o[13]||(o[13]=i("span",{class:"discord-en text-[#333333] dark:text-[#D9D3D0]"},"Midjourney Bot",-1)),o[14]||(o[14]=i("span",{class:"discord-cn text-[#079F49] bg-[#c7dbe4] dark:text-[#26F37B] dark:bg-[#23A5592D]"},"AIÊú∫Âô®‰∫∫",-1)),Z.value?(s(),l("span",{key:1,class:"task-seed",onClick:o[1]||(o[1]=e=>async function(){try{await h(Z.value),x.success("Â§çÂà∂ÊàêÂäü")}catch(e){x.error("Â§çÂà∂Â§±Ë¥•!!")}}())},R(Z.value),1)):(s(),l("span",{key:0,class:"task-seed",onClick:o[0]||(o[0]=a=>async function(){const a=await M({jobId:e.task.jobId});Z.value=a.data}())},"Ëé∑ÂèñseedÂÄº")),i("div",Ie,[i("span",Ae,R(a.task.createdAt),1)])]),i("div",Ee,[i("div",{class:"flex cursor-pointer items-center",onClick:o[2]||(o[2]=e=>oe())},[k(v(O),null,{default:p((()=>[1===a.task.favorite?(s(),u(v(ae),{key:0})):(s(),u(v(W),{key:1}))])),_:1}),o[15]||(o[15]=i("span",null,"Êî∂Ëóè",-1))]),C(" "+R(null==(n=a.task)?void 0:n.squareType)+" ",1),(null==(r=a.task)?void 0:r.squareType)?g("",!0):(s(),l("div",{key:0,class:"flex cursor-pointer items-center",onClick:o[3]||(o[3]=e=>ee())},[k(v(O),null,{default:p((()=>[k(v(le))])),_:1}),o[16]||(o[16]=i("span",null,"ÂàÜ‰∫´",-1))])),a.task.status>=3?(s(),u(v($),{key:1,onPositiveClick:o[4]||(o[4]=e=>ie()),style:V(d.value?"background:#19191B":"background:#F8F9F9")},{trigger:p((()=>[i("div",Ue,[i("div",{class:y(["delete-icon",d.value?"icon-delete-copy":"delete-icon"])},null,2),o[17]||(o[17]=i("span",null,"Âà†Èô§",-1))])])),default:p((()=>[o[18]||(o[18]=C(" ÊÇ®Á°ÆËÆ§Ë¶ÅÂà†Èô§‰ªªÂä°ÂêóÔºü "))])),_:1},8,["style"])):g("",!0)])])]),i("div",je,[i("p",{style:{display:"inline-block"},onClick:o[5]||(o[5]=e=>se())},R(a.task.originPrompt),1)]),o[19]||(o[19]=i("div",{style:{width:"100%","background-color":"#5A504A",height:"1px","margin-top":"8px"}},null,-1)),i("div",Te,[i("p",{style:{display:"inline-block"},onClick:o[6]||(o[6]=e=>se())},R(a.task.prompt),1)])])):g("",!0),"task"===a.type?(s(),l("div",Re,[i("div",Oe,[i("div",Ve,[i("span",null,R(_.value)+"-"+R(I.value),1)]),i("div",Se,[k(v(S),{trigger:"hover"},{trigger:p((()=>[i("div",{class:y(["action-icon",d.value?"icon-share-copy":"icon-share"]),onClick:o[7]||(o[7]=e=>ee())},null,2)])),default:p((()=>[o[20]||(o[20]=C(" ÂèëÂ∏ÉÂà∞ÂπøÂú∫ "))])),_:1}),k(v(S),{trigger:"hover"},{trigger:p((()=>[i("div",{class:y(["action-icon",d.value?"icon-copy-copy":"icon-copy"]),onClick:o[8]||(o[8]=e=>se())},null,2)])),default:p((()=>[o[21]||(o[21]=C(" Â§çÂà∂ÊúÄÁªàÊâßË°åÊèêÁ§∫ËØç "))])),_:1}),k(v(S),{trigger:"hover"},{trigger:p((()=>[i("div",{class:y(["action-icon",d.value?"icon-down-copy":"icon-down"]),onClick:o[9]||(o[9]=a=>async function(){e.task.imageUrl?t.info({title:"‰∏ãËΩΩÂõæÁâá",content:"ÊòØÂê¶Á°ÆËÆ§‰∏ãËΩΩÂΩìÂâçÂõæÁâá",positiveText:"‰∏ãËΩΩ",negativeText:"ÂèñÊ∂à",onPositiveClick:async()=>{const a=e.task.imageUrl.split("/");B(e.task.imageUrl,a[a.length-1])}}):x.warning("ÂõæÁâáÊú™ÁîüÊàêÂÆåÊàêÊöÇ‰∏çËÉΩ‰∏ãËΩΩ")}())},null,2)])),default:p((()=>[o[22]||(o[22]=C(" ‰∏ãËΩΩÂõæÁâá "))])),_:1}),a.task.status>=3?(s(),u(v(S),{key:0,trigger:"hover"},{trigger:p((()=>[i("div",{class:y(["action-icon",d.value?"icon-delete-copy":"icon-delete"]),onClick:o[10]||(o[10]=a=>{t.create({type:"default",title:"Á°ÆËÆ§Âà†Èô§",content:(e.task.favorite?"ÂΩìÂâç‰ªªÂä°Â∑≤Ë¢´Êî∂ËóèÔºåÂà†Èô§ÁªòÁîª‰ªªÂä°‰ºöÂØºËá¥Êî∂ËóèÂ§±Êïà‰∏î‰∏çÂèØÊâæÂõûÔºåÁ°ÆÂÆöÂà†Èô§":"Âà†Èô§ÁªòÁîª‰ªªÂä°‰∏çÂèØÊâæÂõûÔºåÁ°ÆÂÆöÂà†Èô§")+"Ôºü",positiveText:"Á°ÆÂÆö",negativeText:"ÂèñÊ∂à",maskClosable:!1,onPositiveClick:()=>ie()})})},null,2)])),default:p((()=>[o[23]||(o[23]=C(" Âà†Èô§‰ªªÂä° "))])),_:1})):g("",!0),k(v(S),{trigger:"hover"},{trigger:p((()=>[k(v(N),{onClick:o[11]||(o[11]=e=>oe()),icon:0===a.task.favorite?"uit:favorite":"uis:favorite",class:"mx-1 cursor-pointer action-icon"},null,8,["icon"])])),default:p((()=>[o[24]||(o[24]=C(" Êî∂ËóèÊ≠§‰ªªÂä° "))])),_:1})])]),k(v(S),{trigger:"hover"},{trigger:p((()=>[i("div",Ne,[i("div",null,R(a.task.fullPrompt),1)])])),default:p((()=>[C(" "+R(a.task.fullPrompt),1)])),_:1})])):g("",!0),i("div",{class:y(["task-img",a.type])},[2!==a.task.status&&6!==a.task.status||0==a.task.progress?g("",!0):(s(),l("div",Pe,[o[25]||(o[25]=i("div",{class:"loader"},null,-1)),a.task.progress&&100!==a.task.progress?(s(),l("span",Me,R(a.task.progress)+"%",1)):g("",!0)])),1===a.task.status||0==a.task.progress?(s(),l("div",Be,o[26]||(o[26]=[i("div",{class:"loader"},null,-1),i("span",null,"ÊéíÈòü‰∏≠",-1)]))):g("",!0),a.task.imageUrl&&3===a.task.status&&0!==a.task.progress?(s(),u(v(P),{key:2,"preview-src":a.task.imageUrl,style:{width:"400px",height:"400px",display:"flex","justify-content":"center","border-radius":"12px"},"fallback-src":v("/static/png/draw-fail-ce560894.png"),"object-fit":"contain",src:a.task.imageUrl+"?imageView2/0/w/300/q/85&format=webp&quality=lossless&width=300&height=300"},null,8,["preview-src","fallback-src","src"])):4===a.task.status?(s(),l("img",Le)):a.task.status<=3||6===a.task.status?(s(),l("div",De)):g("",!0)],2),i("div",null,[3===a.task.status?(s(!0),l(b,{key:0},m(G.value,((t,n)=>(s(),l("div",{class:"task-btns",key:a.task.id+"-"+n},[i("div",Fe,[i("span",qe,R(t.text)+" :",1),t.desc?(s(),u(v(S),{key:0,trigger:"hover"},{trigger:p((()=>o[27]||(o[27]=[i("img",{src:"/static/svg/info-1f57612a.svg",alt:"",srcset:""},null,-1)]))),default:p((()=>[C(" "+R(t.desc),1)])),_:2},1024)):g("",!0)]),(s(!0),l(b,null,m(t.children,((t,r)=>(s(),l("div",{class:"btn-item dark:bg-[#4E5058] bg-[#fff] dark:text-[#DBD2CF] text-[#666666]",key:a.task.id+"-"+n+"-"+r,onClick:a=>async function(a){if(1==a.isLoding)return;if(a.isLoding=!0,ne(a)===H.VARY_REGION)E.value=e.task.id,A=a.customId;else{const t={type:Q.IMAGE_ACTION,params:{taskId:e.task.id,action:ne(a),customId:a.customId,enableRemix:!1}};f("addTask",t,(e=>{console.log(e),a.isLoding=!1}))}}(t)},[t.isLoding?g("",!0):(s(),l("div",Ge,R(t.zhLabel||t.emoji),1)),t.isLoding?(s(),l("div",Ze,o[28]||(o[28]=[i("div",{class:"loader"},null,-1)]))):g("",!0)],8,ze)))),128))])))),128)):g("",!0),4===a.task.status?(s(),l("div",He,[o[29]||(o[29]=i("span",null,"‰ªªÂä°Â§±Ë¥•:",-1)),i("span",null,R(a.task.failReason),1)])):g("",!0),6===a.task.status?(s(),l("div",{key:2,class:"modal-btn",onClick:o[12]||(o[12]=a=>{9===e.task.action?(A=e.task.customId,E.value=e.task.id):(re.value=e.task.id,console.log(re))})},"Ë°•ÂÖÖÊèêÁ§∫ËØç")):g("",!0)]),"task"===a.type?(s(),l("div",Xe,[i("span",Ye,R(w.value),1),i("span",Ke,R(v(q)(a.task.createdAt)),1)])):g("",!0),k(ve,{taskId:E.value,onClose:de},null,8,["taskId"]),k(ge,{taskId:J.value,onClose:te},null,8,["taskId"]),k(ye,{"task-id":re.value,onClose:ce},null,8,["task-id"])],2)}}}),[["__scopeId","data-v-57f0f302"]]);export{Qe as M};
