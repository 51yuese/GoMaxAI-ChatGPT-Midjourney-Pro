import{e,g as a,k as l,K as t,j as s,o as i,a6 as A,r as n,a8 as r,P as d,I as u,v as o,w as g,A as p,z as v,y as c,S as y,T as x,a3 as f,_ as C}from"../main-da83e417.js";import{_ as h}from"../sendBox_2 copy/sendBox_2 copy.b5b6aeb0.js";import{_ as m}from"../sendBox_3/sendBox_3.6cc2f527.js";import{u as w}from"../useUpload/useUpload.38dff529.js";const B="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAMoSURBVEiJ3dTBa5t1HMfx9/f3pEnapWVJmsRpjOuTjGSdLdiOiiAIu4h4UTx4HJPqYRPEg/9CL+JJHCIMe9tFEWQKioI7CDtY3WHLmvVpts4aS7dndStpmvR5nq+HUimap0vwts/tB194/b6/35cvPC6RRxWUy+Xhti/TgskaDYYCMU181trtwYVGY2HrfyGFwkQyEvVOA28DBSAOWIAHbIPWA+V8LKIXa7XaZt9IqXRi3Mf/SJBTgIXyO6K3UNlSISFgA3mgg/KNZ7wP7iwt1XtGbLt8EjEXECaBm6r6sfpc6nQerjcajXYuNxmPjbRyVmDeEDHvAgWFK4FYb60sXbvxSGT3iXa+ADmlcNlCzjlO9XrYDYvFyrSKfAZMgXw5YPlnuj2d2X/Y/QN5EWRRAn3nIABgeXlxwUdmgTugr3Y883q3un+QTGY8AcwCEdXgk3p98eZBwF5WnOpvoJ8DUYHZfD4/GIokDusUu1P0h2/8b3sB9qIm+ArkHsJxKz5SCUVQeQIYBHW8ZnOtHyQqUle0AQwb0dFQxGgwBFiobDUajXY/SK1WawHbwICgsVAkENMEPBUSudxkvB/Etu1Dgg6CtiXQ/2yBfZ34DaBl4Fgi4R/pBzEmVlQkD7iqshqKtNvNX0FvKRwJ8LqOYlgC5U2BlML1eNzcDkVWV1dbgXIe6AjmrG1XJnoBSqXKCwinVWkZlU+r1WonFAGIRfQiyg8IRzEyPzY2PnMQcLRUeSlQmQdyAl+325vfdauz9h9c1+2k07mrATolMCNGX0mmRkdSyYybzaZbrusGtm0PH85kKqlk9n2BOUQKACrsDFixyxsb99b/jXTdws+Uy2OWZ+YQXgOiwLrCGrC9O0U8CTKK0lLhEnBM4DngF1HOLC/fuBbayV4euO5f2Wz6ez8QRyCrQk7gKUGfBhlCZRPRH42Yue2tBx9GI/GfEGaAkwjPp1PZn+/fv3v3wE72J5ebPJRIdCqBkZRAVALd8CL650qtdhvQvbpi8fizKswD0wpXLHZedhznYU9IPymVxk/46AURuWq0857jOH1tjp5TKEwku23ixyN/A4MgPVczNx8VAAAAAElFTkSuQmCC",E={class:"mainBox"},F={class:"bg-[#fff] dark:bg-[#24252b] border-2 dark:border-[#57585e] border-transparent",style:{"border-radius":"14px",width:"794px"}},b={key:0,class:"fileBox"},k={class:"file bg-[#FFFFFF] dark:bg-[#111113]"},I={key:0,style:{width:"24px",height:"24px","border-radius":"6px",display:"flex","justify-content":"center","align-items":"center"}},S=["src"],K={key:0,style:{position:"absolute"}},X={key:1,style:{"background-color":"#10A37F",width:"24px",height:"24px","border-radius":"6px",display:"flex","justify-content":"center","align-items":"center"}},R={key:0,style:{position:"relative"},src:"/static/svg/file-16b3e23d.svg",alt:""},U={key:1,style:{position:"absolute"}},V={style:{flex:"1","margin-left":"8px"}},Y={style:{"font-size":"12px","line-height":"15px"}},j={style:{"font-size":"10px","line-height":"4px","margin-top":"4px"}},H={class:"inpBox"},z={key:0,style:{width:"20px",height:"20px"},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAArCAYAAAD/lEFzAAAAAXNSR0IArs4c6QAAAmFJREFUWEft2LuqFEEQxvF/eUHxmhuaKl5AQfGCoYEPIJj5AOJdxEQUFT2K4COY+BBiIF7QVBThRCa+gB7FA2o731JnacfdneqezZyJlmW6+0d1d3VNGz2flNIqYC9wAtDvZ8BrM/tZ27XVNlQ7Bx0A7gC7vK/3wBXgjZn9rum/GpWB7gGCrXbAL4GAy7WwKtQM0EpgesGKUQFQb1gRqgDUCxZGVYCqYSFUD1AVrBPVAUrAjyYlrPMcJYTSwDKwHsj7Dy/+magOkJLjO+AzcAzY7GH5CjwHtnnuWpPlqhBsKqoDpM5fAreAQ8A5YIsP/gV4CLwCrgGHsxymVzphE1EBkJLjBeCDg5QoNzlqCVBCFWxHE8EHreTaCfsHFQSNsnUz+AbgogNzlCD3m6z+3UHtrD8T9heqBKRzLaUkyFSUmS2V9intGFXTOIJqHdyhiI1QNSBv1xmplZ1XNEZKaS2w3xdnftp3LshopAphNy2ldNS39sHSrVuKCs7KR6FuAGeaLby1NMnVoAKwZaGuA2czVGdyy6YjvKbaFeiMNTZC7QMWgD3eUEfH1UjVWBupCWvsLrDT//8klM4m1ddH/DB9CixG6uu+KJ9KldG7s/Ff5HlKpzpmplM/9MwDlUVtPH5n6TJLN09UPs6ACq2JVmUYbTN+b5i+aMiGSA2RmhCBIU9Fl8UQqSFS0z5G9d0Xjc5/USVcAs637hJ0j7BgZrqBKX767r6NDtIVtX7r0ZTdBh6Z2bdi0RxKF9XXx/2GZbsDFoHTwFsz06Va8dMrUhotpaTvxVPASR/9CfC4Nkrq4w/WMdkx8DYhDAAAAABJRU5ErkJggg==",alt:""},P={key:1,style:{width:"20px",height:"20px"},src:h,alt:""},D=C(e({__name:"sendBox",props:{changeChatLog:Boolean},emits:["handleSend","handleInp","handleClear"],setup(e,{emit:C}){a((()=>h.isLogin)),l(),t();const h=s(),B=i(),D=A(),Z=a((()=>"dark"===D.theme)),L=C,G=n(),J=n(),{selectFile:W,upload:O}=w(),T=r(),q=n("/api/file/upload2Local");function N(){(G.value||J.value)&&(L("handleSend"),ie.value=!1,$.value="",ae.value="")}function Q(){J.value?L("handleInp",J.value+" "+G.value):L("handleInp",G.value)}function M(e){G.value&&("Enter"===e.key&&e.shiftKey?(e.preventDefault(),G.value=G.value+"\n"):"Enter"!==e.key||e.ctrlKey||e.shiftKey?"Enter"===e.key&&e.preventDefault():(e.preventDefault(),L("handleSend"),ie.value=!1,$.value="",ae.value="",J.value=""))}d(e,(e=>{ie.value=!1})),u.on("sendSuccess",(()=>{G.value="",J.value=""}));const _=n(!1);u.on("setModel",(e=>{_.value=e.canUpload}));const $=n(""),ee=n(""),ae=n(""),le=n(!1);async function te(e=1){let a;if(se.value=!1,1===e){if(a=await W(),!a)return void B.error("选择文件错误")}else a=e;le.value=!0,ie.value=!0;const l=new FormData;l.append("file",a),await f.post(q.value,l,{headers:{"Content-Type":"multipart/form-data"}}).then((a=>{if(a.data){let{data:e}=a.data;ee.value=e.split(".").pop(),$.value=e.split("/ai/")[1],ae.value=a.data.data,J.value=e,L("handleInp",ae.value),le.value=!1}1!==e&&T.updateRecordDialog(!1)}))}const se=n(!1),ie=n(!1);return(e,a)=>(o(),g("div",E,[p("div",F,[ie.value?(o(),g("div",b,[p("div",k,["png"==ee.value||"jpeg"==$.value||"jpg"==$.value?(o(),g("div",I,[p("img",{src:ae.value,alt:""},null,8,S),le.value?(o(),g("div",K,a[5]||(a[5]=[p("div",{class:"loader"},null,-1)]))):v("",!0)])):(o(),g("div",X,[le.value?v("",!0):(o(),g("img",R)),le.value?(o(),g("div",U,a[6]||(a[6]=[p("div",{class:"loader"},null,-1)]))):v("",!0)])),p("div",V,[p("p",Y,c($.value),1),p("p",j,c("png"==ee.value||"jpeg"==$.value||"jpg"==$.value?"图片":"文档"),1)])])])):v("",!0),p("div",H,[_.value?(o(),g("img",{key:0,onClick:a[0]||(a[0]=e=>function(e=1){te(e)}(1)),style:{width:"20px",height:"20px","margin-right":"10px",cursor:"pointer"},src:"data:image/png;base64,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"})):v("",!0),y(p("textarea",{onKeypress:a[1]||(a[1]=(...a)=>e.handleEnter&&e.handleEnter(...a)),onKeydown:M,class:"inp bg-[#fff] dark:bg-transparent","onUpdate:modelValue":a[2]||(a[2]=e=>G.value=e),type:"text",name:"",id:"",placeholder:"请输入你的问题或需求...",onInput:Q},null,544),[[x,G.value]]),p("div",{class:"dark:bg-[#23A559]",style:{background:"linear-gradient(146deg, #957DF4 2%, #3C69E7 95%)",display:"flex","align-items":"center","justify-content":"center","border-radius":"50%",cursor:"pointer",width:"40px",height:"40px"},onClick:N},[Z.value?(o(),g("img",z)):(o(),g("img",P))]),Z.value&&se.value?(o(),g("div",{key:1,class:"upLoadModel1",onClick:a[3]||(a[3]=e=>te(1))},a[7]||(a[7]=[p("div",{style:{display:"flex",padding:"8px","border-radius":"12px","background-color":"#222325"}},[p("img",{style:{"margin-right":"5px",width:"20px",height:"20px",cursor:"pointer"},src:m,alt:""}),p("p",null,"从电脑中上传")],-1)]))):v("",!0),!Z.value&&se.value?(o(),g("div",{key:2,class:"upLoadModel",onClick:a[4]||(a[4]=e=>te(1))},a[8]||(a[8]=[p("div",{style:{display:"flex",padding:"8px","border-radius":"12px","background-color":"#F0F0F0"}},[p("img",{style:{"margin-right":"5px",width:"20px",height:"20px",cursor:"pointer"},src:m,alt:""}),p("p",null,"从电脑中上传")],-1)]))):v("",!0)])])]))}}),[["__scopeId","data-v-9cd87616"]]);export{B as _,D as s};
