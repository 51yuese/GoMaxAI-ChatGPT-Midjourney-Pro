import{e,K as a,w as l,x as t,B as s,Z as i,z as n,y as o,F as u,E as r,C as d,al as c,$ as p,aS as v,A as m,D as f,I as g,M as b,l as x,L as y,a7 as h,k,r as w,g as C,Q as _,q as I,bh as D,aF as S,p as A,bA as q,am as z,G as j,T as M,aZ as P,_ as G,d1 as L,bs as E,a3 as T,N as R,d2 as U,bg as F,bf as N,by as $,bi as B,X as V,b9 as K,a1 as W,aI as H,aE as Z,d3 as O,a4 as Q,d4 as X,d5 as J,d6 as Y,aM as ee}from"../main-be2ae0f3.js";import{d as ae}from"../debounce/debounce.8d207afe.js";import{N as le}from"../Popconfirm/Popconfirm.294d06f3.js";import{N as te}from"../LayoutSider/LayoutSider.65040000.js";const se={class:"mb-2 text-xs text-neutral-400 font-bold"},ie={class:"ml-1"},ne=["onClick"],oe={class:"relative flex-1 overflow-hidden break-all text-ellipsis whitespace-nowrap"},ue={key:1},re={key:0,class:"absolute z-10 flex visible right-1"},de=["onClick"],ce={key:0,class:"p-1"},pe={key:1,class:"p-1"},ve={class:"p-1"},me=e({__name:"ListItem",props:{dataSources:{},title:{},hideSticky:{type:Boolean}},emits:["update","delete","sticky","select"],setup(e,{emit:b}){const x=e,y=b,h=x.dataSources,k=a();const w=ae((async function(e,a){null==a||a.stopPropagation(),y("delete",e)}),600);async function C(e){const{uuid:a,title:l}=e;e.isEdit=!1,await k.updateGroupInfo({groupId:a,title:l}),await k.queryMyGroup()}function _(e){return k.active===e}return(e,a)=>{var b;return l(),t(u,null,[a[0]||(a[0]=s("div",{style:{"background-color":"#3076ED"}},null,-1)),s("p",se,[i(n(x.title)+" ",1),s("span",ie,"("+n(null==(b=o(h))?void 0:b.length)+")",1)]),(l(!0),t(u,null,r(o(h),(a=>(l(),t("div",{key:`${a.uuid}`},[s("a",{class:g(["bg-[#fff] dark:bg-[#171726] relative flex items-center dark:border-transparent border-gray-200 gap-3 px-3 py-2.5 break-all border rounded-md cursor-pointer hover:bg-gradient-to-l dark:to-[#54A2F5] hover:dark:text-[#2D6DD9] group",[_(a.uuid)?" dark:text-[#2D6DD9] text-[#3378ED] bg-gradient-to-l border-transparent bg-[#ebe9e9] dark:bg-[#15171A] pr-20":"dark:bg-[#1A1D21]"]]),onClick:e=>async function(e){console.log(e),y("select",e)}(a)},[s("span",null,[d(o(c),{icon:a.isSticky?"ri:pushpin-2-line":a.appId?"icon-park-outline:application-one":"ri:message-3-line"},null,8,["icon"])]),s("div",oe,[a.isEdit?(l(),p(o(v),{key:0,value:a.title,"onUpdate:value":e=>a.title=e,size:"tiny",onKeypress:e=>async function(e,a){null==a||a.stopPropagation(),"Enter"===a.key&&C(e)}(a,e)},null,8,["value","onUpdate:value","onKeypress"])):(l(),t("span",ue,n(a.title),1))]),_(a.uuid)?(l(),t("div",re,[a.isEdit?(l(),t("button",{key:0,class:"p-1",onClick:e=>{return l=a,null==(t=e)||t.stopPropagation(),void C(l);var l,t}},[d(o(c),{icon:"ri:save-line"})],8,de)):(l(),t(u,{key:1},[e.hideSticky?m("",!0):(l(),t("button",ce,[d(o(c),{icon:a.isSticky?"ri:unpin-line":"ri:pushpin-line",onClick:e=>async function(e,a){null==a||a.stopPropagation(),await k.updateGroupInfo({isSticky:!e.isSticky,groupId:e.uuid}),await k.queryMyGroup()}(a,e)},null,8,["icon","onClick"])])),a.appId?m("",!0):(l(),t("button",pe,[d(o(c),{icon:"ri:edit-line",onClick:e=>{return l=a,t=!0,null==(s=e)||s.stopPropagation(),void(l.isEdit=t);var l,t,s}},null,8,["onClick"])])),d(o(le),{placement:"bottom",onPositiveClick:e=>o(w)(a,e)},{trigger:f((()=>[s("button",ve,[d(o(c),{icon:"ri:delete-bin-line"})])])),default:f((()=>[i(" "+n(e.$t("chat.deleteHistoryConfirm")),1)])),_:2},1032,["onPositiveClick"])],64))])):m("",!0)],10,ne)])))),128))],64)}}}),fe={class:"flex flex-col gap-3 text-sm"},ge={key:0,class:"flex flex-col items-center mt-4 text-center text-neutral-300"},be={key:2,class:"flex flex-col items-center mt-4 text-center text-neutral-300"},xe={key:5,class:"flex flex-col items-center mt-4 text-center text-neutral-300"},ye=e({__name:"List",emits:["autoCreate"],setup(e,{emit:i}){const{isMobile:r}=b(),v=x(),g=y(),S=h(),A=a(),q=k(),z=w(100),j=C((()=>A.groupList)),M=C((()=>A.groupKeyWord)),P=C((()=>A.activeChatTab));function G(e){const a=new Date(e).getTime()+288e5;return new Date(a).getTime()}_(j,(()=>z.value=z.value+1)),_(M,(()=>z.value=z.value+1)),C((()=>q.isLogin));const L=(new Date).setHours(0,0,0,0),E=C((()=>j.value.filter((e=>M.value?e.title.includes(M.value)&&e.isSticky:e.isSticky)))),T=C((()=>j.value.filter((e=>M.value?e.title.includes(M.value)&&!e.isSticky&&e.appId:!e.isSticky&&e.appId)))),R=C((()=>j.value.filter((e=>M.value?e.title.includes(M.value)&&!e.isSticky&&!e.appId&&G(e.createdAt)>=L:!e.isSticky&&!e.appId&&G(e.createdAt)>=L)))),U=C((()=>j.value.filter((e=>M.value?e.title.includes(M.value)&&!e.isSticky&&!e.appId&&G(e.createdAt)<L:!e.isSticky&&!e.appId&&G(e.createdAt)<L))));async function F(e){const{uuid:a}=e;console.log("uuid",a),function(e){return A.active===e}(a)||(await A.setActiveGroup(a),"Chat"!==g.name&&v.push("/chat"),r.value&&S.setSiderCollapsed(!0))}async function N(e){null==event||event.stopPropagation(),await A.deleteGroup(e),await A.queryMyGroup(),r.value&&S.setSiderCollapsed(!0)}C((()=>0===j.value.length||j.value.length>0&&0===T.value.length||j.value.length>0&&0===R.value.length));const $=i;return I((()=>{A.queryMyGroup().then((()=>{j.value.length||$("autoCreate")}))})),(e,a)=>(l(),p(o(D),{class:"px-4"},{default:f((()=>[s("div",fe,[j.value.length?(l(),t(u,{key:1},[E.value.length&&"app"!==P.value?(l(),p(me,{key:1e3+z.value,title:"置顶","data-sources":E.value,onSelect:F,onDelete:N},null,8,["data-sources"])):m("",!0),T.value.length&&"app"===P.value?(l(),p(me,{key:2e3+z.value,hideSticky:"",title:"应用","data-sources":T.value,onSelect:F,onDelete:N},null,8,["data-sources"])):m("",!0),T.value.length||"app"!==P.value?m("",!0):(l(),t("div",be,[d(o(c),{icon:"ri:inbox-line",class:"mb-2 text-3xl"}),s("span",null,n(e.$t("common.noData")),1)])),R.value.length&&"app"!==P.value?(l(),p(me,{key:3e3+z.value,title:"今天","data-sources":R.value,onSelect:F,onDelete:N},null,8,["data-sources"])):m("",!0),U.value.length&&"app"!==P.value?(l(),p(me,{key:4e3+z.value,title:"其他","data-sources":U.value,onSelect:F,onDelete:N},null,8,["data-sources"])):m("",!0),R.value.length||U.value.length||E.value.length||"app"===P.value?m("",!0):(l(),t("div",xe,[d(o(c),{icon:"ri:inbox-line",class:"mb-2 text-3xl"}),s("span",null,n(e.$t("common.noData")),1)]))],64)):(l(),t("div",ge,[d(o(c),{icon:"ri:inbox-line",class:"mb-2 text-3xl"}),s("span",null,n(e.$t("common.noData")),1)]))])])),_:1}))}}),he={class:"flex flex-col flex-1 min-h-0"},ke={style:{"border-radius":"10px 10px 0 0"},class:"flex h-14 items-center space-x-4 justify-between px-4 bg-[#fff] dark:bg-[#1A1D21]"},we={class:"flex-1"},Ce=["loading"],_e={class:"bg-[#fff] dark:bg-[#1A1D21]"},Ie={class:"my-2 mx-4",style:{border:"1px solid #3177ED","border-radius":"3px"}},De={id:"sessionGroup",class:"min-h-0 pb-12 overflow-hidden bg-[#fff] dark:bg-[#1A1D21]",style:{"border-radius":"0 0 10px 10px"}},Se={class:"flex justify-center border-t dark:border-gray-700 py-2 dark:bg-[#1A1D21] bg-[#fff]",style:{position:"absolute",bottom:"10px",left:"10px",width:"96%","border-radius":"10px"}},Ae=G(e({__name:"index",setup(e){S();const i=h(),n=a(),u=k();A();const r=w(null),p=w(null),g=C((()=>u.isLogin)),x=q();C((()=>n.activeChatTab));const y=w(0),I=w(0),D=w(0),G=w(0),L=w(!1),E=w(null);_((()=>u.userBalance.useModel3Token),((e,a)=>{var l;y.value=a||0,I.value=e||0,null==(l=r.value)||l.play()}),{immediate:!0,flush:"post"}),_((()=>u.userBalance.useModel4Token),((e,a)=>{var l;D.value=a||0,G.value=e||0,null==(l=p.value)||l.play()}),{immediate:!0,flush:"post"});const{isMobile:T}=b(),R=w(!1),U=C((()=>i.siderCollapsed)),F=w("");function N(e){g.value?(F.value=e,n.setGroupKeyWord(e)):u.setLoginDialog(!0)}function $(){L.value=!1}async function B(){try{if(!g.value)return void u.setLoginDialog(!0);R.value=!0,await n.updateChatTab("history"),await n.addNewChatGroup(),await n.queryMyGroup(),R.value=!1,T.value&&i.setSiderCollapsed(!0)}catch(e){R.value=!1}}async function V(){g.value?x.create({title:"清空分组",content:"是否删除所有非置顶的对话组？",positiveText:"确认删除",negativeText:"再想想",onPositiveClick:async()=>{await n.delAllGroup()}}):u.setLoginDialog(!0)}function K(){i.setSiderCollapsed(!U.value)}const W=C((()=>i.theme)),H=C((()=>T.value?{position:"fixed",zIndex:50,top:"56px",height:"calc(100% - 56px)"}:{background:"dark"===W.value?"#131323":"",height:"calc(100% - 60px)"})),Z=C((()=>T.value?{paddingBottom:"env(safe-area-inset-bottom)"}:{})),O=()=>{B()};return _((()=>T.value),(e=>{i.setSiderCollapsed(e)}),{immediate:!0,flush:"post"}),(e,a)=>(l(),t("div",null,[d(o(te),{collapsed:U.value,"collapsed-width":0,width:300,"show-trigger":!1,"collapse-mode":"transform",bordered:!1,style:j(H.value),onUpdateCollapsed:K},{default:f((()=>[s("div",{style:j([{padding:"10px 0 10px 10px",position:"relative"},Z.value]),class:"flex h-full flex-col bg-[#f4f4f4] dark:bg-[#010102]"},[s("main",he,[s("div",ke,[s("div",we,[s("button",{class:"rounded w-full px-2.5 py-1.5 flex justify-center items-center bg-gradient-to-r from-[#3076ED] to-[#54A2F5] hover:bg-gradient-to-r text-white",loading:R.value,onClick:B},[d(o(c),{icon:"simple-line-icons:plus",class:"text-sm mr-0.5"}),a[1]||(a[1]=s("span",{class:"mr-0",style:{"margin-left":"2px"}},"新建对话",-1))],8,Ce)])]),s("div",_e,[s("div",Ie,[d(o(v),{class:"search bg-[#E3E7F5] dark:bg-[#171726]",modelValue:F.value,"onUpdate:modelValue":a[0]||(a[0]=e=>F.value=e),ref_key:"searchRef",ref:E,type:"text",placeholder:"会话标题",onBlur:$,clearable:"",onInput:N},{prefix:f((()=>[d(o(c),{icon:"ion:search",class:"text-xl"})])),_:1},8,["modelValue"])])]),s("div",De,[d(ye,{onAutoCreate:O})]),s("div",Se,[d(o(z),{bordered:!1,size:"small",style:{width:"100%"},onClick:V},{default:f((()=>[d(o(c),{icon:"ant-design:delete-outlined",class:"ml-2 mr-2 text-sm"}),a[2]||(a[2]=s("span",{class:"mr-3"},"清空全部非置顶会话",-1))])),_:1})])])],4)])),_:1},8,["collapsed","style"]),o(T)?M((l(),t("div",{key:0,class:"fixed inset-0 z-40 bg-black/40",onClick:K},null,512)),[[P,!U.value]]):m("",!0)]))}}),[["__scopeId","data-v-3fe515f0"]]),qe={class:"m-auto flex h-14 max-w-screen-2xl items-center justify-between px-4"},ze={class:"flex min-w-0 flex-1 items-center space-x-2 overflow-hidden pr-2"},je=e({__name:"header",setup(e){const a=x();return(e,i)=>(l(),t("div",qe,[s("div",ze,[s("button",{onClick:i[0]||(i[0]=e=>o(a).go(-1))},[d(o(c),{class:"text-xl",icon:"ri:arrow-left-s-line"})]),i[1]||(i[1]=s("h2",{class:"text-base font-bold"}," 我的自定义工作台 ",-1))]),i[2]||(i[2]=s("div",{class:"flex items-center space-x-2"},null,-1))]))}}),Me={class:"w-full flex justify-center"},Pe={class:"p-6 max-w-screen-2xl px-4 w-full"},Ge={class:"flex flex-col space-y-3 justify-between sm:flex-row sm:space-y-0"},Le={class:"sm:w-full md:w-[300px] sm:mb-3 2xl:w-[380px]"},Ee={class:"mt-10 grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 2xl:grid-cols-4 gap-5"},Te=["onClick"],Re={class:"w-full h-16 flex items-center mb-3"},Ue={class:"w-14 h-14 flex justify-center items-center rounded-md shadow-md mr-5 border border-[#00000014]"},Fe=["src"],Ne={class:"text-base font-bold mb-1 text-base text-[#333] dark:text-[#ffffff85]"},$e={class:"w-full text-[#999999] text-xs min-h-[40px]"},Be={class:"w-full flex justify-between mt-3"},Ve={class:"p-5 bg-white rounded dark:bg-slate-800"},Ke={class:"font-bold text-base"},We={class:"pt-5 mt-6"},He=e({__name:"main",setup(e){const a=L(),g=w(""),y=w(!1),h=w(!1),k=w([]),_=w(null),D=w(0),S=w(!1),q=C((()=>0===D.value?"创建我的个人应用":"更新我的个人应用")),j=C((()=>0===D.value?"创建专属应用":"更新个人应用")),M=C((()=>g.value?a.mineApps.filter((e=>e.appName.includes(g.value))):a.mineApps)),P=w("/api/upload/file"),G=w({catId:null,name:null,preset:null,des:null,demoData:"",coverImg:"",public:!1}),Y={catId:[{required:!0,message:"请选择分类"}],name:[{required:!0,message:"请输入应用名称",trigger:"blur"},{min:2,max:30,message:"长度应为2到10个字符之间",trigger:"blur"}],preset:[{required:!0,message:"请输入预设prompt",trigger:"blur"},{min:6,max:1200,message:"长度应为6到1200个字符之间",trigger:"blur"}],des:[{required:!0,message:"请输入简短的应用描述",trigger:"blur"},{max:50,message:"长度应为0到50个字符之间",trigger:"blur"}],demoData:[{required:!0,message:"请输入示例数据、按回车换行表示新增一条",trigger:"blur"},{max:100,message:"长度应为0到100个字符之间",trigger:"blur"}],coverImg:[{required:!0,message:"请上传应用Logo",trigger:"change"}],public:[{required:!0,message:"请选择是否公开"}]};b();const ee=A(),ae=x(),te=w([]),se=w(null);function ie(e){g.value=e}async function ne(){const e=await J();te.value=e.data.rows}async function oe(e){if(e.length){const a=e[0].file;se.value=a;const l=new FormData;l.append("file",a);const t=await Q.post(P.value,l,{headers:{"Content-Type":"multipart/form-data"}});t.data.data?G.value.coverImg=t.data.data:ee.error("上传图片失败、请检查后再试试吧！")}else se.value=null}function ue({file:e,fileList:a}){return new Promise(((a,l)=>{const{size:t,type:s}=e.file;return"image/png"!==s&&"image/jpg"!==s&&"image/jpeg"!==s?(ee.error("只能上传png/jpg/jpeg格式的图片"),a(!1)):t>307200?(ee.error("图片大小不能超过300k"),a(!1)):void a(!0)}))}function re(){h.value=!0,ne()}function de(){}function ce(){pe()}function pe(){D.value=0,S.value=!1,G.value={catId:null,name:null,preset:null,des:null,demoData:"",coverImg:"",public:!1}}function ve(){var e;null==(e=_.value)||e.validate((async e=>{if(!e){const e=G.value;D.value&&(e.appId=D.value);const l=await X(e),t=D.value?"个人应用修改完成！":"个人应用创建完成！";l.success&&ee.success(t),a.queryMineApps(),pe(),h.value=!1}}))}return I((()=>{!M.value.length&&a.queryMineApps()})),(e,b)=>(l(),t(u,null,[s("div",Me,[s("div",Pe,[s("div",Ge,[s("div",Le,[d(o(v),{modelValue:g.value,"onUpdate:modelValue":b[0]||(b[0]=e=>g.value=e),type:"text",placeholder:`您一共收录了${M.value.length}个应用(关键词过滤)`,onInput:ie},null,8,["modelValue","placeholder"])]),d(o(E),null,{default:f((()=>[d(o(z),{onClick:re},{icon:f((()=>[d(o(c),{icon:"gridicons:create"})])),default:f((()=>[b[12]||(b[12]=i(" 创建自定义应用 "))])),_:1}),d(o(z),{type:"primary",onClick:b[1]||(b[1]=e=>o(ae).push("/app-store"))},{icon:f((()=>[d(o(c),{icon:"ri:add-line"})])),default:f((()=>[b[13]||(b[13]=i(" 前往广场添加应用 "))])),_:1})])),_:1})]),s("div",Ee,[(l(!0),t(u,null,r(M.value,(e=>(l(),t("div",{key:e.id,class:"card relative custom-card cursor-pointer border border-[#e0e0e0] dark:border-neutral-800 p-4 pt-2 border rounded-md flex flex-col justify-center items-center hover:bg-neutral-100 dark:hover:bg-[#24272e] select-none",onClick:a=>async function(e){const a=await H(),{modelMaps:l}=a.data;if(!l[1])return ee.warning("接口错误，请联系管理员处理~");ae.push({path:"/chat",query:{appId:e.appId}})}(e)},[s("div",Re,[s("span",Ue,[s("img",{src:e.coverImg,class:"w-8 h-8 mb-1",alt:""},null,8,Fe)]),s("span",Ne,n(e.appName),1)]),s("p",$e,n(e.appDes),1),s("div",Be,["system"===e.appRole||e.public?(l(),p(o(le),{key:0,placement:"bottom",onPositiveClick:T((l=>async function(e){e.loading=!0;try{const l=await Z({appId:e.appId});ee.success(l.data),await a.queryMineApps(),e.loading=!1}catch(l){e.loading=!1}}(e)),["stop"])},{trigger:f((()=>[d(o(z),{size:"tiny",ghost:"",loading:e.loading,onClick:b[2]||(b[2]=T((()=>{}),["stop"]))},{icon:f((()=>[d(o(c),{icon:"clarity:favorite-line",class:"text-base"})])),default:f((()=>[b[14]||(b[14]=i(" 取消收藏 "))])),_:2},1032,["loading"])])),default:f((()=>[b[15]||(b[15]=i(" 确认取消收藏该应用吗？ "))])),_:2},1032,["onPositiveClick"])):m("",!0),d(o(E),null,{default:f((()=>["user"!==e.appRole||e.public?m("",!0):(l(),p(o(le),{key:0,placement:"bottom",onPositiveClick:T((l=>async function(e){const l=await O({id:e.appId});ee.success(l.data),a.queryMineApps()}(e)),["stop"])},{trigger:f((()=>[d(o(z),{size:"tiny",ghost:"",loading:e.loading,onClick:b[3]||(b[3]=T((()=>{}),["stop"]))},{icon:f((()=>[d(o(c),{icon:"mdi-light:delete",class:"text-base"})])),default:f((()=>[b[16]||(b[16]=i(" 删除应用 "))])),_:2},1032,["loading"])])),default:f((()=>[b[17]||(b[17]=i(" 确认移除创建的应用吗？ "))])),_:2},1032,["onPositiveClick"])),"user"!==e.appRole||e.public?m("",!0):(l(),p(o(z),{key:1,size:"tiny",ghost:"",loading:e.loading,onClick:T((a=>async function(e){await ne();const{catId:a,appName:l,preset:t,appDes:s,demoData:i,coverImg:n,public:o}=e;Object.assign(G.value,{catId:a,name:l,preset:t,des:s,demoData:i,coverImg:n,public:o}),D.value=e.appId,h.value=!0,S.value=e.public}(e)),["stop"])},{icon:f((()=>[d(o(c),{icon:"mdi-light:delete",class:"text-base"})])),default:f((()=>[b[18]||(b[18]=i(" 编辑应用 "))])),_:2},1032,["loading","onClick"]))])),_:2},1024)]),d(o(c),{icon:"codicon:run-all",class:"run-icon text-xl text-[#5A91FC] absolute right-3 bottom-3"}),3===e.status?(l(),p(o(c),{key:0,icon:"icon-park-twotone:mark",class:"text-xl text-[#5A91FC] absolute right-3 top-3"})):m("",!0)],8,Te)))),128))])])]),d(o(W),{show:h.value,title:"创建",style:{width:"90%","max-width":"640px"},"mask-closable":!1,"on-after-enter":de,"on-after-leave":ce},{default:f((()=>[s("div",Ve,[s("div",{class:"absolute top-4 left-5 cursor-pointer z-30",onClick:b[4]||(b[4]=e=>h.value=!1)},[s("span",Ke,n(j.value),1)]),s("div",{class:"absolute top-3 right-3 cursor-pointer z-30",onClick:b[5]||(b[5]=e=>h.value=!1)},[d(o(R),{size:"20",color:"#0e7a0d"},{default:f((()=>[d(o(U))])),_:1})]),s("div",We,[d(o(F),{ref_key:"formRef",ref:_,model:G.value,rules:Y,"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging",style:{maxWidth:"640px"}},{default:f((()=>[d(o(N),{label:"应用分类",path:"catId"},{default:f((()=>[d(o($),{value:G.value.catId,"onUpdate:value":b[6]||(b[6]=e=>G.value.catId=e),clearable:"",size:"small","label-field":"name",placeholder:"请输入您的应用分类","value-field":"id",options:te.value},null,8,["value","options"])])),_:1}),d(o(N),{label:"应用名称",path:"name"},{default:f((()=>[d(o(v),{value:G.value.name,"onUpdate:value":b[7]||(b[7]=e=>G.value.name=e),placeholder:"请输入您的应用名称",type:"name",maxlength:30,"show-name-on":"click",tabindex:"0"},null,8,["value"])])),_:1}),d(o(N),{label:"预设指令",path:"preset"},{default:f((()=>[d(o(v),{value:G.value.preset,"onUpdate:value":b[8]||(b[8]=e=>G.value.preset=e),max:255,autosize:{minRows:3,maxRows:10},type:"textarea",placeholder:"请填写prompt预设指令（核心）"},null,8,["value"])])),_:1}),d(o(N),{label:"应用描述",path:"des"},{default:f((()=>[d(o(v),{value:G.value.des,"onUpdate:value":b[9]||(b[9]=e=>G.value.des=e),autosize:{minRows:3,maxRows:10},type:"textarea",placeholder:"请对你的应用做以简要的描述以便于大家认识它！"},null,8,["value"])])),_:1}),d(o(N),{label:"示例内容",path:"demoData"},{default:f((()=>[d(o(v),{value:G.value.demoData,"onUpdate:value":b[10]||(b[10]=e=>G.value.demoData=e),autosize:{minRows:3,maxRows:10},type:"textarea",placeholder:"请填写一个示例、方便快速告诉别人如何使用、每点击回车换行一次则是新增一条示例！"},null,8,["value"])])),_:1}),d(o(N),{label:"应用Logo",path:"coverImg"},{default:f((()=>[d(o(B),{"on-update:file-list":oe,"on-before-upload":ue,max:1,"default-upload":!1,action:P.value,"default-file-list":k.value,"list-type":"image-card"},{default:f((()=>b[19]||(b[19]=[i(" 点击上传 ")]))),_:1},8,["action","default-file-list"])])),_:1}),d(o(N),{label:"是否共享",path:"public"},{default:f((()=>[d(o(V),{value:G.value.public,"onUpdate:value":b[11]||(b[11]=e=>G.value.public=e),disabled:S.value},null,8,["value","disabled"]),d(o(K),{placement:"top-start",trigger:"hover"},{trigger:f((()=>[d(o(c),{icon:"ri:error-warning-line",class:"text-base ml-3 cursor-pointer"})])),default:f((()=>[b[20]||(b[20]=s("p",null,"Tips: 请知悉 ",-1)),b[21]||(b[21]=s("p",null,"选择共享提交之后审核状态将无法编辑应用",-1)),b[22]||(b[22]=s("p",null,"审核通过的应用将会在应用广场公开展示",-1)),b[23]||(b[23]=s("p",null,"管理审核通过后将会赠送一定的站内额度奖励用户",-1)),b[24]||(b[24]=s("p",null,"一旦提交处于审核中、您将不能再编辑此应用",-1))])),_:1})])),_:1}),d(o(N),{class:"mt-3"},{default:f((()=>[d(o(z),{block:"",type:"primary",disabled:y.value,loading:y.value,onClick:ve},{default:f((()=>[i(n(q.value),1)])),_:1},8,["disabled","loading"])])),_:1})])),_:1},8,["model"])])])])),_:1},8,["show"])],64))}}),Ze={class:"flex h-full w-full flex-col bg-white dark:bg-[#111114]"},Oe={class:"sticky left-0 right-0 top-0 z-40 border-b bg-white dark:border-b-neutral-800 dark:bg-[#111114]"},Qe=e({__name:"index",setup:e=>(e,a)=>(l(),t("div",Ze,[s("header",Oe,[d(je)]),d(He)]))}),Xe={class:"h-full dark:bg-[#131323] transition-all"},Je=e({__name:"role",setup(e){const a=h(),{isMobile:i}=b();C((()=>a.siderCollapsed));const n=C((()=>i.value?["rounded-none","shadow-none"]:["rounded-md","shadow-md","dark:border-neutral-800"])),u=C((()=>["h-full"]));return(e,a)=>(l(),t("div",Xe,[s("div",{class:g(["h-full overflow-hidden",n.value])},[d(o(ee),{class:g(["z-40 transition",u.value]),"has-sider":""},{default:f((()=>[d(o(Y),{class:"h-full"},{default:f((()=>[d(Qe)])),_:1}),d(Ae)])),_:1},8,["class"])],2)]))}});export{Je as default};
