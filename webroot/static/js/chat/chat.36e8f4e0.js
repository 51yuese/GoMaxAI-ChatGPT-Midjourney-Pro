import{_ as e,a,A as l,q as t,b as i,c as s,d as o,s as n,e as d,f as c,g as r,h as u,i as p}from"../aboutUs copy/aboutUs copy.8a09bdfe.js";import{u as v,_ as g,a as m,b as h,c as f,h as y}from"../sendBox_3/sendBox_3.3f38f0a9.js";import{e as x,R as k,ao as b,j as A,a9 as C,aQ as w,ax as B,a8 as I,X as F,N as L,O as E,P as S,ad as D,aR as T,a6 as j,$ as N,U as R,W as z,Z as U,_ as O,aS as Y,am as J,K as H,S as Q,aT as M,r as K,k as V,ai as P,H as X,a0 as W,a1 as q,a2 as Z,a3 as G,A as _,F as $,ag as ee,aa as ae,at as le,z as te,aU as ie,aV as se,as as oe,aW as ne,ar as de,aX as ce,aY as re,aZ as ue,a_ as pe,a$ as ve,b0 as ge,b1 as me,a5 as he,b2 as fe,b3 as ye,b4 as xe,aq as ke,Y as be,b5 as Ae,b6 as Ce,b7 as we,b8 as Be}from"../main-cd5b7247.js";import{_ as Ie}from"../RecordDialog.vue_vue_type_script_setup_true_lang/RecordDialog.vue_vue_type_script_setup_true_lang.67685511.js";import{C as Fe}from"../CreateAppDialog/CreateAppDialog.c6ccaaff.js";import{_ as Le,p as Ee,a as Se,b as De,c as Te,d as je,e as Ne,f as Re,g as ze}from"../search/search.70c684a3.js";import{_ as Ue}from"../file/file.977b36cf.js";import{u as Oe}from"../useUpload/useUpload.3cbae9ae.js";import{c as Ye}from"../index/index.d335b448.js";import{_ as Je}from"../vip_gray/vip_gray.b1563178.js";import{u as He}from"../index/index.5b75f753.js";import{_ as Qe,a as Me,b as Ke,c as Ve,d as Pe}from"../start copy/start copy.4aa28f32.js";import{C as Xe}from"../index/index.f6339fbc.js";import{C as We}from"../ChevronForwardOutline/ChevronForwardOutline.b6ef8f1e.js";import"../index/index.7be392d9.js";const qe={key:0,class:"sticky top-0 left-0 right-0 z-30 border-b dark:border-neutral-800 bg-white/80 dark:bg-black/20 backdrop-blur"},Ze={class:"relative flex items-center justify-center min-w-0 overflow-hidden h-14"},Ge={class:"max-w-screen-2xl flex w-full items-center px-4"},_e={key:0,class:"flex items-center"},$e=S("div",{class:"flex-1 py-4 ele-drag"},null,-1),ea={key:1,class:"flex-1"},aa=S("span",{class:"mr-0"},"新对话",-1),la={class:"flex h-8 w-8 items-center justify-center rounded border transition hover:bg-[#eef0f3] dark:border-neutral-700 dark:hover:bg-[#33373c]"},ta={class:"text-base text-slate-500 dark:text-slate-400"},ia={class:"flex items-center gap-4"},sa=x({__name:"index",props:{usingContext:{type:Boolean}},emits:["export","toggleUsingContext","clear","scrollBtn"],setup(e,{emit:a}){const l=k();v(),b();const t=[{label:"Light",key:"light",icon:"ri:sun-foggy-line"},{label:"Dark",key:"dark",icon:"ri:moon-foggy-line"}];A((()=>{if(!s.activeConfig)return;const{modelTypeInfo:e,modelInfo:a}=s.activeConfig;return e&&a?`${null==e?void 0:e.label} / ${a.modelName}`:void 0}));const i=C(),s=w();B();const o=A((()=>i.siderCollapsed)),n=A((()=>s.getChatByGroupInfo())),{isMobile:d}=I(),c=A((()=>i.theme));function r(){i.setSiderCollapsed(!o.value)}async function u(){try{await s.updateChatTab("history"),await s.addNewChatGroup(),await s.queryMyGroup(),d.value&&i.setSiderCollapsed(!0)}catch(e){}}function p(){const e=document.querySelector("#scrollRef");e&&H((()=>e.scrollTop=0))}return A((()=>l.isLogin)),(e,a)=>{var l;return F(d)?(L(),E("header",qe,[S("div",Ze,[S("div",Ge,[F(d)?(L(),E("div",_e,[S("button",{class:"flex items-center justify-center w-11 h-11",onClick:r},[o.value?(L(),D(F(T),{key:0,class:"text-2xl",icon:"ri:align-justify"})):(L(),D(F(T),{key:1,class:"text-2xl",icon:"ri:align-right"}))])])):j("",!0),S("h1",{class:"flex-1 px-4 ele-drag font-bold pr-6 overflow-hidden cursor-pointer select-none text-ellipsis whitespace-nowrap",onDblclick:p},N((null==(l=n.value)?void 0:l.title)??""),33),$e,F(d)?(L(),E("div",ea,[S("button",{class:"rounded w-full flex justify-center items-center",onClick:u},[R(F(T),{icon:"mingcute:add-line",class:"text-sm mr-0.5"}),aa])])):j("",!0),F(d)?(L(),D(F(J),{key:2,trigger:"click"},{trigger:z((()=>[S("button",la,[S("span",ta,[R(F(T),{icon:"fluent:dark-theme-24-regular"})])])])),default:z((()=>[S("div",null,[S("div",ia,[(L(),E(U,null,O(t,(e=>R(F(Y),{key:e.key,size:"small",type:e.key===c.value?"info":void 0,onClick:a=>F(i).setTheme(e.key)},{icon:z((()=>[R(F(T),{icon:e.icon},null,8,["icon"])])),_:2},1032,["type","onClick"]))),64))])])])),_:1})):j("",!0)])])])):j("",!0)}}}),oa=e=>(q("data-v-e6cf1c48"),e=e(),Z(),e),na={class:"mainOut"},da={class:"mainBox bg-[#fff] dark:bg-[#24252b4d]"},ca={class:"imgBox"},ra={key:0},ua={key:0,class:"img",src:Le,alt:""},pa={key:1,class:"img",src:Le,alt:""},va={key:1},ga=["src"],ma={class:"bigTitle"},ha=oa((()=>S("label",{class:"smallTitle"},"您可以给智能问答发送消息，以此来帮助您解决您遇到的问题",-1))),fa={class:"exampleBox"},ya=["onClick"],xa=["src"],ka={class:"column"},ba={key:0,class:"big guideQuestion1"},Aa={key:1,class:"small guideQuestion"},Ca=oa((()=>S("img",{class:"addImg",src:je,alt:""},null,-1))),wa=G(x({__name:"notLogin",setup(e){const a=A((()=>l.isLogin));Q(),M();const l=k(),t=C(),i=A((()=>"dark"===t.theme)),s=K(),o=K(),n=K(),d=K(),c=K([]);async function r(e){n.value=!1;await P({keys:["guideQuestion","guideAnswer"]}).then((e=>{s.value=e.data.guideAnswer.split("/"),o.value=e.data.guideQuestion.split("/")}))}V((()=>{if(localStorage.getItem("chatLogId")){let e=JSON.parse(localStorage.getItem("chatLogId")),a=JSON.parse(e.config).modelInfo.modelType;e.gptsApp||"app"==a?(n.value=!0,d.value=e,c.value=e.demoData.split("\n")):(n.value=!1,r())}else r()}));const u=[Ee,Se,De,Te],p=["rgba(0, 187, 187, 0.12)","rgba(35, 165, 89, 0.16)","rgba(255, 163, 24, 0.14)","rgba(184, 128, 189, 0.16)"];return(e,t)=>(L(),E("div",na,[S("div",da,[S("div",ca,[n.value?(L(),E("div",va,[S("img",{class:"img",src:d.value.logo,alt:""},null,8,ga)])):(L(),E("div",ra,[i.value?(L(),E("img",ua)):(L(),E("img",pa))])),S("label",ma,N(n.value?d.value.modelName:"您好，今天能帮您些什么？"),1),ha]),S("div",fa,[(L(),E(U,null,O(4,((e,t)=>S("div",{class:"exampleItem bg-[#fff] dark:bg-[#292a31]",key:e,onClick:e=>function(e){if(a.value||(l.setLoginDialog(!0),W.emit("register",0)),n.value){let a={isApp:!0,msg:c.value[e]};W.emit("sendGuide",a)}else{let a={isApp:!1,msg:o.value[e]};W.emit("sendGuide",a)}}(t)},[S("div",{style:X("background:"+p[t]),class:"iconBg"},[S("img",{class:"icon",src:u[t],alt:""},null,8,xa)],4),S("div",ka,[o.value?(L(),E("p",ba,N(o.value[t]),1)):j("",!0),o.value?(L(),E("p",Aa,N(s.value[t]),1)):j("",!0)]),Ca],8,ya))),64))])])]))}}),[["__scopeId","data-v-e6cf1c48"]]),Ba=e=>(q("data-v-58513ab5"),e=e(),Z(),e),Ia={class:"mainBox"},Fa={class:"bg-[#F8F9F9] dark:bg-[#24252b]",style:{"border-radius":"14px",border:"2px solid rgba(142,145,166,0.3)",width:"694px"}},La={key:0,class:"fileBox"},Ea={class:"file bg-[#FFFFFF] dark:bg-[#111113]"},Sa={key:0,style:{width:"24px",height:"24px","border-radius":"6px",display:"flex","justify-content":"center","align-items":"center"}},Da=["src"],Ta={key:0,style:{position:"absolute"}},ja=[Ba((()=>S("div",{class:"loader"},null,-1)))],Na={key:1,style:{"background-color":"#10A37F",width:"24px",height:"24px","border-radius":"6px",display:"flex","justify-content":"center","align-items":"center"}},Ra={key:0,style:{position:"relative"},src:Ue,alt:""},za={key:1,style:{position:"absolute"}},Ua=[Ba((()=>S("div",{class:"loader"},null,-1)))],Oa={style:{flex:"1","margin-left":"8px"}},Ya={style:{"font-size":"12px","line-height":"15px"}},Ja={style:{"font-size":"10px","line-height":"4px","margin-top":"4px"}},Ha={class:"inpBox"},Qa={key:0,style:{width:"20px",height:"20px"},src:Re,alt:""},Ma={key:1,style:{width:"20px",height:"20px"},src:g,alt:""},Ka=[Ba((()=>S("div",{style:{display:"flex",padding:"8px","border-radius":"12px","background-color":"#222325"}},[S("img",{style:{"margin-right":"5px",width:"20px",height:"20px",cursor:"pointer"},src:m,alt:""}),S("p",null,"从电脑中上传")],-1)))],Va=[Ba((()=>S("div",{style:{display:"flex",padding:"8px","border-radius":"12px","background-color":"#F0F0F0"}},[S("img",{style:{"margin-right":"5px",width:"20px",height:"20px",cursor:"pointer"},src:m,alt:""}),S("p",null,"从电脑中上传")],-1)))],Pa=G(x({__name:"sendBox",props:{changeChatLog:Boolean},emits:["handleSend","handleInp","handleClear"],setup(e,{emit:a}){A((()=>l.isLogin)),Q(),M();const l=k(),t=b(),i=C(),s=A((()=>"dark"===i.theme)),o=a,n=K(),d=K(),{selectFile:c,upload:r}=Oe(),u=B(),p=K("/api/file/upload");function v(){(n.value||d.value)&&(o("handleSend"),D.value=!1,f.value="",x.value="")}function g(){d.value?o("handleInp",d.value+" "+n.value):o("handleInp",n.value)}function m(e){n.value&&("Enter"===e.key&&e.shiftKey?(e.preventDefault(),n.value=n.value+"\n"):"Enter"!==e.key||e.ctrlKey||e.shiftKey?"Enter"===e.key&&e.preventDefault():(e.preventDefault(),o("handleSend"),D.value=!1,f.value="",x.value="",d.value=""))}_(e,(e=>{D.value=!1})),W.on("sendSuccess",(()=>{n.value="",d.value=""}));const h=K(!1);W.on("setModel",(e=>{h.value=e.canUpload}));const f=K(""),y=K(""),x=K(""),w=K(!1);async function I(e=1){let a;if(F.value=!1,1===e){if(a=await c(),!a)return void t.error("选择文件错误")}else a=e;w.value=!0,D.value=!0;const l=new FormData;l.append("file",a),await le.post(p.value,l,{headers:{"Content-Type":"multipart/form-data"}}).then((a=>{if(a.data){let{data:e}=a.data;y.value=e.split(".").pop(),f.value=e.split("/ai/")[1],x.value=a.data.data,d.value=e,o("handleInp",x.value),w.value=!1}1!==e&&u.updateRecordDialog(!1)}))}const F=K(!1),D=K(!1);return(e,a)=>(L(),E("div",Ia,[S("div",Fa,[D.value?(L(),E("div",La,[S("div",Ea,["png"==y.value||"jpeg"==f.value||"jpg"==f.value?(L(),E("div",Sa,[S("img",{src:x.value,alt:""},null,8,Da),w.value?(L(),E("div",Ta,ja)):j("",!0)])):(L(),E("div",Na,[w.value?j("",!0):(L(),E("img",Ra)),w.value?(L(),E("div",za,Ua)):j("",!0)])),S("div",Oa,[S("p",Ya,N(f.value),1),S("p",Ja,N("png"==y.value||"jpeg"==f.value||"jpg"==f.value?"图片":"文档"),1)])])])):j("",!0),S("div",Ha,[h.value?(L(),E("img",{key:0,onClick:a[0]||(a[0]=e=>function(e=1){I(e)}(1)),style:{width:"20px",height:"20px","margin-right":"10px",cursor:"pointer"},src:Ne})):j("",!0),$(S("input",{onKeypress:a[1]||(a[1]=(...a)=>e.handleEnter&&e.handleEnter(...a)),onKeydown:m,class:"inp","onUpdate:modelValue":a[2]||(a[2]=e=>n.value=e),type:"text",name:"",id:"",placeholder:"给“智能问答”发送消息",onInput:g},null,544),[[ee,n.value]]),S("div",{class:ae(n.value||d.value?"bg-[#23A559]":"dark:bg-[#23A559]"),style:{display:"flex","align-items":"center","justify-content":"center","border-radius":"6px",cursor:"pointer",width:"40px",height:"40px"},onClick:v},[s.value?(L(),E("img",Qa)):(L(),E("img",Ma))],2),s.value&&F.value?(L(),E("div",{key:1,class:"upLoadModel1",onClick:a[3]||(a[3]=e=>I(1))},Ka)):j("",!0),!s.value&&F.value?(L(),E("div",{key:2,class:"upLoadModel",onClick:a[4]||(a[4]=e=>I(1))},Va)):j("",!0)])])]))}}),[["__scopeId","data-v-58513ab5"]]);const Xa="/static/svg/deletChatSelect-52cf527b.svg",Wa="/static/svg/editChatSelect-35464e86.svg",qa=e=>(q("data-v-f35e879e"),e=e(),Z(),e),Za={class:"chatBox"},Ga={class:"inputOut dark:bg-[#444] bg-[#f8f9f9]"},_a=qa((()=>S("img",{style:{width:"13px",height:"13px","margin-right":"12px"},src:ze,alt:""},null,-1))),$a=qa((()=>S("div",{class:"line dark:bg-[#36373e] bg-[#f8f9f9]"},null,-1))),el=[de('<p style="color:rgba(37, 150, 86, 1);font-size:24px;" data-v-f35e879e>+</p><p class="title" data-v-f35e879e>新建对话</p><p class="ctrlBg" data-v-f35e879e>Ctrl</p><p class="plusBg" data-v-f35e879e>+</p><p class="kBg" data-v-f35e879e>k</p>',5)],al={key:0,class:"today"},ll={class:"chatList"},tl=["onClick"],il={style:{display:"flex","flex-direction":"column"}},sl=["onInput","onBlur","onUpdate:modelValue"],ol={key:1,style:{"font-size":"14px"}},nl={style:{"font-size":"12px"}},dl={class:"buttonBox"},cl={style:{display:"flex","align-items":"center"}},rl={class:"deletChatSelect"},ul=["onClick"],pl={class:"editChatSelect"},vl=["onClick"],gl={key:1,class:"history"},ml={key:2,class:"chatList"},hl=["onClick"],fl={style:{display:"flex","flex-direction":"column"}},yl=["onInput","onBlur","onUpdate:modelValue"],xl={key:1,style:{"font-size":"14px"}},kl={style:{"font-size":"12px"}},bl={class:"buttonBox"},Al={style:{display:"flex","align-items":"center"}},Cl={class:"deletChatSelect"},wl=["onClick"],Bl={class:"editChatSelect"},Il=["onClick"],Fl={key:0,class:"vipImg",src:Je,alt:""},Ll={class:"vipTime dark:bg-[#24252b] bg-[#fff]"},El=G(x({__name:"index",emits:["modelType"],setup(e,{expose:a,emit:l}){const t=k(),{isMobile:i}=I(),s=w(),o=C(),n=A((()=>t.isLogin)),d=K([]),c=A((()=>t.userInfo)),r=K([]),u=K([]),p=K([]),v=K([]);var g=!1;const m=l,h=K(null),f=A((()=>"dark"==o.theme?"#36373E":"rgba(142, 145, 166, 0.15)")),y=A((()=>"dark"==o.theme?"darkItem item":"item")),x=A((()=>"dark"==o.theme?"darkItemSelect itemSelect":"itemSelect"));async function B(){d.value=[],r.value=[],u.value=[],await ie({modelType:"chat"}).then((e=>{0!=e.data.length?function(e){let a=(new Date).getDate();a<10&&(a="0"+a);const{data:l}=e;d.value=l,l.forEach((e=>{if(e.title=e.title.slice(0,7),null!=e.lastTime){let l=e.lastTime.split(" ")[0].split("-")[2];a==l?r.value=[...r.value,e]:u.value=[...u.value,e]}if(null===e.lastTime){let l=e.createdAt.split(" ")[0].split("-")[2];a==l?r.value=[...r.value,e]:u.value=[...u.value,e]}}))}(e):T()}))}V((async()=>{await B();let e=localStorage.getItem("chatLogId"),a=JSON.parse(e);console.log(a,"locaData"),a?(R.value=a.id,Y(a)):0!=r.value.length?(R.value=r.value[0].id,Y(r.value[0])):(R.value=u.value[0].id,Y(u.value[0]))})),W.on("updateConversationList",(()=>{console.log("newValnewValnewValnewValnewVal"),B()}));const D=K(!1);async function T(){try{if(!n.value)return void t.setLoginDialog(!0);D.value=!0,await s.updateChatTab("history"),await s.addNewChatGroup(),await s.queryMyGroup(),await B(),Y(d.value[0]),D.value=!1,i.value&&o.setSiderCollapsed(!0)}catch(e){D.value=!1}}const R=K(),z=K();function Y(e,a){let l;l=a?{groupId:e.uuid,logType:1}:{groupId:e.id,logType:1},W.emit("create",!1),W.emit("exploreApp",!1),W.emit("uuid",e),se(l).then((async l=>{console.log(e,"itemitemitem"),localStorage.setItem("chatLogId",JSON.stringify(e)),await s.setActiveGroup(e.id),R.value=a?e.uuid:e.id,z.value&&(z.value=null),m("modelType",e.config),W.emit("setModel",JSON.parse(e.config).modelInfo);let t=l.data.filter((e=>null!=e.conversationOptions));0==t.length?(W.emit("chatLogList",t),W.emit("haveLog",!1)):W.emit("chatLogList",l.data)}))}const J=b();async function H(e,a){if(0==r.value.length&&1==u.value.length||1==r.value.length&&0==u.value.length)J.error("至少保留一个对话");else{if(await s.deleteGroup(e),await s.queryMyGroup(),0==a){if(r.value=r.value.filter((a=>a.id!=e.id)),e.id==R.value){if(0==r.value.length)return void Y(u.value[0]);Y(r.value[0])}}else if(1==a&&(u.value=u.value.filter((a=>a.id!=e.id)),e.id==R.value)){if(0==u.value.length)return void Y(r.value[0]);Y(u.value[0])}J.success("删除成功")}}const Q=K(null);function M(e){e.inputIsShow=!0,setTimeout((()=>{Q.value[0].focus()}),100)}function P(e,a){e.inputIsShow=!1;let l={groupId:e.id,title:e.title};ne(l).then((l=>{200===l.code&&(0==a?r.value.forEach((a=>{a.id==e.id&&(a.title=e.title)})):1==a&&u.value.forEach((a=>{a.id==e.id&&(a.title=e.title)})))}))}function q(e){7==e.title.length&&J.warning("最大不能超过七个字")}function Z(){p.value=[],v.value=[],h.value?(r.value.forEach((e=>{-1!==e.title.indexOf(h.value)&&p.value.push(e)})),u.value.forEach((e=>{-1!==e.title.indexOf(h.value)&&v.value.push(e)})),g=!0):g=!1,console.log(g)}return a({hideRight:function(){document.getElementById("chatRight").style.width="0px"},showRight:function(){document.getElementById("chatRight").style.width="298px"}}),(e,a)=>(L(),E("div",{class:"siderBarBox dark:bg-[#24252b] bg-[#fff]",id:"chatRight",style:X({"border-left":`2px solid ${f.value}`})},[S("div",Za,[S("div",Ga,[_a,$(S("input",{class:"inputBg",placeholder:"请输入对话内容","onUpdate:modelValue":a[0]||(a[0]=e=>h.value=e),onInput:Z},null,544),[[ee,h.value]])]),$a,S("div",{class:"createdChat",onClick:T},el),!F(g)&&r.value&&r.value.length>0||F(g)&&p.value&&p.value.length>0?(L(),E("div",al," 今天 ")):j("",!0),S("div",ll,[n.value?(L(!0),E(U,{key:0},O(F(g)?p.value:r.value,(e=>(L(),E("div",{class:ae(["itemBox",R.value==e.id?x.value:y.value]),key:e.id,onClick:a=>Y(e)},[S("div",il,[e.inputIsShow?$((L(),E("input",{key:0,ref_for:!0,ref_key:"inputRef",ref:Q,onInput:a=>q(e),style:{"background-color":"#19191b"},type:"text",onBlur:a=>P(e,0),onClick:a[1]||(a[1]=oe((()=>{}),["stop"])),"onUpdate:modelValue":a=>e.title=a},null,40,sl)),[[ee,e.title]]):(L(),E("p",ol,N(e.title),1)),S("p",nl,N(F(He)(e.createdAt)),1)]),S("div",dl,[S("div",cl,[S("div",rl,[S("img",{src:Xa,alt:"",onClick:oe((a=>H(e,0)),["stop"])},null,8,ul)]),S("div",pl,[S("img",{style:{"margin-left":"4px"},src:Wa,alt:"",onClick:oe((a=>M(e)),["stop"])},null,8,vl)])])])],10,tl)))),128)):j("",!0)]),!F(g)&&u.value&&u.value.length>0||F(g)&&v.value&&v.value.length>0?(L(),E("div",gl," 历史 ")):j("",!0),n.value?(L(),E("div",ml,[(L(!0),E(U,null,O(F(g)?v.value:u.value,(e=>(L(),E("div",{class:ae(["itemBox",R.value==e.id?x.value:y.value]),key:e.id,onClick:a=>Y(e)},[S("div",fl,[e.inputIsShow?$((L(),E("input",{key:0,ref_for:!0,ref_key:"inputRef",ref:Q,onInput:a=>q(e),style:{"background-color":"#19191b"},type:"text",onBlur:a=>P(e,1),onClick:a[2]||(a[2]=oe((()=>{}),["stop"])),"onUpdate:modelValue":a=>e.title=a},null,40,yl)),[[ee,e.title]]):(L(),E("p",xl,N(e.title),1)),S("p",kl,N(F(He)(e.createdAt)),1)]),S("div",bl,[S("div",Al,[S("div",Cl,[S("img",{src:Xa,alt:"",onClick:oe((a=>H(e,1)),["stop"])},null,8,wl)]),S("div",Bl,[S("img",{style:{"margin-left":"4px"},src:Wa,alt:"",onClick:oe((a=>M(e)),["stop"])},null,8,Il)])])])],10,hl)))),128))])):j("",!0)]),S("div",{class:"vipTimeBg",style:X({"border-top":`2px solid ${f.value}`})},[c.value&&c.value.vipExpire?(L(),E("img",Fl)):j("",!0),S("p",Ll,N(c.value&&c.value.vipExpire?"会员到期日："+F(He)(c.value.vipExpire,"YYYY-MM-DD"):"暂未开通会员"),1)],4)],4))}}),[["__scopeId","data-v-f35e879e"]]),Sl={class:"navBarLeft"},Dl={class:"selectBtn"},Tl={class:"selectBtnTitle"},jl={key:0,style:{width:"9px",height:"5px"},src:Qe,alt:""},Nl=["onClick"],Rl={key:0,style:{width:"16px",height:"16px","margin-top":"3px"},src:Me,alt:""},zl={key:1,style:{width:"16px",height:"16px","margin-top":"3px"},src:Ke,alt:""},Ul={class:"modelInfo"},Ol={class:"modelName"},Yl={class:"modelIntro dark:text-[#6C6E79] text-[#8B8C8C]"},Jl={class:"consumption bg-[#FFF7ED] dark:bg-[#1D160F]"},Hl={key:0,src:Ve,alt:"",style:{width:"16px",height:"16px","margin-top":"3px"}},Ql={key:1,src:Pe,alt:"",style:{width:"16px",height:"16px","margin-top":"3px"}},Ml={key:2,style:{"margin-left":"3px"}},Kl={key:3,style:{"margin-left":"3px"},class:"dark:text-[#FFC758] text-[#A45000]"},Vl={key:4,style:{"margin-left":"3px"},class:"dark:text-[#FFC758] text-[#A45000]"},Pl={key:5},Xl=G(x({__name:"index",props:{modelTypeValue:Object},setup(e){const a=w(),l=C(),t=B(),i=A((()=>"dark"===l.theme)),s=k(),o=A((()=>s.isLogin)),n=b(),d=e;_((()=>d.modelTypeValue),(e=>{console.log(e,"valval"),x.value=null==e?void 0:e.modelInfo.modelName}));const c=K([]);ce({keyType:"",model:"",modelType:"chat",page:1,size:99}).then((e=>{c.value=e.data.rows}));const r=K(!1);function u(){r.value=!r.value}K();const p=K(0),v=K(0),g=K(.8),m=K(""),h=K(),f=K(8),y=K(!1),x=K(""),I=(e={})=>(e.vipFreeNum||0)-(e.used||0);async function F(e){if(!o.value)return r.value=!1,void(o.value?(s.logOut(),localStorage.removeItem("chatLogId")):(s.setLoginDialog(!0),W.emit("register",0)));let l=localStorage.getItem("chatLogId"),i=JSON.parse(l);const{canAudio:d,canUpload:c,keyType:u,modelName:k,model:b,deductType:A,deduct:C}=e,w={modelTypeInfo:"",modelInfo:{canAudio:d,canUpload:c,keyType:u,modelName:k,model:b,maxModelTokens:p,maxResponseTokens:v.value,systemMessage:null==m?void 0:m.value,topN:g.value,deductType:A,deduct:C,maxRounds:h,rounds:f.value}},B={groupId:i.id,config:JSON.stringify(w)};try{y.value=!0,await ne(B),y.value=!1,n.success("修改当前对话组自定义模型配置成功！"),W.emit("setModel",e),i.config=JSON.stringify(w),console.log(l,"locaData改变的值",i),localStorage.setItem("chatLogId",JSON.stringify(i)),W.emit("updateConversationList"),await a.queryMyGroup(),t.updateModelDialog(!1),x.value=k,r.value=!1}catch(I){y.value=!1}}return(e,a)=>(L(),E("div",Sl,[S("div",{class:"select",onClick:u},[S("div",Dl,[S("div",Tl,N(x.value),1),o.value?(L(),E("img",jl)):j("",!0)]),r.value?(L(),E("div",{key:0,class:ae(["modelBox dark:bg-[#111113] bg-[#FFFFFF]",i.value?"modelBoxDark":"modelBoxLight"])},[(L(!0),E(U,null,O(c.value,(e=>(L(),E("div",{class:ae([i.value?"modelItemDark":"modelItemLight","modelItem"]),key:e.id,onClick:oe((a=>F(e)),["stop"])},[i.value?(L(),E("img",Rl)):(L(),E("img",zl)),S("div",Ul,[S("p",Ol,N(e.modelName),1),S("p",Yl,N(e.description),1),S("div",Jl,[i.value?(L(),E("img",Hl)):(L(),E("img",Ql)),0!=e.vipFreeNum&&0!=I(e)||0==e.deduct?j("",!0):(L(),E("p",Ml,N(e.deduct)+"积分/次 ",1)),e.vipFreeNum>0&&0!=I(e)?(L(),E("p",Kl," 今日免费剩余："+N(I(e))+" / "+N(e.vipFreeNum),1)):j("",!0),-1==e.vipFreeNum?(L(),E("p",Vl," 会员免费使用 ")):j("",!0),0==e.deduct?(L(),E("p",Pl,"免费使用")):j("",!0)])])],10,Nl)))),128))],2)):j("",!0)])]))}}),[["__scopeId","data-v-0eed83d9"]]),Wl="/static/svg/collection-e763941f.svg",ql="/static/svg/collection select-3437da48.svg",Zl=["onClick"],Gl={style:{display:"flex","justify-content":"space-between","align-items":"self-start"}},_l=["src"],$l=["onClick"],et=["onClick"],at={style:{"margin-top":"12px"}},lt={style:{"line-height":"20px",padding:"0 6px","border-radius":"6px",width:"auto",display:"inline-block","font-size":"12px"},class:"dark:bg-[#222325] bg-[#F0F0F0] dark:text-[#6C6E79] text-[#8B8C8C]"},tt={style:{display:"flex","margin-top":"6px","align-items":"center"}},it={style:{"font-size":"17px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden","max-width":"120px"}},st={key:0,style:{"font-size":"12px","border-radius":"12px",width:"44px",height:"20px","text-align":"center","line-height":"20px","margin-left":"8px"},class:"border dark:border-[#004B3A] border-[#B9E8D6] dark:bg-[#101C18] bg-[#F3FBF8] dark:text-[#074938] text-[#10A37F]"},ot={style:{"font-size":"12px"},class:"intro dark:text-[#6C6E79] text-[#8B8C8C]"},nt=G(x({__name:"index",props:{type:String,appList:Object},emits:["handlecollection","handleChat","handleMore"],setup(e,{emit:a}){const l=e,t=a;function i(e){t("handlecollection",e)}const s=K(null);function o(){const e=s.value;e.scrollTop+e.clientHeight>=e.scrollHeight&&t("handleMore")}return(e,a)=>(L(),E("div",{class:"appBox",onScroll:o,ref_key:"containerRef",ref:s,style:X("应用分类"==l.type||"我的收藏"==l.type?"height: 570px;":"height: 680px;")},[(L(!0),E(U,null,O(l.appList,(e=>(L(),E("div",{class:"contentItem dark:bg-[#19191B] bg-[#F8F9F9]",key:e.id,onClick:a=>function(e){t("handleChat",e)}(e)},[S("div",Gl,[S("img",{style:{width:"48px",height:"48px","border-radius":"12px"},src:e.logo,alt:""},null,8,_l),e.collected||e.collectTime?j("",!0):(L(),E("img",{key:0,src:Wl,alt:"",style:{cursor:"pointer"},onClick:oe((a=>i(e)),["stop"])},null,8,$l)),e.collected||e.collectTime?(L(),E("img",{key:1,src:ql,alt:"",style:{cursor:"pointer"},onClick:oe((a=>i(e)),["stop"])},null,8,et)):j("",!0)]),S("div",at,[S("p",lt,N(e.groupName),1)]),S("div",tt,[S("p",it,N(e.modelName),1),e.gptsApp?(L(),E("p",st," GPTS ")):j("",!0)]),S("div",ot,N(e.desc),1)],8,Zl)))),128))],36))}}),[["__scopeId","data-v-58c3539c"]]),dt={class:"appBox"},ct=["onClick"],rt={class:"ranking"},ut={key:0,style:{width:"48px",height:"48px",position:"absolute",left:"0",top:"12px"},src:"data:image/png;base64,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",alt:""},pt={key:1,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAARNSURBVHgBfVTLbhxFFL23uqfnaU+PBxNFhGSs8BBZxVJAAhb2AAtY4T+IvQq7mC9A/gLCBsgq+A/MjgXKOAEUFECWLMshbHAgwkZ2mPbE9vR0V1dxb3X3vO1r11TX69z3QUjky8bmAoJwYUgECM+BzvpSfdbr37/T2HB9yCzAGOE3N+pX1vjbTjdR2AuIcH34sqbR0dl1mur9+x0rewcBxirQgN/QtBYrS8RXnWUN2hv3ABDmbze2u2Bf3d9ahFPACX1HR7DSe9ontxtby9oSn6drSwgo5XJQKZWgSHPGsj3y0u2E0uuEgesdH8Oz588HbdG4eGPujdWxCli+vrfdYIvdYhEuTk+bC1prUEqb2TwiLTwEGSCjCPa8ZqyIrP9k7spMP54Y8VBFKxeqVahNv0jfCkIpIQylAYpoHanIfEval2EIghS9XH2BRpXuY30Yzx7euPbq6x8TiJaRxChSJsnmB1OXEdKtiDyKSJEmT6ZKE3DOrXxG20sDIetfPNwLbkaBvCVlbC0f8nx41AK/40NAFitaO5kMTJYmYaJY6obQsizI2DblDT9980Lu1oiCB7vtGobQIPdrEYWA31EYcHd/DySFBVH0busEVFhwfvoc2LZl9iyas7bjZaQzMzuD3kAOrAjm6VGNLWSIUIb4z/6/BK4omRY8azZhY3MTth49gjZ5wwlWVI+7B3usTFPSNReCVNKVTrA8JsniptKKHmk2BputQ5PQuFIk/Pzbr1Aul6FQKMLdH38we+wV58lrtZDfQK/a5gYUbPypXdq8yodpFE78k245Ok4WPnr/A3jt8is0LlNVhXTud89bx1yixjATOvqfZ8yuAj/nu+ZGci0IAnORHwPGKh3HMfP2H79DIV8Ad7Ic54QGh5XyptHgJ3WXA3cwRNq4iDjae11h8J2//oa5d94dOQsoZyZMyDAaR3NgrDGHpip0UimQdO/24x54IZ9PjYoHSZY8ZA8QjOcafOhV0dvn8ztEp83UZa6aHMVdJ3/7Bwdk/WPq6hDuP/gJvrv7PSXWS+JN0chmqaNjWzGen6Rlavc58C2R26JW2lRdpezCLpUpK6hOVeDD+nvQ3wi2nekqqEyUE/A46ShwfSREVMWrzJ5o/APIZ3O6QonkBDIn5XJ5yBOjxiMPtiXMGd+htSZQ7gXDwKjUeDb95WnQCCM5z0SWVsPRyRH8d+gh90S/B0wN1fIUFPOFuM8ImKhCU/5W33op2+WjAbKTVrRkaWzQ6xpRBhmusFgoQalQ0m2/jTKmEAqPbXIEsbOEjeSRpW0hnmSEWunHHKlJ5iQhsUEWXyLSQ500UFfYs6Q3+JfBmZPIox3H1vVZLpizFKRKLCUa5MElQ9lMITEFpCkiqwU3jQmVQOtehrwfBj9VQSoPn7YX6cp1QpzTypQsGqJCk1DO6bpQ+MW1i9m10zDOVJAK84q0/asSoWZxWFB4VuCsp7V+lvwPeQFD+KAsFAcAAAAASUVORK5CYII=",alt:""},vt={key:2,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAARXSURBVHgBfVVtTxxVFD733pl9YbcwULEUAyxITWyQgBpTTRBoTGqTRusvKKjfi+0PMPwALX62WvkFrRrjp2ZR+8nEIhujSRPrQoxGRVzCAjtv93jO3Z3dmWXh7N6dmTP3Ps95XwENKd1euiqFdKBNNIpKqMK16cWVSly/fmfJsbW8Ch2Ez0y++8E9vrdaasGbr7VvlgJBolqj2/m43tLyDl06EtCZz+hiCGSkDBUuIWCl0wFAnCvdvtkEK31yY0EcA05S9j293DQ7/mbj4xtLSsKtpiWWBbm8A3nnCeiiq51KkwHCCdyDSq126FR3t6Gy/WcSXuDCxNu3VjsSsPz06c0iW3yqtx/ODj9D1gsIwxBQa9C0zCEhQSoBSln0LoDtvzZht05Unnjnw9E4ntVOgCEsDwyPz/WcPguB50EYBAYcEZOGCiKWPkjbhjNPjUMmm4Pff300344n2xXnX5p9s6dvAP1azRBotj4GHrnMOvaM9/Hq7h2AyZdfe78dLxEi3Pjquue5K77rQuj7dZ0OYP/fLfD2KwS0Z56tdB5yp4cg6ww2zyryJJXJUNjs99T0lZUjBLj+dcHXbjFw3QJbThZi6B+KnfJD0H7NhEQ0zadapx9pZaCv8AKBZ+rxTqUgnc1UlMBRMf1WJREicnYOw7DAlhtwrwEeuCClAO/wALyDxqJ7RWwY1GCn/AN7hSZ9lK8wCB0N1lKEa8WSdl3ThkaliOo/jwm8Rk0jzNp48MDsC8gAi8Jx4dIlYx3v2d/eEvknx0wxEAF5hLOJJOP6XYesn+KkReLubTfByQF45fLrlMQLFAYbnn91xoTLhI0++ztbrTzq0DQmY8ZClHHQRNasZjLjUq1U4OG33xnr2QsRzyKBUiiRCFFTdWG97JxEDkgnoEPjRWJTAofGx2FweMQQBY0qi4S6WzCGaGFBgkDESkTZ2SMEbNPY+Wdh6Ny4ed7b3Y220xfByuQbT4QlJV9bVSSmL5ellP/RC+OEpBFgdzmmmXj5ng/f378Pj3/+BR6VSiZMue6e+nv6pLp66Yxdzwth0GXzSJmS9nOlFJWkYYd8/5ixmhcPvRcvXjRESEU2NTMDinSa+wHre+tRkKRXRCLWjoRIoljlQ4KLniSd78Nc/yiExMCJS2Wz8PRzE2bxvW7o87Qnles1CZZsIHmvleg8TfWPXxY9153j2dLoBzzc/QOqf/8m6t3cyoek7j01cA6y3WeocjTZpXhUoJ3OrKqpK4sRZmKaCgwWKb5Fim2BRgb1jRbZnkHocgaxVt0xJJxGK91FOeoxJ7hiDHg6jdQjmxL95QQmtFfL+t0C9WKR5tEIDT2BPE2TOxLHOKw86KiMy0roeUpu+USCiEQLVaS2H+H5Eo0QU+cUazDFIk3MGdyyrG/Y+3bwYwkiCUpfLNAUvEbIs4aAQgZ1dI4Lk62Bgo+syTfuHYdxIkHMI4f+BaaEwgIFBVQoqMbdtajWT5L/AXVFMcD2y87kAAAAAElFTkSuQmCC",alt:""},gt={key:3},mt={class:"appLogo"},ht=["src"],ft={class:"appInfo"},yt={class:"infoBox",style:{display:"flex","justify-content":"space-between","align-items":"center"}},xt={class:"info"},kt={style:{"font-size":"17px","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"130px"}},bt={style:{"line-height":"20px",height:"20px",padding:"0 6px","border-radius":"6px",width:"auto",display:"inline-block","font-size":"12px","margin-left":"8px"},class:"dark:bg-[#222325] bg-[#F0F0F0] dark:text-[#6C6E79] text-[#8B8C8C]"},At=(e=>(q("data-v-45ac80f4"),e=e(),Z(),e))((()=>S("div",{style:{"font-size":"12px","border-radius":"12px",width:"44px",height:"20px","text-align":"center","line-height":"20px","margin-left":"8px"},class:"border dark:border-[#004B3A] border-[#B9E8D6] dark:bg-[#101C18] bg-[#F3FBF8] dark:text-[#074938] text-[#10A37F]"}," GPTS",-1))),Ct=["onClick"],wt=["onClick"],Bt={style:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis",width:"430px","font-size":"12px"},class:"intro dark:text-[#6C6E79] text-[#8B8C8C]"},It=G(x({__name:"ranking",props:{appList:Object},emits:["handlecollection","handleChat"],setup(e,{emit:a}){const l=e,t=a;function i(e){t("handlecollection",e)}return(e,a)=>(L(),E("div",dt,[(L(!0),E(U,null,O(l.appList,((e,a)=>(L(),E("div",{class:"appItem dark:bg-[#19191B] bg-[#F8F9F9]",key:e.id,style:{position:"relative"},onClick:a=>function(e){t("handleChat",e)}(e)},[S("div",rt,[0==Number(a)?(L(),E("img",ut)):j("",!0),1==Number(a)?(L(),E("img",pt)):j("",!0),2==Number(a)?(L(),E("img",vt)):j("",!0),Number(a)>2?(L(),E("p",gt,N(a+1),1)):j("",!0)]),S("div",mt,[S("img",{style:{width:"48px",height:"48px","border-radius":"12px"},src:e.logo,alt:""},null,8,ht)]),S("div",ft,[S("div",yt,[S("div",xt,[S("p",kt,N(e.modelName),1),S("div",bt,N(e.groupName),1),At]),S("div",null,[e.collected||e.collectTime?j("",!0):(L(),E("img",{key:0,src:Wl,alt:"",style:{cursor:"pointer"},onClick:oe((a=>i(e)),["stop"])},null,8,Ct)),e.collected||e.collectTime?(L(),E("img",{key:1,src:ql,alt:"",style:{cursor:"pointer"},onClick:oe((a=>i(e)),["stop"])},null,8,wt)):j("",!0)])]),S("div",Bt,N(e.desc),1)])],8,ct)))),128))]))}}),[["__scopeId","data-v-45ac80f4"]]),Ft=e=>(q("data-v-a2a50af6"),e=e(),Z(),e),Lt={style:{width:"720px",margin:"0 auto"}},Et={key:0,class:"mask"},St={key:1,class:"modal dark:bg-[#19191B] bg-[#F8F9F9]"},Dt=[Ft((()=>S("img",{src:e,alt:""},null,-1)))],Tt={class:"appLogo"},jt=["src"],Nt={class:"appInfo"},Rt={style:{"font-size":"17px","margin-top":"24px","font-weight":"bold"}},zt={style:{"font-size":"12px"},class:"dark:text-[#6C6E79] text-[#8B8C8C]"},Ut={style:{width:"225px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden","font-size":"12px"}},Ot={class:"aboutApp"},Yt={class:"collectNum"},Jt={style:{display:"flex"}},Ht=Ft((()=>S("img",{src:"/static/svg/startCollection-2531216c.svg",alt:""},null,-1))),Qt={style:{"margin-top":"3px","margin-left":"6px","font-size":"24px","line-height":"28px"}},Mt=Ft((()=>S("p",{style:{"font-size":"12px"},class:"text-[#8B8C8C] dark:text-[#6C6E79]"},"收藏",-1))),Kt=Ft((()=>S("div",{style:{width:"1px",height:"38px"},class:"line dark:bg-[#2D2E32] bg-[#E7E7E7]"},null,-1))),Vt={class:"usedNum"},Pt={style:{"margin-top":"3px","margin-left":"6px","font-size":"24px","line-height":"28px"}},Xt=Ft((()=>S("p",{style:{"font-size":"12px"},class:"text-[#8B8C8C] dark:text-[#6C6E79]"},"对话",-1))),Wt={key:0,class:"suggestion"},qt=Ft((()=>S("p",{style:{"font-size":"17px"}},"对话开场白",-1))),Zt={class:"suggestBox"},Gt={class:"suggestItem border dark:border-[#2D2E31] border-[#E9E9E9]"},_t=[Ft((()=>S("img",{src:"/static/svg/chat-c50a188c.svg",alt:""},null,-1))),Ft((()=>S("p",{style:{"margin-left":"6px"}},"开始聊天",-1)))],$t={class:"mainBox"},ei=Ft((()=>S("div",{style:{"text-align":"center",padding:"24px 0"}},[S("p",{class:"mainTitle"},"探索应用"),S("p",{class:"dark:text-[#6C6E79] text-[#8B8C8C]"},"探索并创建结合了指令、额外知识和任何技能组合的自定义版本的 ChatGPT。")],-1))),ai={class:"inpBox dark:bg-[#19191B] bg-[#F8F9F9]"},li=Ft((()=>S("img",{src:"/static/svg/search-a5fa3211.svg",alt:""},null,-1))),ti={class:"contentBox"},ii={class:"firstClass"},si=["onClick"],oi=["src"],ni=["src"],di={style:{"margin-left":"6px"}},ci={key:0,class:"contentRight"},ri={class:"secondClass"},ui=["onClick"],pi={key:1,class:"contentRight"},vi={class:"secondClass"},gi=[Ft((()=>S("p",null,"全部",-1)))],mi=["onClick"],hi={key:2,class:"contentRight"},fi={key:3,class:"contentRight"},yi={key:4,class:"contentRight"},xi={key:5,class:"contentRight"},ki={key:6,class:"contentRight"},bi=G(x({__name:"exploreApp",emits:["openApp"],setup(e,{emit:a}){const l=b(),t=k(),i=C(),s=A((()=>"dark"===i.theme)),o=a,n=K([]),d=[{title:"我的应用",iconDark:"/static/svg/collectionDark-5ab4a769.svg",iconLight:"/static/svg/collectionLight-042267a8.svg",id:0},{title:"应用分类",iconDark:"/static/svg/appDark-b0593e91.svg",iconLight:"/static/svg/appLight-b45260b9.svg",id:1},{title:"应用推荐",iconDark:"/static/svg/agreeDark-7aaeaf06.svg",iconLight:"/static/svg/agreeLight-bb49b159.svg",id:2},{title:"受欢迎的",iconDark:"/static/svg/hotDark-74c3d3ca.svg",iconLight:"/static/svg/hotLight-c684e1b8.svg",id:3},{title:"最新发布",iconDark:"/static/svg/newDark-3402b3b4.svg",iconLight:"/static/svg/newLight-fa9325fc.svg",id:4},{title:"创建应用",iconDark:"/static/svg/createDark-cc026f1b.svg",iconLight:"/static/svg/createLight-4ff1023e.svg",id:6}],c=[{title:"我收藏的",id:0},{title:"我创建的",id:1}],r=K([]),u=K(1),p=K(0);function v(e){let a={groupId:e,modelId:"",modelName:0,page:u.value,size:20};ue(a).then((e=>{r.value=e.data.rows}))}function g(e){u.value=1,p.value=e,v(e)}v(p.value),V((()=>async function(){const e=await re({page:1,size:50,status:1});n.value=e.data.rows,console.log(e)}()));const m=K(1),h=K([]);function f(e){let a={appId:e.id};ge(a).then((a=>{l.success(a.data),0!=h.value.length?h.value=h.value.filter((a=>a.id!=e.id)):r.value.forEach((a=>{a.id==e.id&&(a.collected=!a.collected)}))}))}const y=K(),x=K(!1);function w(e){x.value=!0,y.value=e}function B(){x.value=!1,o("openApp",y.value)}const I=K("");function F(e){if(I.value&&"Enter"===e.key){e.preventDefault();let a={groupId:0,modelId:"",modelName:I.value,page:0,size:0};ue(a).then((e=>{I.value="",p.value=0,m.value=1,r.value=e.data.rows}))}}function D(){if(I.value){let e={groupId:0,modelId:"",modelName:I.value,page:0,size:0};ue(e).then((e=>{p.value=0,m.value=1,r.value=e.data.rows}))}}function T(){if(1==m.value){u.value++;let e={groupId:p.value,modelId:"",modelName:0,page:u.value,size:20};ue(e).then((e=>{20*u.value>=e.data.count?l.error("没有更多数据了"):r.value=[...r.value,...e.data.rows]}))}}return(e,a)=>(L(),E("div",Lt,[x.value?(L(),E("div",Et)):j("",!0),x.value?(L(),E("div",St,[S("div",{class:"modalTop",style:{cursor:"pointer"},onClick:a[0]||(a[0]=e=>x.value=!1)},Dt),S("div",Tt,[S("img",{style:{width:"86px",height:"86px","border-radius":"12px"},src:y.value.logo,alt:""},null,8,jt)]),S("div",Nt,[S("p",Rt,N(y.value.modelName),1),S("p",zt,"创建时间 : "+N(y.value.createdAt.split("T")[0]),1),S("p",Ut,N(y.value.desc),1)]),S("div",Ot,[S("div",Yt,[S("div",Jt,[Ht,S("p",Qt,N(y.value.collectCount),1)]),Mt]),Kt,S("div",Vt,[S("p",Pt,N(y.value.useCount),1),Xt])]),y.value.demoData?(L(),E("div",Wt,[qt,S("div",Zt,[(L(!0),E(U,null,O(y.value.demoData.split("\n"),(e=>(L(),E("div",Gt,[S("p",null,N(e),1)])))),256))])])):j("",!0),S("div",{style:{display:"flex",padding:"12px"}},[S("div",{onClick:B,style:{display:"flex",width:"100%",padding:"12px 16px","justify-content":"center","border-radius":"12px",cursor:"pointer"},class:"dark:bg-[#222325] bg-[#F0F0F0]"},_t)])])):j("",!0),S("div",$t,[ei,S("div",ai,[li,$(S("input",{onInput:D,onKeydown:F,"onUpdate:modelValue":a[1]||(a[1]=e=>I.value=e),type:"text",style:{flex:"1","margin-left":"8px","background-color":"transparent"},placeholder:"搜索应用名称、快速查找应用..."},null,544),[[ee,I.value]])]),S("div",ti,[S("div",ii,[(L(),E(U,null,O(d,(e=>S("div",{class:ae(["cursor",[s.value?"firstClassItem":"firstClassItem1",m.value==e.id?"dark:bg-[#222325] bg-[#F0F0F0]":""]]),key:e.id,onClick:a=>function(e){m.value=e.id,0==e.id?pe().then((e=>{h.value=e.data.rows})):1==e.id?(v(0),h.value=[]):2==e.id?(h.value=[],ve({type:"recommend"}).then((e=>{r.value=e.data}))):3==e.id?(h.value=[],ve({type:"popular"}).then((e=>{r.value=e.data}))):4==e.id||5==e.id?(h.value=[],ve({type:"latest"}).then((e=>{r.value=e.data}))):6==e.id&&t.updateCreateAppDialog(!0)}(e)},[s.value?(L(),E("img",{key:0,src:e.iconDark,alt:""},null,8,oi)):(L(),E("img",{key:1,src:e.iconLight,alt:""},null,8,ni)),S("p",di,N(e.title),1)],10,si))),64))]),0==m.value?(L(),E("div",ci,[S("div",ri,[(L(),E(U,null,O(c,(e=>S("div",{class:ae(["secondClassItem1 cursor",p.value==e.id?"bg-[#10A37F] dark:bg-[#10A37F] text-[#fff]":"dark:bg-[#222325] bg-[#F0F0F0]"]),key:e.id,onClick:a=>function(e){p.value=e.id,0==e.id?pe().then((e=>{h.value=e.data.rows})):1==e.id&&ve({type:"mine"}).then((e=>{h.value=e.data}))}(e)},[S("p",null,N(e.title),1)],10,ui))),64))]),R(nt,{type:"我的收藏",onHandleChat:w,appList:h.value,onHandlecollection:f},null,8,["appList"])])):j("",!0),1==m.value?(L(),E("div",pi,[S("div",vi,[S("div",{class:ae(["secondClassItem cursor",0==p.value?"bg-[#10A37F] dark:bg-[#10A37F] text-[#fff]":"dark:bg-[#222325] bg-[#F0F0F0]"]),onClick:a[2]||(a[2]=e=>g(0))},gi,2),(L(!0),E(U,null,O(n.value,(e=>(L(),E("div",{class:ae(["secondClassItem cursor",p.value==e.id?"bg-[#10A37F] dark:bg-[#10A37F] text-[#fff]":"dark:bg-[#222325] bg-[#F0F0F0]"]),key:e.id,onClick:a=>g(e.id)},[S("p",null,N(e.groupName),1)],10,mi)))),128))]),R(nt,{onHandleMore:T,type:"应用分类",onHandleChat:w,appList:r.value,onHandlecollection:f},null,8,["appList"])])):j("",!0),2==m.value?(L(),E("div",hi,[R(nt,{onHandleMore:T,onHandleChat:w,appList:r.value,onHandlecollection:f},null,8,["appList"])])):j("",!0),3==m.value?(L(),E("div",fi,[R(nt,{onHandleMore:T,onHandleChat:w,appList:r.value,onHandlecollection:f},null,8,["appList"])])):j("",!0),4==m.value?(L(),E("div",yi,[R(nt,{onHandleMore:T,onHandleChat:w,appList:r.value,onHandlecollection:f},null,8,["appList"])])):j("",!0),5==m.value?(L(),E("div",xi,[R(It,{onHandleMore:T,onHandleChat:w,appList:r.value,onHandlecollection:f},null,8,["appList"])])):j("",!0),6==m.value?(L(),E("div",ki)):j("",!0)])])]))}}),[["__scopeId","data-v-a2a50af6"]]),Ai=e=>(q("data-v-63798ed7"),e=e(),Z(),e),Ci={class:"dark:bg-[#19191B] bg-[#F8F9F9]",style:{width:"466px",height:"394px","border-radius":"24px"}},wi={style:{display:"flex","justify-content":"space-between",padding:"16px"}},Bi=Ai((()=>S("p",{style:{"font-size":"17px","font-weight":"bold"}},"客服",-1))),Ii={style:{flex:"1",display:"flex","justify-content":"center",height:"calc(100% - 56px)","align-items":"center","padding-bottom":"24px"}},Fi={style:{padding:"24px 24px 12px 24px","border-radius":"12px","background-color":"#fff",border:"1px solid #e8e8e8","text-align":"center"}},Li=["src"],Ei=Ai((()=>S("p",{style:{color:"#8b8c8c","margin-top":"12px"}}," 请使用微信扫描上方二维码 ",-1))),Si={style:{display:"flex","flex-direction":"column",height:"100vh",position:"relative",overflow:"hidden"}},Di={id:"fixedBox",class:"fixedBox"},Ti=[Ai((()=>S("img",{src:u,alt:""},null,-1)))],ji=[Ai((()=>S("img",{src:p,alt:""},null,-1)))],Ni=["onClick"],Ri=["src"],zi={style:{"margin-left":"8px","margin-top":"3px"}},Ui=G(x({__name:"chatBase",setup(u){const p=B();me();const g=k(),m=M();let x=new AbortController;const T=b(),Y=C(),J=w(),Q=K(!0);K(0),h();const P=A((()=>m.query.appId));!function(){function e(){document.querySelectorAll(".code-block-wrapper").forEach((e=>{const a=e.querySelector(".code-block-header__copy"),l=e.querySelector(".code-block-body");a&&l&&a.addEventListener("click",(()=>{var e;(null==(e=navigator.clipboard)?void 0:e.writeText)?navigator.clipboard.writeText(l.textContent??""):Ye({text:l.textContent??"",origin:!0})}))}))}V((()=>e())),te((()=>e()))}();const{isMobile:q}=I(),{scrollRef:Z,scrollToBottom:G,scrollToBottomIfAtBottom:$}=function(){const e=K(null);return{scrollRef:e,scrollToBottom:async()=>{await H(),e.value&&(e.value.scrollTop=e.value.scrollHeight)},scrollToTop:async()=>{await H(),e.value&&(e.value.scrollTop=0)},scrollToBottomIfAtBottom:async()=>{if(await H(),e.value){const a=150;e.value.scrollHeight-e.value.scrollTop-e.value.clientHeight<=a&&(e.value.scrollTop=e.value.scrollHeight)}}}}(),{usingContext:ee,toggleUsingContext:le}=v();f();const ie=A((()=>J.chatList));A((()=>J.canUpload)),A((()=>J.canAudio));const oe=A((()=>g.isLogin));Oe(),A((()=>ie.value.filter((e=>!e.inversion&&!e.error))));const ne=K(""),de=K(!1),ce=K(null),re=K(!0);K("");const ue=A((()=>J.active)),pe=A((()=>J.groupList.find((e=>e.uuid===ue.value))));A((()=>J.groupList)),A((()=>Number(null==J?void 0:J.activeModelKeyType))),A((()=>de.value||!ne.value||""===ne.value.trim()||!Q.value)),_(ue,(e=>{var a;e&&(re.value=!0),ce.value&&!q.value&&(null==(a=ce.value)||a.focus())}),{immediate:!0}),_(ie,(e=>{0!==e.length&&re.value&&(re.value=!1,G())}),{immediate:!0});const ve=K("");function ge(e){e&&(ve.value="")}async function Be(e){if(oe.value){if(0!==J.groupList.length&&!de.value&&Q.value){if(e&&"number"==typeof e){const{requestOptions:a}=ie.value[e];null==a||a.prompt}ve.value=ne.value}}else g.setLoginDialog(!0)}_(oe,((e,a)=>{e&&W.emit("DataListFn",e)})),A((()=>{if(!J.activeConfig)return;const{modelInfo:e}=J.activeConfig;return e?`${e.modelName}`:void 0})),V((async()=>{W.emit("onConversation"),W.emit("aboutIsShow"),P.value&&await async function(e){const a=+e;await xe.replace({name:"Chat",query:{}});const l=J.groupList.find((e=>e.appId===a));l?await J.setActiveGroup(l.uuid):(await J.addNewChatGroup(a),await J.queryMyGroup()),ne.value&&handlePrompt(ne.value)}(Number(P.value)),await H((async()=>{var e;await J.queryActiveChatLogList(),await J.queryMyGroup(),await G(),ce.value&&!q.value&&(null==(e=ce.value)||e.focus())}))}));const Le=A((()=>"dark"===Y.theme)),Ee=A((()=>p.recordDialog));he((()=>{W.off("aboutIsShow"),W.off("onConversation"),de.value&&x.abort()}));const Se=A((()=>{if(q.value)return["h-full"]})),De=A((()=>{})),Te=K();fe((()=>{ye().then((e=>{Te.value=e.data.modelMaps[1].filter((e=>1==e.canUpload))[0]}))}));const je=K(!1);function Ne(e){ne.value=e}W.on("chatLogList",(e=>{0==e.length?je.value=!1:je.value=!0})),W.on("haveLog",(e=>{je.value=e}));const Re=K(!1);W.on("exploreApp",(e=>{Re.value=e})),W.on("notData",(e=>{je.value=!1}));const ze=K(!1),Ue=K("");var Je=!0;const He=K(null);function Qe(){(Je=!Je)?(He.value.showRight(),document.getElementById("hideBtn").style.right="300px",document.getElementById("hideBtn").style.transform="rotateY(0deg)",document.getElementById("fixedBox").style.right="320px"):(He.value.hideRight(),document.getElementById("hideBtn").style.right="10px",document.getElementById("hideBtn").style.transform="rotateY(180deg)",document.getElementById("fixedBox").style.right="30px")}const Me=async()=>{Ue.value=await(async()=>await we({keys:["wechatImage"]}).then((e=>e.data)))(),ze.value=!0},Ke=[{title:"帮助与常见问题解答",id:0,iconDark:t,iconLight:i},{title:"条款与政策",id:1,iconDark:s,iconLight:o},{title:"反馈与建议",id:2,iconDark:n,iconLight:d},{title:"关于我们",id:3,iconDark:c,iconLight:r}],Ve=K(!1);function Pe(){Ve.value=!Ve.value}W.emit("nowLocation",xe.options.history.location);const qe=K(0);function Ze(e){e&&qe.value++}const Ge=K([]),_e=K();async function $e(e){W.emit("ExploreApp",e),_e.value=e;(await Ae()).data.forEach((a=>{if(a.modelId==e.id){let e={groupId:a.id};se(e).then((async e=>{localStorage.setItem("chatLogId",JSON.stringify(a)),0==e.data.length?je.value=!1:0!=e.data.length&&(je.value=!0,Ge.value=e.data),Re.value=!1}))}}))}async function ea(){const e=await Ae();if(0==e.data.length)return;let a=e.data.filter((e=>e.id==ue.value));if(0!=a.length){let e=JSON.parse(a[0].config).modelInfo.modelType;if(a[0].gptsApp||"app"==e){let e={groupId:ue.value,type:"gpts"};Ce(e).then((e=>{W.emit("reOpenGpts",a[0])})).catch((e=>{T.error(e.message)}))}}else{console.log("普通对话");let e={groupId:ue.value};Ce(e).then((e=>{W.emit("reOpenChar",pe.value)})).catch((e=>{T.error(e.message)}))}}const aa=K();function la(e){console.log("改变了"),aa.value=JSON.parse(e)}return(t,i)=>(L(),E(U,null,[R(F(ke),{show:ze.value,"onUpdate:show":i[2]||(i[2]=e=>ze.value=e)},{default:z((()=>[S("div",Ci,[S("div",wi,[Bi,Le.value?(L(),E("img",{key:0,src:e,style:{cursor:"pointer"},alt:"",onClick:i[0]||(i[0]=e=>ze.value=!1)})):(L(),E("img",{key:1,src:a,style:{cursor:"pointer"},alt:"",onClick:i[1]||(i[1]=e=>ze.value=!1)}))]),S("div",Ii,[S("div",Fi,[S("img",{src:Ue.value,alt:"",style:{width:"200px",height:"200px"}},null,8,Li),Ei])])])])),_:1},8,["show"]),R(l),S("div",{class:ae(["chat_card flex w-full flex-col bg-[#F8F9F9] dark:bg-[#1B1C22]",Se.value]),style:X(De.value)},[R(Ie,{visible:Ee.value,onSubmit:t.handleUploadFile},null,8,["visible","onSubmit"]),R(sa,{"using-context":F(ee),"dark-mode":Le.value,onExport:t.handleExport,onToggleUsingContext:F(le),onClear:t.handleClear},null,8,["using-context","dark-mode","onExport","onToggleUsingContext","onClear"]),R(Fe),S("div",Si,[R(Xl,{modelTypeValue:aa.value},null,8,["modelTypeValue"]),oe.value&&je.value||Re.value?j("",!0):(L(),D(wa,{key:0,appItem:_e.value},null,8,["appItem"])),oe.value&&!Re.value?(L(),D(y,{key:1,onIsSuccess:ge,handleSubmit:ve.value,appItem:_e.value,chatLogList:0==Ge.value.length?[]:Ge.value,onChangeChatLog:Ze},null,8,["handleSubmit","appItem","chatLogList"])):j("",!0),Re.value?(L(),D(bi,{key:2,onOpenApp:$e})):j("",!0),Re.value?j("",!0):(L(),D(Pa,{key:3,onHandleClear:ea,changeChatLog:qe.value,onHandleSend:Be,onHandleInp:Ne},null,8,["changeChatLog"])),R(Xe,{class:"end",style:{"margin-top":"24px",bottom:"80px","z-index":"100"}}),S("div",{id:"hideBtn",class:"hide btn bg-[#e0dede] dark:bg-[#1B1C22]",onClick:Qe},[R(F(be),{size:"16",class:"dark:text-[#d9d9d9] text-[#fff]"},{default:z((()=>[R(F(We))])),_:1})]),S("div",Di,[S("div",{class:"fixedIcon border border-[#E8E8E8] dark:border-[#2C2D31]",onClick:Me},Ti),S("div",{class:"fixedIcon border border-[#E8E8E8] dark:border-[#2C2D31]",onClick:Pe,style:{"margin-top":"12px"}},ji),Ve.value?(L(),E("div",{key:0,class:ae(Le.value?"helpBoxD":"helpBoxL")},[(L(),E(U,null,O(Ke,(e=>S("div",{class:ae(Le.value?"hlepItemD":"hlepItemL"),key:e.id,style:{display:"flex","align-items":"center"},onClick:a=>function(e){0==e.id?Ve.value=!1:1==e.id?(window.open("/policy","_blank"),Ve.value=!1):2==e.id?(p.updateFeedbackDialog(!0),Ve.value=!1):3==e.id&&(W.emit("aboutIsShow",!0),Ve.value=!1)}(e)},[S("img",{src:Le.value?e.iconDark:e.iconLight,alt:""},null,8,Ri),S("div",zi,N(e.title),1)],10,Ni))),64))],2)):j("",!0)])])],6),R(El,{onModelType:la,ref_key:"right",ref:He},null,512)],64))}}),[["__scopeId","data-v-63798ed7"]]),Oi={class:"h-full dark:bg-[#010102] bg-[#F8F9F9] transition-all"},Yi=G(x({__name:"chat",setup(e){const a=C(),l=w(),t=k(),{isMobile:i}=I(),s=A((()=>t.isLogin));A((()=>a.siderCollapsed)),_(s,(async(e,a)=>{e&&!a&&await l.queryMyGroup()}));const o=A((()=>i.value?["rounded-none","shadow-none"]:["rounded-md","shadow-md","dark:border-neutral-800"]));return(e,a)=>(L(),E("div",Oi,[S("div",{class:ae(["h-full overflow-hidden",o.value])},[R(F(Be),{style:{"background-color":"transparent"},class:"dark:bg-[#010102] bg-[#F8F9F9] z-40 transition w-full h-full","has-sider":!0,"sider-placement":"left"},{default:z((()=>[R(Ui)])),_:1})],2)]))}}),[["__scopeId","data-v-0f21ad6f"]]);export{Yi as default};
