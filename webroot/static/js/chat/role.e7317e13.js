import{e,aI as a,N as l,O as t,P as s,a6 as i,$ as n,a5 as o,a3 as u,a4 as r,a1 as c,aK as d,ag as p,bd as v,a0 as m,a2 as f,a8 as g,aJ as b,S as x,aM as y,av as h,R as k,r as w,j as C,A as _,k as I,bc as D,aU as S,W as A,bz as z,aL as j,H as q,F as P,G as M,ad as G,bZ as L,br as T,aa as R,a7 as U,b_ as E,be as $,bf as F,bx as N,bg as V,ao as B,b8 as K,ar as W,aW as H,ab as O,b$ as J,as as Z,c0 as Q,c1 as X,c2 as Y,a$ as ee}from"../main-33bcbc1f.js";import{N as ae}from"../Popconfirm/Popconfirm.372e0cee.js";import{N as le}from"../LayoutSider/LayoutSider.52c699df.js";const te={class:"mb-2 text-xs text-neutral-400 font-bold"},se={class:"ml-1"},ie=["onClick"],ne={class:"relative flex-1 overflow-hidden break-all text-ellipsis whitespace-nowrap"},oe={key:1},ue={key:0,class:"absolute z-10 flex visible right-1"},re=["onClick"],ce={key:0,class:"p-1"},de={key:1,class:"p-1"},pe={class:"p-1"},ve=e({__name:"ListItem",props:{dataSources:{},title:{},hideSticky:{type:Boolean}},emits:["update","delete","sticky","select"],setup(e,{emit:b}){const x=e,y=b,h=x.dataSources,k=a();const w=function(e,a){let l;return(...t)=>{clearTimeout(l),l=setTimeout((()=>{clearTimeout(l),e(...t)}),a)}}((async function(e,a){null==a||a.stopPropagation(),y("delete",e)}),600);async function C(e){const{uuid:a,title:l}=e;e.isEdit=!1,await k.updateGroupInfo({groupId:a,title:l}),await k.queryMyGroup()}function _(e){return k.active===e}return(e,a)=>{var b;return l(),t(u,null,[a[0]||(a[0]=s("div",{style:{"background-color":"#3076ED"}},null,-1)),s("p",te,[i(n(x.title)+" ",1),s("span",se,"("+n(null==(b=o(h))?void 0:b.length)+")",1)]),(l(!0),t(u,null,r(o(h),(a=>(l(),t("div",{key:`${a.uuid}`},[s("a",{class:g(["bg-[#fff] dark:bg-[#171726] relative flex items-center dark:border-transparent border-gray-200 gap-3 px-3 py-2.5 break-all border rounded-md cursor-pointer hover:bg-gradient-to-l dark:to-[#54A2F5] hover:dark:text-[#2D6DD9] group",[_(a.uuid)?" dark:text-[#2D6DD9] text-[#3378ED] bg-gradient-to-l border-transparent bg-[#ebe9e9] dark:bg-[#15171A] pr-20":"dark:bg-[#1A1D21]"]]),onClick:e=>async function(e){console.log(e),y("select",e)}(a)},[s("span",null,[c(o(d),{icon:a.isSticky?"ri:pushpin-2-line":a.appId?"icon-park-outline:application-one":"ri:message-3-line"},null,8,["icon"])]),s("div",ne,[a.isEdit?(l(),p(o(v),{key:0,value:a.title,"onUpdate:value":e=>a.title=e,size:"tiny",onKeypress:e=>async function(e,a){null==a||a.stopPropagation(),"Enter"===a.key&&C(e)}(a,e)},null,8,["value","onUpdate:value","onKeypress"])):(l(),t("span",oe,n(a.title),1))]),_(a.uuid)?(l(),t("div",ue,[a.isEdit?(l(),t("button",{key:0,class:"p-1",onClick:e=>{return l=a,null==(t=e)||t.stopPropagation(),void C(l);var l,t}},[c(o(d),{icon:"ri:save-line"})],8,re)):(l(),t(u,{key:1},[e.hideSticky?m("",!0):(l(),t("button",ce,[c(o(d),{icon:a.isSticky?"ri:unpin-line":"ri:pushpin-line",onClick:e=>async function(e,a){null==a||a.stopPropagation(),await k.updateGroupInfo({isSticky:!e.isSticky,groupId:e.uuid}),await k.queryMyGroup()}(a,e)},null,8,["icon","onClick"])])),a.appId?m("",!0):(l(),t("button",de,[c(o(d),{icon:"ri:edit-line",onClick:e=>{return l=a,t=!0,null==(s=e)||s.stopPropagation(),void(l.isEdit=t);var l,t,s}},null,8,["onClick"])])),c(o(ae),{placement:"bottom",onPositiveClick:e=>o(w)(a,e)},{trigger:f((()=>[s("button",pe,[c(o(d),{icon:"ri:delete-bin-line"})])])),default:f((()=>[i(" "+n(e.$t("chat.deleteHistoryConfirm")),1)])),_:2},1032,["onPositiveClick"])],64))])):m("",!0)],10,ie)])))),128))],64)}}}),me={class:"flex flex-col gap-3 text-sm"},fe={key:0,class:"flex flex-col items-center mt-4 text-center text-neutral-300"},ge={key:2,class:"flex flex-col items-center mt-4 text-center text-neutral-300"},be={key:5,class:"flex flex-col items-center mt-4 text-center text-neutral-300"},xe=e({__name:"List",emits:["autoCreate"],setup(e,{emit:i}){const{isMobile:r}=b(),v=x(),g=y(),S=h(),A=a(),z=k(),j=w(100),q=C((()=>A.groupList)),P=C((()=>A.groupKeyWord)),M=C((()=>A.activeChatTab));function G(e){const a=new Date(e).getTime()+288e5;return new Date(a).getTime()}_(q,(()=>j.value=j.value+1)),_(P,(()=>j.value=j.value+1)),C((()=>z.isLogin));const L=(new Date).setHours(0,0,0,0),T=C((()=>q.value.filter((e=>P.value?e.title.includes(P.value)&&e.isSticky:e.isSticky)))),R=C((()=>q.value.filter((e=>P.value?e.title.includes(P.value)&&!e.isSticky&&e.appId:!e.isSticky&&e.appId)))),U=C((()=>q.value.filter((e=>P.value?e.title.includes(P.value)&&!e.isSticky&&!e.appId&&G(e.createdAt)>=L:!e.isSticky&&!e.appId&&G(e.createdAt)>=L)))),E=C((()=>q.value.filter((e=>P.value?e.title.includes(P.value)&&!e.isSticky&&!e.appId&&G(e.createdAt)<L:!e.isSticky&&!e.appId&&G(e.createdAt)<L))));async function $(e){const{uuid:a}=e;console.log("uuid",a),function(e){return A.active===e}(a)||(await A.setActiveGroup(a),"Chat"!==g.name&&v.push("/chat"),r.value&&S.setSiderCollapsed(!0))}async function F(e){null==event||event.stopPropagation(),await A.deleteGroup(e),await A.queryMyGroup(),r.value&&S.setSiderCollapsed(!0)}C((()=>0===q.value.length||q.value.length>0&&0===R.value.length||q.value.length>0&&0===U.value.length));const N=i;return I((()=>{A.queryMyGroup().then((()=>{q.value.length||N("autoCreate")}))})),(e,a)=>(l(),p(o(D),{class:"px-4"},{default:f((()=>[s("div",me,[q.value.length?(l(),t(u,{key:1},[T.value.length&&"app"!==M.value?(l(),p(ve,{key:1e3+j.value,title:"置顶","data-sources":T.value,onSelect:$,onDelete:F},null,8,["data-sources"])):m("",!0),R.value.length&&"app"===M.value?(l(),p(ve,{key:2e3+j.value,hideSticky:"",title:"应用","data-sources":R.value,onSelect:$,onDelete:F},null,8,["data-sources"])):m("",!0),R.value.length||"app"!==M.value?m("",!0):(l(),t("div",ge,[c(o(d),{icon:"ri:inbox-line",class:"mb-2 text-3xl"}),s("span",null,n(e.$t("common.noData")),1)])),U.value.length&&"app"!==M.value?(l(),p(ve,{key:3e3+j.value,title:"今天","data-sources":U.value,onSelect:$,onDelete:F},null,8,["data-sources"])):m("",!0),E.value.length&&"app"!==M.value?(l(),p(ve,{key:4e3+j.value,title:"其他","data-sources":E.value,onSelect:$,onDelete:F},null,8,["data-sources"])):m("",!0),U.value.length||E.value.length||T.value.length||"app"===M.value?m("",!0):(l(),t("div",be,[c(o(d),{icon:"ri:inbox-line",class:"mb-2 text-3xl"}),s("span",null,n(e.$t("common.noData")),1)]))],64)):(l(),t("div",fe,[c(o(d),{icon:"ri:inbox-line",class:"mb-2 text-3xl"}),s("span",null,n(e.$t("common.noData")),1)]))])])),_:1}))}}),ye={class:"flex flex-col flex-1 min-h-0"},he={style:{"border-radius":"10px 10px 0 0"},class:"flex h-14 items-center space-x-4 justify-between px-4 bg-[#fff] dark:bg-[#1A1D21]"},ke={class:"flex-1"},we=["loading"],Ce={class:"bg-[#fff] dark:bg-[#1A1D21]"},_e={class:"my-2 mx-4",style:{border:"1px solid #3177ED","border-radius":"3px"}},Ie={id:"sessionGroup",class:"min-h-0 pb-12 overflow-hidden bg-[#fff] dark:bg-[#1A1D21]",style:{"border-radius":"0 0 10px 10px"}},De={class:"flex justify-center border-t dark:border-gray-700 py-2 dark:bg-[#1A1D21] bg-[#fff]",style:{position:"absolute",bottom:"10px",left:"10px",width:"96%","border-radius":"10px"}},Se=G(e({__name:"index",setup(e){S();const i=h(),n=a(),u=k();A();const r=w(null),p=w(null),g=C((()=>u.isLogin)),x=z();C((()=>n.activeChatTab));const y=w(0),I=w(0),D=w(0),G=w(0),L=w(!1),T=w(null);_((()=>u.userBalance.useModel3Token),((e,a)=>{var l;y.value=a||0,I.value=e||0,null==(l=r.value)||l.play()}),{immediate:!0,flush:"post"}),_((()=>u.userBalance.useModel4Token),((e,a)=>{var l;D.value=a||0,G.value=e||0,null==(l=p.value)||l.play()}),{immediate:!0,flush:"post"});const{isMobile:R}=b(),U=w(!1),E=C((()=>i.siderCollapsed)),$=w("");function F(e){g.value?($.value=e,n.setGroupKeyWord(e)):u.setLoginDialog(!0)}function N(){L.value=!1}async function V(){try{if(!g.value)return void u.setLoginDialog(!0);U.value=!0,await n.updateChatTab("history"),await n.addNewChatGroup(),await n.queryMyGroup(),U.value=!1,R.value&&i.setSiderCollapsed(!0)}catch(e){U.value=!1}}async function B(){g.value?x.create({title:"清空分组",content:"是否删除所有非置顶的对话组？",positiveText:"确认删除",negativeText:"再想想",onPositiveClick:async()=>{await n.delAllGroup()}}):u.setLoginDialog(!0)}function K(){i.setSiderCollapsed(!E.value)}const W=C((()=>i.theme)),H=C((()=>R.value?{position:"fixed",zIndex:50,top:"56px",height:"calc(100% - 56px)"}:{background:"dark"===W.value?"#131323":"",height:"calc(100% - 60px)"})),O=C((()=>R.value?{paddingBottom:"env(safe-area-inset-bottom)"}:{})),J=()=>{V()};return _((()=>R.value),(e=>{i.setSiderCollapsed(e)}),{immediate:!0,flush:"post"}),(e,a)=>(l(),t("div",null,[c(o(le),{collapsed:E.value,"collapsed-width":0,width:300,"show-trigger":!1,"collapse-mode":"transform",bordered:!1,style:q(H.value),onUpdateCollapsed:K},{default:f((()=>[s("div",{style:q([{padding:"10px 0 10px 10px",position:"relative"},O.value]),class:"flex h-full flex-col bg-[#f4f4f4] dark:bg-[#010102]"},[s("main",ye,[s("div",he,[s("div",ke,[s("button",{class:"rounded w-full px-2.5 py-1.5 flex justify-center items-center bg-gradient-to-r from-[#3076ED] to-[#54A2F5] hover:bg-gradient-to-r text-white",loading:U.value,onClick:V},[c(o(d),{icon:"simple-line-icons:plus",class:"text-sm mr-0.5"}),a[1]||(a[1]=s("span",{class:"mr-0",style:{"margin-left":"2px"}},"新建对话",-1))],8,we)])]),s("div",Ce,[s("div",_e,[c(o(v),{class:"search bg-[#E3E7F5] dark:bg-[#171726]",modelValue:$.value,"onUpdate:modelValue":a[0]||(a[0]=e=>$.value=e),ref_key:"searchRef",ref:T,type:"text",placeholder:"会话标题",onBlur:N,clearable:"",onInput:F},{prefix:f((()=>[c(o(d),{icon:"ion:search",class:"text-xl"})])),_:1},8,["modelValue"])])]),s("div",Ie,[c(xe,{onAutoCreate:J})]),s("div",De,[c(o(j),{bordered:!1,size:"small",style:{width:"100%"},onClick:B},{default:f((()=>[c(o(d),{icon:"ant-design:delete-outlined",class:"ml-2 mr-2 text-sm"}),a[2]||(a[2]=s("span",{class:"mr-3"},"清空全部非置顶会话",-1))])),_:1})])])],4)])),_:1},8,["collapsed","style"]),o(R)?P((l(),t("div",{key:0,class:"fixed inset-0 z-40 bg-black/40",onClick:K},null,512)),[[M,!E.value]]):m("",!0)]))}}),[["__scopeId","data-v-3fe515f0"]]),Ae={class:"m-auto flex h-14 max-w-screen-2xl items-center justify-between px-4"},ze={class:"flex min-w-0 flex-1 items-center space-x-2 overflow-hidden pr-2"},je=e({__name:"header",setup(e){const a=x();return(e,i)=>(l(),t("div",Ae,[s("div",ze,[s("button",{onClick:i[0]||(i[0]=e=>o(a).go(-1))},[c(o(d),{class:"text-xl",icon:"ri:arrow-left-s-line"})]),i[1]||(i[1]=s("h2",{class:"text-base font-bold"}," 我的自定义工作台 ",-1))]),i[2]||(i[2]=s("div",{class:"flex items-center space-x-2"},null,-1))]))}}),qe={class:"w-full flex justify-center"},Pe={class:"p-6 max-w-screen-2xl px-4 w-full"},Me={class:"flex flex-col space-y-3 justify-between sm:flex-row sm:space-y-0"},Ge={class:"sm:w-full md:w-[300px] sm:mb-3 2xl:w-[380px]"},Le={class:"mt-10 grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 2xl:grid-cols-4 gap-5"},Te=["onClick"],Re={class:"w-full h-16 flex items-center mb-3"},Ue={class:"w-14 h-14 flex justify-center items-center rounded-md shadow-md mr-5 border border-[#00000014]"},Ee=["src"],$e={class:"text-base font-bold mb-1 text-base text-[#333] dark:text-[#ffffff85]"},Fe={class:"w-full text-[#999999] text-xs min-h-[40px]"},Ne={class:"w-full flex justify-between mt-3"},Ve={class:"p-5 bg-white rounded dark:bg-slate-800"},Be={class:"font-bold text-base"},Ke={class:"pt-5 mt-6"},We=e({__name:"main",setup(e){const a=L(),g=w(""),y=w(!1),h=w(!1),k=w([]),_=w(null),D=w(0),S=w(!1),z=C((()=>0===D.value?"创建我的个人应用":"更新我的个人应用")),q=C((()=>0===D.value?"创建专属应用":"更新个人应用")),P=C((()=>g.value?a.mineApps.filter((e=>e.appName.includes(g.value))):a.mineApps)),M=w("/api/upload/file"),G=w({catId:null,name:null,preset:null,des:null,demoData:"",coverImg:"",public:!1}),Y={catId:[{required:!0,message:"请选择分类"}],name:[{required:!0,message:"请输入应用名称",trigger:"blur"},{min:2,max:30,message:"长度应为2到10个字符之间",trigger:"blur"}],preset:[{required:!0,message:"请输入预设prompt",trigger:"blur"},{min:6,max:1200,message:"长度应为6到1200个字符之间",trigger:"blur"}],des:[{required:!0,message:"请输入简短的应用描述",trigger:"blur"},{max:50,message:"长度应为0到50个字符之间",trigger:"blur"}],demoData:[{required:!0,message:"请输入示例数据、按回车换行表示新增一条",trigger:"blur"},{max:100,message:"长度应为0到100个字符之间",trigger:"blur"}],coverImg:[{required:!0,message:"请上传应用Logo",trigger:"change"}],public:[{required:!0,message:"请选择是否公开"}]};b();const ee=A(),le=x(),te=w([]),se=w(null);function ie(e){g.value=e}async function ne(){const e=await X();te.value=e.data.rows}async function oe(e){if(e.length){const a=e[0].file;se.value=a;const l=new FormData;l.append("file",a);const t=await Z.post(M.value,l,{headers:{"Content-Type":"multipart/form-data"}});t.data.data?G.value.coverImg=t.data.data:ee.error("上传图片失败、请检查后再试试吧！")}else se.value=null}function ue({file:e,fileList:a}){return new Promise(((a,l)=>{const{size:t,type:s}=e.file;return"image/png"!==s&&"image/jpg"!==s&&"image/jpeg"!==s?(ee.error("只能上传png/jpg/jpeg格式的图片"),a(!1)):t>307200?(ee.error("图片大小不能超过300k"),a(!1)):void a(!0)}))}function re(){h.value=!0,ne()}function ce(){}function de(){pe()}function pe(){D.value=0,S.value=!1,G.value={catId:null,name:null,preset:null,des:null,demoData:"",coverImg:"",public:!1}}function ve(){var e;null==(e=_.value)||e.validate((async e=>{if(!e){const e=G.value;D.value&&(e.appId=D.value);const l=await Q(e),t=D.value?"个人应用修改完成！":"个人应用创建完成！";l.success&&ee.success(t),a.queryMineApps(),pe(),h.value=!1}}))}return I((()=>{!P.value.length&&a.queryMineApps()})),(e,b)=>(l(),t(u,null,[s("div",qe,[s("div",Pe,[s("div",Me,[s("div",Ge,[c(o(v),{modelValue:g.value,"onUpdate:modelValue":b[0]||(b[0]=e=>g.value=e),type:"text",placeholder:`您一共收录了${P.value.length}个应用(关键词过滤)`,onInput:ie},null,8,["modelValue","placeholder"])]),c(o(T),null,{default:f((()=>[c(o(j),{onClick:re},{icon:f((()=>[c(o(d),{icon:"gridicons:create"})])),default:f((()=>[b[12]||(b[12]=i(" 创建自定义应用 "))])),_:1}),c(o(j),{type:"primary",onClick:b[1]||(b[1]=e=>o(le).push("/app-store"))},{icon:f((()=>[c(o(d),{icon:"ri:add-line"})])),default:f((()=>[b[13]||(b[13]=i(" 前往广场添加应用 "))])),_:1})])),_:1})]),s("div",Le,[(l(!0),t(u,null,r(P.value,(e=>(l(),t("div",{key:e.id,class:"card relative custom-card cursor-pointer border border-[#e0e0e0] dark:border-neutral-800 p-4 pt-2 border rounded-md flex flex-col justify-center items-center hover:bg-neutral-100 dark:hover:bg-[#24272e] select-none",onClick:a=>async function(e){const a=await H(),{modelMaps:l}=a.data;if(!l[1])return ee.warning("接口错误，请联系管理员处理~");le.push({path:"/chat",query:{appId:e.appId}})}(e)},[s("div",Re,[s("span",Ue,[s("img",{src:e.coverImg,class:"w-8 h-8 mb-1",alt:""},null,8,Ee)]),s("span",$e,n(e.appName),1)]),s("p",Fe,n(e.appDes),1),s("div",Ne,["system"===e.appRole||e.public?(l(),p(o(ae),{key:0,placement:"bottom",onPositiveClick:R((l=>async function(e){e.loading=!0;try{const l=await O({appId:e.appId});ee.success(l.data),await a.queryMineApps(),e.loading=!1}catch(l){e.loading=!1}}(e)),["stop"])},{trigger:f((()=>[c(o(j),{size:"tiny",ghost:"",loading:e.loading,onClick:b[2]||(b[2]=R((()=>{}),["stop"]))},{icon:f((()=>[c(o(d),{icon:"clarity:favorite-line",class:"text-base"})])),default:f((()=>[b[14]||(b[14]=i(" 取消收藏 "))])),_:2},1032,["loading"])])),default:f((()=>[b[15]||(b[15]=i(" 确认取消收藏该应用吗？ "))])),_:2},1032,["onPositiveClick"])):m("",!0),c(o(T),null,{default:f((()=>["user"!==e.appRole||e.public?m("",!0):(l(),p(o(ae),{key:0,placement:"bottom",onPositiveClick:R((l=>async function(e){const l=await J({id:e.appId});ee.success(l.data),a.queryMineApps()}(e)),["stop"])},{trigger:f((()=>[c(o(j),{size:"tiny",ghost:"",loading:e.loading,onClick:b[3]||(b[3]=R((()=>{}),["stop"]))},{icon:f((()=>[c(o(d),{icon:"mdi-light:delete",class:"text-base"})])),default:f((()=>[b[16]||(b[16]=i(" 删除应用 "))])),_:2},1032,["loading"])])),default:f((()=>[b[17]||(b[17]=i(" 确认移除创建的应用吗？ "))])),_:2},1032,["onPositiveClick"])),"user"!==e.appRole||e.public?m("",!0):(l(),p(o(j),{key:1,size:"tiny",ghost:"",loading:e.loading,onClick:R((a=>async function(e){await ne();const{catId:a,appName:l,preset:t,appDes:s,demoData:i,coverImg:n,public:o}=e;Object.assign(G.value,{catId:a,name:l,preset:t,des:s,demoData:i,coverImg:n,public:o}),D.value=e.appId,h.value=!0,S.value=e.public}(e)),["stop"])},{icon:f((()=>[c(o(d),{icon:"mdi-light:delete",class:"text-base"})])),default:f((()=>[b[18]||(b[18]=i(" 编辑应用 "))])),_:2},1032,["loading","onClick"]))])),_:2},1024)]),c(o(d),{icon:"codicon:run-all",class:"run-icon text-xl text-[#5A91FC] absolute right-3 bottom-3"}),3===e.status?(l(),p(o(d),{key:0,icon:"icon-park-twotone:mark",class:"text-xl text-[#5A91FC] absolute right-3 top-3"})):m("",!0)],8,Te)))),128))])])]),c(o(W),{show:h.value,title:"创建",style:{width:"90%","max-width":"640px"},"mask-closable":!1,"on-after-enter":ce,"on-after-leave":de},{default:f((()=>[s("div",Ve,[s("div",{class:"absolute top-4 left-5 cursor-pointer z-30",onClick:b[4]||(b[4]=e=>h.value=!1)},[s("span",Be,n(q.value),1)]),s("div",{class:"absolute top-3 right-3 cursor-pointer z-30",onClick:b[5]||(b[5]=e=>h.value=!1)},[c(o(U),{size:"20",color:"#0e7a0d"},{default:f((()=>[c(o(E))])),_:1})]),s("div",Ke,[c(o($),{ref_key:"formRef",ref:_,model:G.value,rules:Y,"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging",style:{maxWidth:"640px"}},{default:f((()=>[c(o(F),{label:"应用分类",path:"catId"},{default:f((()=>[c(o(N),{value:G.value.catId,"onUpdate:value":b[6]||(b[6]=e=>G.value.catId=e),clearable:"",size:"small","label-field":"name",placeholder:"请输入您的应用分类","value-field":"id",options:te.value},null,8,["value","options"])])),_:1}),c(o(F),{label:"应用名称",path:"name"},{default:f((()=>[c(o(v),{value:G.value.name,"onUpdate:value":b[7]||(b[7]=e=>G.value.name=e),placeholder:"请输入您的应用名称",type:"name",maxlength:30,"show-name-on":"click",tabindex:"0"},null,8,["value"])])),_:1}),c(o(F),{label:"预设指令",path:"preset"},{default:f((()=>[c(o(v),{value:G.value.preset,"onUpdate:value":b[8]||(b[8]=e=>G.value.preset=e),max:255,autosize:{minRows:3,maxRows:10},type:"textarea",placeholder:"请填写prompt预设指令（核心）"},null,8,["value"])])),_:1}),c(o(F),{label:"应用描述",path:"des"},{default:f((()=>[c(o(v),{value:G.value.des,"onUpdate:value":b[9]||(b[9]=e=>G.value.des=e),autosize:{minRows:3,maxRows:10},type:"textarea",placeholder:"请对你的应用做以简要的描述以便于大家认识它！"},null,8,["value"])])),_:1}),c(o(F),{label:"示例内容",path:"demoData"},{default:f((()=>[c(o(v),{value:G.value.demoData,"onUpdate:value":b[10]||(b[10]=e=>G.value.demoData=e),autosize:{minRows:3,maxRows:10},type:"textarea",placeholder:"请填写一个示例、方便快速告诉别人如何使用、每点击回车换行一次则是新增一条示例！"},null,8,["value"])])),_:1}),c(o(F),{label:"应用Logo",path:"coverImg"},{default:f((()=>[c(o(V),{"on-update:file-list":oe,"on-before-upload":ue,max:1,"default-upload":!1,action:M.value,"default-file-list":k.value,"list-type":"image-card"},{default:f((()=>b[19]||(b[19]=[i(" 点击上传 ")]))),_:1},8,["action","default-file-list"])])),_:1}),c(o(F),{label:"是否共享",path:"public"},{default:f((()=>[c(o(B),{value:G.value.public,"onUpdate:value":b[11]||(b[11]=e=>G.value.public=e),disabled:S.value},null,8,["value","disabled"]),c(o(K),{placement:"top-start",trigger:"hover"},{trigger:f((()=>[c(o(d),{icon:"ri:error-warning-line",class:"text-base ml-3 cursor-pointer"})])),default:f((()=>[b[20]||(b[20]=s("p",null,"Tips: 请知悉 ",-1)),b[21]||(b[21]=s("p",null,"选择共享提交之后审核状态将无法编辑应用",-1)),b[22]||(b[22]=s("p",null,"审核通过的应用将会在应用广场公开展示",-1)),b[23]||(b[23]=s("p",null,"管理审核通过后将会赠送一定的站内额度奖励用户",-1)),b[24]||(b[24]=s("p",null,"一旦提交处于审核中、您将不能再编辑此应用",-1))])),_:1})])),_:1}),c(o(F),{class:"mt-3"},{default:f((()=>[c(o(j),{block:"",type:"primary",disabled:y.value,loading:y.value,onClick:ve},{default:f((()=>[i(n(z.value),1)])),_:1},8,["disabled","loading"])])),_:1})])),_:1},8,["model"])])])])),_:1},8,["show"])],64))}}),He={class:"flex h-full w-full flex-col bg-white dark:bg-[#111114]"},Oe={class:"sticky left-0 right-0 top-0 z-40 border-b bg-white dark:border-b-neutral-800 dark:bg-[#111114]"},Je=e({__name:"index",setup:e=>(e,a)=>(l(),t("div",He,[s("header",Oe,[c(je)]),c(We)]))}),Ze={class:"h-full dark:bg-[#131323] transition-all"},Qe=e({__name:"role",setup(e){const a=h(),{isMobile:i}=b();C((()=>a.siderCollapsed));const n=C((()=>i.value?["rounded-none","shadow-none"]:["rounded-md","shadow-md","dark:border-neutral-800"])),u=C((()=>["h-full"]));return(e,a)=>(l(),t("div",Ze,[s("div",{class:g(["h-full overflow-hidden",n.value])},[c(o(ee),{class:g(["z-40 transition",u.value]),"has-sider":""},{default:f((()=>[c(o(Y),{class:"h-full"},{default:f((()=>[c(Je)])),_:1}),c(Se)])),_:1},8,["class"])],2)]))}});export{Qe as default};
