import{_ as e,a,A as l,q as t,b as i,c as s,d as o,s as n,e as d,f as c,g as u,h as r,i as p}from"../aboutUs copy/aboutUs copy.5e1b0d19.js";import{_ as v}from"../hide/hide.ba522efb.js";import{u as g,_ as m,a as h,b as y,c as f,h as x}from"../sendBox_3/sendBox_3.ab259242.js";import{e as k,R as b,ao as A,j as C,a9 as w,aQ as B,ax as I,a8 as F,X as L,N as E,O as S,P as T,ad as D,aR as j,a6 as N,$ as R,U,W as z,Z as O,_ as J,aS as H,am as Q,K as Y,S as M,aT as K,r as V,k as P,ai as X,H as W,a0 as q,a1 as Z,a2 as G,a3 as _,A as $,F as ee,ag as ae,aa as le,at as te,z as ie,aU as se,aV as oe,as as ne,aW as de,ar as ce,aX as ue,aY as re,aZ as pe,a_ as ve,a$ as ge,b0 as me,b1 as he,a5 as ye,b2 as fe,b3 as xe,b4 as ke,aq as be,an as Ae,b5 as Ce,b6 as we,b7 as Be,b8 as Ie}from"../main-ddc3955a.js";import{a as Fe}from"../music/music.c8d735e7.js";import{_ as Le}from"../RecordDialog.vue_vue_type_script_setup_true_lang/RecordDialog.vue_vue_type_script_setup_true_lang.55038b6a.js";import{C as Ee}from"../CreateAppDialog/CreateAppDialog.b3a1b8dc.js";import{_ as Se,p as Te,a as De,b as je,c as Ne,d as Re,e as Ue,f as ze,g as Oe}from"../search/search.70c684a3.js";import{_ as Je}from"../file/file.977b36cf.js";import{u as He}from"../useUpload/useUpload.7643add8.js";import{c as Qe}from"../index/index.d335b448.js";import{_ as Ye}from"../vip_gray/vip_gray.b1563178.js";import{u as Me}from"../index/index.5b75f753.js";import{_ as Ke,a as Ve,b as Pe,c as Xe,d as We}from"../start copy/start copy.4aa28f32.js";import"../index/index.58a338c1.js";const qe={key:0,class:"sticky top-0 left-0 right-0 z-30 border-b dark:border-neutral-800 bg-white/80 dark:bg-black/20 backdrop-blur"},Ze={class:"relative flex items-center justify-center min-w-0 overflow-hidden h-14"},Ge={class:"max-w-screen-2xl flex w-full items-center px-4"},_e={key:0,class:"flex items-center"},$e=T("div",{class:"flex-1 py-4 ele-drag"},null,-1),ea={key:1,class:"flex-1"},aa=T("span",{class:"mr-0"},"新对话",-1),la={class:"flex h-8 w-8 items-center justify-center rounded border transition hover:bg-[#eef0f3] dark:border-neutral-700 dark:hover:bg-[#33373c]"},ta={class:"text-base text-slate-500 dark:text-slate-400"},ia={class:"flex items-center gap-4"},sa=k({__name:"index",props:{usingContext:{type:Boolean}},emits:["export","toggleUsingContext","clear","scrollBtn"],setup(e,{emit:a}){const l=b();g(),A();const t=[{label:"Light",key:"light",icon:"ri:sun-foggy-line"},{label:"Dark",key:"dark",icon:"ri:moon-foggy-line"}];C((()=>{if(!s.activeConfig)return;const{modelTypeInfo:e,modelInfo:a}=s.activeConfig;return e&&a?`${null==e?void 0:e.label} / ${a.modelName}`:void 0}));const i=w(),s=B();I();const o=C((()=>i.siderCollapsed)),n=C((()=>s.getChatByGroupInfo())),{isMobile:d}=F(),c=C((()=>i.theme));function u(){i.setSiderCollapsed(!o.value)}async function r(){try{await s.updateChatTab("history"),await s.addNewChatGroup(),await s.queryMyGroup(),d.value&&i.setSiderCollapsed(!0)}catch(e){}}function p(){const e=document.querySelector("#scrollRef");e&&Y((()=>e.scrollTop=0))}return C((()=>l.isLogin)),(e,a)=>{var l;return L(d)?(E(),S("header",qe,[T("div",Ze,[T("div",Ge,[L(d)?(E(),S("div",_e,[T("button",{class:"flex items-center justify-center w-11 h-11",onClick:u},[o.value?(E(),D(L(j),{key:0,class:"text-2xl",icon:"ri:align-justify"})):(E(),D(L(j),{key:1,class:"text-2xl",icon:"ri:align-right"}))])])):N("",!0),T("h1",{class:"flex-1 px-4 ele-drag font-bold pr-6 overflow-hidden cursor-pointer select-none text-ellipsis whitespace-nowrap",onDblclick:p},R((null==(l=n.value)?void 0:l.title)??""),33),$e,L(d)?(E(),S("div",ea,[T("button",{class:"rounded w-full flex justify-center items-center",onClick:r},[U(L(j),{icon:"mingcute:add-line",class:"text-sm mr-0.5"}),aa])])):N("",!0),L(d)?(E(),D(L(Q),{key:2,trigger:"click"},{trigger:z((()=>[T("button",la,[T("span",ta,[U(L(j),{icon:"fluent:dark-theme-24-regular"})])])])),default:z((()=>[T("div",null,[T("div",ia,[(E(),S(O,null,J(t,(e=>U(L(H),{key:e.key,size:"small",type:e.key===c.value?"info":void 0,onClick:a=>L(i).setTheme(e.key)},{icon:z((()=>[U(L(j),{icon:e.icon},null,8,["icon"])])),_:2},1032,["type","onClick"]))),64))])])])),_:1})):N("",!0)])])])):N("",!0)}}}),oa=e=>(Z("data-v-ee71307e"),e=e(),G(),e),na={class:"mainOut"},da={class:"mainBox"},ca={class:"imgBox"},ua={key:0},ra={key:0,class:"img",src:Se,alt:""},pa={key:1,class:"img",src:Se,alt:""},va={key:1},ga=["src"],ma={class:"bigTitle"},ha=oa((()=>T("label",{class:"smallTitle"},"您可以给智能问答发送消息，以此来帮助您解决您遇到的问题",-1))),ya={class:"exampleBox"},fa=["onClick"],xa=["src"],ka={class:"column"},ba={key:0,class:"big guideQuestion1"},Aa={key:1,class:"small guideQuestion"},Ca=oa((()=>T("img",{class:"addImg",src:Re,alt:""},null,-1))),wa=_(k({__name:"notLogin",setup(e){const a=C((()=>l.isLogin));M(),K();const l=b(),t=w(),i=C((()=>"dark"===t.theme)),s=V(),o=V(),n=V(),d=V(),c=V([]);async function u(e){n.value=!1;await X({keys:["guideQuestion","guideAnswer"]}).then((e=>{s.value=e.data.guideAnswer.split("/"),o.value=e.data.guideQuestion.split("/")}))}P((()=>{if(localStorage.getItem("chatLogId")){let e=JSON.parse(localStorage.getItem("chatLogId")),a=JSON.parse(e.config).modelInfo.modelType;e.gptsApp||"app"==a?(n.value=!0,d.value=e,c.value=e.demoData.split("\n")):(n.value=!1,u())}else u()}));const r=[Te,De,je,Ne],p=["rgba(0, 187, 187, 0.12)","rgba(35, 165, 89, 0.16)","rgba(255, 163, 24, 0.14)","rgba(184, 128, 189, 0.16)"];return(e,t)=>(E(),S("div",na,[T("div",da,[T("div",ca,[n.value?(E(),S("div",va,[T("img",{class:"img",src:d.value.logo,alt:""},null,8,ga)])):(E(),S("div",ua,[i.value?(E(),S("img",ra)):(E(),S("img",pa))])),T("label",ma,R(n.value?d.value.modelName:"您好，今天能帮您些什么？"),1),ha]),T("div",ya,[(E(),S(O,null,J(4,((e,t)=>T("div",{class:"exampleItem",key:e,onClick:e=>function(e){if(a.value||(l.setLoginDialog(!0),q.emit("register",0)),n.value){let a={isApp:!0,msg:c.value[e]};q.emit("sendGuide",a)}else{let a={isApp:!1,msg:o.value[e]};q.emit("sendGuide",a)}}(t)},[T("div",{style:W("background:"+p[t]),class:"iconBg"},[T("img",{class:"icon",src:r[t],alt:""},null,8,xa)],4),T("div",ka,[o.value?(E(),S("p",ba,R(o.value[t]),1)):N("",!0),o.value?(E(),S("p",Aa,R(s.value[t]),1)):N("",!0)]),Ca],8,fa))),64))])])]))}}),[["__scopeId","data-v-ee71307e"]]),Ba=e=>(Z("data-v-58513ab5"),e=e(),G(),e),Ia={class:"mainBox"},Fa={class:"bg-[#F8F9F9] dark:bg-[#24252b]",style:{"border-radius":"14px",border:"2px solid rgba(142,145,166,0.3)",width:"694px"}},La={key:0,class:"fileBox"},Ea={class:"file bg-[#FFFFFF] dark:bg-[#111113]"},Sa={key:0,style:{width:"24px",height:"24px","border-radius":"6px",display:"flex","justify-content":"center","align-items":"center"}},Ta=["src"],Da={key:0,style:{position:"absolute"}},ja=[Ba((()=>T("div",{class:"loader"},null,-1)))],Na={key:1,style:{"background-color":"#10A37F",width:"24px",height:"24px","border-radius":"6px",display:"flex","justify-content":"center","align-items":"center"}},Ra={key:0,style:{position:"relative"},src:Je,alt:""},Ua={key:1,style:{position:"absolute"}},za=[Ba((()=>T("div",{class:"loader"},null,-1)))],Oa={style:{flex:"1","margin-left":"8px"}},Ja={style:{"font-size":"12px","line-height":"15px"}},Ha={style:{"font-size":"10px","line-height":"4px","margin-top":"4px"}},Qa={class:"inpBox"},Ya={key:0,style:{width:"20px",height:"20px"},src:ze,alt:""},Ma={key:1,style:{width:"20px",height:"20px"},src:m,alt:""},Ka=[Ba((()=>T("div",{style:{display:"flex",padding:"8px","border-radius":"12px","background-color":"#222325"}},[T("img",{style:{"margin-right":"5px",width:"20px",height:"20px",cursor:"pointer"},src:h,alt:""}),T("p",null,"从电脑中上传")],-1)))],Va=[Ba((()=>T("div",{style:{display:"flex",padding:"8px","border-radius":"12px","background-color":"#F0F0F0"}},[T("img",{style:{"margin-right":"5px",width:"20px",height:"20px",cursor:"pointer"},src:h,alt:""}),T("p",null,"从电脑中上传")],-1)))],Pa=_(k({__name:"sendBox",props:{changeChatLog:Boolean},emits:["handleSend","handleInp","handleClear"],setup(e,{emit:a}){C((()=>l.isLogin)),M(),K();const l=b(),t=A(),i=w(),s=C((()=>"dark"===i.theme)),o=a,n=V(),d=V(),{selectFile:c,upload:u}=He(),r=I(),p=V("/api/file/upload");function v(){(n.value||d.value)&&(o("handleSend"),L.value=!1,y.value="",x.value="")}function g(){d.value?o("handleInp",d.value+" "+n.value):o("handleInp",n.value)}function m(e){n.value&&("Enter"===e.key&&e.shiftKey?(e.preventDefault(),n.value=n.value+"\n"):"Enter"!==e.key||e.ctrlKey||e.shiftKey?"Enter"===e.key&&e.preventDefault():(e.preventDefault(),o("handleSend"),L.value=!1,y.value="",x.value="",d.value=""))}$(e,(e=>{L.value=!1})),q.on("sendSuccess",(()=>{n.value="",d.value=""}));const h=V(!1);q.on("setModel",(e=>{h.value=e.canUpload}));const y=V(""),f=V(""),x=V(""),k=V(!1);async function B(e=1){let a;if(F.value=!1,1===e){if(a=await c(),!a)return void t.error("选择文件错误")}else a=e;k.value=!0,L.value=!0;const l=new FormData;l.append("file",a),await te.post(p.value,l,{headers:{"Content-Type":"multipart/form-data"}}).then((a=>{if(a.data){let{data:e}=a.data;f.value=e.split(".").pop(),y.value=e.split("/ai/")[1],x.value=a.data.data,d.value=e,o("handleInp",x.value),k.value=!1}1!==e&&r.updateRecordDialog(!1)}))}const F=V(!1),L=V(!1);return(e,a)=>(E(),S("div",Ia,[T("div",Fa,[L.value?(E(),S("div",La,[T("div",Ea,["png"==f.value||"jpeg"==y.value||"jpg"==y.value?(E(),S("div",Sa,[T("img",{src:x.value,alt:""},null,8,Ta),k.value?(E(),S("div",Da,ja)):N("",!0)])):(E(),S("div",Na,[k.value?N("",!0):(E(),S("img",Ra)),k.value?(E(),S("div",Ua,za)):N("",!0)])),T("div",Oa,[T("p",Ja,R(y.value),1),T("p",Ha,R("png"==f.value||"jpeg"==y.value||"jpg"==y.value?"图片":"文档"),1)])])])):N("",!0),T("div",Qa,[h.value?(E(),S("img",{key:0,onClick:a[0]||(a[0]=e=>function(e=1){B(e)}(1)),style:{width:"20px",height:"20px","margin-right":"10px",cursor:"pointer"},src:Ue})):N("",!0),ee(T("input",{onKeypress:a[1]||(a[1]=(...a)=>e.handleEnter&&e.handleEnter(...a)),onKeydown:m,class:"inp","onUpdate:modelValue":a[2]||(a[2]=e=>n.value=e),type:"text",name:"",id:"",placeholder:"给“智能问答”发送消息",onInput:g},null,544),[[ae,n.value]]),T("div",{class:le(n.value||d.value?"bg-[#23A559]":"dark:bg-[#23A559]"),style:{display:"flex","align-items":"center","justify-content":"center","border-radius":"6px",cursor:"pointer",width:"40px",height:"40px"},onClick:v},[s.value?(E(),S("img",Ya)):(E(),S("img",Ma))],2),s.value&&F.value?(E(),S("div",{key:1,class:"upLoadModel1",onClick:a[3]||(a[3]=e=>B(1))},Ka)):N("",!0),!s.value&&F.value?(E(),S("div",{key:2,class:"upLoadModel",onClick:a[4]||(a[4]=e=>B(1))},Va)):N("",!0)])])]))}}),[["__scopeId","data-v-58513ab5"]]);const Xa="/static/svg/deletChatSelect-52cf527b.svg",Wa="/static/svg/editChatSelect-35464e86.svg",qa=e=>(Z("data-v-98d2f012"),e=e(),G(),e),Za={class:"siderBarBox dark:bg-[#24252b] bg-[#fff]",id:"chatRight"},Ga={class:"chatBox"},_a={class:"inputOut dark:bg-[#444] bg-[#f8f9f9]"},$a=qa((()=>T("img",{style:{width:"13px",height:"13px","margin-right":"12px"},src:Oe,alt:""},null,-1))),el=qa((()=>T("div",{class:"line dark:bg-[#36373e] bg-[#f8f9f9]"},null,-1))),al=[ce('<p style="color:rgba(37, 150, 86, 1);font-size:24px;" data-v-98d2f012>+</p><p class="title" data-v-98d2f012>新建对话</p><p class="ctrlBg" data-v-98d2f012>Ctrl</p><p class="plusBg" data-v-98d2f012>+</p><p class="kBg" data-v-98d2f012>k</p>',5)],ll={key:0,class:"today"},tl={class:"chatList"},il=["onClick"],sl={style:{display:"flex","flex-direction":"column"}},ol=["onInput","onBlur","onUpdate:modelValue"],nl={key:1,style:{"font-size":"14px",color:"rgba(255, 255, 255, 0.55)"}},dl={style:{"font-size":"12px",color:"rgba(255, 255, 255, 0.35)"}},cl={class:"buttonBox"},ul={style:{display:"flex","align-items":"center"}},rl={class:"deletChatSelect"},pl=["onClick"],vl={class:"editChatSelect"},gl=["onClick"],ml={key:1,class:"history"},hl={key:2,class:"chatList"},yl=["onClick"],fl={style:{display:"flex","flex-direction":"column"}},xl=["onInput","onBlur","onUpdate:modelValue"],kl={key:1,style:{"font-size":"14px",color:"rgba(255, 255, 255, 0.55)"}},bl={style:{"font-size":"12px",color:"rgba(255, 255, 255, 0.35)"}},Al={class:"buttonBox"},Cl={style:{display:"flex","align-items":"center"}},wl={class:"deletChatSelect"},Bl=["onClick"],Il={class:"editChatSelect"},Fl=["onClick"],Ll={class:"vipTimeBg"},El={key:0,class:"vipImg",src:Ye,alt:""},Sl={class:"vipTime"},Tl=_(k({__name:"index",emits:["modelType"],setup(e,{expose:a,emit:l}){const t=b(),{isMobile:i}=F(),s=B(),o=w(),n=C((()=>t.isLogin)),d=V([]),c=C((()=>t.userInfo)),u=V([]),r=V([]),p=V([]),v=V([]);var g=!1;const m=l,h=V(null);async function y(){d.value=[],u.value=[],r.value=[],await se({modelType:"chat"}).then((e=>{0!=e.data.length?function(e){let a=(new Date).getDate();a<10&&(a="0"+a);const{data:l}=e;d.value=l,l.forEach((e=>{if(e.title=e.title.slice(0,7),null!=e.lastTime){let l=e.lastTime.split(" ")[0].split("-")[2];a==l?u.value=[...u.value,e]:r.value=[...r.value,e]}if(null===e.lastTime){let l=e.createdAt.split(" ")[0].split("-")[2];a==l?u.value=[...u.value,e]:r.value=[...r.value,e]}}))}(e):x()}))}P((async()=>{await y();let e=localStorage.getItem("chatLogId"),a=JSON.parse(e);console.log(a,"locaData"),a?(k.value=a.id,D(a)):0!=u.value.length?(k.value=u.value[0].id,D(u.value[0])):(k.value=r.value[0].id,D(r.value[0]))})),q.on("updateConversationList",(()=>{console.log("newValnewValnewValnewValnewVal"),y()}));const f=V(!1);async function x(){try{if(!n.value)return void t.setLoginDialog(!0);f.value=!0,await s.updateChatTab("history"),await s.addNewChatGroup(),await s.queryMyGroup(),await y(),D(d.value[0]),f.value=!1,i.value&&o.setSiderCollapsed(!0)}catch(e){f.value=!1}}const k=V(),I=V();function D(e,a){let l;l=a?{groupId:e.uuid,logType:1}:{groupId:e.id,logType:1},q.emit("create",!1),q.emit("exploreApp",!1),q.emit("uuid",e),oe(l).then((async l=>{console.log(e,"itemitemitem"),localStorage.setItem("chatLogId",JSON.stringify(e)),await s.setActiveGroup(e.id),k.value=a?e.uuid:e.id,I.value&&(I.value=null),m("modelType",e.config),q.emit("setModel",JSON.parse(e.config).modelInfo);let t=l.data.filter((e=>null!=e.conversationOptions));0==t.length?(q.emit("chatLogList",t),q.emit("haveLog",!1)):q.emit("chatLogList",l.data)}))}const j=A();async function U(e,a){if(0==u.value.length&&1==r.value.length||1==u.value.length&&0==r.value.length)j.error("至少保留一个对话");else{if(await s.deleteGroup(e),await s.queryMyGroup(),0==a){if(u.value=u.value.filter((a=>a.id!=e.id)),e.id==k.value){if(0==u.value.length)return void D(r.value[0]);D(u.value[0])}}else if(1==a&&(r.value=r.value.filter((a=>a.id!=e.id)),e.id==k.value)){if(0==r.value.length)return void D(u.value[0]);D(r.value[0])}j.success("删除成功")}}const z=V(null);function H(e){e.inputIsShow=!0,setTimeout((()=>{z.value[0].focus()}),100)}function Q(e,a){e.inputIsShow=!1;let l={groupId:e.id,title:e.title};de(l).then((l=>{200===l.code&&(0==a?u.value.forEach((a=>{a.id==e.id&&(a.title=e.title)})):1==a&&r.value.forEach((a=>{a.id==e.id&&(a.title=e.title)})))}))}function Y(e){7==e.title.length&&j.warning("最大不能超过七个字")}function M(){p.value=[],v.value=[],h.value?(u.value.forEach((e=>{-1!==e.title.indexOf(h.value)&&p.value.push(e)})),r.value.forEach((e=>{-1!==e.title.indexOf(h.value)&&v.value.push(e)})),g=!0):g=!1,console.log(g)}return a({hideRight:function(){document.getElementById("chatRight").style.width="0px"},showRight:function(){document.getElementById("chatRight").style.width="298px"}}),(e,a)=>(E(),S("div",Za,[T("div",Ga,[T("div",_a,[$a,ee(T("input",{class:"inputBg",placeholder:"请输入对话内容","onUpdate:modelValue":a[0]||(a[0]=e=>h.value=e),onInput:M},null,544),[[ae,h.value]])]),el,T("div",{class:"createdChat",onClick:x},al),!L(g)&&u.value&&u.value.length>0||L(g)&&p.value&&p.value.length>0?(E(),S("div",ll," 今天 ")):N("",!0),T("div",tl,[n.value?(E(!0),S(O,{key:0},J(L(g)?p.value:u.value,(e=>(E(),S("div",{class:le(["itemBox",k.value==e.id?"itemSelect":"item"]),key:e.id,onClick:a=>D(e)},[T("div",sl,[e.inputIsShow?ee((E(),S("input",{key:0,ref_for:!0,ref_key:"inputRef",ref:z,onInput:a=>Y(e),style:{"background-color":"#19191b"},type:"text",onBlur:a=>Q(e,0),onClick:a[1]||(a[1]=ne((()=>{}),["stop"])),"onUpdate:modelValue":a=>e.title=a},null,40,ol)),[[ae,e.title]]):(E(),S("p",nl,R(e.title),1)),T("p",dl,R(L(Me)(e.createdAt)),1)]),T("div",cl,[T("div",ul,[T("div",rl,[T("img",{src:Xa,alt:"",onClick:ne((a=>U(e,0)),["stop"])},null,8,pl)]),T("div",vl,[T("img",{style:{"margin-left":"4px"},src:Wa,alt:"",onClick:ne((a=>H(e)),["stop"])},null,8,gl)])])])],10,il)))),128)):N("",!0)]),!L(g)&&r.value&&r.value.length>0||L(g)&&v.value&&v.value.length>0?(E(),S("div",ml," 历史 ")):N("",!0),n.value?(E(),S("div",hl,[(E(!0),S(O,null,J(L(g)?v.value:r.value,(e=>(E(),S("div",{class:le(["itemBox",k.value==e.id?"itemSelect":"item"]),key:e.id,onClick:a=>D(e)},[T("div",fl,[e.inputIsShow?ee((E(),S("input",{key:0,ref_for:!0,ref_key:"inputRef",ref:z,onInput:a=>Y(e),style:{"background-color":"#19191b"},type:"text",onBlur:a=>Q(e,1),onClick:a[2]||(a[2]=ne((()=>{}),["stop"])),"onUpdate:modelValue":a=>e.title=a},null,40,xl)),[[ae,e.title]]):(E(),S("p",kl,R(e.title),1)),T("p",bl,R(L(Me)(e.createdAt)),1)]),T("div",Al,[T("div",Cl,[T("div",wl,[T("img",{src:Xa,alt:"",onClick:ne((a=>U(e,1)),["stop"])},null,8,Bl)]),T("div",Il,[T("img",{style:{"margin-left":"4px"},src:Wa,alt:"",onClick:ne((a=>H(e)),["stop"])},null,8,Fl)])])])],10,yl)))),128))])):N("",!0)]),T("div",Ll,[c.value&&c.value.vipExpire&&c.value.vipExpire.split("T")[0]?(E(),S("img",El)):N("",!0),T("p",Sl,R(c.value&&c.value.vipExpire&&c.value.vipExpire.split("T")[0]?"会员到期日："+c.value.vipExpire.split("T")[0]:"暂未开通会员"),1)])]))}}),[["__scopeId","data-v-98d2f012"]]),Dl={class:"navBarLeft"},jl={class:"selectBtn"},Nl={class:"selectBtnTitle"},Rl={key:0,style:{width:"9px",height:"5px"},src:Ke,alt:""},Ul=["onClick"],zl={key:0,style:{width:"16px",height:"16px","margin-top":"3px"},src:Ve,alt:""},Ol={key:1,style:{width:"16px",height:"16px","margin-top":"3px"},src:Pe,alt:""},Jl={class:"modelInfo"},Hl={class:"modelName"},Ql={class:"modelIntro dark:text-[#6C6E79] text-[#8B8C8C]"},Yl={class:"consumption bg-[#FFF7ED] dark:bg-[#1D160F]"},Ml={key:0,src:Xe,alt:"",style:{width:"16px",height:"16px","margin-top":"3px"}},Kl={key:1,src:We,alt:"",style:{width:"16px",height:"16px","margin-top":"3px"}},Vl={key:2,style:{"margin-left":"3px"}},Pl={key:3,style:{"margin-left":"3px"},class:"dark:text-[#FFC758] text-[#A45000]"},Xl={key:4,style:{"margin-left":"3px"},class:"dark:text-[#FFC758] text-[#A45000]"},Wl={key:5},ql=_(k({__name:"index",props:{modelTypeValue:Object},setup(e){const a=B(),l=w(),t=I(),i=C((()=>"dark"===l.theme)),s=b(),o=C((()=>s.isLogin)),n=A(),d=e;$((()=>d.modelTypeValue),(e=>{console.log(e,"valval"),x.value=null==e?void 0:e.modelInfo.modelName}));const c=V([]);ue({keyType:"",model:"",modelType:"chat",page:1,size:99}).then((e=>{c.value=e.data.rows}));const u=V(!1);function r(){u.value=!u.value}V();const p=V(0),v=V(0),g=V(.8),m=V(""),h=V(),y=V(8),f=V(!1),x=V("");async function k(e){if(!o.value)return u.value=!1,void(o.value?(s.logOut(),localStorage.removeItem("chatLogId")):(s.setLoginDialog(!0),q.emit("register",0)));let l=localStorage.getItem("chatLogId"),i=JSON.parse(l);const{canAudio:d,canUpload:c,keyType:r,modelName:k,model:b,deductType:A,deduct:C}=e,w={modelTypeInfo:"",modelInfo:{canAudio:d,canUpload:c,keyType:r,modelName:k,model:b,maxModelTokens:p,maxResponseTokens:v.value,systemMessage:null==m?void 0:m.value,topN:g.value,deductType:A,deduct:C,maxRounds:h,rounds:y.value}},B={groupId:i.id,config:JSON.stringify(w)};try{f.value=!0,await de(B),f.value=!1,n.success("修改当前对话组自定义模型配置成功！"),q.emit("setModel",e),i.config=JSON.stringify(w),console.log(l,"locaData改变的值",i),localStorage.setItem("chatLogId",JSON.stringify(i)),q.emit("updateConversationList"),await a.queryMyGroup(),t.updateModelDialog(!1),x.value=k,u.value=!1}catch(I){f.value=!1}}return(e,a)=>(E(),S("div",Dl,[T("div",{class:"select",onClick:r},[T("div",jl,[T("div",Nl,R(x.value),1),o.value?(E(),S("img",Rl)):N("",!0)]),u.value?(E(),S("div",{key:0,class:le(["modelBox dark:bg-[#111113] bg-[#FFFFFF]",i.value?"modelBoxDark":"modelBoxLight"])},[(E(!0),S(O,null,J(c.value,(e=>(E(),S("div",{class:le([i.value?"modelItemDark":"modelItemLight","modelItem"]),key:e.id,onClick:ne((a=>k(e)),["stop"])},[i.value?(E(),S("img",zl)):(E(),S("img",Ol)),T("div",Jl,[T("p",Hl,R(e.modelName),1),T("p",Ql,R(e.description),1),T("div",Yl,[i.value?(E(),S("img",Ml)):(E(),S("img",Kl)),0!=e.vipFreeNum&&e.vipFreeNum-e.used!=0||0==e.deduct?N("",!0):(E(),S("p",Vl,R(e.deduct)+"积分/次 ",1)),e.vipFreeNum>0&&e.vipFreeNum-e.used!=0?(E(),S("p",Pl," 今日免费剩余："+R(e.vipFreeNum-e.used)+" / "+R(e.vipFreeNum),1)):N("",!0),-1==e.vipFreeNum?(E(),S("p",Xl," 会员免费使用 ")):N("",!0),0==e.deduct?(E(),S("p",Wl,"免费使用")):N("",!0)])])],10,Ul)))),128))],2)):N("",!0)])]))}}),[["__scopeId","data-v-4d167631"]]),Zl="/static/svg/collection-e763941f.svg",Gl="/static/svg/collection select-3437da48.svg",_l=["onClick"],$l={style:{display:"flex","justify-content":"space-between","align-items":"self-start"}},et=["src"],at=["onClick"],lt=["onClick"],tt={style:{"margin-top":"12px"}},it={style:{"line-height":"20px",padding:"0 6px","border-radius":"6px",width:"auto",display:"inline-block","font-size":"12px"},class:"dark:bg-[#222325] bg-[#F0F0F0] dark:text-[#6C6E79] text-[#8B8C8C]"},st={style:{display:"flex","margin-top":"6px","align-items":"center"}},ot={style:{"font-size":"17px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden","max-width":"120px"}},nt={key:0,style:{"font-size":"12px","border-radius":"12px",width:"44px",height:"20px","text-align":"center","line-height":"20px","margin-left":"8px"},class:"border dark:border-[#004B3A] border-[#B9E8D6] dark:bg-[#101C18] bg-[#F3FBF8] dark:text-[#074938] text-[#10A37F]"},dt={style:{"font-size":"12px"},class:"intro dark:text-[#6C6E79] text-[#8B8C8C]"},ct=_(k({__name:"index",props:{type:String,appList:Object},emits:["handlecollection","handleChat","handleMore"],setup(e,{emit:a}){const l=e,t=a;function i(e){t("handlecollection",e)}const s=V(null);function o(){const e=s.value;e.scrollTop+e.clientHeight>=e.scrollHeight&&t("handleMore")}return(e,a)=>(E(),S("div",{class:"appBox",onScroll:o,ref_key:"containerRef",ref:s,style:W("应用分类"==l.type||"我的收藏"==l.type?"height: 570px;":"height: 680px;")},[(E(!0),S(O,null,J(l.appList,(e=>(E(),S("div",{class:"contentItem dark:bg-[#19191B] bg-[#F8F9F9]",key:e.id,onClick:a=>function(e){t("handleChat",e)}(e)},[T("div",$l,[T("img",{style:{width:"48px",height:"48px","border-radius":"12px"},src:e.logo,alt:""},null,8,et),e.collected||e.collectTime?N("",!0):(E(),S("img",{key:0,src:Zl,alt:"",style:{cursor:"pointer"},onClick:ne((a=>i(e)),["stop"])},null,8,at)),e.collected||e.collectTime?(E(),S("img",{key:1,src:Gl,alt:"",style:{cursor:"pointer"},onClick:ne((a=>i(e)),["stop"])},null,8,lt)):N("",!0)]),T("div",tt,[T("p",it,R(e.groupName),1)]),T("div",st,[T("p",ot,R(e.modelName),1),e.gptsApp?(E(),S("p",nt," GPTS ")):N("",!0)]),T("div",dt,R(e.desc),1)],8,_l)))),128))],36))}}),[["__scopeId","data-v-58c3539c"]]),ut={class:"appBox"},rt=["onClick"],pt={class:"ranking"},vt={key:0,style:{width:"48px",height:"48px",position:"absolute",left:"0",top:"12px"},src:"data:image/png;base64,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",alt:""},gt={key:1,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAARNSURBVHgBfVTLbhxFFL23uqfnaU+PBxNFhGSs8BBZxVJAAhb2AAtY4T+IvQq7mC9A/gLCBsgq+A/MjgXKOAEUFECWLMshbHAgwkZ2mPbE9vR0V1dxb3X3vO1r11TX69z3QUjky8bmAoJwYUgECM+BzvpSfdbr37/T2HB9yCzAGOE3N+pX1vjbTjdR2AuIcH34sqbR0dl1mur9+x0rewcBxirQgN/QtBYrS8RXnWUN2hv3ABDmbze2u2Bf3d9ahFPACX1HR7DSe9ontxtby9oSn6drSwgo5XJQKZWgSHPGsj3y0u2E0uuEgesdH8Oz588HbdG4eGPujdWxCli+vrfdYIvdYhEuTk+bC1prUEqb2TwiLTwEGSCjCPa8ZqyIrP9k7spMP54Y8VBFKxeqVahNv0jfCkIpIQylAYpoHanIfEval2EIghS9XH2BRpXuY30Yzx7euPbq6x8TiJaRxChSJsnmB1OXEdKtiDyKSJEmT6ZKE3DOrXxG20sDIetfPNwLbkaBvCVlbC0f8nx41AK/40NAFitaO5kMTJYmYaJY6obQsizI2DblDT9980Lu1oiCB7vtGobQIPdrEYWA31EYcHd/DySFBVH0busEVFhwfvoc2LZl9iyas7bjZaQzMzuD3kAOrAjm6VGNLWSIUIb4z/6/BK4omRY8azZhY3MTth49gjZ5wwlWVI+7B3usTFPSNReCVNKVTrA8JsniptKKHmk2BputQ5PQuFIk/Pzbr1Aul6FQKMLdH38we+wV58lrtZDfQK/a5gYUbPypXdq8yodpFE78k245Ok4WPnr/A3jt8is0LlNVhXTud89bx1yixjATOvqfZ8yuAj/nu+ZGci0IAnORHwPGKh3HMfP2H79DIV8Ad7Ic54QGh5XyptHgJ3WXA3cwRNq4iDjae11h8J2//oa5d94dOQsoZyZMyDAaR3NgrDGHpip0UimQdO/24x54IZ9PjYoHSZY8ZA8QjOcafOhV0dvn8ztEp83UZa6aHMVdJ3/7Bwdk/WPq6hDuP/gJvrv7PSXWS+JN0chmqaNjWzGen6Rlavc58C2R26JW2lRdpezCLpUpK6hOVeDD+nvQ3wi2nekqqEyUE/A46ShwfSREVMWrzJ5o/APIZ3O6QonkBDIn5XJ5yBOjxiMPtiXMGd+htSZQ7gXDwKjUeDb95WnQCCM5z0SWVsPRyRH8d+gh90S/B0wN1fIUFPOFuM8ImKhCU/5W33op2+WjAbKTVrRkaWzQ6xpRBhmusFgoQalQ0m2/jTKmEAqPbXIEsbOEjeSRpW0hnmSEWunHHKlJ5iQhsUEWXyLSQ500UFfYs6Q3+JfBmZPIox3H1vVZLpizFKRKLCUa5MElQ9lMITEFpCkiqwU3jQmVQOtehrwfBj9VQSoPn7YX6cp1QpzTypQsGqJCk1DO6bpQ+MW1i9m10zDOVJAK84q0/asSoWZxWFB4VuCsp7V+lvwPeQFD+KAsFAcAAAAASUVORK5CYII=",alt:""},mt={key:2,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAARXSURBVHgBfVVtTxxVFD733pl9YbcwULEUAyxITWyQgBpTTRBoTGqTRusvKKjfi+0PMPwALX62WvkFrRrjp2ZR+8nEIhujSRPrQoxGRVzCAjtv93jO3Z3dmWXh7N6dmTP3Ps95XwENKd1euiqFdKBNNIpKqMK16cWVSly/fmfJsbW8Ch2Ez0y++8E9vrdaasGbr7VvlgJBolqj2/m43tLyDl06EtCZz+hiCGSkDBUuIWCl0wFAnCvdvtkEK31yY0EcA05S9j293DQ7/mbj4xtLSsKtpiWWBbm8A3nnCeiiq51KkwHCCdyDSq126FR3t6Gy/WcSXuDCxNu3VjsSsPz06c0iW3yqtx/ODj9D1gsIwxBQa9C0zCEhQSoBSln0LoDtvzZht05Unnjnw9E4ntVOgCEsDwyPz/WcPguB50EYBAYcEZOGCiKWPkjbhjNPjUMmm4Pff300344n2xXnX5p9s6dvAP1azRBotj4GHrnMOvaM9/Hq7h2AyZdfe78dLxEi3Pjquue5K77rQuj7dZ0OYP/fLfD2KwS0Z56tdB5yp4cg6ww2zyryJJXJUNjs99T0lZUjBLj+dcHXbjFw3QJbThZi6B+KnfJD0H7NhEQ0zadapx9pZaCv8AKBZ+rxTqUgnc1UlMBRMf1WJREicnYOw7DAlhtwrwEeuCClAO/wALyDxqJ7RWwY1GCn/AN7hSZ9lK8wCB0N1lKEa8WSdl3ThkaliOo/jwm8Rk0jzNp48MDsC8gAi8Jx4dIlYx3v2d/eEvknx0wxEAF5hLOJJOP6XYesn+KkReLubTfByQF45fLrlMQLFAYbnn91xoTLhI0++ztbrTzq0DQmY8ZClHHQRNasZjLjUq1U4OG33xnr2QsRzyKBUiiRCFFTdWG97JxEDkgnoEPjRWJTAofGx2FweMQQBY0qi4S6WzCGaGFBgkDESkTZ2SMEbNPY+Wdh6Ny4ed7b3Y220xfByuQbT4QlJV9bVSSmL5ellP/RC+OEpBFgdzmmmXj5ng/f378Pj3/+BR6VSiZMue6e+nv6pLp66Yxdzwth0GXzSJmS9nOlFJWkYYd8/5ixmhcPvRcvXjRESEU2NTMDinSa+wHre+tRkKRXRCLWjoRIoljlQ4KLniSd78Nc/yiExMCJS2Wz8PRzE2bxvW7o87Qnles1CZZsIHmvleg8TfWPXxY9153j2dLoBzzc/QOqf/8m6t3cyoek7j01cA6y3WeocjTZpXhUoJ3OrKqpK4sRZmKaCgwWKb5Fim2BRgb1jRbZnkHocgaxVt0xJJxGK91FOeoxJ7hiDHg6jdQjmxL95QQmtFfL+t0C9WKR5tEIDT2BPE2TOxLHOKw86KiMy0roeUpu+USCiEQLVaS2H+H5Eo0QU+cUazDFIk3MGdyyrG/Y+3bwYwkiCUpfLNAUvEbIs4aAQgZ1dI4Lk62Bgo+syTfuHYdxIkHMI4f+BaaEwgIFBVQoqMbdtajWT5L/AXVFMcD2y87kAAAAAElFTkSuQmCC",alt:""},ht={key:3},yt={class:"appLogo"},ft=["src"],xt={class:"appInfo"},kt={class:"infoBox",style:{display:"flex","justify-content":"space-between","align-items":"center"}},bt={class:"info"},At={style:{"font-size":"17px","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"130px"}},Ct={style:{"line-height":"20px",height:"20px",padding:"0 6px","border-radius":"6px",width:"auto",display:"inline-block","font-size":"12px","margin-left":"8px"},class:"dark:bg-[#222325] bg-[#F0F0F0] dark:text-[#6C6E79] text-[#8B8C8C]"},wt=(e=>(Z("data-v-45ac80f4"),e=e(),G(),e))((()=>T("div",{style:{"font-size":"12px","border-radius":"12px",width:"44px",height:"20px","text-align":"center","line-height":"20px","margin-left":"8px"},class:"border dark:border-[#004B3A] border-[#B9E8D6] dark:bg-[#101C18] bg-[#F3FBF8] dark:text-[#074938] text-[#10A37F]"}," GPTS",-1))),Bt=["onClick"],It=["onClick"],Ft={style:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis",width:"430px","font-size":"12px"},class:"intro dark:text-[#6C6E79] text-[#8B8C8C]"},Lt=_(k({__name:"ranking",props:{appList:Object},emits:["handlecollection","handleChat"],setup(e,{emit:a}){const l=e,t=a;function i(e){t("handlecollection",e)}return(e,a)=>(E(),S("div",ut,[(E(!0),S(O,null,J(l.appList,((e,a)=>(E(),S("div",{class:"appItem dark:bg-[#19191B] bg-[#F8F9F9]",key:e.id,style:{position:"relative"},onClick:a=>function(e){t("handleChat",e)}(e)},[T("div",pt,[0==Number(a)?(E(),S("img",vt)):N("",!0),1==Number(a)?(E(),S("img",gt)):N("",!0),2==Number(a)?(E(),S("img",mt)):N("",!0),Number(a)>2?(E(),S("p",ht,R(a+1),1)):N("",!0)]),T("div",yt,[T("img",{style:{width:"48px",height:"48px","border-radius":"12px"},src:e.logo,alt:""},null,8,ft)]),T("div",xt,[T("div",kt,[T("div",bt,[T("p",At,R(e.modelName),1),T("div",Ct,R(e.groupName),1),wt]),T("div",null,[e.collected||e.collectTime?N("",!0):(E(),S("img",{key:0,src:Zl,alt:"",style:{cursor:"pointer"},onClick:ne((a=>i(e)),["stop"])},null,8,Bt)),e.collected||e.collectTime?(E(),S("img",{key:1,src:Gl,alt:"",style:{cursor:"pointer"},onClick:ne((a=>i(e)),["stop"])},null,8,It)):N("",!0)])]),T("div",Ft,R(e.desc),1)])],8,rt)))),128))]))}}),[["__scopeId","data-v-45ac80f4"]]),Et=e=>(Z("data-v-a2a50af6"),e=e(),G(),e),St={style:{width:"720px",margin:"0 auto"}},Tt={key:0,class:"mask"},Dt={key:1,class:"modal dark:bg-[#19191B] bg-[#F8F9F9]"},jt=[Et((()=>T("img",{src:e,alt:""},null,-1)))],Nt={class:"appLogo"},Rt=["src"],Ut={class:"appInfo"},zt={style:{"font-size":"17px","margin-top":"24px","font-weight":"bold"}},Ot={style:{"font-size":"12px"},class:"dark:text-[#6C6E79] text-[#8B8C8C]"},Jt={style:{width:"225px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden","font-size":"12px"}},Ht={class:"aboutApp"},Qt={class:"collectNum"},Yt={style:{display:"flex"}},Mt=Et((()=>T("img",{src:"/static/svg/startCollection-2531216c.svg",alt:""},null,-1))),Kt={style:{"margin-top":"3px","margin-left":"6px","font-size":"24px","line-height":"28px"}},Vt=Et((()=>T("p",{style:{"font-size":"12px"},class:"text-[#8B8C8C] dark:text-[#6C6E79]"},"收藏",-1))),Pt=Et((()=>T("div",{style:{width:"1px",height:"38px"},class:"line dark:bg-[#2D2E32] bg-[#E7E7E7]"},null,-1))),Xt={class:"usedNum"},Wt={style:{"margin-top":"3px","margin-left":"6px","font-size":"24px","line-height":"28px"}},qt=Et((()=>T("p",{style:{"font-size":"12px"},class:"text-[#8B8C8C] dark:text-[#6C6E79]"},"对话",-1))),Zt={key:0,class:"suggestion"},Gt=Et((()=>T("p",{style:{"font-size":"17px"}},"对话开场白",-1))),_t={class:"suggestBox"},$t={class:"suggestItem border dark:border-[#2D2E31] border-[#E9E9E9]"},ei=[Et((()=>T("img",{src:"/static/svg/chat-c50a188c.svg",alt:""},null,-1))),Et((()=>T("p",{style:{"margin-left":"6px"}},"开始聊天",-1)))],ai={class:"mainBox"},li=Et((()=>T("div",{style:{"text-align":"center",padding:"24px 0"}},[T("p",{class:"mainTitle"},"探索应用"),T("p",{class:"dark:text-[#6C6E79] text-[#8B8C8C]"},"探索并创建结合了指令、额外知识和任何技能组合的自定义版本的 ChatGPT。")],-1))),ti={class:"inpBox dark:bg-[#19191B] bg-[#F8F9F9]"},ii=Et((()=>T("img",{src:"/static/svg/search-a5fa3211.svg",alt:""},null,-1))),si={class:"contentBox"},oi={class:"firstClass"},ni=["onClick"],di=["src"],ci=["src"],ui={style:{"margin-left":"6px"}},ri={key:0,class:"contentRight"},pi={class:"secondClass"},vi=["onClick"],gi={key:1,class:"contentRight"},mi={class:"secondClass"},hi=[Et((()=>T("p",null,"全部",-1)))],yi=["onClick"],fi={key:2,class:"contentRight"},xi={key:3,class:"contentRight"},ki={key:4,class:"contentRight"},bi={key:5,class:"contentRight"},Ai={key:6,class:"contentRight"},Ci=_(k({__name:"exploreApp",emits:["openApp"],setup(e,{emit:a}){const l=A(),t=b(),i=w(),s=C((()=>"dark"===i.theme)),o=a,n=V([]),d=[{title:"我的应用",iconDark:"/static/svg/collectionDark-5ab4a769.svg",iconLight:"/static/svg/collectionLight-042267a8.svg",id:0},{title:"应用分类",iconDark:"/static/svg/appDark-b0593e91.svg",iconLight:"/static/svg/appLight-b45260b9.svg",id:1},{title:"应用推荐",iconDark:"/static/svg/agreeDark-7aaeaf06.svg",iconLight:"/static/svg/agreeLight-bb49b159.svg",id:2},{title:"受欢迎的",iconDark:"/static/svg/hotDark-74c3d3ca.svg",iconLight:"/static/svg/hotLight-c684e1b8.svg",id:3},{title:"最新发布",iconDark:"/static/svg/newDark-3402b3b4.svg",iconLight:"/static/svg/newLight-fa9325fc.svg",id:4},{title:"创建应用",iconDark:"/static/svg/createDark-cc026f1b.svg",iconLight:"/static/svg/createLight-4ff1023e.svg",id:6}],c=[{title:"我收藏的",id:0},{title:"我创建的",id:1}],u=V([]),r=V(1),p=V(0);function v(e){let a={groupId:e,modelId:"",modelName:0,page:r.value,size:20};pe(a).then((e=>{u.value=e.data.rows}))}function g(e){r.value=1,p.value=e,v(e)}v(p.value),P((()=>async function(){const e=await re({page:1,size:50,status:1});n.value=e.data.rows,console.log(e)}()));const m=V(1),h=V([]);function y(e){let a={appId:e.id};me(a).then((a=>{l.success(a.data),0!=h.value.length?h.value=h.value.filter((a=>a.id!=e.id)):u.value.forEach((a=>{a.id==e.id&&(a.collected=!a.collected)}))}))}const f=V(),x=V(!1);function k(e){x.value=!0,f.value=e}function B(){x.value=!1,o("openApp",f.value)}const I=V("");function F(e){if(I.value&&"Enter"===e.key){e.preventDefault();let a={groupId:0,modelId:"",modelName:I.value,page:0,size:0};pe(a).then((e=>{I.value="",p.value=0,m.value=1,u.value=e.data.rows}))}}function L(){if(I.value){let e={groupId:0,modelId:"",modelName:I.value,page:0,size:0};pe(e).then((e=>{p.value=0,m.value=1,u.value=e.data.rows}))}}function D(){if(1==m.value){r.value++;let e={groupId:p.value,modelId:"",modelName:0,page:r.value,size:20};pe(e).then((e=>{20*r.value>=e.data.count?l.error("没有更多数据了"):u.value=[...u.value,...e.data.rows]}))}}return(e,a)=>(E(),S("div",St,[x.value?(E(),S("div",Tt)):N("",!0),x.value?(E(),S("div",Dt,[T("div",{class:"modalTop",style:{cursor:"pointer"},onClick:a[0]||(a[0]=e=>x.value=!1)},jt),T("div",Nt,[T("img",{style:{width:"86px",height:"86px","border-radius":"12px"},src:f.value.logo,alt:""},null,8,Rt)]),T("div",Ut,[T("p",zt,R(f.value.modelName),1),T("p",Ot,"创建时间 : "+R(f.value.createdAt.split("T")[0]),1),T("p",Jt,R(f.value.desc),1)]),T("div",Ht,[T("div",Qt,[T("div",Yt,[Mt,T("p",Kt,R(f.value.collectCount),1)]),Vt]),Pt,T("div",Xt,[T("p",Wt,R(f.value.useCount),1),qt])]),f.value.demoData?(E(),S("div",Zt,[Gt,T("div",_t,[(E(!0),S(O,null,J(f.value.demoData.split("\n"),(e=>(E(),S("div",$t,[T("p",null,R(e),1)])))),256))])])):N("",!0),T("div",{style:{display:"flex",padding:"12px"}},[T("div",{onClick:B,style:{display:"flex",width:"100%",padding:"12px 16px","justify-content":"center","border-radius":"12px",cursor:"pointer"},class:"dark:bg-[#222325] bg-[#F0F0F0]"},ei)])])):N("",!0),T("div",ai,[li,T("div",ti,[ii,ee(T("input",{onInput:L,onKeydown:F,"onUpdate:modelValue":a[1]||(a[1]=e=>I.value=e),type:"text",style:{flex:"1","margin-left":"8px","background-color":"transparent"},placeholder:"搜索应用名称、快速查找应用..."},null,544),[[ae,I.value]])]),T("div",si,[T("div",oi,[(E(),S(O,null,J(d,(e=>T("div",{class:le(["cursor",[s.value?"firstClassItem":"firstClassItem1",m.value==e.id?"dark:bg-[#222325] bg-[#F0F0F0]":""]]),key:e.id,onClick:a=>function(e){m.value=e.id,0==e.id?ve().then((e=>{h.value=e.data.rows})):1==e.id?(v(0),h.value=[]):2==e.id?(h.value=[],ge({type:"recommend"}).then((e=>{u.value=e.data}))):3==e.id?(h.value=[],ge({type:"popular"}).then((e=>{u.value=e.data}))):4==e.id||5==e.id?(h.value=[],ge({type:"latest"}).then((e=>{u.value=e.data}))):6==e.id&&t.updateCreateAppDialog(!0)}(e)},[s.value?(E(),S("img",{key:0,src:e.iconDark,alt:""},null,8,di)):(E(),S("img",{key:1,src:e.iconLight,alt:""},null,8,ci)),T("p",ui,R(e.title),1)],10,ni))),64))]),0==m.value?(E(),S("div",ri,[T("div",pi,[(E(),S(O,null,J(c,(e=>T("div",{class:le(["secondClassItem1 cursor",p.value==e.id?"bg-[#10A37F] dark:bg-[#10A37F] text-[#fff]":"dark:bg-[#222325] bg-[#F0F0F0]"]),key:e.id,onClick:a=>function(e){p.value=e.id,0==e.id?ve().then((e=>{h.value=e.data.rows})):1==e.id&&ge({type:"mine"}).then((e=>{h.value=e.data}))}(e)},[T("p",null,R(e.title),1)],10,vi))),64))]),U(ct,{type:"我的收藏",onHandleChat:k,appList:h.value,onHandlecollection:y},null,8,["appList"])])):N("",!0),1==m.value?(E(),S("div",gi,[T("div",mi,[T("div",{class:le(["secondClassItem cursor",0==p.value?"bg-[#10A37F] dark:bg-[#10A37F] text-[#fff]":"dark:bg-[#222325] bg-[#F0F0F0]"]),onClick:a[2]||(a[2]=e=>g(0))},hi,2),(E(!0),S(O,null,J(n.value,(e=>(E(),S("div",{class:le(["secondClassItem cursor",p.value==e.id?"bg-[#10A37F] dark:bg-[#10A37F] text-[#fff]":"dark:bg-[#222325] bg-[#F0F0F0]"]),key:e.id,onClick:a=>g(e.id)},[T("p",null,R(e.groupName),1)],10,yi)))),128))]),U(ct,{onHandleMore:D,type:"应用分类",onHandleChat:k,appList:u.value,onHandlecollection:y},null,8,["appList"])])):N("",!0),2==m.value?(E(),S("div",fi,[U(ct,{onHandleMore:D,onHandleChat:k,appList:u.value,onHandlecollection:y},null,8,["appList"])])):N("",!0),3==m.value?(E(),S("div",xi,[U(ct,{onHandleMore:D,onHandleChat:k,appList:u.value,onHandlecollection:y},null,8,["appList"])])):N("",!0),4==m.value?(E(),S("div",ki,[U(ct,{onHandleMore:D,onHandleChat:k,appList:u.value,onHandlecollection:y},null,8,["appList"])])):N("",!0),5==m.value?(E(),S("div",bi,[U(Lt,{onHandleMore:D,onHandleChat:k,appList:u.value,onHandlecollection:y},null,8,["appList"])])):N("",!0),6==m.value?(E(),S("div",Ai)):N("",!0)])])]))}}),[["__scopeId","data-v-a2a50af6"]]),wi=e=>(Z("data-v-33b360d5"),e=e(),G(),e),Bi={class:"dark:bg-[#19191B] bg-[#F8F9F9]",style:{width:"466px",height:"394px","border-radius":"24px"}},Ii={style:{display:"flex","justify-content":"space-between",padding:"16px"}},Fi=wi((()=>T("p",{style:{"font-size":"17px","font-weight":"bold"}},"客服",-1))),Li={style:{flex:"1",display:"flex","justify-content":"center",height:"calc(100% - 56px)","align-items":"center","padding-bottom":"24px"}},Ei={style:{padding:"24px 24px 12px 24px","border-radius":"12px","background-color":"#fff",border:"1px solid #e8e8e8","text-align":"center"}},Si=["src"],Ti=wi((()=>T("p",{style:{color:"#8b8c8c","margin-top":"12px"}}," 请使用微信扫描上方二维码 ",-1))),Di={style:{display:"flex","flex-direction":"column",height:"100vh",position:"relative",overflow:"hidden"}},ji={style:{display:"flex","justify-content":"center","margin-top":"24px",position:"absolute",bottom:"80px",width:"100%","z-index":"100"}},Ni={style:{color:"#eeeeee"},class:"end"},Ri={style:{display:"flex",color:"rgba(142, 145, 166, 0.3)","font-size":"13px",cursor:"default"},class:"text-[#8B8C8C] dark:text-[#6C6E79]"},Ui={key:0,style:{display:"flex","margin-left":"8px"}},zi=["href"],Oi={key:1,style:{display:"flex","margin-left":"8px"}},Ji=["href"],Hi={id:"fixedBox",class:"fixedBox"},Qi=[wi((()=>T("img",{src:r,alt:""},null,-1)))],Yi=[wi((()=>T("img",{src:p,alt:""},null,-1)))],Mi=["onClick"],Ki=["src"],Vi={style:{"margin-left":"8px","margin-top":"3px"}},Pi=_(k({__name:"chatBase",setup(r){const p=I();he();const m=b(),h=K();let k=new AbortController;const j=V(""),H=V(""),Q=V(""),M=V(""),X=V("");Fe({keys:["copyrightTitle","icpNumber","policeFilingNumber","icpUrl","policeFilingUrl"]}).then((e=>{j.value=e.data.copyrightTitle,H.value=e.data.icpNumber,Q.value=e.data.policeFilingNumber,M.value=e.data.icpUrl,X.value=e.data.policeFilingUrl}));const Z=A(),G=w(),_=B(),ee=V(!0);V(0),y();const ae=C((()=>h.query.appId));!function(){function e(){document.querySelectorAll(".code-block-wrapper").forEach((e=>{const a=e.querySelector(".code-block-header__copy"),l=e.querySelector(".code-block-body");a&&l&&a.addEventListener("click",(()=>{var e;(null==(e=navigator.clipboard)?void 0:e.writeText)?navigator.clipboard.writeText(l.textContent??""):Qe({text:l.textContent??"",origin:!0})}))}))}P((()=>e())),ie((()=>e()))}();const{isMobile:te}=F(),{scrollRef:se,scrollToBottom:ne,scrollToBottomIfAtBottom:de}=function(){const e=V(null);return{scrollRef:e,scrollToBottom:async()=>{await Y(),e.value&&(e.value.scrollTop=e.value.scrollHeight)},scrollToTop:async()=>{await Y(),e.value&&(e.value.scrollTop=0)},scrollToBottomIfAtBottom:async()=>{if(await Y(),e.value){const a=150;e.value.scrollHeight-e.value.scrollTop-e.value.clientHeight<=a&&(e.value.scrollTop=e.value.scrollHeight)}}}}(),{usingContext:ce,toggleUsingContext:ue}=g();f();const re=C((()=>_.chatList));C((()=>_.canUpload)),C((()=>_.canAudio));const pe=C((()=>m.isLogin));He(),C((()=>re.value.filter((e=>!e.inversion&&!e.error))));const ve=V(""),ge=V(!1),me=V(null),Ie=V(!0);V("");const Se=C((()=>_.active)),Te=C((()=>_.groupList.find((e=>e.uuid===Se.value))));C((()=>_.groupList)),C((()=>Number(null==_?void 0:_.activeModelKeyType))),C((()=>ge.value||!ve.value||""===ve.value.trim()||!ee.value)),$(Se,(e=>{var a;e&&(Ie.value=!0),me.value&&!te.value&&(null==(a=me.value)||a.focus())}),{immediate:!0}),$(re,(e=>{0!==e.length&&Ie.value&&(Ie.value=!1,ne())}),{immediate:!0});const De=V("");function je(e){e&&(De.value="")}async function Ne(e){if(pe.value){if(0!==_.groupList.length&&!ge.value&&ee.value){if(e&&"number"==typeof e){const{requestOptions:a}=re.value[e];null==a||a.prompt}De.value=ve.value}}else m.setLoginDialog(!0)}$(pe,((e,a)=>{e&&q.emit("DataListFn",e)})),C((()=>{if(!_.activeConfig)return;const{modelInfo:e}=_.activeConfig;return e?`${e.modelName}`:void 0})),P((async()=>{q.emit("onConversation"),q.emit("aboutIsShow"),ae.value&&await async function(e){const a=+e;await ke.replace({name:"Chat",query:{}});const l=_.groupList.find((e=>e.appId===a));l?await _.setActiveGroup(l.uuid):(await _.addNewChatGroup(a),await _.queryMyGroup()),ve.value&&handlePrompt(ve.value)}(Number(ae.value)),await Y((async()=>{var e;await _.queryActiveChatLogList(),await _.queryMyGroup(),await ne(),me.value&&!te.value&&(null==(e=me.value)||e.focus())}))}));const Re=C((()=>"dark"===G.theme)),Ue=C((()=>p.recordDialog));ye((()=>{q.off("aboutIsShow"),q.off("onConversation"),ge.value&&k.abort()}));const ze=C((()=>{if(te.value)return["h-full"]})),Oe=C((()=>{})),Je=V();fe((()=>{xe().then((e=>{Je.value=e.data.modelMaps[1].filter((e=>1==e.canUpload))[0]}))}));const Ye=V(!1);function Me(e){ve.value=e}q.on("chatLogList",(e=>{0==e.length?Ye.value=!1:Ye.value=!0})),q.on("haveLog",(e=>{Ye.value=e}));const Ke=V(!1);q.on("exploreApp",(e=>{Ke.value=e})),q.on("notData",(e=>{Ye.value=!1}));const Ve=V(!1),Pe=V("");var Xe=!0;const We=V(null);function qe(){(Xe=!Xe)?(We.value.showRight(),document.getElementById("hideBtn").style.right="300px",document.getElementById("hideBtn").style.transform="rotateY(0deg)",document.getElementById("fixedBox").style.right="320px"):(We.value.hideRight(),document.getElementById("hideBtn").style.right="10px",document.getElementById("hideBtn").style.transform="rotateY(180deg)",document.getElementById("fixedBox").style.right="30px")}const Ze=async()=>{Pe.value=await(async()=>await Be({keys:["wechatImage"]}).then((e=>e.data)))(),Ve.value=!0},Ge=[{title:"帮助与常见问题解答",id:0,iconDark:t,iconLight:i},{title:"条款与政策",id:1,iconDark:s,iconLight:o},{title:"反馈与建议",id:2,iconDark:n,iconLight:d},{title:"关于我们",id:3,iconDark:c,iconLight:u}],_e=V(!1);function $e(){_e.value=!_e.value}q.emit("nowLocation",ke.options.history.location);const ea=V(0);function aa(e){e&&ea.value++}const la=V([]),ta=V();async function ia(e){q.emit("ExploreApp",e),ta.value=e;(await Ce()).data.forEach((a=>{if(a.modelId==e.id){let e={groupId:a.id};oe(e).then((async e=>{localStorage.setItem("chatLogId",JSON.stringify(a)),0==e.data.length?Ye.value=!1:0!=e.data.length&&(Ye.value=!0,la.value=e.data),Ke.value=!1}))}}))}async function oa(){const e=await Ce();if(0==e.data.length)return;let a=e.data.filter((e=>e.id==Se.value));if(0!=a.length){let e=JSON.parse(a[0].config).modelInfo.modelType;if(a[0].gptsApp||"app"==e){let e={groupId:Se.value,type:"gpts"};we(e).then((e=>{q.emit("reOpenGpts",a[0])})).catch((e=>{Z.error(e.message)}))}}else{console.log("普通对话");let e={groupId:Se.value};we(e).then((e=>{q.emit("reOpenChar",Te.value)})).catch((e=>{Z.error(e.message)}))}}const na=V();function da(e){console.log("改变了"),na.value=JSON.parse(e)}return(t,i)=>(E(),S(O,null,[U(L(be),{show:Ve.value,"onUpdate:show":i[2]||(i[2]=e=>Ve.value=e)},{default:z((()=>[T("div",Bi,[T("div",Ii,[Fi,Re.value?(E(),S("img",{key:0,src:e,style:{cursor:"pointer"},alt:"",onClick:i[0]||(i[0]=e=>Ve.value=!1)})):(E(),S("img",{key:1,src:a,style:{cursor:"pointer"},alt:"",onClick:i[1]||(i[1]=e=>Ve.value=!1)}))]),T("div",Li,[T("div",Ei,[T("img",{src:Pe.value,alt:"",style:{width:"200px",height:"200px"}},null,8,Si),Ti])])])])),_:1},8,["show"]),U(l),T("div",{class:le(["chat_card flex w-full flex-col bg-[#F8F9F9] dark:bg-[#1B1C22]",ze.value]),style:W(Oe.value)},[U(Le,{visible:Ue.value,onSubmit:t.handleUploadFile},null,8,["visible","onSubmit"]),U(sa,{"using-context":L(ce),"dark-mode":Re.value,onExport:t.handleExport,onToggleUsingContext:L(ue),onClear:t.handleClear},null,8,["using-context","dark-mode","onExport","onToggleUsingContext","onClear"]),U(Ee),T("div",Di,[U(ql,{modelTypeValue:na.value},null,8,["modelTypeValue"]),pe.value&&Ye.value||Ke.value?N("",!0):(E(),D(wa,{key:0,appItem:ta.value},null,8,["appItem"])),pe.value&&!Ke.value?(E(),D(x,{key:1,onIsSuccess:je,handleSubmit:De.value,appItem:ta.value,chatLogList:0==la.value.length?[]:la.value,onChangeChatLog:aa},null,8,["handleSubmit","appItem","chatLogList"])):N("",!0),Ke.value?(E(),D(Ci,{key:2,onOpenApp:ia})):N("",!0),Ke.value?N("",!0):(E(),D(Pa,{key:3,onHandleClear:oa,changeChatLog:ea.value,onHandleSend:Ne,onHandleInp:Me},null,8,["changeChatLog"])),T("div",ji,[T("div",Ni,[T("div",Ri,[Ae(" 版权所有 © "+R(j.value)+" ",1),H.value?(E(),S("div",Ui,[T("a",{href:M.value||"#"},R(H.value),9,zi)])):N("",!0),Q.value?(E(),S("div",Oi,[T("a",{href:X.value||"#"},R(Q.value),9,Ji)])):N("",!0)])])]),T("img",{id:"hideBtn",class:"hide",src:v,alt:"",onClick:qe}),T("div",Hi,[T("div",{class:"fixedIcon border border-[#E8E8E8] dark:border-[#2C2D31]",onClick:Ze},Qi),T("div",{class:"fixedIcon border border-[#E8E8E8] dark:border-[#2C2D31]",onClick:$e,style:{"margin-top":"12px"}},Yi),_e.value?(E(),S("div",{key:0,class:le(Re.value?"helpBoxD":"helpBoxL")},[(E(),S(O,null,J(Ge,(e=>T("div",{class:le(Re.value?"hlepItemD":"hlepItemL"),key:e.id,style:{display:"flex","align-items":"center"},onClick:a=>function(e){0==e.id?_e.value=!1:1==e.id?(window.open("/policy","_blank"),_e.value=!1):2==e.id?(p.updateFeedbackDialog(!0),_e.value=!1):3==e.id&&(q.emit("aboutIsShow",!0),_e.value=!1)}(e)},[T("img",{src:Re.value?e.iconDark:e.iconLight,alt:""},null,8,Ki),T("div",Vi,R(e.title),1)],10,Mi))),64))],2)):N("",!0)])])],6),U(Tl,{onModelType:da,ref_key:"right",ref:We},null,512)],64))}}),[["__scopeId","data-v-33b360d5"]]),Xi={class:"h-full dark:bg-[#010102] bg-[#F8F9F9] transition-all"},Wi=_(k({__name:"chat",setup(e){const a=w(),l=B(),t=b(),{isMobile:i}=F(),s=C((()=>t.isLogin));C((()=>a.siderCollapsed)),$(s,(async(e,a)=>{e&&!a&&await l.queryMyGroup()}));const o=C((()=>i.value?["rounded-none","shadow-none"]:["rounded-md","shadow-md","dark:border-neutral-800"]));return(e,a)=>(E(),S("div",Xi,[T("div",{class:le(["h-full overflow-hidden",o.value])},[U(L(Ie),{style:{"background-color":"transparent"},class:"dark:bg-[#010102] bg-[#F8F9F9] z-40 transition w-full h-full","has-sider":!0,"sider-placement":"left"},{default:z((()=>[U(Pi)])),_:1})],2)]))}}),[["__scopeId","data-v-0f21ad6f"]]);export{Wi as default};
