import{_ as e,a as t,A as l,q as a,b as i,c as s,d as o,s as n,e as d,f as c,g as r,h as u,i as p}from"../aboutUs copy/aboutUs copy.24b4c8bf.js";import{_ as v}from"../hide/hide.ba522efb.js";import{u as g,_ as h,a as m,b as y,c as x,h as f}from"../sendBox_3/sendBox_3.5bccd5a3.js";import{e as k,R as b,ao as A,j as C,a9 as w,aQ as B,ax as I,a8 as F,X as E,N as L,O as S,P as T,ad as D,aR as j,a6 as N,$ as R,U,W as z,Z as H,_ as J,aS as O,am as Y,K as M,S as Q,aT as K,r as V,A as P,a0 as X,F as W,ag as q,aa as Z,at as G,a1 as _,a2 as $,a3 as ee,k as te,z as le,aU as ae,aV as ie,as as se,aW as oe,ar as ne,aX as de,H as ce,aY as re,aZ as ue,a_ as pe,a$ as ve,b0 as ge,b1 as he,a5 as me,b2 as ye,b3 as xe,b4 as fe,aq as ke,an as be,b5 as Ae,b6 as Ce,b7 as we,b8 as Be}from"../main-b128e95b.js";import{a as Ie}from"../music/music.6e7912cb.js";import{_ as Fe}from"../RecordDialog.vue_vue_type_script_setup_true_lang/RecordDialog.vue_vue_type_script_setup_true_lang.80a96425.js";import{C as Ee}from"../CreateAppDialog/CreateAppDialog.5c28fc1c.js";import{_ as Le,a as Se,b as Te,n as De}from"../search/search.f6148c22.js";import{_ as je}from"../file/file.977b36cf.js";import{u as Ne}from"../useUpload/useUpload.61fb29a5.js";import{c as Re}from"../index/index.d335b448.js";import{_ as Ue}from"../vip_gray/vip_gray.b1563178.js";import{u as ze}from"../index/index.5b75f753.js";import{_ as He,a as Je,b as Oe,c as Ye,d as Me}from"../start copy/start copy.4aa28f32.js";import"../index/index.848a8cdb.js";const Qe={key:0,class:"sticky top-0 left-0 right-0 z-30 border-b dark:border-neutral-800 bg-white/80 dark:bg-black/20 backdrop-blur"},Ke={class:"relative flex items-center justify-center min-w-0 overflow-hidden h-14"},Ve={class:"max-w-screen-2xl flex w-full items-center px-4"},Pe={key:0,class:"flex items-center"},Xe=T("div",{class:"flex-1 py-4 ele-drag"},null,-1),We={key:1,class:"flex-1"},qe=T("span",{class:"mr-0"},"新对话",-1),Ze={class:"flex h-8 w-8 items-center justify-center rounded border transition hover:bg-[#eef0f3] dark:border-neutral-700 dark:hover:bg-[#33373c]"},Ge={class:"text-base text-slate-500 dark:text-slate-400"},_e={class:"flex items-center gap-4"},$e=k({__name:"index",props:{usingContext:{type:Boolean}},emits:["export","toggleUsingContext","clear","scrollBtn"],setup(e,{emit:t}){const l=b();g(),A();const a=[{label:"Light",key:"light",icon:"ri:sun-foggy-line"},{label:"Dark",key:"dark",icon:"ri:moon-foggy-line"}];C((()=>{if(!s.activeConfig)return;const{modelTypeInfo:e,modelInfo:t}=s.activeConfig;return e&&t?`${null==e?void 0:e.label} / ${t.modelName}`:void 0}));const i=w(),s=B();I();const o=C((()=>i.siderCollapsed)),n=C((()=>s.getChatByGroupInfo())),{isMobile:d}=F(),c=C((()=>i.theme));function r(){i.setSiderCollapsed(!o.value)}async function u(){try{await s.updateChatTab("history"),await s.addNewChatGroup(),await s.queryMyGroup(),d.value&&i.setSiderCollapsed(!0)}catch(e){}}function p(){const e=document.querySelector("#scrollRef");e&&M((()=>e.scrollTop=0))}return C((()=>l.isLogin)),(e,t)=>{var l;return E(d)?(L(),S("header",Qe,[T("div",Ke,[T("div",Ve,[E(d)?(L(),S("div",Pe,[T("button",{class:"flex items-center justify-center w-11 h-11",onClick:r},[o.value?(L(),D(E(j),{key:0,class:"text-2xl",icon:"ri:align-justify"})):(L(),D(E(j),{key:1,class:"text-2xl",icon:"ri:align-right"}))])])):N("",!0),T("h1",{class:"flex-1 px-4 ele-drag font-bold pr-6 overflow-hidden cursor-pointer select-none text-ellipsis whitespace-nowrap",onDblclick:p},R((null==(l=n.value)?void 0:l.title)??""),33),Xe,E(d)?(L(),S("div",We,[T("button",{class:"rounded w-full flex justify-center items-center",onClick:u},[U(E(j),{icon:"mingcute:add-line",class:"text-sm mr-0.5"}),qe])])):N("",!0),E(d)?(L(),D(E(Y),{key:2,trigger:"click"},{trigger:z((()=>[T("button",Ze,[T("span",Ge,[U(E(j),{icon:"fluent:dark-theme-24-regular"})])])])),default:z((()=>[T("div",null,[T("div",_e,[(L(),S(H,null,J(a,(e=>U(E(O),{key:e.key,size:"small",type:e.key===c.value?"info":void 0,onClick:t=>E(i).setTheme(e.key)},{icon:z((()=>[U(E(j),{icon:e.icon},null,8,["icon"])])),_:2},1032,["type","onClick"]))),64))])])])),_:1})):N("",!0)])])])):N("",!0)}}}),et=e=>(_("data-v-58513ab5"),e=e(),$(),e),tt={class:"mainBox"},lt={class:"bg-[#F8F9F9] dark:bg-[#24252b]",style:{"border-radius":"14px",border:"2px solid rgba(142,145,166,0.3)",width:"694px"}},at={key:0,class:"fileBox"},it={class:"file bg-[#FFFFFF] dark:bg-[#111113]"},st={key:0,style:{width:"24px",height:"24px","border-radius":"6px",display:"flex","justify-content":"center","align-items":"center"}},ot=["src"],nt={key:0,style:{position:"absolute"}},dt=[et((()=>T("div",{class:"loader"},null,-1)))],ct={key:1,style:{"background-color":"#10A37F",width:"24px",height:"24px","border-radius":"6px",display:"flex","justify-content":"center","align-items":"center"}},rt={key:0,style:{position:"relative"},src:je,alt:""},ut={key:1,style:{position:"absolute"}},pt=[et((()=>T("div",{class:"loader"},null,-1)))],vt={style:{flex:"1","margin-left":"8px"}},gt={style:{"font-size":"12px","line-height":"15px"}},ht={style:{"font-size":"10px","line-height":"4px","margin-top":"4px"}},mt={class:"inpBox"},yt={key:0,style:{width:"20px",height:"20px"},src:Se,alt:""},xt={key:1,style:{width:"20px",height:"20px"},src:h,alt:""},ft=[et((()=>T("div",{style:{display:"flex",padding:"8px","border-radius":"12px","background-color":"#222325"}},[T("img",{style:{"margin-right":"5px",width:"20px",height:"20px",cursor:"pointer"},src:m,alt:""}),T("p",null,"从电脑中上传")],-1)))],kt=[et((()=>T("div",{style:{display:"flex",padding:"8px","border-radius":"12px","background-color":"#F0F0F0"}},[T("img",{style:{"margin-right":"5px",width:"20px",height:"20px",cursor:"pointer"},src:m,alt:""}),T("p",null,"从电脑中上传")],-1)))],bt=ee(k({__name:"sendBox",props:{changeChatLog:Boolean},emits:["handleSend","handleInp","handleClear"],setup(e,{emit:t}){C((()=>l.isLogin)),Q(),K();const l=b(),a=A(),i=w(),s=C((()=>"dark"===i.theme)),o=t,n=V(),d=V(),{selectFile:c,upload:r}=Ne(),u=I(),p=V("/api/file/upload");function v(){(n.value||d.value)&&(o("handleSend"),E.value=!1,y.value="",f.value="")}function g(){d.value?o("handleInp",d.value+" "+n.value):o("handleInp",n.value)}function h(e){n.value&&("Enter"===e.key&&e.shiftKey?(e.preventDefault(),n.value=n.value+"\n"):"Enter"!==e.key||e.ctrlKey||e.shiftKey?"Enter"===e.key&&e.preventDefault():(e.preventDefault(),o("handleSend"),E.value=!1,y.value="",f.value="",d.value=""))}P(e,(e=>{E.value=!1})),X.on("sendSuccess",(()=>{n.value="",d.value=""}));const m=V(!1);X.on("setModel",(e=>{m.value=e.canUpload}));const y=V(""),x=V(""),f=V(""),k=V(!1);async function B(e=1){let t;if(F.value=!1,1===e){if(t=await c(),!t)return void a.error("选择文件错误")}else t=e;k.value=!0,E.value=!0;const l=new FormData;l.append("file",t),await G.post(p.value,l,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{if(t.data){let{data:e}=t.data;x.value=e.split(".").pop(),y.value=e.split("/ai/")[1],f.value=t.data.data,d.value=e,o("handleInp",f.value),k.value=!1}1!==e&&u.updateRecordDialog(!1)}))}const F=V(!1),E=V(!1);return(e,t)=>(L(),S("div",tt,[T("div",lt,[E.value?(L(),S("div",at,[T("div",it,["png"==x.value||"jpeg"==y.value||"jpg"==y.value?(L(),S("div",st,[T("img",{src:f.value,alt:""},null,8,ot),k.value?(L(),S("div",nt,dt)):N("",!0)])):(L(),S("div",ct,[k.value?N("",!0):(L(),S("img",rt)),k.value?(L(),S("div",ut,pt)):N("",!0)])),T("div",vt,[T("p",gt,R(y.value),1),T("p",ht,R("png"==x.value||"jpeg"==y.value||"jpg"==y.value?"图片":"文档"),1)])])])):N("",!0),T("div",mt,[m.value?(L(),S("img",{key:0,onClick:t[0]||(t[0]=e=>function(e=1){B(e)}(1)),style:{width:"20px",height:"20px","margin-right":"10px",cursor:"pointer"},src:Le})):N("",!0),W(T("input",{onKeypress:t[1]||(t[1]=(...t)=>e.handleEnter&&e.handleEnter(...t)),onKeydown:h,class:"inp","onUpdate:modelValue":t[2]||(t[2]=e=>n.value=e),type:"text",name:"",id:"",placeholder:"给“智能问答”发送消息",onInput:g},null,544),[[q,n.value]]),T("div",{class:Z(n.value||d.value?"bg-[#23A559]":"dark:bg-[#23A559]"),style:{display:"flex","align-items":"center","justify-content":"center","border-radius":"6px",cursor:"pointer",width:"40px",height:"40px"},onClick:v},[s.value?(L(),S("img",yt)):(L(),S("img",xt))],2),s.value&&F.value?(L(),S("div",{key:1,class:"upLoadModel1",onClick:t[3]||(t[3]=e=>B(1))},ft)):N("",!0),!s.value&&F.value?(L(),S("div",{key:2,class:"upLoadModel",onClick:t[4]||(t[4]=e=>B(1))},kt)):N("",!0)])])]))}}),[["__scopeId","data-v-58513ab5"]]);const At="/static/svg/deletChatSelect-52cf527b.svg",Ct="/static/svg/editChatSelect-35464e86.svg",wt=e=>(_("data-v-448c8c82"),e=e(),$(),e),Bt={class:"siderBarBox",id:"chatRight"},It={class:"chatBox"},Ft={class:"inputOut"},Et=wt((()=>T("img",{style:{width:"13px",height:"13px","margin-right":"12px"},src:Te,alt:""},null,-1))),Lt=wt((()=>T("div",{class:"line"},null,-1))),St=[ne('<p style="color:rgba(37, 150, 86, 1);font-size:24px;" data-v-448c8c82>+</p><p class="title" data-v-448c8c82>新建对话</p><p class="ctrlBg" data-v-448c8c82>Ctrl</p><p class="plusBg" data-v-448c8c82>+</p><p class="kBg" data-v-448c8c82>k</p>',5)],Tt={key:0,class:"today"},Dt={class:"chatList"},jt=["onClick"],Nt={style:{display:"flex","flex-direction":"column"}},Rt=["onInput","onBlur","onUpdate:modelValue"],Ut={key:1,style:{"font-size":"14px",color:"rgba(255, 255, 255, 0.55)"}},zt={style:{"font-size":"12px",color:"rgba(255, 255, 255, 0.35)"}},Ht={class:"buttonBox"},Jt={style:{display:"flex","align-items":"center"}},Ot={class:"deletChatSelect"},Yt=["onClick"],Mt={class:"editChatSelect"},Qt=["onClick"],Kt={key:1,class:"history"},Vt={key:2,class:"chatList"},Pt=["onClick"],Xt={style:{display:"flex","flex-direction":"column"}},Wt=["onInput","onBlur","onUpdate:modelValue"],qt={key:1,style:{"font-size":"14px",color:"rgba(255, 255, 255, 0.55)"}},Zt={style:{"font-size":"12px",color:"rgba(255, 255, 255, 0.35)"}},Gt={class:"buttonBox"},_t={style:{display:"flex","align-items":"center"}},$t={class:"deletChatSelect"},el=["onClick"],tl={class:"editChatSelect"},ll=["onClick"],al={class:"vipTimeBg"},il={key:0,class:"vipImg",src:Ue,alt:""},sl={class:"vipTime"},ol=ee(k({__name:"index",emits:["modelType"],setup(e,{expose:t,emit:l}){const a=b(),{isMobile:i}=F(),s=B(),o=w(),n=C((()=>a.isLogin)),d=V([]),c=C((()=>a.userInfo)),r=V([]),u=V([]),p=V([]),v=V([]);var g=!1;const h=l,m=V(null);async function y(){d.value=[],r.value=[],u.value=[],await ae({modelType:"chat"}).then((e=>{0!=e.data.length?function(e){let t=(new Date).getDate();t<10&&(t="0"+t);const{data:l}=e;d.value=l,l.forEach((e=>{if(e.title=e.title.slice(0,7),null!=e.lastTime){let l=e.lastTime.split(" ")[0].split("-")[2];t==l?r.value=[...r.value,e]:u.value=[...u.value,e]}if(null===e.lastTime){let l=e.createdAt.split(" ")[0].split("-")[2];t==l?r.value=[...r.value,e]:u.value=[...u.value,e]}}))}(e):f()}))}te((async()=>{await y();let e=localStorage.getItem("chatLogId"),t=JSON.parse(e);console.log(t,"locaData"),t?(k.value=t.id,D(t)):0!=r.value.length?(k.value=r.value[0].id,D(r.value[0])):(k.value=u.value[0].id,D(u.value[0]))})),X.on("updateConversationList",(()=>{console.log("newValnewValnewValnewValnewVal"),y()}));const x=V(!1);async function f(){try{if(!n.value)return void a.setLoginDialog(!0);x.value=!0,await s.updateChatTab("history"),await s.addNewChatGroup(),await s.queryMyGroup(),await y(),D(d.value[0]),x.value=!1,i.value&&o.setSiderCollapsed(!0)}catch(e){x.value=!1}}const k=V(),I=V();function D(e,t){let l;l=t?{groupId:e.uuid,logType:1}:{groupId:e.id,logType:1},X.emit("create",!1),X.emit("exploreApp",!1),X.emit("uuid",e),ie(l).then((async l=>{console.log(e,"itemitemitem"),localStorage.setItem("chatLogId",JSON.stringify(e)),await s.setActiveGroup(e.id),k.value=t?e.uuid:e.id,I.value&&(I.value=null),h("modelType",e.config),X.emit("setModel",JSON.parse(e.config).modelInfo);let a=l.data.filter((e=>null!=e.conversationOptions));0==a.length?(X.emit("chatLogList",a),X.emit("haveLog",!1)):X.emit("chatLogList",l.data)}))}const j=A();async function U(e,t){if(0==r.value.length&&1==u.value.length||1==r.value.length&&0==u.value.length)j.error("至少保留一个对话");else{if(await s.deleteGroup(e),await s.queryMyGroup(),0==t){if(r.value=r.value.filter((t=>t.id!=e.id)),e.id==k.value){if(0==r.value.length)return void D(u.value[0]);D(r.value[0])}}else if(1==t&&(u.value=u.value.filter((t=>t.id!=e.id)),e.id==k.value)){if(0==u.value.length)return void D(r.value[0]);D(u.value[0])}j.success("删除成功")}}const z=V(null);function O(e){e.inputIsShow=!0,setTimeout((()=>{z.value[0].focus()}),100)}function Y(e,t){e.inputIsShow=!1;let l={groupId:e.id,title:e.title};oe(l).then((l=>{200===l.code&&(0==t?r.value.forEach((t=>{t.id==e.id&&(t.title=e.title)})):1==t&&u.value.forEach((t=>{t.id==e.id&&(t.title=e.title)})))}))}function M(e){7==e.title.length&&j.warning("最大不能超过七个字")}function Q(){p.value=[],v.value=[],m.value?(r.value.forEach((e=>{-1!==e.title.indexOf(m.value)&&p.value.push(e)})),u.value.forEach((e=>{-1!==e.title.indexOf(m.value)&&v.value.push(e)})),g=!0):g=!1,console.log(g)}return t({hideRight:function(){document.getElementById("chatRight").style.width="0px"},showRight:function(){document.getElementById("chatRight").style.width="298px"}}),(e,t)=>(L(),S("div",Bt,[T("div",It,[T("div",Ft,[Et,W(T("input",{class:"inputBg",placeholder:"请输入对话内容","onUpdate:modelValue":t[0]||(t[0]=e=>m.value=e),onInput:Q},null,544),[[q,m.value]])]),Lt,T("div",{class:"createdChat",onClick:f},St),!E(g)&&r.value&&r.value.length>0||E(g)&&p.value&&p.value.length>0?(L(),S("div",Tt," 今天 ")):N("",!0),T("div",Dt,[n.value?(L(!0),S(H,{key:0},J(E(g)?p.value:r.value,(e=>(L(),S("div",{class:Z(["itemBox",k.value==e.id?"itemSelect":"item"]),key:e.id,onClick:t=>D(e)},[T("div",Nt,[e.inputIsShow?W((L(),S("input",{key:0,ref_for:!0,ref_key:"inputRef",ref:z,onInput:t=>M(e),style:{"background-color":"#19191b"},type:"text",onBlur:t=>Y(e,0),onClick:t[1]||(t[1]=se((()=>{}),["stop"])),"onUpdate:modelValue":t=>e.title=t},null,40,Rt)),[[q,e.title]]):(L(),S("p",Ut,R(e.title),1)),T("p",zt,R(E(ze)(e.createdAt)),1)]),T("div",Ht,[T("div",Jt,[T("div",Ot,[T("img",{src:At,alt:"",onClick:se((t=>U(e,0)),["stop"])},null,8,Yt)]),T("div",Mt,[T("img",{style:{"margin-left":"4px"},src:Ct,alt:"",onClick:se((t=>O(e)),["stop"])},null,8,Qt)])])])],10,jt)))),128)):N("",!0)]),!E(g)&&u.value&&u.value.length>0||E(g)&&v.value&&v.value.length>0?(L(),S("div",Kt," 历史 ")):N("",!0),n.value?(L(),S("div",Vt,[(L(!0),S(H,null,J(E(g)?v.value:u.value,(e=>(L(),S("div",{class:Z(["itemBox",k.value==e.id?"itemSelect":"item"]),key:e.id,onClick:t=>D(e)},[T("div",Xt,[e.inputIsShow?W((L(),S("input",{key:0,ref_for:!0,ref_key:"inputRef",ref:z,onInput:t=>M(e),style:{"background-color":"#19191b"},type:"text",onBlur:t=>Y(e,1),onClick:t[2]||(t[2]=se((()=>{}),["stop"])),"onUpdate:modelValue":t=>e.title=t},null,40,Wt)),[[q,e.title]]):(L(),S("p",qt,R(e.title),1)),T("p",Zt,R(E(ze)(e.createdAt)),1)]),T("div",Gt,[T("div",_t,[T("div",$t,[T("img",{src:At,alt:"",onClick:se((t=>U(e,1)),["stop"])},null,8,el)]),T("div",tl,[T("img",{style:{"margin-left":"4px"},src:Ct,alt:"",onClick:se((t=>O(e)),["stop"])},null,8,ll)])])])],10,Pt)))),128))])):N("",!0)]),T("div",al,[c.value&&c.value.vipExpire&&c.value.vipExpire.split("T")[0]?(L(),S("img",il)):N("",!0),T("p",sl,R(c.value&&c.value.vipExpire&&c.value.vipExpire.split("T")[0]?"会员到期日："+c.value.vipExpire.split("T")[0]:"暂未开通会员"),1)])]))}}),[["__scopeId","data-v-448c8c82"]]),nl={class:"navBarLeft"},dl={class:"selectBtn"},cl={class:"selectBtnTitle"},rl={key:0,style:{width:"9px",height:"5px"},src:He,alt:""},ul=["onClick"],pl={key:0,style:{width:"16px",height:"16px","margin-top":"3px"},src:Je,alt:""},vl={key:1,style:{width:"16px",height:"16px","margin-top":"3px"},src:Oe,alt:""},gl={class:"modelInfo"},hl={class:"modelName"},ml={class:"modelIntro dark:text-[#6C6E79] text-[#8B8C8C]"},yl={class:"consumption bg-[#FFF7ED] dark:bg-[#1D160F]"},xl={key:0,src:Ye,alt:"",style:{width:"16px",height:"16px","margin-top":"3px"}},fl={key:1,src:Me,alt:"",style:{width:"16px",height:"16px","margin-top":"3px"}},kl={key:2,style:{"margin-left":"3px"}},bl={key:3,style:{"margin-left":"3px"},class:"dark:text-[#FFC758] text-[#A45000]"},Al={key:4,style:{"margin-left":"3px"},class:"dark:text-[#FFC758] text-[#A45000]"},Cl={key:5},wl=ee(k({__name:"index",props:{modelTypeValue:Object},setup(e){const t=B(),l=w(),a=I(),i=C((()=>"dark"===l.theme)),s=b(),o=C((()=>s.isLogin)),n=A(),d=e;P((()=>d.modelTypeValue),(e=>{console.log(e,"valval"),f.value=null==e?void 0:e.modelInfo.modelName}));const c=V([]);de({keyType:"",model:"",modelType:"chat",page:1,size:99}).then((e=>{c.value=e.data.rows}));const r=V(!1);function u(){r.value=!r.value}V();const p=V(0),v=V(0),g=V(.8),h=V(""),m=V(),y=V(8),x=V(!1),f=V("");async function k(e){if(!o.value)return r.value=!1,void(o.value?(s.logOut(),localStorage.removeItem("chatLogId")):(s.setLoginDialog(!0),X.emit("register",0)));let l=localStorage.getItem("chatLogId"),i=JSON.parse(l);const{canAudio:d,canUpload:c,keyType:u,modelName:k,model:b,deductType:A,deduct:C}=e,w={modelTypeInfo:"",modelInfo:{canAudio:d,canUpload:c,keyType:u,modelName:k,model:b,maxModelTokens:p,maxResponseTokens:v.value,systemMessage:null==h?void 0:h.value,topN:g.value,deductType:A,deduct:C,maxRounds:m,rounds:y.value}},B={groupId:i.id,config:JSON.stringify(w)};try{x.value=!0,await oe(B),x.value=!1,n.success("修改当前对话组自定义模型配置成功！"),X.emit("setModel",e),i.config=JSON.stringify(w),console.log(l,"locaData改变的值",i),localStorage.setItem("chatLogId",JSON.stringify(i)),X.emit("updateConversationList"),await t.queryMyGroup(),a.updateModelDialog(!1),f.value=k,r.value=!1}catch(I){x.value=!1}}return(e,t)=>(L(),S("div",nl,[T("div",{class:"select",onClick:u},[T("div",dl,[T("div",cl,R(f.value),1),o.value?(L(),S("img",rl)):N("",!0)]),r.value?(L(),S("div",{key:0,class:Z(["modelBox dark:bg-[#111113] bg-[#FFFFFF]",i.value?"modelBoxDark":"modelBoxLight"])},[(L(!0),S(H,null,J(c.value,(e=>(L(),S("div",{class:Z([i.value?"modelItemDark":"modelItemLight","modelItem"]),key:e.id,onClick:se((t=>k(e)),["stop"])},[i.value?(L(),S("img",pl)):(L(),S("img",vl)),T("div",gl,[T("p",hl,R(e.modelName),1),T("p",ml,R(e.description),1),T("div",yl,[i.value?(L(),S("img",xl)):(L(),S("img",fl)),0!=e.vipFreeNum&&e.vipFreeNum-e.used!=0||0==e.deduct?N("",!0):(L(),S("p",kl,R(e.deduct)+"积分/次 ",1)),e.vipFreeNum>0&&e.vipFreeNum-e.used!=0?(L(),S("p",bl," 今日免费剩余："+R(e.vipFreeNum-e.used)+" / "+R(e.vipFreeNum),1)):N("",!0),-1==e.vipFreeNum?(L(),S("p",Al," 会员免费使用 ")):N("",!0),0==e.deduct?(L(),S("p",Cl,"免费使用")):N("",!0)])])],10,ul)))),128))],2)):N("",!0)])]))}}),[["__scopeId","data-v-4d167631"]]),Bl="/static/svg/collection-e763941f.svg",Il="/static/svg/collection select-3437da48.svg",Fl=["onClick"],El={style:{display:"flex","justify-content":"space-between","align-items":"self-start"}},Ll=["src"],Sl=["onClick"],Tl=["onClick"],Dl={style:{"margin-top":"12px"}},jl={style:{"line-height":"20px",padding:"0 6px","border-radius":"6px",width:"auto",display:"inline-block","font-size":"12px"},class:"dark:bg-[#222325] bg-[#F0F0F0] dark:text-[#6C6E79] text-[#8B8C8C]"},Nl={style:{display:"flex","margin-top":"6px","align-items":"center"}},Rl={style:{"font-size":"17px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden","max-width":"120px"}},Ul={key:0,style:{"font-size":"12px","border-radius":"12px",width:"44px",height:"20px","text-align":"center","line-height":"20px","margin-left":"8px"},class:"border dark:border-[#004B3A] border-[#B9E8D6] dark:bg-[#101C18] bg-[#F3FBF8] dark:text-[#074938] text-[#10A37F]"},zl={style:{"font-size":"12px"},class:"intro dark:text-[#6C6E79] text-[#8B8C8C]"},Hl=ee(k({__name:"index",props:{type:String,appList:Object},emits:["handlecollection","handleChat","handleMore"],setup(e,{emit:t}){const l=e,a=t;function i(e){a("handlecollection",e)}const s=V(null);function o(){const e=s.value;e.scrollTop+e.clientHeight>=e.scrollHeight&&a("handleMore")}return(e,t)=>(L(),S("div",{class:"appBox",onScroll:o,ref_key:"containerRef",ref:s,style:ce("应用分类"==l.type||"我的收藏"==l.type?"height: 570px;":"height: 680px;")},[(L(!0),S(H,null,J(l.appList,(e=>(L(),S("div",{class:"contentItem dark:bg-[#19191B] bg-[#F8F9F9]",key:e.id,onClick:t=>function(e){a("handleChat",e)}(e)},[T("div",El,[T("img",{style:{width:"48px",height:"48px","border-radius":"12px"},src:e.logo,alt:""},null,8,Ll),e.collected||e.collectTime?N("",!0):(L(),S("img",{key:0,src:Bl,alt:"",style:{cursor:"pointer"},onClick:se((t=>i(e)),["stop"])},null,8,Sl)),e.collected||e.collectTime?(L(),S("img",{key:1,src:Il,alt:"",style:{cursor:"pointer"},onClick:se((t=>i(e)),["stop"])},null,8,Tl)):N("",!0)]),T("div",Dl,[T("p",jl,R(e.groupName),1)]),T("div",Nl,[T("p",Rl,R(e.modelName),1),e.gptsApp?(L(),S("p",Ul," GPTS ")):N("",!0)]),T("div",zl,R(e.desc),1)],8,Fl)))),128))],36))}}),[["__scopeId","data-v-58c3539c"]]),Jl={class:"appBox"},Ol=["onClick"],Yl={class:"ranking"},Ml={key:0,style:{width:"48px",height:"48px",position:"absolute",left:"0",top:"12px"},src:"data:image/png;base64,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",alt:""},Ql={key:1,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAARNSURBVHgBfVTLbhxFFL23uqfnaU+PBxNFhGSs8BBZxVJAAhb2AAtY4T+IvQq7mC9A/gLCBsgq+A/MjgXKOAEUFECWLMshbHAgwkZ2mPbE9vR0V1dxb3X3vO1r11TX69z3QUjky8bmAoJwYUgECM+BzvpSfdbr37/T2HB9yCzAGOE3N+pX1vjbTjdR2AuIcH34sqbR0dl1mur9+x0rewcBxirQgN/QtBYrS8RXnWUN2hv3ABDmbze2u2Bf3d9ahFPACX1HR7DSe9ontxtby9oSn6drSwgo5XJQKZWgSHPGsj3y0u2E0uuEgesdH8Oz588HbdG4eGPujdWxCli+vrfdYIvdYhEuTk+bC1prUEqb2TwiLTwEGSCjCPa8ZqyIrP9k7spMP54Y8VBFKxeqVahNv0jfCkIpIQylAYpoHanIfEval2EIghS9XH2BRpXuY30Yzx7euPbq6x8TiJaRxChSJsnmB1OXEdKtiDyKSJEmT6ZKE3DOrXxG20sDIetfPNwLbkaBvCVlbC0f8nx41AK/40NAFitaO5kMTJYmYaJY6obQsizI2DblDT9980Lu1oiCB7vtGobQIPdrEYWA31EYcHd/DySFBVH0busEVFhwfvoc2LZl9iyas7bjZaQzMzuD3kAOrAjm6VGNLWSIUIb4z/6/BK4omRY8azZhY3MTth49gjZ5wwlWVI+7B3usTFPSNReCVNKVTrA8JsniptKKHmk2BputQ5PQuFIk/Pzbr1Aul6FQKMLdH38we+wV58lrtZDfQK/a5gYUbPypXdq8yodpFE78k245Ok4WPnr/A3jt8is0LlNVhXTud89bx1yixjATOvqfZ8yuAj/nu+ZGci0IAnORHwPGKh3HMfP2H79DIV8Ad7Ic54QGh5XyptHgJ3WXA3cwRNq4iDjae11h8J2//oa5d94dOQsoZyZMyDAaR3NgrDGHpip0UimQdO/24x54IZ9PjYoHSZY8ZA8QjOcafOhV0dvn8ztEp83UZa6aHMVdJ3/7Bwdk/WPq6hDuP/gJvrv7PSXWS+JN0chmqaNjWzGen6Rlavc58C2R26JW2lRdpezCLpUpK6hOVeDD+nvQ3wi2nekqqEyUE/A46ShwfSREVMWrzJ5o/APIZ3O6QonkBDIn5XJ5yBOjxiMPtiXMGd+htSZQ7gXDwKjUeDb95WnQCCM5z0SWVsPRyRH8d+gh90S/B0wN1fIUFPOFuM8ImKhCU/5W33op2+WjAbKTVrRkaWzQ6xpRBhmusFgoQalQ0m2/jTKmEAqPbXIEsbOEjeSRpW0hnmSEWunHHKlJ5iQhsUEWXyLSQ500UFfYs6Q3+JfBmZPIox3H1vVZLpizFKRKLCUa5MElQ9lMITEFpCkiqwU3jQmVQOtehrwfBj9VQSoPn7YX6cp1QpzTypQsGqJCk1DO6bpQ+MW1i9m10zDOVJAK84q0/asSoWZxWFB4VuCsp7V+lvwPeQFD+KAsFAcAAAAASUVORK5CYII=",alt:""},Kl={key:2,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAARXSURBVHgBfVVtTxxVFD733pl9YbcwULEUAyxITWyQgBpTTRBoTGqTRusvKKjfi+0PMPwALX62WvkFrRrjp2ZR+8nEIhujSRPrQoxGRVzCAjtv93jO3Z3dmWXh7N6dmTP3Ps95XwENKd1euiqFdKBNNIpKqMK16cWVSly/fmfJsbW8Ch2Ez0y++8E9vrdaasGbr7VvlgJBolqj2/m43tLyDl06EtCZz+hiCGSkDBUuIWCl0wFAnCvdvtkEK31yY0EcA05S9j293DQ7/mbj4xtLSsKtpiWWBbm8A3nnCeiiq51KkwHCCdyDSq126FR3t6Gy/WcSXuDCxNu3VjsSsPz06c0iW3yqtx/ODj9D1gsIwxBQa9C0zCEhQSoBSln0LoDtvzZht05Unnjnw9E4ntVOgCEsDwyPz/WcPguB50EYBAYcEZOGCiKWPkjbhjNPjUMmm4Pff300344n2xXnX5p9s6dvAP1azRBotj4GHrnMOvaM9/Hq7h2AyZdfe78dLxEi3Pjquue5K77rQuj7dZ0OYP/fLfD2KwS0Z56tdB5yp4cg6ww2zyryJJXJUNjs99T0lZUjBLj+dcHXbjFw3QJbThZi6B+KnfJD0H7NhEQ0zadapx9pZaCv8AKBZ+rxTqUgnc1UlMBRMf1WJREicnYOw7DAlhtwrwEeuCClAO/wALyDxqJ7RWwY1GCn/AN7hSZ9lK8wCB0N1lKEa8WSdl3ThkaliOo/jwm8Rk0jzNp48MDsC8gAi8Jx4dIlYx3v2d/eEvknx0wxEAF5hLOJJOP6XYesn+KkReLubTfByQF45fLrlMQLFAYbnn91xoTLhI0++ztbrTzq0DQmY8ZClHHQRNasZjLjUq1U4OG33xnr2QsRzyKBUiiRCFFTdWG97JxEDkgnoEPjRWJTAofGx2FweMQQBY0qi4S6WzCGaGFBgkDESkTZ2SMEbNPY+Wdh6Ny4ed7b3Y220xfByuQbT4QlJV9bVSSmL5ellP/RC+OEpBFgdzmmmXj5ng/f378Pj3/+BR6VSiZMue6e+nv6pLp66Yxdzwth0GXzSJmS9nOlFJWkYYd8/5ixmhcPvRcvXjRESEU2NTMDinSa+wHre+tRkKRXRCLWjoRIoljlQ4KLniSd78Nc/yiExMCJS2Wz8PRzE2bxvW7o87Qnles1CZZsIHmvleg8TfWPXxY9153j2dLoBzzc/QOqf/8m6t3cyoek7j01cA6y3WeocjTZpXhUoJ3OrKqpK4sRZmKaCgwWKb5Fim2BRgb1jRbZnkHocgaxVt0xJJxGK91FOeoxJ7hiDHg6jdQjmxL95QQmtFfL+t0C9WKR5tEIDT2BPE2TOxLHOKw86KiMy0roeUpu+USCiEQLVaS2H+H5Eo0QU+cUazDFIk3MGdyyrG/Y+3bwYwkiCUpfLNAUvEbIs4aAQgZ1dI4Lk62Bgo+syTfuHYdxIkHMI4f+BaaEwgIFBVQoqMbdtajWT5L/AXVFMcD2y87kAAAAAElFTkSuQmCC",alt:""},Vl={key:3},Pl={class:"appLogo"},Xl=["src"],Wl={class:"appInfo"},ql={class:"infoBox",style:{display:"flex","justify-content":"space-between","align-items":"center"}},Zl={class:"info"},Gl={style:{"font-size":"17px","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","max-width":"130px"}},_l={style:{"line-height":"20px",height:"20px",padding:"0 6px","border-radius":"6px",width:"auto",display:"inline-block","font-size":"12px","margin-left":"8px"},class:"dark:bg-[#222325] bg-[#F0F0F0] dark:text-[#6C6E79] text-[#8B8C8C]"},$l=(e=>(_("data-v-45ac80f4"),e=e(),$(),e))((()=>T("div",{style:{"font-size":"12px","border-radius":"12px",width:"44px",height:"20px","text-align":"center","line-height":"20px","margin-left":"8px"},class:"border dark:border-[#004B3A] border-[#B9E8D6] dark:bg-[#101C18] bg-[#F3FBF8] dark:text-[#074938] text-[#10A37F]"}," GPTS",-1))),ea=["onClick"],ta=["onClick"],la={style:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis",width:"430px","font-size":"12px"},class:"intro dark:text-[#6C6E79] text-[#8B8C8C]"},aa=ee(k({__name:"ranking",props:{appList:Object},emits:["handlecollection","handleChat"],setup(e,{emit:t}){const l=e,a=t;function i(e){a("handlecollection",e)}return(e,t)=>(L(),S("div",Jl,[(L(!0),S(H,null,J(l.appList,((e,t)=>(L(),S("div",{class:"appItem dark:bg-[#19191B] bg-[#F8F9F9]",key:e.id,style:{position:"relative"},onClick:t=>function(e){a("handleChat",e)}(e)},[T("div",Yl,[0==Number(t)?(L(),S("img",Ml)):N("",!0),1==Number(t)?(L(),S("img",Ql)):N("",!0),2==Number(t)?(L(),S("img",Kl)):N("",!0),Number(t)>2?(L(),S("p",Vl,R(t+1),1)):N("",!0)]),T("div",Pl,[T("img",{style:{width:"48px",height:"48px","border-radius":"12px"},src:e.logo,alt:""},null,8,Xl)]),T("div",Wl,[T("div",ql,[T("div",Zl,[T("p",Gl,R(e.modelName),1),T("div",_l,R(e.groupName),1),$l]),T("div",null,[e.collected||e.collectTime?N("",!0):(L(),S("img",{key:0,src:Bl,alt:"",style:{cursor:"pointer"},onClick:se((t=>i(e)),["stop"])},null,8,ea)),e.collected||e.collectTime?(L(),S("img",{key:1,src:Il,alt:"",style:{cursor:"pointer"},onClick:se((t=>i(e)),["stop"])},null,8,ta)):N("",!0)])]),T("div",la,R(e.desc),1)])],8,Ol)))),128))]))}}),[["__scopeId","data-v-45ac80f4"]]),ia=e=>(_("data-v-a2a50af6"),e=e(),$(),e),sa={style:{width:"720px",margin:"0 auto"}},oa={key:0,class:"mask"},na={key:1,class:"modal dark:bg-[#19191B] bg-[#F8F9F9]"},da=[ia((()=>T("img",{src:e,alt:""},null,-1)))],ca={class:"appLogo"},ra=["src"],ua={class:"appInfo"},pa={style:{"font-size":"17px","margin-top":"24px","font-weight":"bold"}},va={style:{"font-size":"12px"},class:"dark:text-[#6C6E79] text-[#8B8C8C]"},ga={style:{width:"225px","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden","font-size":"12px"}},ha={class:"aboutApp"},ma={class:"collectNum"},ya={style:{display:"flex"}},xa=ia((()=>T("img",{src:"/static/svg/startCollection-2531216c.svg",alt:""},null,-1))),fa={style:{"margin-top":"3px","margin-left":"6px","font-size":"24px","line-height":"28px"}},ka=ia((()=>T("p",{style:{"font-size":"12px"},class:"text-[#8B8C8C] dark:text-[#6C6E79]"},"收藏",-1))),ba=ia((()=>T("div",{style:{width:"1px",height:"38px"},class:"line dark:bg-[#2D2E32] bg-[#E7E7E7]"},null,-1))),Aa={class:"usedNum"},Ca={style:{"margin-top":"3px","margin-left":"6px","font-size":"24px","line-height":"28px"}},wa=ia((()=>T("p",{style:{"font-size":"12px"},class:"text-[#8B8C8C] dark:text-[#6C6E79]"},"对话",-1))),Ba={key:0,class:"suggestion"},Ia=ia((()=>T("p",{style:{"font-size":"17px"}},"对话开场白",-1))),Fa={class:"suggestBox"},Ea={class:"suggestItem border dark:border-[#2D2E31] border-[#E9E9E9]"},La=[ia((()=>T("img",{src:"/static/svg/chat-c50a188c.svg",alt:""},null,-1))),ia((()=>T("p",{style:{"margin-left":"6px"}},"开始聊天",-1)))],Sa={class:"mainBox"},Ta=ia((()=>T("div",{style:{"text-align":"center",padding:"24px 0"}},[T("p",{class:"mainTitle"},"探索应用"),T("p",{class:"dark:text-[#6C6E79] text-[#8B8C8C]"},"探索并创建结合了指令、额外知识和任何技能组合的自定义版本的 ChatGPT。")],-1))),Da={class:"inpBox dark:bg-[#19191B] bg-[#F8F9F9]"},ja=ia((()=>T("img",{src:"/static/svg/search-a5fa3211.svg",alt:""},null,-1))),Na={class:"contentBox"},Ra={class:"firstClass"},Ua=["onClick"],za=["src"],Ha=["src"],Ja={style:{"margin-left":"6px"}},Oa={key:0,class:"contentRight"},Ya={class:"secondClass"},Ma=["onClick"],Qa={key:1,class:"contentRight"},Ka={class:"secondClass"},Va=[ia((()=>T("p",null,"全部",-1)))],Pa=["onClick"],Xa={key:2,class:"contentRight"},Wa={key:3,class:"contentRight"},qa={key:4,class:"contentRight"},Za={key:5,class:"contentRight"},Ga={key:6,class:"contentRight"},_a=ee(k({__name:"exploreApp",emits:["openApp"],setup(e,{emit:t}){const l=A(),a=b(),i=w(),s=C((()=>"dark"===i.theme)),o=t,n=V([]),d=[{title:"我的应用",iconDark:"/static/svg/collectionDark-5ab4a769.svg",iconLight:"/static/svg/collectionLight-042267a8.svg",id:0},{title:"应用分类",iconDark:"/static/svg/appDark-b0593e91.svg",iconLight:"/static/svg/appLight-b45260b9.svg",id:1},{title:"应用推荐",iconDark:"/static/svg/agreeDark-7aaeaf06.svg",iconLight:"/static/svg/agreeLight-bb49b159.svg",id:2},{title:"受欢迎的",iconDark:"/static/svg/hotDark-74c3d3ca.svg",iconLight:"/static/svg/hotLight-c684e1b8.svg",id:3},{title:"最新发布",iconDark:"/static/svg/newDark-3402b3b4.svg",iconLight:"/static/svg/newLight-fa9325fc.svg",id:4},{title:"创建应用",iconDark:"/static/svg/createDark-cc026f1b.svg",iconLight:"/static/svg/createLight-4ff1023e.svg",id:6}],c=[{title:"我收藏的",id:0},{title:"我创建的",id:1}],r=V([]),u=V(1),p=V(0);function v(e){let t={groupId:e,modelId:"",modelName:0,page:u.value,size:20};ue(t).then((e=>{r.value=e.data.rows}))}function g(e){u.value=1,p.value=e,v(e)}v(p.value),te((()=>async function(){const e=await re({page:1,size:50,status:1});n.value=e.data.rows,console.log(e)}()));const h=V(1),m=V([]);function y(e){let t={appId:e.id};ge(t).then((t=>{l.success(t.data),0!=m.value.length?m.value=m.value.filter((t=>t.id!=e.id)):r.value.forEach((t=>{t.id==e.id&&(t.collected=!t.collected)}))}))}const x=V(),f=V(!1);function k(e){f.value=!0,x.value=e}function B(){f.value=!1,o("openApp",x.value)}const I=V("");function F(e){if(I.value&&"Enter"===e.key){e.preventDefault();let t={groupId:0,modelId:"",modelName:I.value,page:0,size:0};ue(t).then((e=>{I.value="",p.value=0,h.value=1,r.value=e.data.rows}))}}function E(){if(I.value){let e={groupId:0,modelId:"",modelName:I.value,page:0,size:0};ue(e).then((e=>{p.value=0,h.value=1,r.value=e.data.rows}))}}function D(){if(1==h.value){u.value++;let e={groupId:p.value,modelId:"",modelName:0,page:u.value,size:20};ue(e).then((e=>{20*u.value>=e.data.count?l.error("没有更多数据了"):r.value=[...r.value,...e.data.rows]}))}}return(e,t)=>(L(),S("div",sa,[f.value?(L(),S("div",oa)):N("",!0),f.value?(L(),S("div",na,[T("div",{class:"modalTop",style:{cursor:"pointer"},onClick:t[0]||(t[0]=e=>f.value=!1)},da),T("div",ca,[T("img",{style:{width:"86px",height:"86px","border-radius":"12px"},src:x.value.logo,alt:""},null,8,ra)]),T("div",ua,[T("p",pa,R(x.value.modelName),1),T("p",va,"创建时间 : "+R(x.value.createdAt.split("T")[0]),1),T("p",ga,R(x.value.desc),1)]),T("div",ha,[T("div",ma,[T("div",ya,[xa,T("p",fa,R(x.value.collectCount),1)]),ka]),ba,T("div",Aa,[T("p",Ca,R(x.value.useCount),1),wa])]),x.value.demoData?(L(),S("div",Ba,[Ia,T("div",Fa,[(L(!0),S(H,null,J(x.value.demoData.split("\n"),(e=>(L(),S("div",Ea,[T("p",null,R(e),1)])))),256))])])):N("",!0),T("div",{style:{display:"flex",padding:"12px"}},[T("div",{onClick:B,style:{display:"flex",width:"100%",padding:"12px 16px","justify-content":"center","border-radius":"12px",cursor:"pointer"},class:"dark:bg-[#222325] bg-[#F0F0F0]"},La)])])):N("",!0),T("div",Sa,[Ta,T("div",Da,[ja,W(T("input",{onInput:E,onKeydown:F,"onUpdate:modelValue":t[1]||(t[1]=e=>I.value=e),type:"text",style:{flex:"1","margin-left":"8px","background-color":"transparent"},placeholder:"搜索应用名称、快速查找应用..."},null,544),[[q,I.value]])]),T("div",Na,[T("div",Ra,[(L(),S(H,null,J(d,(e=>T("div",{class:Z(["cursor",[s.value?"firstClassItem":"firstClassItem1",h.value==e.id?"dark:bg-[#222325] bg-[#F0F0F0]":""]]),key:e.id,onClick:t=>function(e){h.value=e.id,0==e.id?pe().then((e=>{m.value=e.data.rows})):1==e.id?(v(0),m.value=[]):2==e.id?(m.value=[],ve({type:"recommend"}).then((e=>{r.value=e.data}))):3==e.id?(m.value=[],ve({type:"popular"}).then((e=>{r.value=e.data}))):4==e.id||5==e.id?(m.value=[],ve({type:"latest"}).then((e=>{r.value=e.data}))):6==e.id&&a.updateCreateAppDialog(!0)}(e)},[s.value?(L(),S("img",{key:0,src:e.iconDark,alt:""},null,8,za)):(L(),S("img",{key:1,src:e.iconLight,alt:""},null,8,Ha)),T("p",Ja,R(e.title),1)],10,Ua))),64))]),0==h.value?(L(),S("div",Oa,[T("div",Ya,[(L(),S(H,null,J(c,(e=>T("div",{class:Z(["secondClassItem1 cursor",p.value==e.id?"bg-[#10A37F] dark:bg-[#10A37F] text-[#fff]":"dark:bg-[#222325] bg-[#F0F0F0]"]),key:e.id,onClick:t=>function(e){p.value=e.id,0==e.id?pe().then((e=>{m.value=e.data.rows})):1==e.id&&ve({type:"mine"}).then((e=>{m.value=e.data}))}(e)},[T("p",null,R(e.title),1)],10,Ma))),64))]),U(Hl,{type:"我的收藏",onHandleChat:k,appList:m.value,onHandlecollection:y},null,8,["appList"])])):N("",!0),1==h.value?(L(),S("div",Qa,[T("div",Ka,[T("div",{class:Z(["secondClassItem cursor",0==p.value?"bg-[#10A37F] dark:bg-[#10A37F] text-[#fff]":"dark:bg-[#222325] bg-[#F0F0F0]"]),onClick:t[2]||(t[2]=e=>g(0))},Va,2),(L(!0),S(H,null,J(n.value,(e=>(L(),S("div",{class:Z(["secondClassItem cursor",p.value==e.id?"bg-[#10A37F] dark:bg-[#10A37F] text-[#fff]":"dark:bg-[#222325] bg-[#F0F0F0]"]),key:e.id,onClick:t=>g(e.id)},[T("p",null,R(e.groupName),1)],10,Pa)))),128))]),U(Hl,{onHandleMore:D,type:"应用分类",onHandleChat:k,appList:r.value,onHandlecollection:y},null,8,["appList"])])):N("",!0),2==h.value?(L(),S("div",Xa,[U(Hl,{onHandleMore:D,onHandleChat:k,appList:r.value,onHandlecollection:y},null,8,["appList"])])):N("",!0),3==h.value?(L(),S("div",Wa,[U(Hl,{onHandleMore:D,onHandleChat:k,appList:r.value,onHandlecollection:y},null,8,["appList"])])):N("",!0),4==h.value?(L(),S("div",qa,[U(Hl,{onHandleMore:D,onHandleChat:k,appList:r.value,onHandlecollection:y},null,8,["appList"])])):N("",!0),5==h.value?(L(),S("div",Za,[U(aa,{onHandleMore:D,onHandleChat:k,appList:r.value,onHandlecollection:y},null,8,["appList"])])):N("",!0),6==h.value?(L(),S("div",Ga)):N("",!0)])])]))}}),[["__scopeId","data-v-a2a50af6"]]),$a=e=>(_("data-v-33b360d5"),e=e(),$(),e),ei={class:"dark:bg-[#19191B] bg-[#F8F9F9]",style:{width:"466px",height:"394px","border-radius":"24px"}},ti={style:{display:"flex","justify-content":"space-between",padding:"16px"}},li=$a((()=>T("p",{style:{"font-size":"17px","font-weight":"bold"}},"客服",-1))),ai={style:{flex:"1",display:"flex","justify-content":"center",height:"calc(100% - 56px)","align-items":"center","padding-bottom":"24px"}},ii={style:{padding:"24px 24px 12px 24px","border-radius":"12px","background-color":"#fff",border:"1px solid #e8e8e8","text-align":"center"}},si=["src"],oi=$a((()=>T("p",{style:{color:"#8b8c8c","margin-top":"12px"}}," 请使用微信扫描上方二维码 ",-1))),ni={style:{display:"flex","flex-direction":"column",height:"100vh",position:"relative",overflow:"hidden"}},di={style:{display:"flex","justify-content":"center","margin-top":"24px",position:"absolute",bottom:"80px",width:"100%","z-index":"100"}},ci={style:{color:"#eeeeee"},class:"end"},ri={style:{display:"flex",color:"rgba(142, 145, 166, 0.3)","font-size":"13px",cursor:"default"},class:"text-[#8B8C8C] dark:text-[#6C6E79]"},ui={key:0,style:{display:"flex","margin-left":"8px"}},pi=["href"],vi={key:1,style:{display:"flex","margin-left":"8px"}},gi=["href"],hi={id:"fixedBox",class:"fixedBox"},mi=[$a((()=>T("img",{src:u,alt:""},null,-1)))],yi=[$a((()=>T("img",{src:p,alt:""},null,-1)))],xi=["onClick"],fi=["src"],ki={style:{"margin-left":"8px","margin-top":"3px"}},bi=ee(k({__name:"chatBase",setup(u){const p=I();he();const h=b(),m=K();let k=new AbortController;const j=V(""),O=V(""),Y=V(""),Q=V(""),W=V("");Ie({keys:["copyrightTitle","icpNumber","policeFilingNumber","icpUrl","policeFilingUrl"]}).then((e=>{j.value=e.data.copyrightTitle,O.value=e.data.icpNumber,Y.value=e.data.policeFilingNumber,Q.value=e.data.icpUrl,W.value=e.data.policeFilingUrl}));const q=A(),G=w(),_=B(),$=V(!0);V(0),y();const ee=C((()=>m.query.appId));!function(){function e(){document.querySelectorAll(".code-block-wrapper").forEach((e=>{const t=e.querySelector(".code-block-header__copy"),l=e.querySelector(".code-block-body");t&&l&&t.addEventListener("click",(()=>{var e;(null==(e=navigator.clipboard)?void 0:e.writeText)?navigator.clipboard.writeText(l.textContent??""):Re({text:l.textContent??"",origin:!0})}))}))}te((()=>e())),le((()=>e()))}();const{isMobile:ae}=F(),{scrollRef:se,scrollToBottom:oe,scrollToBottomIfAtBottom:ne}=function(){const e=V(null);return{scrollRef:e,scrollToBottom:async()=>{await M(),e.value&&(e.value.scrollTop=e.value.scrollHeight)},scrollToTop:async()=>{await M(),e.value&&(e.value.scrollTop=0)},scrollToBottomIfAtBottom:async()=>{if(await M(),e.value){const t=150;e.value.scrollHeight-e.value.scrollTop-e.value.clientHeight<=t&&(e.value.scrollTop=e.value.scrollHeight)}}}}(),{usingContext:de,toggleUsingContext:re}=g();x();const ue=C((()=>_.chatList));C((()=>_.canUpload)),C((()=>_.canAudio));const pe=C((()=>h.isLogin));Ne(),C((()=>ue.value.filter((e=>!e.inversion&&!e.error))));const ve=V(""),ge=V(!1),Be=V(null),Le=V(!0);V("");const Se=C((()=>_.active)),Te=C((()=>_.groupList.find((e=>e.uuid===Se.value))));C((()=>_.groupList)),C((()=>Number(null==_?void 0:_.activeModelKeyType))),C((()=>ge.value||!ve.value||""===ve.value.trim()||!$.value)),P(Se,(e=>{var t;e&&(Le.value=!0),Be.value&&!ae.value&&(null==(t=Be.value)||t.focus())}),{immediate:!0}),P(ue,(e=>{0!==e.length&&Le.value&&(Le.value=!1,oe())}),{immediate:!0});const je=V("");function Ue(e){e&&(je.value="")}async function ze(e){if(pe.value){if(0!==_.groupList.length&&!ge.value&&$.value){if(e&&"number"==typeof e){const{requestOptions:t}=ue.value[e];null==t||t.prompt}je.value=ve.value}}else h.setLoginDialog(!0)}P(pe,((e,t)=>{e&&X.emit("DataListFn",e)})),C((()=>{if(!_.activeConfig)return;const{modelInfo:e}=_.activeConfig;return e?`${e.modelName}`:void 0})),te((async()=>{X.emit("onConversation"),X.emit("aboutIsShow"),ee.value&&await async function(e){const t=+e;await fe.replace({name:"Chat",query:{}});const l=_.groupList.find((e=>e.appId===t));l?await _.setActiveGroup(l.uuid):(await _.addNewChatGroup(t),await _.queryMyGroup()),ve.value&&handlePrompt(ve.value)}(Number(ee.value)),await M((async()=>{var e;await _.queryActiveChatLogList(),await _.queryMyGroup(),await oe(),Be.value&&!ae.value&&(null==(e=Be.value)||e.focus())}))}));const He=C((()=>"dark"===G.theme)),Je=C((()=>p.recordDialog));me((()=>{X.off("aboutIsShow"),X.off("onConversation"),ge.value&&k.abort()}));const Oe=C((()=>{if(ae.value)return["h-full"]})),Ye=C((()=>{})),Me=V();ye((()=>{xe().then((e=>{Me.value=e.data.modelMaps[1].filter((e=>1==e.canUpload))[0]}))}));const Qe=V(!1);function Ke(e){ve.value=e}X.on("chatLogList",(e=>{0==e.length?Qe.value=!1:Qe.value=!0})),X.on("haveLog",(e=>{Qe.value=e}));const Ve=V(!1);X.on("exploreApp",(e=>{Ve.value=e})),X.on("notData",(e=>{Qe.value=!1}));const Pe=V(!1),Xe=V("");var We=!0;const qe=V(null);function Ze(){(We=!We)?(qe.value.showRight(),document.getElementById("hideBtn").style.right="300px",document.getElementById("hideBtn").style.transform="rotateY(0deg)",document.getElementById("fixedBox").style.right="320px"):(qe.value.hideRight(),document.getElementById("hideBtn").style.right="10px",document.getElementById("hideBtn").style.transform="rotateY(180deg)",document.getElementById("fixedBox").style.right="30px")}const Ge=async()=>{Xe.value=await(async()=>await we({keys:["wechatImage"]}).then((e=>e.data)))(),Pe.value=!0},_e=[{title:"帮助与常见问题解答",id:0,iconDark:a,iconLight:i},{title:"条款与政策",id:1,iconDark:s,iconLight:o},{title:"反馈与建议",id:2,iconDark:n,iconLight:d},{title:"关于我们",id:3,iconDark:c,iconLight:r}],et=V(!1);function tt(){et.value=!et.value}X.emit("nowLocation",fe.options.history.location);const lt=V(0);function at(e){e&&lt.value++}const it=V([]),st=V();async function ot(e){X.emit("ExploreApp",e),st.value=e;(await Ae()).data.forEach((t=>{if(t.modelId==e.id){let e={groupId:t.id};ie(e).then((async e=>{localStorage.setItem("chatLogId",JSON.stringify(t)),0==e.data.length?Qe.value=!1:0!=e.data.length&&(Qe.value=!0,it.value=e.data),Ve.value=!1}))}}))}async function nt(){const e=await Ae();if(0==e.data.length)return;let t=e.data.filter((e=>e.id==Se.value));if(0!=t.length){let e=JSON.parse(t[0].config).modelInfo.modelType;if(t[0].gptsApp||"app"==e){let e={groupId:Se.value,type:"gpts"};Ce(e).then((e=>{X.emit("reOpenGpts",t[0])})).catch((e=>{q.error(e.message)}))}}else{console.log("普通对话");let e={groupId:Se.value};Ce(e).then((e=>{X.emit("reOpenChar",Te.value)})).catch((e=>{q.error(e.message)}))}}const dt=V();function ct(e){console.log("改变了"),dt.value=JSON.parse(e)}return(a,i)=>(L(),S(H,null,[U(E(ke),{show:Pe.value,"onUpdate:show":i[2]||(i[2]=e=>Pe.value=e)},{default:z((()=>[T("div",ei,[T("div",ti,[li,He.value?(L(),S("img",{key:0,src:e,style:{cursor:"pointer"},alt:"",onClick:i[0]||(i[0]=e=>Pe.value=!1)})):(L(),S("img",{key:1,src:t,style:{cursor:"pointer"},alt:"",onClick:i[1]||(i[1]=e=>Pe.value=!1)}))]),T("div",ai,[T("div",ii,[T("img",{src:Xe.value,alt:"",style:{width:"200px",height:"200px"}},null,8,si),oi])])])])),_:1},8,["show"]),U(l),T("div",{class:Z(["chat_card flex w-full flex-col bg-[#F8F9F9] dark:bg-[#1B1C22]",Oe.value]),style:ce(Ye.value)},[U(Fe,{visible:Je.value,onSubmit:a.handleUploadFile},null,8,["visible","onSubmit"]),U($e,{"using-context":E(de),"dark-mode":He.value,onExport:a.handleExport,onToggleUsingContext:E(re),onClear:a.handleClear},null,8,["using-context","dark-mode","onExport","onToggleUsingContext","onClear"]),U(Ee),T("div",ni,[U(wl,{modelTypeValue:dt.value},null,8,["modelTypeValue"]),pe.value&&Qe.value||Ve.value?N("",!0):(L(),D(De,{key:0,appItem:st.value},null,8,["appItem"])),pe.value&&!Ve.value?(L(),D(f,{key:1,onIsSuccess:Ue,handleSubmit:je.value,appItem:st.value,chatLogList:0==it.value.length?[]:it.value,onChangeChatLog:at},null,8,["handleSubmit","appItem","chatLogList"])):N("",!0),Ve.value?(L(),D(_a,{key:2,onOpenApp:ot})):N("",!0),Ve.value?N("",!0):(L(),D(bt,{key:3,onHandleClear:nt,changeChatLog:lt.value,onHandleSend:ze,onHandleInp:Ke},null,8,["changeChatLog"])),T("div",di,[T("div",ci,[T("div",ri,[be(" 版权所有 © "+R(j.value)+" ",1),O.value?(L(),S("div",ui,[T("a",{href:Q.value||"#"},R(O.value),9,pi)])):N("",!0),Y.value?(L(),S("div",vi,[T("a",{href:W.value||"#"},R(Y.value),9,gi)])):N("",!0)])])]),T("img",{id:"hideBtn",class:"hide",src:v,alt:"",onClick:Ze}),T("div",hi,[T("div",{class:"fixedIcon border border-[#E8E8E8] dark:border-[#2C2D31]",onClick:Ge},mi),T("div",{class:"fixedIcon border border-[#E8E8E8] dark:border-[#2C2D31]",onClick:tt,style:{"margin-top":"12px"}},yi),et.value?(L(),S("div",{key:0,class:Z(He.value?"helpBoxD":"helpBoxL")},[(L(),S(H,null,J(_e,(e=>T("div",{class:Z(He.value?"hlepItemD":"hlepItemL"),key:e.id,style:{display:"flex","align-items":"center"},onClick:t=>function(e){0==e.id?et.value=!1:1==e.id?(window.open("/policy","_blank"),et.value=!1):2==e.id?(p.updateFeedbackDialog(!0),et.value=!1):3==e.id&&(X.emit("aboutIsShow",!0),et.value=!1)}(e)},[T("img",{src:He.value?e.iconDark:e.iconLight,alt:""},null,8,fi),T("div",ki,R(e.title),1)],10,xi))),64))],2)):N("",!0)])])],6),U(ol,{onModelType:ct,ref_key:"right",ref:qe},null,512)],64))}}),[["__scopeId","data-v-33b360d5"]]),Ai={class:"h-full dark:bg-[#010102] bg-[#F8F9F9] transition-all"},Ci=ee(k({__name:"chat",setup(e){const t=w(),l=B(),a=b(),{isMobile:i}=F(),s=C((()=>a.isLogin));C((()=>t.siderCollapsed)),P(s,(async(e,t)=>{e&&!t&&await l.queryMyGroup()}));const o=C((()=>i.value?["rounded-none","shadow-none"]:["rounded-md","shadow-md","dark:border-neutral-800"]));return(e,t)=>(L(),S("div",Ai,[T("div",{class:Z(["h-full overflow-hidden",o.value])},[U(E(Be),{style:{"background-color":"transparent"},class:"dark:bg-[#010102] bg-[#F8F9F9] z-40 transition w-full h-full","has-sider":!0,"sider-placement":"left"},{default:z((()=>[U(bi)])),_:1})],2)]))}}),[["__scopeId","data-v-0f21ad6f"]]);export{Ci as default};
