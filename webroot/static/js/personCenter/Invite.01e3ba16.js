import{e,p as a,bV as t,k as s,ar as i,g as n,r,Z as l,L as o,q as c,K as u,dO as d,h as p,bA as v,aD as g,w as f,x,B as y,z as m,C as h,D as I,y as k,aJ as w,dj as z,dQ as F,$,_ as b}from"../main-4156cf5e.js";const C={class:"personCenterInvite"},S={class:"topBox"},L={class:"flexBox"},E={class:"fItem"},_={class:"fItem"},A={class:"fItem"},B={class:"fItem"},Y={class:"fItem"},q={class:"fItem"},D={class:"dark:bg-[#111113] bg-[#FFF] dark:text-[#6C6E79] text-[#8B8C8C] text-[15px]",style:{margin:"28px 0 20px"}},P=b(e({__name:"Invite",setup(e){a();const b=a();t();const P=s();i(),n((()=>P.userInfo)),n((()=>P.userInfo.vipLeavelId)),n((()=>P.vipLeavel));const T=n((()=>P.userInfo));console.log("user",T.value),r(!1),r(""),r(""),r(""),l(),n((()=>P.userInfo.avatar));const V=n((()=>P.userInfo.inviteCode)),j=n((()=>window.location.href+"?inVitecode="+V.value));n((()=>1===P.userInfo.lifetimeVip||P.userInfo.vipExpire&&new Date(P.userInfo.vipExpire)>new Date));const U=n((()=>P.isLogin));async function J(){if(!V.value)return b.error($("setting.yaoText1"));const e=`${window.location.href}?inVitecode=${V.value}`;try{navigator.clipboard.writeText(e).then((()=>{b.success($("setting.yaoLinkText1"))})).catch((e=>{b.error($("setting.copyErro"),e)}))}catch(a){b.error($("setting.yaoLinkText2"))}}o(U,(e=>{})),c((()=>{Q()}));const K=r(!1),N=r([]),O=u({page:1,pageSize:10,showSizePicker:!0,pageSizes:[10,20,50],onChange:e=>{O.page=e,Q()},onUpdatePageSize:e=>{O.pageSize=e,O.page=1,Q()}});async function Q(){try{K.value=!0,N.value=await d({page:O.page,size:O.pageSize}).then((e=>e.data.rows)),K.value=!1}catch(e){K.value=!1}}const Z=n((()=>[{title:"头像",key:"avatar",render:e=>p(v,{src:e.avatar,size:48,round:!0,lazy:!0})},{title:"用户名称",key:"username"},{title:"用户邮箱",key:"email"},{title:"受邀人状态",key:"status",render:e=>p(g,{type:1===e.status?"primary":"error",size:"small",round:!0,quaternary:!0},{default:()=>1===e.status?"已认证":"未激活"})},{title:"邀请时间",key:"createdAt",render:e=>p("p",{},{default:()=>e.createdAt})},{title:"获得奖励状态",key:"status",render:e=>p(g,{type:1===e.status?"success":"warning",size:"small",round:!0,quaternary:!0},{default:()=>1===e.status?"已领取邀请奖励":"等待受邀人确认"})}]));return(e,a)=>(f(),x("div",C,[y("div",S,[y("span",null,m(e.$t("setting.yaoqinPrice")),1),a[7]||(a[7]=y("div",{class:"price"},"￥500",-1)),y("div",L,[y("div",E,[y("span",null,m(e.$t("setting.myYaoCode")),1),a[1]||(a[1]=y("div",{class:"price"},"80890A",-1))]),y("div",_,[y("span",null,m(e.$t("setting.YaoNum")),1),a[2]||(a[2]=y("div",{class:"price"},"25",-1))]),y("div",A,[y("span",null,m(e.$t("setting.YaoShouyi")),1),a[3]||(a[3]=y("div",{class:"price"},"500",-1))]),y("div",B,[y("span",null,m(e.$t("setting.dayShouyi")),1),a[4]||(a[4]=y("div",{class:"price"},"168",-1))]),y("div",Y,[y("span",null,m(e.$t("setting.accountYuE")),1),a[5]||(a[5]=y("div",{class:"price"},"168",-1))]),y("div",q,[y("span",null,m(e.$t("setting.tixianPrice")),1),a[6]||(a[6]=y("div",{class:"price"},"1680",-1))])])]),y("div",D,[h(k(z),null,{default:I((()=>[h(k(w),{disabled:!0,value:j.value,"onUpdate:value":a[0]||(a[0]=e=>j.value=e),placeholder:e.$t("setting.inputCode"),style:{"border-radius":"8px 0 0 8px","line-height":"50px","background-color":"#fff"}},null,8,["value","placeholder"]),y("div",{style:{height:"50px","line-height":"50px",background:"linear-gradient(90deg, #574FFE 0%, #726AFB 100%)","font-size":"18px","font-weight":"500","border-radius":"0px 8px 8px 0px",padding:"1px 10px",cursor:"pointer","margin-left":"5px",color:"#FFFFFF"},onClick:J},m(e.$t("setting.copyYaoLink")),1)])),_:1})]),h(k(F),{loading:K.value,remote:!0,"pagination-behavior-on-filter":"first",class:"min-h-[470px]",columns:Z.value,data:N.value,pagination:O,"scroll-x":500},null,8,["loading","columns","data","pagination"])]))}}),[["__scopeId","data-v-da6f6aaf"]]);export{P as default};
