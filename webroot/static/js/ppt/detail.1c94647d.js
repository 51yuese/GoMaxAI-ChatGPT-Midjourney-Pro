import{e,o as a,K as l,r as s,I as t,p as n,aF as o,v as i,w as u,A as c,B as d,C as r,x as p,z as v,F as f,D as m,H as w,y as g,bq as h,_ as y}from"../main-da83e417.js";import{g as b}from"./ppt.68f8a116.js";const x={class:"flex w-full h-[calc(100vh - 50px)]"},k=["onClick"],j=["src","alt"],C={key:0,class:"flex justify-center items-center w-[calc(100% - 200px)] flex-1"},R=["src","alt"],_=y(e({__name:"detail",setup(e){const y=a(),_=l().params.id,q=s({}),L=s(!1);t.on("ppt-download",(()=>{!function(){L.value&&y.warning("正在下载中，请稍后");L.value=!0,E.value=y.loading("正在下载中，请稍后",{duration:0});const e=new XMLHttpRequest;e.open("get",q.value.pdfDownUrl,!0),e.setRequestHeader("Content-Type","application/pdf"),e.responseType="blob",e.onload=function(){if(200===this.status){!function(e,a,l){const s=document.createElement("a"),t=window.URL.createObjectURL(e);s.href=t,s.download=`${a}.${l}`,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(t)}(this.response,q.value.title,"pdf"),E.value.destroy()}L.value=!1},e.send()}()})),n((()=>{!async function(){const{data:e}=await b({id:_});q.value=e,U.value=e.images[0]}()})),o((()=>{t.off("ppt-download")}));const U=s({});const E=s(null);return(e,a)=>{var l;return i(),u("div",null,[c("div",x,[d(p(h),{style:{width:"200px",height:"calc(100vh - 50px)",padding:"20px"}},{default:r((()=>{var e;return[(i(!0),u(f,null,m(null==(e=q.value)?void 0:e.images,((e,a)=>(i(),u("div",{key:a,class:"mb-2 flex justify-between items-center cursor-pointer",onClick:a=>U.value=e},[c("div",{style:{color:"#9E9E9E","font-size":"16px"},class:w(e.url===U.value.url?"font-black":"")},g(a<9?`0${a+1}`:a+1),3),c("img",{src:`${e.url}?imageView2/0/w/120/q/85&format=webp&quality=lossless&width=120&height=70`,class:"small-img",alt:e.title},null,8,j)],8,k)))),128))]})),_:1}),(null==(l=U.value)?void 0:l.url)?(i(),u("div",C,[c("img",{src:U.value.url,alt:U.value.title,class:"big-img"},null,8,R)])):v("",!0)])])}}}),[["__scopeId","data-v-3fd183dd"]]);export{_ as default};
