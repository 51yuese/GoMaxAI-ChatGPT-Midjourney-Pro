import{e,w as a,x as t,ak as s,k as l,p as o,r as n,q as r,C as i,D as c,B as u,y as d,aI as p,F as v,E as f,z as m,_ as g,l as k,ab as h,g as A,O as w,a1 as x,bG as I,bH as C,a3 as y,bJ as Q,A as K,N as b,a0 as M,am as q,bc as G}from"../main-bf8e7d49.js";import{f as U,p as D,e as T,a as P}from"./ppt.d221cd1f.js";import{C as X}from"../creator_catalogs/creator_catalogs.166ce69b.js";import{N as B}from"../text/text.a53de645.js";import{N as F}from"../p/p.0300e5ff.js";const J={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},S=[s('<path d="M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208s208-93.13 208-208S370.87 48 256 48z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"></path><path d="M256 48c-58.07 0-112.67 93.13-112.67 208S197.93 464 256 464s112.67-93.13 112.67-208S314.07 48 256 48z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"></path><path d="M117.33 117.33c38.24 27.15 86.38 43.34 138.67 43.34s100.43-16.19 138.67-43.34" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path d="M394.67 394.67c-38.24-27.15-86.38-43.34-138.67-43.34s-100.43 16.19-138.67 43.34" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32" d="M256 48v416"></path><path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32" d="M464 256H48"></path>',6)],Z=e({name:"GlobeOutline",render:function(e,s){return a(),t("svg",J,S)}}),z={style:{padding:"46px","box-sizing":"border-box"}},E={class:"keyword gap-3.5"},V=["onClick"],j=g(e({__name:"creator_subject",setup(e){const s=l(),g=o(),k=n(),h=n(""),A=n([]);function w(){if(!s.isLogin)return s.setLoginDialog(!0);h.value?k.value.open(h.value):g.warning("输入您想要的PPT主题，就可以开始智能生成啦~")}return r((()=>{!async function(){const{data:e}=await U({code:"PPTRec"});A.value=e.recList}()})),(e,l)=>(a(),t("div",z,[i(d(p),{value:h.value,"onUpdate:value":l[0]||(l[0]=e=>h.value=e),placeholder:"输入您想要的PPT主题，就可以开始智能生成啦~"},{suffix:c((()=>[u("div",{class:"input-box-btn",onClick:w}," 智能生成 ")])),_:1},8,["value"]),u("div",E,[(a(!0),t(v,null,f(A.value,(e=>(a(),t("div",{onClick:a=>function(e){if(!s.isLogin)return s.setLoginDialog(!0);k.value.open(e)}(e.title)},m(e.title),9,V)))),256))]),i(X,{ref_key:"catalogsRef",ref:k},null,512)]))}}),[["__scopeId","data-v-f01554a9"]]),H={class:"upload"},N={key:1,class:"textarea-box"},R={key:2,class:"mb-3 text-[#cccccc]"},L={key:3,class:"url-box"},Y=g(e({__name:"creator_upload",setup(e){const s=l(),v=k(),f=h(),m=o(),g=n(),G=n(),U=n(!1),J=n(~~f.query.mode||1),S=n(""),z=n(""),E=n("/api/file/upload2Local"),V=n([]);A((()=>V.value.find((e=>"pptOutline"===e.type)))),A((()=>V.value.find((e=>"pptCreate"===e.type))));const j={showFileList:!1,directoryDnd:!0,accept:".md, .doc, .docx, .pdf, .xmind, .html, .txt",customRequest:e=>{var a;if(U.value)return m.warning("PPT生成中，请稍后"),void(null==(a=G.value)||a.clear());!async function(e){U.value=!0;const a=new FormData;a.append("file",e.file),await q.post(E.value,a,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{S.value=e.data.data,async function(){await T({fileUrl:S.value}).catch((()=>{U.value=!1})),U.value=!1,v.push("/ppt/my")}()})).catch((()=>{U.value=!1,m.error("上传失败")}))}(e.file)}};function Y(e){S.value="",J.value=e}async function O(){if(!s.isLogin)return s.setLoginDialog(!0);if(U.value)return m.error("正在生成大纲，请稍后");U.value=!0;const e=await P({text:z.value}).catch((()=>{U.value=!1,m.error(e.message||"生成失败")}));W(),200===e.code?v.push("/ppt/my"):m.error(e.message)}async function W(){const{data:e}=await D();V.value=e,s.getUserInfo()}return r((()=>{W()})),(e,s)=>(a(),w(d(M),{show:U.value,style:{padding:"24px","box-sizing":"border-box"}},{description:c((()=>s[4]||(s[4]=[u("span",{class:"font-bold"},"生成中...",-1)]))),default:c((()=>[u("div",H,[u("div",{class:x([1===J.value?"active":"","upload-btn"]),onClick:s[0]||(s[0]=e=>Y(1))}," 上传文件 ",2),u("div",{class:x([2===J.value?"active":"","upload-btn"]),onClick:s[1]||(s[1]=e=>Y(2))}," 自由输入 ",2)]),1===J.value?(a(),w(d(I),C({key:0},j,{ref_key:"draggerUploadRef",ref:G}),{default:c((()=>[i(d(Q),null,{default:c((()=>[s[7]||(s[7]=u("div",{class:"flex justify-center",style:{"margin-bottom":"15px"}},[u("img",{src:"data:image/png;base64,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",alt:"",style:{width:"50px",height:"60px"}})],-1)),i(d(B),{style:{"font-size":"16px",color:"#1A1A1A"}},{default:c((()=>s[5]||(s[5]=[y(" 文件支持 MarkDown、Word、PDF、XMind、HTML、FreeMind、TXT格式 ")]))),_:1,__:[5]}),i(d(F),{depth:"3",style:{margin:"8px 0 0 0",color:"#767676","font-size":"12px"}},{default:c((()=>s[6]||(s[6]=[y(" 文档限制最大5M;建议字数在4500字以内,字数过多以及包含图片、表格等情况，都会影响生成效果 ")]))),_:1,__:[6]})])),_:1,__:[7]})])),_:1},16)):K("",!0),2===J.value?(a(),t("div",N,[i(d(p),{value:z.value,"onUpdate:value":s[2]||(s[2]=e=>z.value=e),type:"textarea",maxlength:1e3,"show-count":"",class:"h-[300px]",placeholder:"请将您的 markdown 大纲粘贴在此处，参考格式如下:\n# PPT标题\n## 章节标题\n### 内容页标题\n-正文内容\n- 正文内容\n### 内容页标题\n-正文内容\n- 正文内容\n......\n"},{suffix:c((()=>[u("div",{class:"upload-btn active absolute bottom-2 right-2",onClick:O}," 立即生成 ")])),_:1},8,["value"])])):K("",!0),3===J.value?(a(),t("div",R," 注意:网页必须公开，不需要授权或Cookie。同时，只有网页中的文本才会用于内容生成。 ")):K("",!0),3===J.value?(a(),t("div",L,[i(d(p),{value:S.value,"onUpdate:value":s[3]||(s[3]=e=>S.value=e),size:"large",round:""},{prefix:c((()=>[i(d(b),{component:d(Z),size:"32px"},null,8,["component"])])),_:1},8,["value"]),s[8]||(s[8]=u("div",{class:"upload-btn active"}," 立即生成 ",-1))])):K("",!0),i(X,{ref_key:"catalogsRef",ref:g},null,512)])),_:1},8,["show"]))}}),[["__scopeId","data-v-7a382887"]]),O={class:"page-creator"},W={class:"page-creator-content"},_={class:"input-box"},$=g(e({__name:"creator",setup(e){G((e=>({"8a86c898":o.value,"8a86c896":r.value})));const s=h(),l=n(~~s.query.type||1),o=A((()=>1===l.value?2:1)),r=A((()=>2===l.value?2:1));return(e,s)=>(a(),t("div",O,[s[2]||(s[2]=u("div",{class:"page-creator-title"}," AI一键生成PPT ",-1)),s[3]||(s[3]=u("div",{class:"page-creator-desc"}," 自定义主题，可选风格，轻松制作出令人惊艳的演示文档输入你的内容主题，让AI为你一键生成PPT方案 ",-1)),u("div",W,[u("div",{class:x(["page-creator-content-subject",1===l.value?"active":""]),onClick:s[0]||(s[0]=e=>l.value=1)}," 输入PPT主题 ",2),u("div",{class:x(["page-creator-content-update",2===l.value?"active":""]),onClick:s[1]||(s[1]=e=>l.value=2)}," 导入内容（Word、txt、文本等） ",2),u("div",_,[1===l.value?(a(),w(j,{key:0})):K("",!0),2===l.value?(a(),w(Y,{key:1})):K("",!0)])])]))}}),[["__scopeId","data-v-468ff64a"]]);export{$ as default};
