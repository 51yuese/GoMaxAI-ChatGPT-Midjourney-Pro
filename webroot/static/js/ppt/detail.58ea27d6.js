import{e as a,W as e,aM as l,r as s,ac as t,k as n,af as o,O as i,P as c,a1 as d,a2 as u,a5 as r,a0 as p,N as v,a3 as f,a4 as m,a8 as w,$ as g,bc as h,ad as y}from"../main-79c61161.js";import{d as b}from"./ppt.4ecfe3f1.js";const x={class:"flex w-full h-[calc(100vh - 50px)]"},k=["onClick"],j=["src","alt"],R={key:0,class:"flex justify-center items-center w-[calc(100% - 200px)] flex-1"},C=["src","alt"],L=y(a({__name:"detail",setup(a){const y=e(),L=l().params.id,U=s({}),$=s(!1);t.on("ppt-download",(()=>{!function(){$.value&&y.warning("正在下载中，请稍后");$.value=!0,q.value=y.loading("正在下载中，请稍后",{duration:0});const a=new XMLHttpRequest;a.open("get",U.value.pdfDownUrl,!0),a.setRequestHeader("Content-Type","application/pdf"),a.responseType="blob",a.onload=function(){if(200===this.status){!function(a,e,l){const s=document.createElement("a"),t=window.URL.createObjectURL(a);s.href=t,s.download=`${e}.${l}`,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(t)}(this.response,U.value.title,"pdf"),q.value.destroy()}$.value=!1},a.send()}()})),n((()=>{!async function(){const{data:a}=await b({id:L});U.value=a,_.value=a.images[0]}()})),o((()=>{t.off("ppt-download")}));const _=s({});const q=s(null);return(a,e)=>{var l;return v(),i("div",null,[c("div",x,[d(r(h),{style:{width:"200px",height:"calc(100vh - 50px)",padding:"20px"}},{default:u((()=>{var a;return[(v(!0),i(f,null,m(null==(a=U.value)?void 0:a.images,((a,e)=>(v(),i("div",{key:e,class:"mb-2 flex justify-between items-center cursor-pointer",onClick:e=>_.value=a},[c("div",{style:{color:"#9E9E9E","font-size":"16px"},class:w(a.url===_.value.url?"font-black":"")},g(e<9?`0${e+1}`:e+1),3),c("img",{src:`${a.url}?imageView2/0/w/120/q/85&format=webp&quality=lossless&width=120&height=70`,class:"small-img",alt:a.title},null,8,j)],8,k)))),128))]})),_:1}),(null==(l=_.value)?void 0:l.url)?(v(),i("div",R,[c("img",{src:_.value.url,alt:_.value.title,class:"big-img"},null,8,C)])):p("",!0)])])}}}),[["__scopeId","data-v-3fd183dd"]]);export{L as default};
