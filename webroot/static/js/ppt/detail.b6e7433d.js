import{e,k as a,g as l,p as s,ac as t,r as n,I as o,q as i,M as u,$ as d,w as c,x as r,B as p,C as v,D as m,F as f,E as w,a2 as g,z as h,y,bI as b,A as x,_ as k}from"../main-4156cf5e.js";import{g as C}from"./ppt.22762407.js";const j={class:"home-page bor30"},R={class:"flex w-full h-[calc(100vh - 50px)]"},$=["onClick"],_=["src","alt"],q={key:0,class:"flex justify-center items-center w-[calc(100% - 200px)] flex-1"},E=["src","alt"],I=k(e({__name:"detail",setup(e){const k=a(),I=l((()=>k.userInfo.id)),L=s(),U=t().params.id,D=n({}),M=n(!1);o.on("ppt-download",(()=>{O()})),i((()=>{!async function(){const{data:e}=await C({id:U});D.value=e,z.value=e.images[0]}(),o.emit("setSliderMenus")})),u((()=>{o.off("ppt-download")}));const z=n({});const H=n(null);function O(){M.value&&L.warning(d("ppt.DownloadingPwait")),M.value=!0,H.value=L.loading(d("ppt.DownloadingPwait"),{duration:0});const e=new XMLHttpRequest;e.open("get",D.value.pdfDownUrl,!0),e.setRequestHeader("Content-Type","application/pdf"),e.responseType="blob",e.onload=function(){if(200===this.status){!function(e,a,l){const s=document.createElement("a"),t=window.URL.createObjectURL(e);s.href=t,s.download=`${a}.${l}`,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(t)}(this.response,D.value.title,"pdf"),H.value.destroy()}M.value=!1},e.send()}return(e,a)=>{var l,s;return c(),r("div",j,[p("div",R,[v(y(b),{style:{width:"200px",height:"calc(100vh - 50px)",padding:"20px"}},{default:m((()=>{var e;return[(c(!0),r(f,null,w(null==(e=D.value)?void 0:e.images,((e,a)=>(c(),r("div",{key:a,class:"mb-2 flex justify-between items-center cursor-pointer",onClick:a=>z.value=e},[p("div",{style:{color:"#9E9E9E","font-size":"16px"},class:g(e.url===z.value.url?"font-black":"")},h(a<9?`0${a+1}`:a+1),3),p("img",{src:`${e.url}?imageView2/0/w/120/q/85&format=webp&quality=lossless&width=120&height=70`,class:"small-img",alt:e.title},null,8,_)],8,$)))),128))]})),_:1}),(null==(l=z.value)?void 0:l.url)?(c(),r("div",q,[p("img",{src:z.value.url,alt:z.value.title,class:"big-img"},null,8,E)])):x("",!0)]),I.value==(null==(s=D.value)?void 0:s.userId)?(c(),r("div",{key:0,class:"export-btn",onClick:O},h(e.$t("ppt.import")),1)):x("",!0)])}}}),[["__scopeId","data-v-72106ed9"]]);export{I as default};
