import{e,k as a,g as l,p as s,ac as t,r as n,I as i,q as o,M as u,$ as d,w as c,x as r,B as p,C as v,D as m,F as f,E as w,a2 as g,z as h,y,bz as b,A as x,_ as k}from"../main-a0b53047.js";import{g as C}from"./ppt.f32a6456.js";const j={class:"home-page bor30"},R={class:"flex w-full h-[calc(100vh - 50px)]"},$=["onClick"],_=["src","alt"],q={key:0,class:"flex justify-center items-center w-[calc(100% - 200px)] flex-1"},E=["src","alt"],L=k(e({__name:"detail",setup(e){const k=a(),L=l((()=>k.userInfo.id)),U=s(),D=t().params.id,I=n({}),z=n(!1);i.on("ppt-download",(()=>{O()})),o((()=>{!async function(){const{data:e}=await C({id:D});I.value=e,M.value=e.images[0]}(),i.emit("setSliderMenus")})),u((()=>{i.off("ppt-download")}));const M=n({});const H=n(null);function O(){z.value&&U.warning(d("ppt.DownloadingPwait")),z.value=!0,H.value=U.loading(d("ppt.DownloadingPwait"),{duration:0});const e=new XMLHttpRequest;e.open("get",I.value.pdfDownUrl,!0),e.setRequestHeader("Content-Type","application/pdf"),e.responseType="blob",e.onload=function(){if(200===this.status){!function(e,a,l){const s=document.createElement("a"),t=window.URL.createObjectURL(e);s.href=t,s.download=`${a}.${l}`,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(t)}(this.response,I.value.title,"pdf"),H.value.destroy()}z.value=!1},e.send()}return(e,a)=>{var l,s;return c(),r("div",j,[p("div",R,[v(y(b),{style:{width:"200px",height:"calc(100vh - 50px)",padding:"20px"}},{default:m((()=>{var e;return[(c(!0),r(f,null,w(null==(e=I.value)?void 0:e.images,((e,a)=>(c(),r("div",{key:a,class:"mb-2 flex justify-between items-center cursor-pointer",onClick:a=>M.value=e},[p("div",{style:{color:"#9E9E9E","font-size":"16px"},class:g(e.url===M.value.url?"font-black":"")},h(a<9?`0${a+1}`:a+1),3),p("img",{src:`${e.url}?imageView2/0/w/120/q/85&format=webp&quality=lossless&width=120&height=70`,class:"small-img",alt:e.title},null,8,_)],8,$)))),128))]})),_:1}),(null==(l=M.value)?void 0:l.url)?(c(),r("div",q,[p("img",{src:M.value.url,alt:M.value.title,class:"big-img"},null,8,E)])):x("",!0)]),L.value==(null==(s=I.value)?void 0:s.userId)?(c(),r("div",{key:0,class:"export-btn",onClick:O},h(e.$t("ppt.import")),1)):x("",!0)])}}}),[["__scopeId","data-v-72106ed9"]]);export{L as default};
