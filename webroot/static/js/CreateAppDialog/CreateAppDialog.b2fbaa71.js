import{e,an as l,O as a,r as t,j as o,aX as u,Q as d,ac as s,a3 as r,S as i,R as p,a8 as v,a2 as n,bS as g,bn as b,bm as c,F as m,af as h,a4 as f,bT as k,bR as x,am as w,aR as A,ap as _,cB as y,cC as C,a_ as D,Y as F,Z as I,_ as M,$ as j}from"../main-f2e6132a.js";const N=e=>(I("data-v-587ddf32"),e=e(),M(),e),q={class:"add_app_Dialog"},V={class:"title"},H=N((()=>i("div",{style:{display:"flex","align-items":"center"}},[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[i("path",{d:"M6.7791 2.09329H3.73258C2.81211 2.09329 2.06592 2.83948 2.06592 3.75996V6.80648C2.06592 7.72695 2.81211 8.47314 3.73258 8.47314H6.7791C7.69958 8.47314 8.44577 7.72695 8.44577 6.80648V3.75996C8.44577 2.83948 7.69958 2.09329 6.7791 2.09329Z",stroke:"#10A37F","stroke-width":"1.67"}),i("path",{d:"M6.7791 11.3871H3.73258C2.81211 11.3871 2.06592 12.1333 2.06592 13.0538V16.1003C2.06592 17.0207 2.81211 17.7669 3.73258 17.7669H6.7791C7.69958 17.7669 8.44577 17.0207 8.44577 16.1003V13.0538C8.44577 12.1333 7.69958 11.3871 6.7791 11.3871Z",stroke:"#10A37F","stroke-width":"1.67"}),i("path",{d:"M16.1255 2.09329H13.079C12.1585 2.09329 11.4124 2.83948 11.4124 3.75996V6.80648C11.4124 7.72695 12.1585 8.47314 13.079 8.47314H16.1255C17.046 8.47314 17.7922 7.72695 17.7922 6.80648V3.75996C17.7922 2.83948 17.046 2.09329 16.1255 2.09329Z",stroke:"#10A37F","stroke-width":"1.67"}),i("path",{d:"M14.6023 11.7558V17.3982",stroke:"#10A37F","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"}),i("path",{d:"M17.4236 14.577L11.7812 14.577",stroke:"#10A37F","stroke-width":"1.67","stroke-linecap":"round","stroke-linejoin":"round"})]),i("div",{style:{"margin-left":"10px","font-size":"15px"}},"新增应用")],-1))),U=[N((()=>i("path",{d:"M5.83301 5.83334L14.1663 14.1667",stroke:"#A3A5A6","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"},null,-1))),N((()=>i("path",{d:"M5.83301 14.1667L14.1663 5.83334",stroke:"#A3A5A6","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)))],B={class:"add_main"},L={class:"item_form"},R={class:"item_form"},S={class:"item_form"},Z={class:"botton_card"},T=j(e({__name:"CreateAppDialog",setup(e){const I=l(),M=a();t(!1);const j=o((()=>M.createAppDialog));!async function(){const e=await u({status:1});e.data.rows.forEach((e=>{var l={label:"",value:""};l.label=e.groupName,l.value=e.id,N.value.push(l)}))}();const N=t([]),T=t([]),z=["jpg","jpeg","png"];t([{label:"是",value:"true"},{label:"否",value:"false"}]);const E=t({groupId:"",modelName:"",desc:"",logo:"",demoData:"",gptsApp:!1,modelId:"",status:1,relModel:"",preset:""}),G={groupId:[{required:!0,message:"请选择应用所属分类"}],modelName:[{required:!0,message:"请填写您的应用名称",trigger:"blur"}],desc:[{required:!0,message:"请填写您的应用描述",trigger:"blur"}],logo:[{required:!0,message:"请上传应用的logo",trigger:"blur"}],demoData:[{required:!0,message:"请填写应用示例",trigger:"blur"}],gptsApp:[{required:!0,message:"请选择应用是否为gpts应用"}],modelId:[{required:!0,message:"请填写gpts模型id",trigger:"blur"}],preset:[{required:!0,message:"请填写预设信息",trigger:"blur"}]};function P(e){E.value.groupId=e}function O(e){E.value.relModel=e}const Q=[{label:"gpt-4-all",value:"gpt-4-all"},{label:"gpt-4-dalle",value:"gpt-4-dalle"},{label:"gpt-4-v",value:"gpt-4-v"},{label:"gpt-4-1106-preview",value:"gpt-4-1106-preview"},{label:"gpt-4-vision-preview",value:"gpt-4-vision-preview"},{label:"gpt-4",value:"gpt-4"},{label:"gpt-4-0613",value:"gpt-4-0613"},{label:"gpt-4-32k",value:"gpt-4-32k"},{label:"gpt-4-32k-0314",value:"gpt-4-32k-0314"},{label:"gpt-4-32k-0613",value:"gpt-4-32k-0613"},{label:"gpt-3.5-turbo",value:"gpt-3.5-turbo"},{label:"gpt-3.5-turbo-1106",value:"gpt-3.5-turbo-1106"},{label:"gpt-3.5-turbo-instruct",value:"gpt-3.5-turbo-instruct"},{label:"gpt-3.5-turbo-0613",value:"gpt-3.5-turbo-0613"},{label:"gpt-3.5-turbo-0301",value:"gpt-3.5-turbo-0301"},{label:"gpt-3.5-turbo-16k-0613",value:"gpt-3.5-turbo-16k-0613"},{label:"gpt-3.5-turbo-16k",value:"gpt-3.5-turbo-16k"},{label:"text-davinci-003",value:"text-davinci-003"},{label:"text-davinci-002",value:"text-davinci-002"},{label:"code-davinci-002",value:"code-davinci-002"},{label:"tts-1",value:"tts-1"},{label:"tts-1-1106",value:"tts-1-1106"},{label:"tts-1-hd",value:"tts-1-hd"},{label:"tts-1-hd-1106",value:"tts-1-hd-1106"},{label:"dall-e-3",value:"dall-e-3"},{label:"dall-e-2",value:"dall-e-2"},{label:"babbage-002",value:"babbage-002"},{label:"davinci-002",value:"davinci-002"},{label:"babbage",value:"babbage"},{label:"curie",value:"curie"},{label:"ada",value:"ada"},{label:"davinci",value:"davinci"},{label:"text-embedding-ada-002",value:"text-embedding-ada-002"},{label:"text-curie-001",value:"text-curie-001"},{label:"text-babbage-001",value:"text-babbage-001"},{label:"text-ada-001",value:"text-ada-001"},{label:"text-moderation-latest",value:"text-moderation-latest"},{label:"text-moderation-stable",value:"text-moderation-stable"},{label:"whisper-1",value:"whisper-1"},{label:"mj-chat",value:"mj-chat"},{label:"suno-v3",value:"suno-v3"},{label:"gemini-pro",value:"gemini-pro"},{label:"gemini-pro-vision",value:"gemini-pro-vision"},{label:"claude-3-opus-20240229",value:"claude-3-opus-20240229"},{label:"claude-3-sonnet-20240229",value:"claude-3-sonnet-20240229"},{label:"claude-3-haiku-20240307",value:"claude-3-haiku-20240307"},{label:"stable-diffusion",value:"stable-diffusion"},{label:"moonshot-v1-8k",value:"moonshot-v1-8k"},{label:"moonshot-v1-32k",value:"moonshot-v1-32k"},{label:"moonshot-v1-128k",value:"moonshot-v1-128k"},{label:"search-gpts",value:"search-gpts"},{label:"Balanced",value:"Balanced"}];function X(e){if("finished"===e.file.status||"removed"===e.file.status)return;const l=e.file.type.split("/")[1];if("pending"===e.file.status&&z.includes(l)){let a=new FormData;a.append("filename",e.file.id+"."+l),a.append("file",e.file.file),a.append("dir","feedback-upload"),y(a).then((e=>{console.log(e),200==e.code?E.value.logo=e.data:I.error("图片上传失败")}))}}async function Y(){var e,l,a,t,o,u,d,s,r,i,p,v,n,g,b,c,m,h;if(!E.value.groupId)return void I.error("请选择所属分类");if(!E.value.modelName)return void I.error("请输入应用名称");if(!E.value.desc)return void I.error("请输入应用描述");if(!E.value.relModel)return void I.error("请选择应用关联模型");if(!E.value.preset)return void I.error("请输入预设信息");if(!E.value.logo)return void I.error("请上传应用Logo");if(!E.value.demoData)return void I.error("请输入示例内容");var f={};1==(null==(e=E.value)?void 0:e.gptsApp)?(f.modelName=null==(l=E.value)?void 0:l.modelName,f.desc=null==(a=E.value)?void 0:a.desc,f.logo=null==(t=E.value)?void 0:t.logo,f.demoData=null==(o=E.value)?void 0:o.demoData,f.gptsApp=null==(u=E.value)?void 0:u.gptsApp,f.modelId=null==(d=E.value)?void 0:d.modelId,f.relModel=null==(s=E.value)?void 0:s.relModel,f.status=null==(r=E.value)?void 0:r.status):(f.groupId=null==(i=E.value)?void 0:i.groupId,f.modelName=null==(p=E.value)?void 0:p.modelName,f.desc=null==(v=E.value)?void 0:v.desc,f.logo=null==(n=E.value)?void 0:n.logo,f.demoData=null==(g=E.value)?void 0:g.demoData,f.gptsApp=null==(b=E.value)?void 0:b.gptsApp,f.relModel=null==(c=E.value)?void 0:c.relModel,f.status=null==(m=E.value)?void 0:m.status,f.preset=null==(h=E.value)?void 0:h.preset);const k=await C(f);M.updateCreateAppDialog(!1),D({type:"latest"}).then((e=>{let l=e.data[0];F.emit("ExploreApp",l)})),200==k.code?(I.success("应用添加成功"),M.updateCreateAppDialog(!1)):I.error(k.data)}return(e,l)=>(d(),s(v(_),{show:j.value,style:{width:"30%","border-radius":"12px"},"mask-closable":!1,class:"dark:bg-[#1A1D21] bg-[#FFF]"},{default:r((()=>[i("div",q,[i("div",V,[H,i("div",null,[(d(),p("svg",{onClick:l[0]||(l[0]=e=>v(M).updateCreateAppDialog(!1)),xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},U))])]),i("div",B,[n(v(x),{model:E.value,rules:G,ref:"createFormRef","label-placement":"left","label-width":"auto"},{default:r((()=>[i("div",L,[n(v(g),{label:"所属分类",path:"groupId"},{default:r((()=>[n(v(b),{options:N.value,placeholder:"请选择应用所属分类","on-update:value":P},null,8,["options"])])),_:1}),n(v(g),{label:"应用名称",path:"modelName"},{default:r((()=>[n(v(c),{value:E.value.modelName,"onUpdate:value":l[1]||(l[1]=e=>E.value.modelName=e),tabindex:"1",placeholder:"请输入应用的名称"},null,8,["value"])])),_:1}),n(v(g),{label:"应用描述",path:"desc"},{default:r((()=>[n(v(c),{value:E.value.desc,"onUpdate:value":l[2]||(l[2]=e=>E.value.desc=e),tabindex:"1",placeholder:"请输入应用的描述"},null,8,["value"])])),_:1}),0==E.value.gptsApp?(d(),s(v(g),{key:0,label:"应用关联模型",path:"groupId"},{default:r((()=>[m(i("input",{type:"text","onUpdate:modelValue":l[3]||(l[3]=e=>E.value.relModel=e),style:{position:"absolute",left:"2px","border-radius":"8px",width:"90%",height:"90%","z-index":"999","text-indent":"10px"},class:"dark:bg-[#1A1D21] bg-[#FFFFFF]"},null,512),[[h,E.value.relModel]]),n(v(b),{options:Q,placeholder:"请选择绑定的模型","on-update:value":O})])),_:1})):f("",!0),0==E.value.gptsApp?(d(),s(v(g),{key:1,label:"预设信息",path:"preset"},{default:r((()=>[n(v(c),{type:"textarea",value:E.value.preset,"onUpdate:value":l[4]||(l[4]=e=>E.value.preset=e),tabindex:"1",placeholder:"请填写应用预设信息、用于给AI预设身份、系统预设信息、systemMessage..."},null,8,["value"])])),_:1})):f("",!0)]),i("div",R,[n(v(g),{label:"应用Logo",path:"logo"},{default:r((()=>[n(v(k),{accept:".jpg,.jpeg,.png",action:"",max:1,"default-file-list":T.value,"default-upload":!1,"on-change":X,"list-type":"image-card"},null,8,["default-file-list"])])),_:1}),n(v(g),{label:"示列内容",path:"demoData"},{default:r((()=>[n(v(c),{type:"textarea",value:E.value.demoData,"onUpdate:value":l[5]||(l[5]=e=>E.value.demoData=e),tabindex:"1",placeholder:"请填写应用的demo示例数据、每换行一次表示一个新的示例..."},null,8,["value"])])),_:1})]),i("div",S,[1==E.value.gptsApp?(d(),s(v(g),{key:0,label:"GPTS模型ID",path:"modelId"},{default:r((()=>[n(v(c),{value:E.value.modelId,"onUpdate:value":l[6]||(l[6]=e=>E.value.modelId=e),tabindex:"1",placeholder:"请填写GPTS模型ID号(官网创建后产生的ID)"},null,8,["value"])])),_:1})):f("",!0)])])),_:1},8,["model"]),i("div",Z,[n(v(A),{strong:"",secondary:"",type:"tertiary",class:"cancel dark:bg-[#15171A] bg-[#F4F4F4] dark:text-[#F4F4F4] text-[#03060C]",style:{cursor:"pointer"},onClick:l[7]||(l[7]=e=>v(M).updateCreateAppDialog(!1))},{default:r((()=>[w("取消 ")])),_:1}),n(v(A),{class:"confirm",style:{cursor:"pointer"},type:"primary",onClick:Y},{default:r((()=>[w("确认新增 ")])),_:1})])])])])),_:1},8,["show"]))}}),[["__scopeId","data-v-587ddf32"]]);export{T as C};
