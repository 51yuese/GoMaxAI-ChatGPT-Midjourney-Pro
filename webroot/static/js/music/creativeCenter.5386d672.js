import{e,r as l,R as t,j as a,ao as i,aT as s,a8 as r,a9 as n,k as o,aX as c,O as u,a6 as d,P as v,an as g,$ as p,Z as m,_ as x,U as y,X as f,W as h,F as b,ag as k,H as E,aa as F,at as w,N as A,aR as I,ap as T,bE as C,bD as M,al as j,bh as B,a1 as N,a2 as D,a3 as z}from"../main-ddc3955a.js";import{_ as G}from"../error/error.01789b3e.js";import{_ as R,a as U,b as Z}from"../light_del_music/light_del_music.3b18a527.js";import{_ as L,a as O,b as W,c as Y,d as J,e as V,f as H,g as S,h as X,i as P,j as Q,k as _,l as q,m as K,n as $}from"../more/more.669e3c57.js";import{e as ee,h as le,f as te,g as ae,p as ie,i as se,j as re}from"./music.c8d735e7.js";import{p as ne}from"../index/index.d335b448.js";import{C as oe}from"../index/index.a5c7f38c.js";const ce=e=>(N("data-v-c61d6069"),e=e(),D(),e),ue={class:"bg-[#F8F9F9] dark:bg-[#111113] musicBody"},de={class:"createCenterBox"},ve={class:"createCenterTop"},ge={style:{"margin-left":"4px","font-size":"15px","font-weight":"550"},class:"text-[#1E1F1F] dark:text-[#EEEEF0]"},pe={class:"text-[#1E1F1F] dark:text-[#8E91A6]",style:{"margin-left":"5px","font-size":"13px"}},me={class:"createCenterMain"},xe={class:"createInfo"},ye={class:"copyrightMarking"},fe=["onClick","src"],he={key:1,style:{width:"84px",height:"84px","border-radius":"8px"},src:G,alt:""},be={class:"itemInfo"},ke={class:"info",style:{flex:"1","margin-right":"10px"}},Ee={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Fe={style:{display:"flex","align-items":"center"}},we={class:"text-[17px] dark:text-[#9A9EB5] text-[#1E1F1F]",style:{"font-weight":"550"}},Ae={class:"operation"},Ie={style:{display:"flex","align-items":"center","margin-right":"20px"}},Te=["onClick"],Ce={key:0,class:"operationBox bg-[#fff] dark:bg-[#111113] border border-[#E8E8E8] dark:border-[#292A2E]"},Me=["onClick"],je={key:0,src:X,style:{"margin-right":"5px"}},Be={key:1,src:P,style:{"margin-right":"5px"}},Ne=ce((()=>v("div",null,"下载视频",-1))),De=["onClick"],ze={key:0,src:Q,style:{"margin-right":"5px"}},Ge={key:1,src:_,style:{"margin-right":"5px"}},Re=ce((()=>v("div",null,"下载音频",-1))),Ue=["onClick"],Ze={key:0,src:U,style:{"margin-right":"5px"}},Le={key:1,src:Z,style:{"margin-right":"5px"}},Oe=ce((()=>v("div",null,"删除",-1))),We={style:{display:"flex","align-items":"center",margin:"12px 0"}},Ye={key:0,src:q,style:{"margin-right":"4px"}},Je={key:1,src:K,style:{"margin-right":"4px"}},Ve=ce((()=>v("span",{class:"text-[#1E1F1F] dark:text-[#9A9EB5] text-[14px]",style:{"font-weight":"550"}},"Suno",-1))),He={class:"text-[12px] text-[#8B8C8C] dark:text-[#595C6E]",style:{width:"90%",display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical",overflow:"hidden"}},Se={style:{width:"108px",height:"108px","border-radius":"8px",position:"relative",display:"flex","justify-content":"center","align-items":"center"}},Xe={class:"itemInfo"},Pe={class:"info",style:{width:"100%"}},Qe={style:{width:"100%",display:"flex","align-items":"center","justify-content":"space-between"}},_e={style:{display:"flex","align-items":"center"}},qe={class:"text-[17px] dark:text-[#EEEEF0] text-[#1E1F1F]",style:{"font-weight":"550"}},Ke={class:"text-[12px] text-[#1E1F1F] dark:text-[#EEEEF0] bg-[#F0F0F0] dark:bg-[#222325]",style:{padding:"1px 6px","border-radius":"6px","margin-left":"12px"}},$e={style:{display:"flex","align-items":"center"}},el=ce((()=>v("div",{style:{"margin-left":"10px","font-size":"13px",color:"#10a37f"}}," 创作中，请耐心等待 ",-1))),ll=ce((()=>v("div",null,null,-1))),tl={style:{display:"flex","align-items":"center",margin:"12px 0"}},al={key:0,src:q,style:{"margin-right":"4px"}},il={key:1,src:K,style:{"margin-right":"4px"}},sl=ce((()=>v("span",{class:"text-[#1E1F1F] dark:text-[#EEEEF0] text-[12px]",style:{"font-weight":"550"}},"Suno",-1))),rl={class:"text-[12px] text-[#8B8C8C] dark:text-[#6C6E79]",style:{"word-break":"keep-all","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},nl={key:0,class:"mainRight"},ol=ce((()=>v("img",{src:$},null,-1))),cl={key:0,class:"operationBoxDown bg-[#fff] dark:bg-[#111113] border border-[#E8E8E8] dark:border-[#292A2E]"},ul={key:0,src:X,style:{"margin-right":"5px"}},dl={key:1,src:P,style:{"margin-right":"5px"}},vl=ce((()=>v("div",null,"下载视频",-1))),gl={key:0,src:Q,style:{"margin-right":"5px"}},pl={key:1,src:_,style:{"margin-right":"5px"}},ml=ce((()=>v("div",null,"下载音频",-1))),xl={class:"musicInfoDialog dark:bg-[#19191B] bg-[#FFF]",style:{width:"226px",height:"calc(100vh - 225px)",display:"flex","flex-direction":"column","align-items":"center",padding:"18px 12px",overflow:"scroll","border-radius":"10px"}},yl=["src"],fl={class:"text-[#1E1F1F] dark:text-[#EEEEF0] text-[17px]",style:{"margin-top":"12px","font-weight":"550"}},hl={style:{display:"flex","align-items":"center","justify-content":"center",margin:"12px 0"}},bl={key:0,src:q,style:{"margin-right":"4px"}},kl={key:1,src:K,style:{"margin-right":"4px"}},El=ce((()=>v("span",{class:"text-[#1E1F1F] dark:text-[#EEEEF0] text-[12px]",style:{"font-weight":"550"}},"Suno",-1))),Fl={style:{"line-height":"30px"}},wl={class:"controlBox"},Al={key:0,class:"control dark:bg-[#19191B] bg-[#FFF] text-[#8B8C8C] dark:text-[#6C6E79] border-t border-[#E8E8E8] dark:border-[#292A2E]"},Il={style:{display:"flex","align-items":"center"},class:"play_tabbar"},Tl={style:{display:"flex","align-items":"center",flex:"1","padding-right":"60px"}},Cl=["src"],Ml={style:{width:"100%"}},jl={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Bl={class:"text-[#1E1F1F] dark:text-[#EEEEF0] text-[15px]"},Nl={class:"text-[#8B8C8C] dark:text-[#6C6E79] text-[12px]"},Dl={style:{"margin-top":"4px"}},zl=["src"],Gl={class:"createBox border-r border-[#E8E8E8] dark:border-[#292A2E] dark:bg-[#19191B] bg-[#fff]"},Rl={class:"createTop"},Ul={class:"switchBox"},Zl={style:{display:"flex",padding:"0 4px","font-size":"16px","align-items":"center",height:"36px","line-height":"36px","justify-content":"space-between"}},Ll=ce((()=>v("div",{style:{"margin-right":"4px","font-size":"12px",color:"#8e91a6"}}," 自定义模式 ",-1))),Ol={key:0,class:"describeBox"},Wl={class:"describeTitle"},Yl=ce((()=>v("div",{class:"line bg-[#3378ED] dark:bg-[#2960BE]"},null,-1))),Jl=ce((()=>v("div",{style:{"margin-right":"4px"}},"歌曲描述",-1))),Vl=ce((()=>v("span",null,'描述你想要的音乐风格和主题（例如"关于毕业"）。使用流派和氛围，而不是特定的艺术家和歌曲。',-1))),Hl={class:"describeMain bg-[#FFF] dark:bg-[#111113] border-[1px] border-[#E8E8E8] dark:border-[#292A2E]"},Sl=[ce((()=>v("div",{style:{"margin-left":"4px","padding-left":"10px"}}," 随机生成歌词 ",-1)))],Xl={style:{display:"flex",padding:"0 4px","align-items":"center",height:"36px","font-size":"16px","line-height":"36px","justify-content":"space-between"}},Pl=ce((()=>v("div",{style:{"margin-right":"4px","font-size":"12px",color:"#8e91a6"}}," 纯音乐 ",-1))),Ql={key:0,class:"lyricsBox"},_l={class:"lyricsTitle"},ql=ce((()=>v("div",{class:"text-[#2b2b2b] dark:text-[#fff]",style:{"font-size":"16px"}},"歌曲描述",-1))),Kl=ce((()=>v("span",null,"随机生成歌词，自己写，或者从AI那里得到一些帮助。使用两首诗（8行）获得最佳效果。",-1))),$l={class:"lyricsMain bg-[#FFF] dark:bg-[#111113] border-[1px] border-[#E8E8E8] dark:border-[#292A2E]"},et=[ce((()=>v("div",{style:{"text-align":"center","padding-left":"10px"}}," 随机生成歌词 ",-1)))],lt={key:1,class:"musicBox"},tt={class:"musicTitle"},at=ce((()=>v("div",{class:"text-[#2b2b2b] dark:text-[#fff]",style:{"font-size":"16px"}},"音乐风格",-1))),it=ce((()=>v("span",null,"描述你想要的音乐风格 例如：流行、摇滚、史诗。Suno的模型无法识别具体的艺人名称，但能理解音乐类型和氛围。",-1))),st={class:"musicMain bg-[#FFF] dark:bg-[#111113] border-[1px] border-[#E8E8E8] dark:border-[#292A2E]"},rt=[ce((()=>v("div",{style:{"text-align":"center","padding-left":"10px"}}," 生成音乐风格 ",-1)))],nt={key:2,class:"musicNameBox"},ot={class:"musicNameTitle"},ct=ce((()=>v("div",{class:"text-[#2b2b2b] dark:text-[#fff]",style:{"font-size":"16px"}},"歌曲名称",-1))),ut=ce((()=>v("span",null,"为你的歌曲命名",-1))),dt={class:"musicNameMain bg-[#FFF] dark:bg-[#111113] border-[1px] border-[#E8E8E8] dark:border-[#292A2E]"},vt={class:"musicModeBox"},gt={class:"musicModeTitle"},pt=ce((()=>v("div",{class:"text-[#2b2b2b] dark:text-[#fff]",style:{"font-size":"16px"}},"音乐模型",-1))),mt=ce((()=>v("span",null,"官方音乐模型",-1))),xt=["onClick"],yt=ce((()=>v("div",{style:{"margin-top":"20px"}},[v("div",{style:{display:"flex","align-items":"center"}},[v("div",{style:{color:"#fff","font-size":"16px"}},"温馨提示")]),v("div",{class:"dark:text-[#73768C] text-[#8B8C8C] text-[14px]"}," 每个作品生成大概2分钟左右，请勿关闭页面。 ")],-1))),ft={class:"createBottm"},ht={class:"text-[#2b2b2b] dark:text-[#23a559]"},bt={class:"moneyBox"},kt=ce((()=>v("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAACXBIWXMAABYlAAAWJQFJUiTwAAAE7mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4wLWMwMDAgNzkuMTcxYzI3ZiwgMjAyMi8wOC8xNi0xODowMjo0MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI0LjAgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyNC0wOC0xMlQyMDo0ODowMiswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjQtMDgtMTJUMjE6NDM6MTQrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjQtMDgtMTJUMjE6NDM6MTQrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhkODg2NTNiLWMwMTktNzE0ZS05MTk3LTNjNTQwNjkzNGE1ZCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4ZDg4NjUzYi1jMDE5LTcxNGUtOTE5Ny0zYzU0MDY5MzRhNWQiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4ZDg4NjUzYi1jMDE5LTcxNGUtOTE5Ny0zYzU0MDY5MzRhNWQiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjhkODg2NTNiLWMwMTktNzE0ZS05MTk3LTNjNTQwNjkzNGE1ZCIgc3RFdnQ6d2hlbj0iMjAyNC0wOC0xMlQyMDo0ODowMiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDI0LjAgKFdpbmRvd3MpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuITO/AAAAIGSURBVFjD7ZfNThNRFMd/Z9pJaDUMXZDgwgZpEzcuKlul9g10ZRhW8AToExifAN4A3dgmPoE7ApGwows2BomDLIgGQhtjsZ2P44JOP6BWFzM0Mf2v7s25yf0l555zz1/oUX6xVEL8V4gUUKaIVlWF9cPy1ttBQQkXuaUnG6K6TMwS0TcH77ZXBoLk7eIa8AJATYFJE9KJaAnOWkjDb2/05efy9npvOJlbXFjuQKQTBI+mo4cAaPgkNr+BqyiyCvSBGCI8DTexQQCkE+hMKkzD7NWwgUgJuDwUF8Q/KNmpDlOuPyw3ADeI7jYvGAIyRMbmd+g8sGiVt4t74nkrB+93qpep+ZPcIDaItgqaTO7lni88A5C8XVQAvZsmmM/0H627SN2NvpecNZGvjXBb8y6Me0NTg2Wilhk5iGbTSCqB8ekHwFRywisYo6oSzd7qrpHZkYFc7yNjkDHI31p8XHPHyS9kv074fejDzNBWEB/I8U+k4XVL9LgBlnXzIHp/ElrtT8400Lnbo0mNWib6eHpcNf8DiFAD4MIfMUigVQCpu33lFru/cf2rqdHX4URmfDy9OZiTZo+5UkcAcnZxQ6Dj8vROauAwHaXHkdNmexbhy2F5a65rOe3imsBqrw2NPz+ce0Fr3qnsOh0jc75/9CHzIHskgiIyA0zECFBT1Yqv7pJT2XUAfgPz5aoMwrpbeAAAAABJRU5ErkJggg==",alt:"",style:{width:"17px",height:"15px","margin-left":"8px","margin-right":"2px"}},null,-1))),Et={class:"text-[#2b2b2b] dark:text-[#23a559]"},Ft=z(e({__name:"creativeCenter",setup(e){const N=l(null),D=t(),z=a((()=>D.isLogin)),G=l([]);let U=null;const Z=i();s(),r();const X=l(!0),P=l(!1),Q=l(1),_=l(0);function q(e){X.value=e}const K=n(),$=a((()=>"dark"===K.theme)),ce=l([{name:"V3（一次生成两首歌）",value:"suno-v3",title:"V3"},{name:"V3.5（一次生成两首歌）",value:"suno-v3.5",title:"V3.5"}]),Ft=l("");Ft.value=ce.value[0].name;const wt=l(!1);function At(){wt.value=!0}const It=l([]),Tt=l([]),Ct=l(!1);l(1);const Mt=l("00:00"),jt=l("00:00"),Bt=l(""),Nt=l(""),Dt=l(0);function zt(e,l){3==l&&(e.operation=!0,Ct.value=!0)}function Gt(){le({size:20,page:Q.value,modelType:"music",order:"createAt"}).then((e=>{const{records:l}=e.data;0!=l.length&&l.forEach((e=>{if(""==e.answer&&null==e.errMsg&&0==e.children.length){let l={intro:""},t={intro:""};l.id=e.id,t.id=e.id;e.prompt.split(",").forEach((e=>{let a=e.split(" ");if(""==a[0]&&a.shift(),"prompt"==a[0])for(var i=1;i<=a.length-1;i++)l.intro=l.intro+a[i],t.intro=l.intro+a[i];"mv"==a[0]&&(l.modetitle=a[1],t.modetitle=a[1]),"title"==a[0]&&(l.name=a[1],t.name=a[1])})),It.value.push(l),It.value.push(t),setTimeout((()=>ca()),300),G.value.push(e.id),1==G.value.length&&Xt(e,l,t)}else 0!=e.children.length&&e.children.forEach((l=>{l.model=e.model,Tt.value.unshift(l)}))}))}))}function Rt(){z.value?async function(e){if(Yt.value=!1,!Ut.value)return Z.error("请输入歌词"),void(Yt.value=!0);let l={},t={};l.name=""==Lt.value?"匿名":Lt.value,l.intro=Ut.value,l.modetitle=St.value,t.modetitle=St.value,t.name=""==Lt.value?"匿名":Lt.value,t.intro=Ut.value,oa(!0),Ut.value="",Lt.value="",Wt.value="";try{te(e).then((e=>{l.id=e.data.id,t.id=e.data.id,It.value.push(l),It.value.push(t),setTimeout((()=>ca()),300),G.value.push(e.data.id),Xt(e.data,l,t)}))}catch(a){Z.error(a.message)}}({prompt:Ut.value,options:{parentMessageId:0},cusromPrompt:!0,tags:Wt.value,mv:Ot.value,title:Lt.value,make_instrumental:Zt.value}):D.setLoginDialog(!0)}ee({modelType:"music"}).then((e=>{}));const Ut=l(""),Zt=l(0),Lt=l(""),Ot=l("suno-v3"),Wt=l(""),Yt=l(!0);l(),l();const Jt=l(null);o((()=>{!async function(){var e;try{const l=await c({modelType:"music",page:1,size:10}),t=(l.data||{}).rows||[];_.value=(null==(e=t[0])?void 0:e.deduct)||0}catch(l){Z.error(l.message)}}(),Gt(),setTimeout((()=>ca()),300),Vt("258px")}));const Vt=(e="20px",l="25px")=>{const t=document.getElementById("toolbar-box");t.style.right=e,t.style.bottom=l};function Ht(e){P.value=e,Zt.value=e?1:0}const St=l("V3");function Xt(e,l,t){try{var a=setInterval((()=>{if(0==G.value.length)return Yt.value=!0,void clearTimeout(a);ae({ids:G.value.join()}).then((e=>{e.data.forEach((e=>{if(console.log(It.value),null!=e.errMsg){D.getUserInfo(),G.value.splice(G.value.indexOf(e.id),1),Z.error(e.errMsg);for(var a=0;a<=It.value.length-1;a++)e.id==It.value[a].id&&It.value.splice(a,2);Tt.value.push(l),Tt.value.push(t)}else if(null!=e.answer&&0!=e.children.length){G.value.splice(G.value.indexOf(e.id),1),D.getUserInfo();for(a=0;a<=It.value.length-1;a++)e.id==It.value[a].id&&(console.log(It.value[a]),It.value.splice(a,2));e.children.forEach((l=>{l.model=e.model,Tt.value.push(l)})),ie({ids:[e.children[0].id,e.children[1].id]})}}))}))}),3e3)}catch(i){Z.error(i.message),console.log(i);const[e,l]=ne("Request failed");It.value=[],e.modetitle=St.value,l.modetitle=St.value,Tt.value=[...Tt.value,e,l],Yt.value=!0,oa(!1)}}const Pt=l(),Qt=l(0),_t=l(!1);function qt(e,l){Pt.value={...e},Qt.value=l;const t=setTimeout((()=>{_t.value=!1,Kt(),clearTimeout(t)}))}function Kt(){const e=Jt.value;_t.value?(_t.value=!1,e.pause()):(_t.value=!0,e.play())}function $t(){Qt.value-1<0?(Qt.value=Tt.value.length-1,Pt.value=Tt.value[Qt.value]):(Qt.value=Qt.value-1,Pt.value=Tt.value[Qt.value]);const e=setTimeout((()=>{_t.value=!1,Kt(),clearTimeout(e)}))}function ea(){Qt.value+1>Tt.value.length-1?(Qt.value=0,Pt.value=Tt.value[Qt.value]):(Qt.value=Qt.value+1,Pt.value=Tt.value[Qt.value]);const e=setTimeout((()=>{_t.value=!1,Kt(),clearTimeout(e)}))}function la(){se({dictType:"music-lyrics"}).then((e=>{Ut.value=e.data.dictValue}))}function ta(e){if(0==e){se({dictType:"music-lyrics"}).then((e=>{Lt.value=e.data.dictName,Ut.value=e.data.dictValue}))}else if(1==e){se({dictType:"music-style"}).then((e=>{Wt.value=e.data.dictValue}))}}function aa(){Pt.value&&(Pt.value.operation=!1),wt.value=!1,Ct.value=!1,Tt.value.forEach((e=>{e.operation=!1}))}function ia(){U&&(U.destroy(),U=null)}function sa(e,l){let t="/api";if(U||(U=Z.loading("下载中，请稍等",{duration:0})),"mp4"==l){let l=e.mp4.split("/").pop();aa(),w.get(t+"/file/down",{responseType:"blob",params:{url:e.mp4}}).then((e=>{const t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download",l),a.click(),ia(),Z.success("下载成功")})).catch((e=>{Z.error("下载失败"),ia()}))}else if("mp3"==l){let l=e.mp3.split("/").pop();aa(),w.get(t+"/file/down",{responseType:"blob",params:{url:e.mp3}}).then((e=>{const t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download",l),a.click(),ia(),Z.success("下载成功")})).catch((e=>{Z.error("下载失败"),ia()}))}}const ra=l(0),na=l(0);function oa(e){let l;ra.value=0,na.value=0,1==e?l=setInterval((()=>{ra.value+=10,na.value=ra.value/100*200,ra.value>=99&&(clearTimeout(l),ra.value=99,na.value=ra.value/100*200)}),5e3):clearTimeout(l)}function ca(){let e=N.value;e.scrollTo({top:e.scrollHeight+7e3,behavior:"smooth"})}function ua(){Bt.value=Jt.value.duration,Nt.value=Jt.value.currentTime,jt.value=va(parseInt(Jt.value.currentTime)),Mt.value=va(parseInt(Jt.value.duration))}function da(e){jt.value=va(parseInt(e.target.currentTime)),Nt.value=e.target.currentTime,function(){let e=Nt.value/Bt.value*100;Dt.value=e}();const l=Jt.value;Nt.value>=Bt.value&&(_t.value=!1,l.pause(),Nt.value=0,Dt.value=0,jt.value="00:00")}function va(e){let l=parseInt(e/60),t=parseInt(e%60);return l=l>=10?l:"0"+l,t=t>=10?t:"0"+t,l+":"+t}return(e,l)=>(A(),u("div",ue,[wt.value||Ct.value?(A(),u("div",{key:0,class:"mask",onClick:aa})):d("",!0),v("div",de,[v("div",ve,[v("div",ge,[g(" 我的创作 "),v("span",pe," ("+p(Tt.value&&Tt.value.length?Tt.value.length:0)+") ",1)])]),v("div",me,[v("div",xe,[v("div",{class:"mainLeft",ref_key:"createCenterRef",ref:N,onScroll:l[0]||(l[0]=e=>{var l;(l=e).target.scrollTop+l.target.clientHeight==l.target.scrollHeight&&(Q.value+=1,Gt())})},[(A(!0),u(m,null,x(Tt.value,((e,l)=>(A(),u("div",{class:"mainItem dark:bg-[#19191B] bg-[#FFF]",key:l},[v("span",ye,p(e.model||"版本标识"),1),y(f(I),{onClick:t=>qt(e,l),style:{"font-size":"30px"},icon:"gridicons:play",class:"playImg"},null,8,["onClick"]),e.cover?(A(),u("img",{key:0,onClick:t=>qt(e,l),style:{width:"108px",height:"108px","border-radius":"8px"},src:e.cover,alt:""},null,8,fe)):d("",!0),e.cover?d("",!0):(A(),u("img",he)),v("div",be,[v("div",ke,[v("div",Ee,[v("div",Fe,[v("div",we,p(" "==e.title||null==e.title?"匿名":e.title),1)]),v("div",Ae,[v("div",Ie,[v("img",{class:"icon",onClick:l=>zt(e,0),src:R,alt:""},null,8,Te),v("div",null,p(e.agreeNum),1)]),y(f(I),{icon:"ri:more-line",class:"icon text-xl text-center",onClick:l=>zt(e,3)},null,8,["onClick"]),e.operation?(A(),u("div",Ce,[v("div",{class:"operationItem",onClick:l=>sa(e,"mp4"),style:{display:"flex"}},[$.value?(A(),u("img",je)):(A(),u("img",Be)),Ne],8,Me),v("div",{class:"operationItem",onClick:l=>sa(e,"mp3"),style:{display:"flex"}},[$.value?(A(),u("img",ze)):(A(),u("img",Ge)),Re],8,De),v("div",{class:"operationItem",style:{display:"flex",color:"#ff5e55"},onClick:t=>async function(e,l){try{await re({ids:[e]}),Z.success("创作记录删除成功"),Q.value=1,Tt.value.splice(l,1)}catch(t){Z.error(t.message)}}(e.id,l)},[$.value?(A(),u("img",Ze)):(A(),u("img",Le)),Oe],8,Ue)])):d("",!0)])]),v("div",We,[$.value?(A(),u("img",Ye)):(A(),u("img",Je)),Ve]),v("div",He,p(e.intro),1)])])])))),128)),It.value?(A(!0),u(m,{key:0},x(It.value,((e,l)=>(A(),u("div",{class:"mainItem dark:bg-[#111113] bg-[#FFF]",key:l},[v("div",Se,[y(f(C),null,{default:h((()=>[y(f(T),{stroke:"#76777A",size:"large"})])),_:1})]),v("div",Xe,[v("div",Pe,[v("div",Qe,[v("div",_e,[v("div",qe,p(null==e.name?"匿名":e.name),1),v("div",Ke,p(e.modetitle),1)]),v("div",$e,[y(f(C),null,{default:h((()=>[y(f(T),{stroke:"#10A37F",size:10})])),_:1}),el])]),ll,v("div",tl,[$.value?(A(),u("img",al)):(A(),u("img",il)),sl]),v("div",rl,p(e.intro),1)])])])))),128)):d("",!0)],544),Pt.value?(A(),u("div",nl,[v("div",{class:"videoDown",onClick:l[3]||(l[3]=()=>{Pt.value.operation=!0,wt.value=!0})},[ol,Pt.value.operation?(A(),u("div",cl,[v("div",{class:"operationItem",style:{display:"flex"},onClick:l[1]||(l[1]=e=>sa(Pt.value,"mp4"))},[$.value?(A(),u("img",ul)):(A(),u("img",dl)),vl]),v("div",{class:"operationItem",style:{display:"flex"},onClick:l[2]||(l[2]=e=>sa(Pt.value,"mp3"))},[$.value?(A(),u("img",gl)):(A(),u("img",pl)),ml])])):d("",!0)]),v("div",null,[v("div",xl,[v("div",null,[v("img",{src:Pt.value.cover,style:{width:"148px",height:"148px","border-radius":"24px","margin-left":"50%",transform:"translate(-50%)"}},null,8,yl)]),v("div",fl,p(" "==Pt.value.title?"匿名":Pt.value.title),1),v("div",hl,[$.value?(A(),u("img",bl)):(A(),u("img",kl)),El]),v("div",Fl,p(Pt.value.intro),1)])])])):d("",!0)]),v("div",wl,[Pt.value?(A(),u("div",Al,[v("div",Il,[v("div",null,[$.value?(A(),u("img",{key:0,class:"controlItem",style:{cursor:"pointer"},src:L,alt:"",onClick:$t})):(A(),u("img",{key:1,class:"controlItem",style:{cursor:"pointer"},src:O,alt:"",onClick:$t}))]),v("div",null,[_t.value&&$.value?(A(),u("img",{key:0,class:"controlItem",src:W,style:{margin:"0 30px",cursor:"pointer"},alt:"",onClick:Kt})):d("",!0),_t.value&&0==$.value?(A(),u("img",{key:1,class:"controlItem",src:Y,style:{margin:"0 30px",cursor:"pointer"},alt:"",onClick:Kt})):d("",!0)]),v("div",null,[!_t.value&&$.value?(A(),u("img",{key:0,class:"controlItem",src:J,style:{margin:"0 30px",cursor:"pointer"},alt:"",onClick:Kt})):d("",!0),_t.value||0!=$.value?d("",!0):(A(),u("img",{key:1,class:"controlItem",src:V,style:{margin:"0 30px",cursor:"pointer"},alt:"",onClick:Kt}))]),v("div",null,[$.value?(A(),u("img",{key:0,class:"controlItem",style:{cursor:"pointer"},src:H,alt:"",onClick:ea})):(A(),u("img",{key:1,class:"controlItem",style:{cursor:"pointer"},src:S,alt:"",onClick:ea}))])]),v("div",Tl,[v("img",{src:Pt.value.cover,style:{width:"48px",height:"48px","margin-left":"30px","margin-right":"12px"}},null,8,Cl),v("div",Ml,[v("div",jl,[v("div",Bl,p(" "==Pt.value.title||null==Pt.value.title?"匿名":Pt.value.title),1),v("div",Nl,p(jt.value)+" / "+p(Mt.value),1)]),v("div",Dl,[v("audio",{ref_key:"audioRef",ref:Jt,src:Pt.value.mp3,onCanplay:ua,onTimeupdate:da},null,40,zl),y(f(M),{style:{width:"100%"},type:"line",status:"success","show-indicator":!1,percentage:Dt.value},null,8,["percentage"])])])])])):d("",!0)]),y(oe,{class:"end bg-[#F8F9F9] dark:bg-[#111113] text-[#A3A5A6] dark:text-[#76777A]"})])]),v("div",Gl,[v("div",Rl,[v("div",Ul,[v("div",Zl,[Ll,y(f(C),null,{default:h((()=>[y(f(j),{value:X.value,"onUpdate:value":[l[4]||(l[4]=e=>X.value=e),q],size:"small"},null,8,["value"])])),_:1})]),X.value?d("",!0):(A(),u("div",Ol,[v("div",Wl,[Yl,Jl,y(f(B),{trigger:"hover",placement:"right"},{trigger:h((()=>[y(f(I),{icon:"mage:question-mark-circle"})])),default:h((()=>[Vl])),_:1})]),v("div",Hl,[b(v("textarea",{class:"describeText bg-[#FFF] dark:bg-[#111113]",placeholder:"创作一首关于想和你在一起的流行歌曲","onUpdate:modelValue":l[5]||(l[5]=e=>Ut.value=e),cols:"20",rows:"10"},null,512),[[k,Ut.value]]),v("div",{class:"describeBtn text-[#1E1F1F] dark:text-[#ffffff] bg-[#F0F0F0] dark:bg-[#222325]",onClick:la},Sl)])])),v("div",Xl,[Pl,y(f(C),null,{default:h((()=>[y(f(j),{value:P.value,"onUpdate:value":[l[6]||(l[6]=e=>P.value=e),Ht],size:"small"},null,8,["value"])])),_:1})])]),X.value?(A(),u("div",Ql,[v("div",_l,[ql,y(f(B),{trigger:"hover",placement:"right"},{trigger:h((()=>[y(f(I),{icon:"mage:question-mark-circle"})])),default:h((()=>[Kl])),_:1})]),v("div",$l,[b(v("textarea",{class:"lyricsText bg-[#FFF] dark:bg-[#010102]",placeholder:"请输入你的歌词","onUpdate:modelValue":l[7]||(l[7]=e=>Ut.value=e),cols:"20",rows:"10"},null,512),[[k,Ut.value]]),v("div",{onClick:l[8]||(l[8]=e=>ta(0)),class:"lyricsBtn text-[#1E1F1F] dark:text-[#A4A8C5] bg-[#F0F0F0] dark:bg-[#424350]"},et)])])):d("",!0),X.value?(A(),u("div",lt,[v("div",tt,[at,y(f(B),{trigger:"hover",placement:"right"},{trigger:h((()=>[y(f(I),{icon:"mage:question-mark-circle"})])),default:h((()=>[it])),_:1})]),v("div",st,[b(v("textarea",{class:"musicText bg-[#FFF] dark:bg-[#010102]",placeholder:"请输入你的风格","onUpdate:modelValue":l[9]||(l[9]=e=>Wt.value=e),cols:"20",rows:"10"},null,512),[[k,Wt.value]]),v("div",{onClick:l[10]||(l[10]=e=>ta(1)),class:"musicBtn text-[#1E1F1F] dark:text-[#A4A8C5] bg-[#F0F0F0] dark:bg-[#424350]"},rt)])])):d("",!0),X.value?(A(),u("div",nt,[v("div",ot,[ct,y(f(B),{trigger:"hover",placement:"right"},{trigger:h((()=>[y(f(I),{icon:"mage:question-mark-circle"})])),default:h((()=>[ut])),_:1})]),v("div",dt,[b(v("input",{"onUpdate:modelValue":l[11]||(l[11]=e=>Lt.value=e),class:"musicNameText bg-[#FFF] dark:bg-[#010102]",type:"text",placeholder:"请输入你的歌名"},null,512),[[k,Lt.value]])])])):d("",!0),v("div",vt,[v("div",gt,[pt,y(f(B),{trigger:"hover",placement:"right"},{trigger:h((()=>[y(f(I),{icon:"mage:question-mark-circle"})])),default:h((()=>[mt])),_:1})]),v("div",{class:"musicModeSelect bg-[#FFF] dark:bg-[#111113] border-[1px] border-[#E8E8E8] dark:border-[#292A2E]",onClick:At},[v("div",null,p(Ft.value),1),y(f(I),{icon:"mingcute:down-line"})]),v("div",{class:"selectBox",style:E([{"max-height":"200px"},wt.value?`height:${50*ce.value.length}px`:"height:0"])},[(A(!0),u(m,null,x(ce.value,((e,l)=>(A(),u("div",{class:"selectItem bg-[#F4F4F4] dark:bg-[#010102]",key:l,onClick:l=>function(e){Ft.value=e.name,St.value=e.title,Ot.value=e.value,wt.value=!1}(e)},p(e.name),9,xt)))),128))],4)]),yt]),v("div",ft,[v("div",{style:{display:"flex",cursor:"pointer","font-size":"15px"},class:F(Yt.value?"dark:bg-[rgba(35,165,89,0.16)] bg-[#86CFB5] botton border-[#23A559] border-[1px]":"bg-[#A5B1B6] botton text-[#A5B1B6] "),onClick:Rt},[v("div",ht,p(Yt.value?"创作音乐":"创作中,请耐心等待"),1),v("div",bt,[kt,v("span",Et,p(_.value)+"积分 ",1)])],2)])])]))}}),[["__scopeId","data-v-c61d6069"]]);export{Ft as default};
