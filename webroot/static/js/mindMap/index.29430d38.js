import{A as e,_ as a,a as t,q as l,b as i,c as s,d as n,s as o,e as u,f as c,g as r,h as d,i as v}from"../aboutUs copy/aboutUs copy.5e1b0d19.js";import{e as p,a8 as g,b9 as m,ao as f,R as y,j as h,S as x,aT as k,aQ as C,a9 as b,r as I,A as w,a0 as S,aU as F,a$ as L,aV as B,b5 as D,N as T,O as _,P as E,aa as M,Z as N,_ as A,$ as O,a6 as V,F as j,ag as U,ad as G,as as J,X as R,aR as z,aW as q,a1 as P,a2 as H,a3 as W,U as K,W as $,an as Q,bc as X,H as Z,ax as Y,k as ee,bd as ae,aq as te,b7 as le}from"../main-ddc3955a.js";import{n as ie}from"../newNavBar/newNavBar.26f05da0.js";import{b as se,M as ne}from"../index.esm/index.esm.3fce30e5.js";import{a as oe}from"../music/music.c8d735e7.js";import"../start copy/start copy.4aa28f32.js";import"../katex/katex.38e58b85.js";const ue=e=>(P("data-v-16482125"),e=e(),H(),e),ce={class:"main"},re={class:"applicationBox"},de={class:"appBox"},ve={key:0,src:"/static/svg/default-98ef1eb8.svg",alt:""},pe={key:1,src:"/static/svg/default copy-cbe05553.svg",alt:""},ge=ue((()=>E("p",{style:{"margin-left":"9px","margin-top":"2px"}},"智能问答",-1))),me=["onClick"],fe=["src"],ye={style:{"margin-left":"9px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",width:"120px"}},he={key:0,src:"/static/svg/otherApp-5647880d.svg",alt:""},xe={key:1,src:"/static/svg/otherApp copy-8f52f424.svg",alt:""},ke=ue((()=>E("p",{style:{"margin-left":"9px","margin-top":"2px"},class:"cursor"},"探索应用",-1))),Ce={key:0,class:"recordingBox"},be={class:"todayList"},Ie=ue((()=>E("div",{class:"todayTitle"},"今天",-1))),we=["onClick"],Se={style:{width:"100%"}},Fe={key:0,class:"itemTitle cursor"},Le=["onBlur"],Be={style:{display:"flex","align-items":"center"}},De={class:"historyList"},Te=ue((()=>E("div",{class:"historyTitle"},"历史",-1))),_e=["onClick"],Ee={style:{width:"100%"}},Me={key:0,class:"itemTitle cursor"},Ne=["onBlur"],Ae={style:{display:"flex","align-items":"center"}},Oe=W(p({__name:"conversationList",setup(e){const{isMobile:a}=g(),t=m(),l=f(),i=y(),s=h((()=>i.isLogin));x(),k();const n=C(),o=b(),u=h((()=>"dark"===o.theme)),c=h((()=>n.groupList)),r=I(100);w(c,(()=>r.value=r.value+1));const d=I([]),v=I([]),p=I([]);async function P(){d.value=[],v.value=[],p.value=[],await F({modelType:"chat"}).then((e=>{0!=e.data.length?function(e){let a=(new Date).getDate();a<10&&(a="0"+a);const{data:t}=e;d.value=t,t.forEach((e=>{if(e.title=e.title.slice(0,7),null!=e.lastTime){let t=e.lastTime.split(" ")[0].split("-")[2];a==t?v.value=[...v.value,e]:p.value=[...p.value,e]}if(null===e.lastTime){let t=e.createdAt.split(" ")[0].split("-")[2];a==t?v.value=[...v.value,e]:p.value=[...p.value,e]}}))}(e):ae()}))}P(),S.on("updateMessageList",(e=>{console.log(e),e&&P()})),S.on("DataListFn",(e=>{e&&(P(),Y())}));const H=I([]),W=I(!1);S.on("ExploreApp",(e=>{H.value.forEach((a=>{a.id==e.id&&(W.value=!0,X(a))})),W.value?W.value=!1:(H.value.unshift(e),H.value=H.value.splice(0,2),X(e),localStorage.setItem("ExploreApp",JSON.stringify(H.value)))})),localStorage.getItem("ExploreApp")?H.value=JSON.parse(localStorage.getItem("ExploreApp")):L({type:"recommend"}).then((e=>{H.value=e.data,H.value=H.value.splice(0,2)})),S.on("reOpenChar",(e=>{$(e,1)}));const K=I();function $(e,a){let t;t=a?{groupId:e.uuid,logType:1}:{groupId:e.id,logType:1},S.emit("create",!1),S.emit("exploreApp",!1),S.emit("uuid",e),B(t).then((async t=>{localStorage.setItem("chatLogId",JSON.stringify(e)),await n.setActiveGroup(e.id),K.value=a?e.uuid:e.id,Q.value&&(Q.value=null),ue.value&&(ue.value=!1),S.emit("modelType",e.config),S.emit("setModel",JSON.parse(e.config).modelInfo);let l=t.data.filter((e=>null!=e.conversationOptions));0==l.length?(S.emit("chatLogList",l),S.emit("haveLog",!1)):S.emit("chatLogList",t.data)}))}const Q=I();async function X(e,a){if(!s.value)return void i.setLoginDialog(!0);let l;if(l=a?await t.isSession(e.modelId):await t.isSession(e.id),0==l){await t.addNewChat(e.id),t.updateGptsStore(!1);const a=await D();K.value&&(K.value=null),ue.value&&(ue.value=!1),a.data.forEach((a=>{a.modelId==e.id&&(localStorage.setItem("chatLogId",JSON.stringify(a)),Q.value=a.modelId,S.emit("exploreApp",!1),S.emit("uuid",a),Z(a))}))}else{K.value&&(K.value=null),ue.value&&(ue.value=!1);(await D()).data.forEach((t=>{a?t.modelId==e.modelId&&(localStorage.setItem("chatLogId",JSON.stringify(t)),Q.value=t.modelId,S.emit("exploreApp",!1),S.emit("uuid",t),Z(t)):t.modelId==e.id&&(localStorage.setItem("chatLogId",JSON.stringify(t)),Q.value=t.modelId,S.emit("exploreApp",!1),S.emit("uuid",t),Z(t))}))}}function Z(e){let a={groupId:e.id};B(a).then((async a=>{localStorage.setItem("chatLogId",JSON.stringify(e)),await n.setActiveGroup(e.id);let t=a.data.filter((e=>null!=e.conversationOptions));t.length,S.emit("chatLogList",t)}))}function Y(){if(localStorage.getItem("chatLogId")){let e,a=JSON.parse(localStorage.getItem("chatLogId"));a.config&&(e=JSON.parse(a.config).modelInfo.modelType),K.value=a,a.gptsApp||"app"==e?(Q.value=a.modelId,Z(a)):(K.value=a.id,$(a))}else F({modelType:"chat"}).then((e=>{$(e.data[0])}))}S.on("openNewApp",(e=>{X(e)})),S.on("reOpenGpts",(e=>{X(e,1)})),Y();const ee=I(!1);async function ae(){try{if(!s.value)return i.setLoginDialog(!0),void S.emit("register",0);ee.value=!0,await n.updateChatTab("history"),await n.addNewChatGroup(),await n.queryMyGroup(),await P(),$(d.value[0]),ee.value=!1,a.value&&o.setSiderCollapsed(!0)}catch(e){ee.value=!1}}async function te(e,a){if(0==v.value.length&&1==p.value.length||1==v.value.length&&0==p.value.length)l.error("至少保留一个对话");else{if(await n.deleteGroup(e),await n.queryMyGroup(),0==a){if(v.value=v.value.filter((a=>a.id!=e.id)),e.id==K.value){if(0==v.value.length)return void $(p.value[0]);$(v.value[0])}}else if(1==a&&(p.value=p.value.filter((a=>a.id!=e.id)),e.id==K.value)){if(0==p.value.length)return void $(v.value[0]);$(p.value[0])}l.success("删除成功")}}const le=I(null),ie=I("");function se(e,a){setTimeout((()=>{le.value[0].focus()}),100),e.edit=!0,ie.value=e.title}function ne(e,a){if(e.edit=null,e.title==ie.value)return;let t={groupId:e.id,title:ie.value};q(t).then((t=>{200===t.code&&(0==a?v.value.forEach((a=>{a.id==e.id&&(a.title=ie.value)})):1==a&&p.value.forEach((a=>{a.id==e.id&&(a.title=ie.value)})))}))}function oe(){7==ie.value.length&&l.warning("最大不能超过七个字")}const ue=I(!1);function Oe(){if(!s.value)return i.setLoginDialog(!0),void S.emit("register",0);K.value&&(K.value=null),Q.value&&(Q.value=null),ue.value=!0,S.emit("exploreApp",!0)}return(e,a)=>(T(),_("div",ce,[E("div",re,[E("div",de,[E("div",{class:M(["cursor",[u.value?"appItem":"appItem1"]]),onClick:ae},[u.value?(T(),_("img",ve)):(T(),_("img",pe)),ge],2),0!=H.value.length&&s.value?(T(),_(N,{key:0},A(2,((e,a)=>E("div",{class:M(["cursor",[u.value?"appItem":"appItem1",Q.value==H.value[a].id?"select":"NotSelect"]]),key:a,style:{display:"flex","align-items":"center"},onClick:e=>X(H.value[a])},[E("img",{style:{width:"16px",height:"16px","border-radius":"50%"},src:H.value[a].logo,alt:""},null,8,fe),E("p",ye,O(H.value[a].modelName),1)],10,me))),64)):V("",!0)]),E("div",{class:M(["otherApp",[u.value?"appItem":"appItem1",ue.value?"select":"NotSelect"]]),onClick:Oe},[u.value?(T(),_("img",he)):(T(),_("img",xe)),ke],2)]),s.value?(T(),_("div",Ce,[E("div",be,[Ie,(T(!0),_(N,null,A(v.value,(e=>(T(),_("div",{class:M([u.value?"Item":"Item1",K.value==e.id?"select":"NotSelect"]),key:e.id,onClick:a=>$(e)},[E("div",Se,[e.edit?V("",!0):(T(),_("p",Fe,O(e.title),1)),e.edit?j((T(),_("input",{key:1,maxlength:"7","onUpdate:modelValue":a[0]||(a[0]=e=>ie.value=e),onInput:oe,class:"editInp dark:bg-[#111113] bg-[#FFFFFF]",ref_for:!0,ref_key:"inputRef",ref:le,type:"text",onBlur:a=>ne(e,0)},null,40,Le)),[[U,ie.value]]):V("",!0)]),E("div",Be,[K.value==e.id?(T(),G(R(z),{key:0,icon:"hugeicons:delete-02",class:"hot-icon1 cursor del",onClick:J((a=>te(e,0)),["stop"])},null,8,["onClick"])):V("",!0),K.value==e.id?(T(),G(R(z),{key:1,icon:"solar:pen-2-linear",class:M(["hot-icon1 cursor",u.value?"pen":"pen1"]),onClick:J((a=>se(e)),["stop"])},null,8,["class","onClick"])):V("",!0),K.value!=e.id?(T(),G(R(z),{key:2,icon:"hugeicons:delete-02",class:"hot-icon cursor del",onClick:J((a=>te(e,0)),["stop"])},null,8,["onClick"])):V("",!0),K.value!=e.id?(T(),G(R(z),{key:3,icon:"solar:pen-2-linear",class:M(["hot-icon cursor",u.value?"pen":"pen1"]),onClick:J((a=>se(e)),["stop"])},null,8,["class","onClick"])):V("",!0)])],10,we)))),128))]),E("div",De,[Te,(T(!0),_(N,null,A(p.value,(e=>(T(),_("div",{class:M([u.value?"Item":"Item1",K.value==e.id?"select":"NotSelect"]),key:e.id,onClick:a=>$(e)},[E("div",Ee,[e.edit?V("",!0):(T(),_("p",Me,O(e.title),1)),e.edit?j((T(),_("input",{key:1,maxlength:"7","onUpdate:modelValue":a[1]||(a[1]=e=>ie.value=e),onInput:oe,class:"editInp dark:bg-[#111113] bg-[#FFFFFF]",ref_for:!0,ref_key:"inputRef",ref:le,type:"text",onBlur:a=>ne(e,1)},null,40,Ne)),[[U,ie.value]]):V("",!0)]),E("div",Ae,[K.value==e.id?(T(),G(R(z),{key:0,onClick:J((a=>te(e,1)),["stop"]),icon:"hugeicons:delete-02",class:"hot-icon1 cursor del"},null,8,["onClick"])):V("",!0),K.value==e.id?(T(),G(R(z),{key:1,icon:"solar:pen-2-linear",onClick:J((a=>se(e)),["stop"]),class:M(["hot-icon1 cursor",u.value?"pen":"pen1"])},null,8,["onClick","class"])):V("",!0),K.value!=e.id?(T(),G(R(z),{key:2,icon:"hugeicons:delete-02",onClick:J((a=>te(e,1)),["stop"]),class:"hot-icon cursor del"},null,8,["onClick"])):V("",!0),K.value!=e.id?(T(),G(R(z),{key:3,icon:"solar:pen-2-linear",onClick:J((a=>se(e)),["stop"]),class:M(["hot-icon cursor",u.value?"pen":"pen1"])},null,8,["onClick","class"])):V("",!0)])],10,_e)))),128))])])):V("",!0)]))}}),[["__scopeId","data-v-16482125"]]),Ve=e=>(P("data-v-3320a753"),e=e(),H(),e),je={class:"mindMapSiderBarMain"},Ue=Ve((()=>E("div",{class:"",style:{display:"flex","align-items":"center","justify-content":"space-between"}},[E("div",{style:{display:"flex","align-items":"center"}},[E("div",{style:{width:"4px",height:"8px","border-radius":"4px"},class:"bg-[#000] dark:bg-[#fff]"}),E("p",{style:{"margin-left":"4px","margin-top":"3px","font-size":"12px"}},"内容主题")])],-1))),Ge={class:"inputBox dark:bg-[#111113] bg-[#FFFFFF] border dark:border-[#2D2E33] border-[#EBEBEB] dark:text-[#6C6E79] text-[#8B8C8C]"},Je={style:{width:"100%","text-align":"end","margin-top":"15px"}},Re={key:0,class:"loader"},ze=Ve((()=>E("p",{style:{"margin-left":"6px"}},"生成导图",-1))),qe=Ve((()=>E("div",{class:"",style:{display:"flex","align-items":"center","justify-content":"space-between","margin-top":"16px"}},[E("div",{style:{display:"flex","align-items":"center"}},[E("div",{style:{width:"4px",height:"8px","border-radius":"4px"},class:"bg-[#000] dark:bg-[#fff]"}),E("p",{style:{"margin-left":"4px","margin-top":"3px","font-size":"12px"}},"内容大纲")])],-1))),Pe={class:"dark:bg-[#111113] bg-[#FFFFFF] border dark:border-[#2D2E33] border-[#EBEBEB] dark:text-[#6C6E79] text-[#8B8C8C]",style:{"margin-top":"6px",padding:"8px",height:"284px","border-radius":"12px"}},He=W(p({__name:"mindSiderBarContent",props:{demoValue:String},emits:["value","CreateMind"],setup(e,{emit:a}){const t=f(),l=e,i=a,s=I();function n(){S.emit("newValue",s.value)}w(l,(e=>{e.demoValue&&(s.value=e.demoValue)}));const o=I(),u=I(!1);function c(){o.value?(u.value=!0,i("CreateMind",o.value),o.value=""):t.error("提示词不能为空")}return S.on("loadingFalse",(e=>{u.value=e})),(e,a)=>(T(),_("div",je,[Ue,E("div",Ge,[j(E("textarea",{class:"inp",name:"",id:"",cols:"30","onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),rows:"10",placeholder:"请输入您想要生成内容的描述，AI将为您输出一份完整的思维导图"},null,512),[[U,o.value]]),E("div",Je,[E("p",{onClick:a[1]||(a[1]=e=>o.value=""),style:{cursor:"pointer","font-size":"12px"},class:"dark:text-[#6C6E79] text-[#8B8C8C]"}," 清空 ")])]),E("div",{class:"btn",onClick:c,style:{cursor:"pointer",display:"flex","justify-content":"center","align-items":"center"}},[u.value?(T(),_("div",Re)):V("",!0),ze]),qe,E("div",Pe,[j(E("textarea",{onInput:n,"onUpdate:modelValue":a[2]||(a[2]=e=>s.value=e),name:"",id:"",cols:"30",rows:"10",placeholder:"# Ai智能工具\n## 部分功能\n- 支持AI聊天\n- 支持微应用\n- 支持自定义创建\n- 支持DEL绘画\n- 支持Midjourney\n- 更多功 能等你探索\n## 更多内容\n-在上面输入您想要生成的内容\n- 点击生成大纲即可\n",class:"contentInp"},null,544),[[U,s.value]])])]))}}),[["__scopeId","data-v-3320a753"]]),We={class:"itemName"},Ke=(e=>(P("data-v-62e7c6e6"),e=e(),H(),e))((()=>E("img",{src:"/static/svg/txt-e14b52ab.svg",alt:""},null,-1))),$e={key:0,style:{"margin-left":"4px"}},Qe={class:"itemTime"},Xe={style:{"margin-top":"3px","font-size":"10px"}},Ze={class:"buttonBox"},Ye={style:{display:"flex","align-items":"center"}},ea={class:"deletChatSelect"},aa={class:"editChatSelect"},ta=W(p({__name:"recordItem",props:{item:Object,selectChatId:Object},emits:["changeTitle","deleteItem"],setup(e,{emit:a}){const t=b(),l=h((()=>"dark"===t.theme)),i=e,s=a,n=I();w(i,(e=>{e.selectChatId&&(n.value=e.selectChatId)})),S.on("changeTitle",(e=>{e&&q(e).then((e=>{200===e.code&&s("changeTitle")}))})),n.value=i.selectChatId;const o=I(),u=I(null);return(e,a)=>{var t,c,r,d,v,p,g,m;return T(),_("div",{class:M(["dark:bg-[#19191B] bg-[#F8F9F9]",[l.value?"itemBoxD":"itemBoxL",n.value.id==i.item.id?"dark:bg-[#222325] bg-[#F0F0F0]":""]])},[E("div",null,[E("div",We,[Ke,i.item.isInp?j((T(),_("input",{key:1,maxlength:"9","onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),onFocus:a[1]||(a[1]=J((()=>{}),["stop"])),onBlur:a[2]||(a[2]=e=>function(e){if(e.isInp=!1,!o.value)return;let a={groupId:e.id,title:o.value};q(a).then((a=>{200===a.code&&(e.title=o.value)}))}(i.item)),ref_key:"inpRef",ref:u,style:{"margin-left":"4px","background-color":"transparent"},placeholder:"请输入文件名称",type:"text"},null,544)),[[U,o.value]]):(T(),_("p",$e,O(i.item.title),1))]),E("div",Qe,[E("p",Xe,O(null==(r=null==(c=null==(t=i.item)?void 0:t.createdAt)?void 0:c.split("T"))?void 0:r[0])+" "+O(null==(m=null==(g=null==(p=null==(v=null==(d=null==i?void 0:i.item)?void 0:d.createdAt)?void 0:v.split("T"))?void 0:p[1])?void 0:g.split("."))?void 0:m[0]),1)])]),E("div",Ze,[E("div",Ye,[E("div",ea,[E("img",{src:"/static/svg/deletChatSelect-52cf527b.svg",alt:"",onClick:a[3]||(a[3]=J((e=>{return a=i.item,void s("deleteItem",a);var a}),["stop"]))})]),E("div",aa,[E("img",{style:{"margin-left":"4px"},src:"/static/svg/editChatSelect-35464e86.svg",alt:"",onClick:a[4]||(a[4]=J((e=>(i.item.isInp=!0,void setTimeout((()=>{u.value.focus()}),100))),["stop"]))})])])])],2)}}}),[["__scopeId","data-v-62e7c6e6"]]),la=e=>(P("data-v-053c4e2b"),e=e(),H(),e),ia={class:"DocumentBox"},sa={class:"topBox"},na=[la((()=>E("img",{style:{"margin-right":"4px"},src:"/static/svg/add-a8c43923.svg",alt:""},null,-1))),la((()=>E("p",null,"新建文档",-1)))],oa={class:"inpBox dark:bg-[#222325] bg-[#F0F0F0]"},ua={key:0,src:"/static/svg/search-a5fa3211.svg",alt:""},ca={key:1,src:"/static/svg/search copy-726f56f2.svg",alt:""},ra={class:"record"},da={class:"today"},va=la((()=>E("div",{class:"recordTitle"},"今天",-1))),pa=["onClick"],ga={class:"histroy"},ma=la((()=>E("div",{class:"recordTitle"},"历史",-1))),fa=["onClick"],ya=W(p({__name:"documentSiderBarContent",props:{changeModelisSuccess:Number},emits:["documentChatLog","handleModelInfo"],setup(e,{emit:a}){const t=y(),{isMobile:l}=g(),i=h((()=>t.isLogin)),s=b(),n=h((()=>"dark"===s.theme)),o=a,u=f(),c=C(),r=I("");I([]);w(e,(e=>{e.changeModelisSuccess&&m()}));const d=I([]),v=I([]),p=I([]);async function m(){d.value=[],v.value=[],p.value=[],await F({modelType:"chat"}).then((e=>{0!=e.data.length&&(d.value=e,x(e,0))}))}function x(e,a){1==a&&(v.value=[],p.value=[]);let t=(new Date).getDate();t<10&&(t="0"+t);const{data:l}=e;l.forEach((e=>{if(e.title=e.title.slice(0,7),null!=e.lastTime){let a=e.lastTime.split(" ")[0].split("-")[2];t==a?v.value=[...v.value,e]:p.value=[...p.value,e]}if(null===e.lastTime){let a=e.createdAt.split(" ")[0].split("-")[2];t==a?v.value=[...v.value,e]:p.value=[...p.value,e]}}))}m();const k=I();function S(e){let a={groupId:e.id,logType:1};B(a).then((async a=>{localStorage.setItem("chatLogId",JSON.stringify(e)),await c.setActiveGroup(e.id);let t=a.data.filter((e=>null!=e.conversationOptions));k.value=e,o("documentChatLog",t),o("handleModelInfo",e)}))}async function L(){try{if(!i.value)return void t.setLoginDialog(!0);await c.updateChatTab("history"),await c.addNewChatGroup(),await c.queryMyGroup(),await m(),S(d.value.data[0]),l.value&&s.setSiderCollapsed(!0)}catch(e){u.error("创建失败")}}function D(e){O("today",e)}function M(e){O("history",e)}async function O(e,a){if(0==v.value.length&&1==p.value.length||1==v.value.length&&0==p.value.length)u.error("至少保留一个对话");else{if(await c.deleteGroup(a),"today"==e){if(v.value=v.value.filter((e=>e.id!=a.id)),k.value.id==a.id){if(0==v.value.length)return void S(p.value[0]);S(v.value[0])}}else if("history"==e&&(p.value=p.value.filter((e=>e.id!=a.id)),k.value.id==a.id)){if(0==p.value.length)return void S(v.value[0]);S(p.value[0])}u.success("删除成功")}}function V(){m()}return localStorage.getItem("chatLogId")?(k.value=JSON.parse(localStorage.getItem("chatLogId")),S(k.value)):(k.value=0,F({modelType:"chat"}).then((e=>{0!=e.data.length&&(k.value=e.data[0],S(e.data[0]))}))),w(r,(e=>{if(console.log(e),e){x({data:d.value.data.filter((e=>{if(-1!=e.title.indexOf(r.value))return e}))},1)}else x(d.value,1)})),(e,a)=>(T(),_("div",ia,[E("div",sa,[E("div",{class:"createDocument",onClick:L},na),E("div",oa,[n.value?(T(),_("img",ua)):(T(),_("img",ca)),j(E("input",{onInput:a[0]||(a[0]=(...a)=>e.inputSearch&&e.inputSearch(...a)),"onUpdate:modelValue":a[1]||(a[1]=e=>r.value=e),type:"text",placeholder:"输入名称搜索文档"},null,544),[[U,r.value]])])]),E("div",ra,[E("div",da,[va,(T(!0),_(N,null,A(v.value,(e=>(T(),_("div",{key:e.id,onClick:a=>S(e)},[K(ta,{onChangeTitle:V,onDeleteItem:D,selectChatId:k.value,item:e},{default:$((()=>[Q(">")])),_:2},1032,["selectChatId","item"])],8,pa)))),128))]),E("div",ga,[ma,(T(!0),_(N,null,A(p.value,(e=>(T(),_("div",{key:e.id,onClick:a=>S(e)},[K(ta,{onChangeTitle:V,onDeleteItem:M,selectChatId:k.value,item:e},null,8,["selectChatId","item"])],8,fa)))),128))])])]))}}),[["__scopeId","data-v-053c4e2b"]]),ha=e=>(P("data-v-1887410d"),e=e(),H(),e),xa={key:0,class:"LoginBox"},ka=ha((()=>E("div",{class:"title"},"注册或者登录",-1))),Ca=ha((()=>E("div",{class:"intro dark:text-[#6C6E79] text-[#8B8C8C]"}," 获取更加智能的回复、上传文件和图片，并获享更多功能。 ",-1))),ba=ha((()=>E("div",{class:"imgBox border border-[#CD7F10]"},[E("img",{src:"/static/svg/vipLogo-f8c2862a.svg",alt:""})],-1))),Ia={style:{flex:"1","margin-left":"4px"}},wa={style:{"font-size":"12px"}},Sa={class:"upgradeIntro text-[#818282] dark:text-[#787A86]"},Fa=W(p({__name:"newSiderBar",props:{currentRoute:String,changeModelisSuccess:Number,demoValue:String},emits:["documentChatLog","handleModelInfo","value","CreateMind"],setup(e,{emit:a}){const t=h((()=>i.isLogin)),l=b();h((()=>"dark"===l.theme)),x(),k();const i=y();h((()=>i.globalConfig.clientLogoPath));const s=h((()=>i.userInfo.vipExpire)),n=X();function o(e){0==e?(S.emit("register",3),i.setLoginDialog(!0)):1==e&&(i.setLoginDialog(!0),S.emit("register",0))}const u=I(!1),c=I(!1);S.on("closeSideBar",(e=>{u.value=e,e?c.value=e:setTimeout((()=>{c.value=e}),100)}));const r=()=>{d()},d=async()=>{i.checkAuth()&&n.updateVipDialog(!0)},v=e,p=I();w(v,(e=>{e.demoValue&&(p.value=e.demoValue)}));const g=I(0);w(v,(e=>{e.changeModelisSuccess&&(g.value=e.changeModelisSuccess)}));const m=a;function f(e){m("documentChatLog",e)}function C(e){m("handleModelInfo",e)}function F(e){m("CreateMind",e)}return(e,a)=>(T(),_("div",null,[E("div",{class:M(["dark:bg-[#19191B] bg-[#F8F9F9]",u.value?"close":"siderMain"])},[E("div",{class:"mainBox1",style:Z(c.value?{display:"none"}:"")},["/chat"==v.currentRoute?(T(),G(Oe,{key:0})):V("",!0),"/mindMap"==v.currentRoute?(T(),G(He,{key:1,onCreateMind:F,demoValue:p.value},null,8,["demoValue"])):V("",!0),"/document"==v.currentRoute&&t.value?(T(),G(ya,{key:2,changeModelisSuccess:g.value,onDocumentChatLog:f,onHandleModelInfo:C},null,8,["changeModelisSuccess"])):V("",!0)],4),E("div",{class:"mainBox",style:Z(c.value?{display:"none"}:"")},[t.value?(T(),_("div",{key:1,class:"upgrade dark:bg-[#19191B] bg-[#F8F9F9]",style:{cursor:"pointer"},onClick:r},[ba,E("div",Ia,[E("p",wa,O(null==s.value?"升级套餐":"会员到期："),1),E("p",Sa,O(null==s.value?"暂未开通会员":s.value.split("T")[0]),1)])])):(T(),_("div",xa,[ka,Ca,E("div",{class:"register",onClick:a[0]||(a[0]=e=>o(0))},"注册"),E("div",{class:"login border border-[2px] dark:border-[#323339] border-[#D6D7D7]",onClick:a[1]||(a[1]=e=>o(1))}," 登录 ")]))],4)],2)]))}}),[["__scopeId","data-v-1887410d"]]),La=e=>(P("data-v-ebe09278"),e=e(),H(),e),Ba={class:"main"},Da=La((()=>E("img",{src:"/static/svg/mindMap-377a58ab.svg",alt:""},null,-1))),Ta=La((()=>E("p",{style:{"font-size":"17px","margin-top":"12px"}},"思维导图",-1))),_a=La((()=>E("p",{style:{"font-size":"12px","margin-top":"2px"},class:"dark:text-[#6C6E79] text-[#8B8C8C]"},"点击下方按钮，开始一个示例",-1))),Ea=W(p({__name:"content",emits:["demoData"],setup(e,{emit:a}){const t=a;function l(){t("demoData")}return(e,a)=>(T(),_("div",Ba,[E("div",{style:{display:"flex","flex-direction":"column","align-items":"center"}},[Da,Ta,_a,E("div",{class:"btn",onClick:l},"立即开始")])]))}}),[["__scopeId","data-v-ebe09278"]]),Ma={class:"flex-1 w-full p-4"},Na="\n# 会议流程\n\n## 开场白\n- 欢迎词\n- 自我介绍\n\n## 议程安排\n- 介绍会议议程\n- 确认议程是否被所有人接受\n\n## 上一次会议的总结\n- 回顾上次会议的议题及结果\n- 确认上次会议的行动项是否已经完成\n\n## 主题讨论\n- 提出本次会议的主题\n- 介绍主题相关背景信息\n- 提出问题并进行讨论\n- 形成共识或决策\n\n## 行动项\n- 确定行动项及责任人\n- 确定完成时间和目标\n\n## 公告和其他事项\n- 公告即将到来的活动或项目\n- 公告公司的其他事项\n\n## 结束语\n- 感谢所有人的参与\n- 总结会议内容\n- 确认下一次会议的时间和议题\n",Aa=p({__name:"mindSvg",props:{type:Number,startCreate:String},emits:["value","cacheText","isSuccess"],setup(e,{emit:a}){var t;const l=h((()=>n.isLogin)),i=f(),s=Y(),n=y(),o=new se.Transformer,u=null==(t=n.globalConfig)?void 0:t.mindDefaultData,c=I(),r=I(""),d=a;const v=e;w(v,((e,a)=>{e.startCreate&&(x.value=e.startCreate,async function(){if(!l.value)return void n.setLoginDialog(!0);d("isSuccess",!0),m.value=!0,r.value="";try{const e="";let a="";const t=()=>(r.value=a,!!m.value||(r.value=a,d("cacheText",a),p(),!1)),l=setInterval((()=>{t()||clearInterval(l)}),1e3),i=async()=>{await ae({prompt:x.value,onDownloadProgress:({event:t})=>{const l=t.target,{responseText:i}=l,s=i.lastIndexOf("\n",i.length-2);let n=i;-1!==s&&(n=i.substring(s));try{const t=JSON.parse(n);a=e+(t.text??"")}catch(o){}}}),S.emit("loadingFalse",!1),m.value=!1};await i()}catch(e){S.emit("loadingFalse",!1),m.value=!1;const{code:a=500,message:t="好像出错了，请稍后再试！"}=e;if(429===a&&t.includes("balance has been exhausted"))return i.error("当前系统Key余额耗尽、请联系管理员补充！");if(500===a){let a=(null==e?void 0:e.message)??"好像出错了，请稍后再试！";return"Request failed with status code 401"===a&&(a="非法操作、请先登录后再进行问答使用！"),void i.error(a)}if(402===e.code)return i.error(e.message,{duration:5e3}),void s.updateGoodsDialog(!0);i.error("出了点小错误、请稍后试试吧！")}finally{S.emit("loadingFalse",!1),m.value=!1}}())})),0==v.type&&(r.value=Na,d("value",Na)),ee((()=>{setTimeout((()=>{r.value=u||"# GoMaxAi\n## 基础功能\n- 支持AI聊天\n- 支持GPT4\n- 支持DLLAE2\n- 支持Midjourney\n- 更多功能等你探索......\n\n## 更多内容\n-  在上面输入您想要生成的内容\n- 点击生成即可\n\n"}),1e3)})),ee((()=>{g=ne.create(c.value),p()})),S.on("newValue",(e=>{r.value=e,p()}));const p=()=>{const{root:e}=o.transform(r.value);g.setData(e),g.fit()};let g;const m=I(!1),x=I("");return(e,a)=>(T(),_("div",Ma,[(T(),_("svg",{ref_key:"svgRef",ref:c,class:"box-border w-full h-[80vh]"},null,512))]))}}),Oa=e=>(P("data-v-1e953433"),e=e(),H(),e),Va={style:{display:"flex"}},ja={class:"dark:bg-[#19191B] bg-[#F8F9F9]",style:{width:"466px",height:"394px","border-radius":"24px"}},Ua={style:{display:"flex","justify-content":"space-between",padding:"16px"}},Ga=Oa((()=>E("p",{style:{"font-size":"17px","font-weight":"bold"}},"客服",-1))),Ja={style:{flex:"1",display:"flex","justify-content":"center",height:"calc( 100% - 56px)","align-items":"center","padding-bottom":"24px"}},Ra={style:{padding:"24px 24px 12px 24px","border-radius":"12px","background-color":"#FFF",border:"1px solid #e8e8e8","text-align":"center"}},za=["src"],qa=Oa((()=>E("p",{style:{color:"#8B8C8C","margin-top":"12px"}},"请使用微信扫描上方二维码",-1))),Pa={style:{flex:"1",position:"relative"}},Ha={style:{display:"flex","justify-content":"center","margin-top":"24px",position:"absolute",bottom:"10px",width:"100%"}},Wa={style:{color:"#eeeeee"},class:"end"},Ka={style:{display:"flex"},class:"text-[#8B8C8C] dark:text-[#6C6E79]"},$a={key:0,style:{display:"flex","margin-left":"8px"}},Qa=["href"],Xa={key:1,style:{display:"flex","margin-left":"8px"}},Za=["href"],Ya={class:"fixedBox"},et=[Oa((()=>E("img",{src:d,alt:""},null,-1)))],at=[Oa((()=>E("img",{src:v,alt:""},null,-1)))],tt=["onClick"],lt=["src"],it={style:{"margin-left":"8px","margin-top":"3px"}},st=W(p({__name:"index",setup(d){const v=b(),p=h((()=>"dark"===v.theme)),g=k(),m=I(),f=Y();m.value=g.path;const y=I(!1),x=I(!0),C=I();function w(){y.value=!0,x.value=!1,C.value=0}const F=I();function L(e){F.value=e}const B=I("");function D(e){y.value=!0,x.value=!1,setTimeout((()=>{B.value=e}),100)}function j(e){F.value=e}function U(e){e&&(B.value="")}const J=I(""),z=I(""),q=I(""),P=I(""),H=I("");oe({keys:["copyrightTitle","icpNumber","policeFilingNumber","icpUrl","policeFilingUrl"]}).then((e=>{J.value=e.data.copyrightTitle,z.value=e.data.icpNumber,q.value=e.data.policeFilingNumber,P.value=e.data.icpUrl,H.value=e.data.policeFilingUrl}));const W=I(!1),X=I(""),Z=async()=>{X.value=await(async()=>await le({keys:["wechatImage"]}).then((e=>e.data)))(),W.value=!0},ee=I(!1);function ae(){ee.value=!ee.value}const se=[{title:"帮助与常见问题解答",id:0,iconDark:l,iconLight:i},{title:"条款与政策",id:1,iconDark:s,iconLight:n},{title:"反馈与建议",id:2,iconDark:o,iconLight:u},{title:"关于我们",id:3,iconDark:c,iconLight:r}];return(l,i)=>(T(),_("div",Va,[K(e),K(R(te),{show:W.value,"onUpdate:show":i[2]||(i[2]=e=>W.value=e)},{default:$((()=>[E("div",ja,[E("div",Ua,[Ga,p.value?(T(),_("img",{key:0,src:a,style:{cursor:"pointer"},alt:"",onClick:i[0]||(i[0]=e=>W.value=!1)})):(T(),_("img",{key:1,src:t,style:{cursor:"pointer"},alt:"",onClick:i[1]||(i[1]=e=>W.value=!1)}))]),E("div",Ja,[E("div",Ra,[E("img",{src:X.value,alt:"",style:{width:"200px",height:"200px"}},null,8,za),qa])])])])),_:1},8,["show"]),K(Fa,{onCreateMind:D,currentRoute:m.value,demoValue:F.value},null,8,["currentRoute","demoValue"]),E("div",Pa,[K(ie),x.value?(T(),G(Ea,{key:0,onDemoData:w})):V("",!0),y.value?(T(),G(Aa,{key:1,onIsSuccess:U,onCacheText:j,startCreate:B.value,type:C.value,onValue:L},null,8,["startCreate","type"])):V("",!0),E("div",Ha,[E("div",Wa,[E("div",Ka,[Q("版权所有 © "+O(J.value)+" ",1),z.value?(T(),_("div",$a,[E("a",{href:P.value||"#"},O(z.value),9,Qa)])):V("",!0),q.value?(T(),_("div",Xa,[E("a",{href:H.value||"#"},O(q.value),9,Za)])):V("",!0)])])])]),E("div",Ya,[E("div",{class:"fixedIcon border border-[#E8E8E8] dark:border-[#2C2D31]",onClick:Z},et),E("div",{class:"fixedIcon border border-[#E8E8E8] dark:border-[#2C2D31]",onClick:ae,style:{"margin-top":"12px"}},at),ee.value?(T(),_("div",{key:0,class:M(p.value?"helpBoxD":"helpBoxL")},[(T(),_(N,null,A(se,(e=>E("div",{class:M(p.value?"hlepItemD":"hlepItemL"),key:e.id,style:{display:"flex","align-items":"center"},onClick:a=>function(e){0==e.id?ee.value=!1:1==e.id?(window.open("/policy","_blank"),ee.value=!1):2==e.id?(f.updateFeedbackDialog(!0),ee.value=!1):3==e.id&&(S.emit("aboutIsShow",!0),ee.value=!1)}(e)},[E("img",{src:p.value?e.iconDark:e.iconLight,alt:""},null,8,lt),E("div",it,O(e.title),1)],10,tt))),64))],2)):V("",!0)])]))}}),[["__scopeId","data-v-1e953433"]]);export{st as default};
