import{e,r as a,R as l,a2 as t,N as s,ak as n,W as o,P as r,U as i,O as d,_ as u,X as v,bV as c,Z as p,bX as b,$ as m,a8 as y,a4 as h,am as x,bj as f,bY as g,aj as k,j as w,H as E,bo as _,bZ as j,a1 as I}from"../main-6c725c30.js";const A={class:"flex justify-between"},C={class:"mr-2 w-10/12"},F={class:"dark:border-gray-600 border h-[470px] min-h-[470px] overflow-y-auto overflow-x-hidden"},T={class:"p-2"},U={class:"mb-2"},H={class:"level-classify text-[15px] py-2 pt-2"},N={key:0,class:"my-1"},P=["onClick"],W={class:"select-none"},O={class:"w-2/12 h-full flex flex-col"},S={class:"dark:bg-[#15171A] dark:border-gray-600 border bg-[#FFFFFF] h-[470px] rounded p-2"},X=e({__name:"createInspiration",props:{type:{type:String}},emits:["textToImg","dall"],setup(e,{expose:k,emit:w}){const E=a(!1),_=a(""),j=l(),I=w,X=e,Z=t({level1:[],level2:[]}),R=a(0),V=async e=>{R.value=e,Z.level2=await f({id:e}).then((e=>e.data.rows))},Y=()=>{j.updatePromptWords({prompt:_.value}),"mj"==X.type?I("textToImg",_.value):"dall"==X.type&&I("dall",_.value),E.value=!1},$=async()=>{const e=await g({level:0}).then((e=>e.data)),{level1:a}=e;await V(a[0].id),Object.assign(Z,{level1:a})};return k({open:()=>{E.value=!0,$()}}),(e,a)=>(s(),n(v(x),{show:E.value,"onUpdate:show":a[1]||(a[1]=e=>E.value=e),style:{width:"1200px",height:"600px"},preset:"dialog",title:"咒语生成器","close-on-esc":!1,"mask-closable":!1,"show-icon":!1},{default:o((()=>[r("div",A,[r("div",C,[i(v(b),{value:R.value,"onUpdate:value":[a[0]||(a[0]=e=>R.value=e),V],type:"card",animated:"",trigger:"click","tab-style":"min-width: 90px; text-align: center;"},{default:o((()=>[(s(!0),d(p,null,u(Z.level1,(e=>(s(),n(v(c),{key:e.id,tab:e.classifyName,name:e.id},null,8,["tab","name"])))),128))])),_:1},8,["value"]),r("div",F,[r("ul",T,[(s(!0),d(p,null,u(Z.level2,(e=>(s(),d("li",null,[r("div",U,[r("span",H,m(e.classifyName),1)]),e.children.length>0?(s(),d("div",N,[(s(!0),d(p,null,u(e.children,(e=>(s(),d("div",{key:e.id,class:y(["inline-block rounded mr-2 mb-2 text-[12px] py-[2px] px-[6px]",[_.value.includes(e.incantationEn)?"dark:bg-[#010102] bg-[#A0A0A0]":"dark:bg-[#1E2023] bg-[#f4f4f4]"]]),onClick:a=>(e=>{_.value.includes(e.incantationEn)?_.value=_.value.replace(e.incantationEn+",",""):_.value+=e.incantationEn+","})(e)},[r("button",W,m(e.incantationCn)+" "+m(e.incantationEn),1)],10,P)))),128))])):h("",!0)])))),256))])])]),r("div",O,[r("div",S,[r("p",null,m(_.value),1)]),r("div",{onClick:Y,class:"rounded-full flex items-center justify-center mt-2 w-full h-[42px] cursor-pointer bg-[#10A37F]"},a[2]||(a[2]=[r("p",{class:"dark:text-white text-white"},"前往制作",-1)]))])])])),_:1},8,["show"]))}}),Z=I(e({__name:"baiduThink",props:{type:{type:String}},emits:["dall","textToImg"],setup(e,{expose:t,emit:r}){const u=r,c=e,p=a(!1),b=a(!1),m=a(!1),f=a(""),g=a(""),I=k(),A=l(),C=w((()=>b.value||!f.value)),F=()=>{f.value=g.value,T()},T=async()=>{if(m.value=!1,g.value=f.value,C.value)return;if(!f.value)return I.info("请输入简单的描述!"),b.value=!1,void(m.value=!1);b.value=!0;const e=await j({prompt:f.value}).then((e=>e.data||"")).catch((()=>{b.value=!1,m.value=!1}));b.value=!1,f.value=e,m.value=!0},U=()=>{A.updatePromptWords({prompt:f.value}),p.value=!1,"dall"==c.type?u("dall",f.value):"mj"==c.type&&u("textToImg",f.value)};return t({open:()=>{p.value=!0}}),(e,a)=>(s(),n(v(x),{show:p.value,"onUpdate:show":a[1]||(a[1]=e=>p.value=e),preset:"dialog",title:"AI帮我想","close-on-esc":!1,"mask-closable":!1,"show-icon":!1},{action:o((()=>[m.value?(s(),d("div",{key:0,class:"btn btnHover border border-[#E0E0E6] dark:border-[#525355]",onClick:F},"重新联想")):h("",!0),m.value?(s(),d("div",{key:1,class:"btn btnHover border border-[#E0E0E6] dark:border-[#525355]",onClick:U},"使用此描述")):h("",!0),m.value?h("",!0):(s(),d("div",{key:2,class:y(["btn border border-[#E0E0E6] dark:border-[#525355]",C.value?"":"btnHover"]),onClick:T,style:E(C.value?"cursor: not-allowed;":"")},"生成此描述",6))])),default:o((()=>[i(v(_),{value:f.value,"onUpdate:value":a[0]||(a[0]=e=>f.value=e),clearable:"",type:"textarea",loading:b.value,bordered:"",disabled:b.value,placeholder:"请输入简单的描述，AI将智能完善创意描述","show-count":"",rows:7,maxlength:"3000",class:"dark:bg-[#010102] bg-[#f4f4f4]"},null,8,["value","loading","disabled"])])),_:1},8,["show"]))}}),[["__scopeId","data-v-f3b7ea74"]]);export{X as _,Z as b};
