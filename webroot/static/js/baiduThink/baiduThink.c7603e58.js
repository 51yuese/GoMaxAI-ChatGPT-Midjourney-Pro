import{e,r as a,k as l,K as t,w as s,O as n,D as o,y as r,d5 as i,B as d,C as u,x as v,E as c,a7 as p,F as b,a8 as m,z as y,a1 as g,A as x,aj as f,bN as h,p as k,g as w,G as E,aI as F,d6 as _,_ as C}from"../main-bf8e7d49.js";const I={class:"flex justify-between"},j={class:"mr-2 w-10/12"},A={class:"dark:border-gray-600 border h-[470px] min-h-[470px] overflow-y-auto overflow-x-hidden"},T={class:"p-2"},S={class:"mb-2"},U={class:"level-classify text-[15px] py-2 pt-2"},H={key:0,class:"my-1"},N=["onClick"],D={class:"select-none"},O={class:"w-2/12 h-full flex flex-col"},P={class:"dark:bg-[#15171A] dark:border-gray-600 border bg-[#FFFFFF] h-[470px] rounded p-2"},W=e({__name:"createInspiration",props:{type:{type:String},title:{type:String,default:"咒语生成器"}},emits:["textToImg","dall"],setup(e,{expose:k,emit:w}){const E=a(!1),F=a(""),_=l(),C=w,W=e,z=t({level1:[],level2:[]}),B=a(0),G=async e=>{B.value=e,z.level2=await h({id:e}).then((e=>e.data.rows))},K=()=>{_.updatePromptWords({prompt:F.value}),"mj"==W.type?C("textToImg",F.value):"dall"==W.type&&C("dall",F.value),E.value=!1},q=async()=>{const e=await i({level:0}).then((e=>e.data)),{level1:a}=e;await G(a[0].id),Object.assign(z,{level1:a})};return k({open:()=>{E.value=!0,q()}}),(e,a)=>(s(),n(r(f),{show:E.value,"onUpdate:show":a[1]||(a[1]=e=>E.value=e),style:{width:"1200px",height:"600px",background:"#2F2F2F","border-radius":"20px"},preset:"dialog",title:W.title,"close-on-esc":!1,"mask-closable":!1,"show-icon":!1},{default:o((()=>[d("div",I,[d("div",j,[u(r(m),{value:B.value,"onUpdate:value":[a[0]||(a[0]=e=>B.value=e),G],type:"card",animated:"",trigger:"click","tab-style":"min-width: 90px; text-align: center;"},{default:o((()=>[(s(!0),v(b,null,c(z.level1,(e=>(s(),n(r(p),{key:e.id,tab:e.classifyName,name:e.id},null,8,["tab","name"])))),128))])),_:1},8,["value"]),d("div",A,[d("ul",T,[(s(!0),v(b,null,c(z.level2,(e=>(s(),v("li",null,[d("div",S,[d("span",U,y(e.classifyName),1)]),e.children.length>0?(s(),v("div",H,[(s(!0),v(b,null,c(e.children,(e=>(s(),v("div",{key:e.id,class:g(["inline-block rounded mr-2 mb-2 text-[12px] py-[2px] px-[6px]",[F.value.includes(e.incantationEn)?"dark:bg-[#010102] bg-[#A0A0A0]":"dark:bg-[#1E2023] bg-[#f4f4f4]"]]),onClick:a=>(e=>{F.value.includes(e.incantationEn)?F.value=F.value.replace(e.incantationEn+",",""):F.value+=e.incantationEn+","})(e)},[d("button",D,y(e.incantationCn)+" "+y(e.incantationEn),1)],10,N)))),128))])):x("",!0)])))),256))])])]),d("div",O,[d("div",P,[d("p",null,y(F.value),1)]),d("div",{onClick:K,class:"rounded-full flex items-center justify-center mt-2 w-full h-[42px] cursor-pointer bg-gradient-to-r from-[#957DF4] to-[#3C69E7]"},a[2]||(a[2]=[d("p",{class:"dark:text-white text-white"},"前往制作",-1)]))])])])),_:1},8,["show","title"]))}}),z=C(e({__name:"baiduThink",props:{type:{type:String},title:{type:String,default:"AI帮我想"}},emits:["dall","textToImg"],setup(e,{expose:t,emit:i}){const d=i,c=e,p=a(!1),b=a(!1),m=a(!1),y=a(""),h=a(""),C=k(),I=l(),j=w((()=>b.value||!y.value)),A=()=>{y.value=h.value,T()},T=async()=>{if(m.value=!1,h.value=y.value,j.value)return;if(!y.value)return C.info("请输入简单的描述!"),b.value=!1,void(m.value=!1);b.value=!0;const e=await _({prompt:y.value}).then((e=>e.data||"")).catch((()=>{b.value=!1,m.value=!1}));b.value=!1,y.value=e,m.value=!0},S=()=>{I.updatePromptWords({prompt:y.value}),p.value=!1,"dall"==c.type?d("dall",y.value):"mj"==c.type&&d("textToImg",y.value)};return t({open:()=>{p.value=!0},thinks:y}),(e,a)=>(s(),n(r(f),{show:p.value,"onUpdate:show":a[1]||(a[1]=e=>p.value=e),preset:"dialog",title:c.title,style:{background:"#2F2F2F","border-radius":"20px"},"close-on-esc":!1,"mask-closable":!1,"show-icon":!1},{action:o((()=>[m.value?(s(),v("div",{key:0,class:"btn btnHover border border-[#E0E0E6] dark:border-[#525355]",onClick:A},"重新联想")):x("",!0),m.value?(s(),v("div",{key:1,class:"btn btnHover border border-[#E0E0E6] dark:border-[#525355]",onClick:S},"使用此描述")):x("",!0),m.value?x("",!0):(s(),v("div",{key:2,class:g(["btn border border-[#E0E0E6] dark:border-[#525355]",j.value?"":"btnHover"]),onClick:T,style:E(j.value?"cursor: not-allowed;":"")},"生成此描述",6))])),default:o((()=>[u(r(F),{value:y.value,"onUpdate:value":a[0]||(a[0]=e=>y.value=e),clearable:"",type:"textarea",loading:b.value,bordered:"",disabled:b.value,placeholder:"请输入简单的描述，AI将智能完善创意描述","show-count":"",rows:7,maxlength:"3000",class:"dark:bg-[#010102] bg-[#f4f4f4]"},null,8,["value","loading","disabled"])])),_:1},8,["show","title"]))}}),[["__scopeId","data-v-ffa858ea"]]);export{W as _,z as b};
