import{_ as e,O as t,P as a,a as o,b as l,w as n,ah as r,L as s,d as i,K as c,e as u,t as d,H as h,J as m,M as y,i as p,aX as f,Q as g,j as S,R as b,S as x,g as v,Z as A}from"./index-5HZnFt5a.js";import{p as V}from"./props.CsYLBIgk.js";const C=e({name:"uv-textarea",mixins:[t,a,V],props:{clearContent:{type:Boolean,default:!1},hasHeaderSlot:{type:Boolean,default:!1},hasCountSlot:{type:Boolean,default:!1},hasOperationSlot:{type:Boolean,default:!1},clearIcon:{type:String,default:""},theme:{type:String,default:"dark"},clearIconStyle:{type:[String,Object],default:""}},data:()=>({innerValue:"",focused:!1,innerFormatter:e=>e}),created(){this.innerValue=this.modelValue},watch:{value(e){this.innerValue=e},modelValue(e){this.innerValue=e}},computed:{textareaClass(){let e=[],{border:t,disabled:a}=this;return"surround"===t&&(e=e.concat(["uv-border","uv-textarea--radius"])),"bottom"===t&&(e=e.concat(["uv-border-bottom","uv-textarea--no-radius"])),a&&e.push("uv-textarea--disabled"),e.join(" ")},textareaStyle(){return this.$uv.deepMerge({},this.$uv.addStyle(this.customStyle))},maxlen(){return this.maxlength<0?this.maxlength<0?-1:140:this.maxlength},getCount(){try{return this.innerValue.length>this.maxlen?this.maxlen:this.innerValue.length}catch(e){return 0}}},methods:{clear(){this.innerValue="",console.log(this.innerValue),this.valueChange()},setFormatter(e){this.innerFormatter=e},onFocus(e){this.$emit("focus",e)},onBlur(e){this.$emit("blur",e),this.$uv.formValidate(this,"blur")},onLinechange(e){this.$emit("linechange",e)},onInput(e){let{value:t=""}=e.detail||{};const a=(this.formatter||this.innerFormatter)(t);this.innerValue=t,this.$nextTick((()=>{this.innerValue=a,this.valueChange()}))},valueChange(){const e=this.innerValue;this.$nextTick((()=>{this.$emit("input",e),this.$emit("update:modelValue",e),this.$emit("change",e),this.$uv.formValidate(this,"change")}))},onConfirm(e){this.$emit("confirm",e)},onKeyboardheightchange(e){this.$emit("keyboardheightchange",e)}}},[["render",function(e,t,a,b,x,v){const A=p,V=f,C=g,O=S;return o(),l(A,{class:y(["uv-textarea",v.textareaClass]),style:c([v.textareaStyle])},{default:n((()=>[a.hasHeaderSlot?(o(),l(A,{key:0},{default:n((()=>[r(e.$slots,"header",{},void 0,!0)])),_:3})):s("",!0),i(V,{class:"uv-textarea__field",value:x.innerValue,style:c([{height:e.autoHeight?"auto":e.$uv.addUnit(e.height-(a.hasHeaderSlot?59:0))},e.$uv.addStyle(e.textStyle)]),placeholder:e.placeholder,"placeholder-style":e.$uv.addStyle(e.placeholderStyle,"string"),"placeholder-class":e.placeholderClass,disabled:e.disabled,focus:e.focus,autoHeight:e.autoHeight,fixed:e.fixed,cursorSpacing:e.cursorSpacing,cursor:e.cursor,showConfirmBar:e.showConfirmBar,selectionStart:e.selectionStart,selectionEnd:e.selectionEnd,adjustPosition:e.adjustPosition,disableDefaultPadding:e.disableDefaultPadding,holdKeyboard:e.holdKeyboard,maxlength:v.maxlen,confirmType:e.confirmType,ignoreCompositionEvent:e.ignoreCompositionEvent,"confirm-hold":e.confirmHold,onFocus:v.onFocus,onBlur:v.onBlur,onLinechange:v.onLinechange,onInput:v.onInput,onConfirm:v.onConfirm,onKeyboardheightchange:v.onKeyboardheightchange},null,8,["value","style","placeholder","placeholder-style","placeholder-class","disabled","focus","autoHeight","fixed","cursorSpacing","cursor","showConfirmBar","selectionStart","selectionEnd","adjustPosition","disableDefaultPadding","holdKeyboard","maxlength","confirmType","ignoreCompositionEvent","confirm-hold","onFocus","onBlur","onLinechange","onInput","onConfirm","onKeyboardheightchange"]),i(A,{class:"flex-between uv-textarea__count",style:{width:"650rpx","z-index":"9"}},{default:n((()=>[i(A,null,{default:n((()=>[r(e.$slots,"operation",{},void 0,!0)])),_:3}),i(A,{class:"items-center",style:{"line-height":"0"}},{default:n((()=>[e.count&&-1!=v.maxlen?(o(),l(A,{key:0},{default:n((()=>[i(C,{style:c([{"background-color":e.disabled?"transparent":"none"},e.$uv.addStyle(e.countStyle)])},{default:n((()=>[u(d(v.getCount)+"/"+d(v.maxlen),1)])),_:1},8,["style"])])),_:1})):s("",!0),a.clearContent?(o(),h(m,{key:1},[e.count?(o(),l(A,{key:0,style:{color:"#D8D8D8","font-size":"20rpx",margin:"0 10rpx"}})):s("",!0),a.clearIcon?(o(),l(O,{key:1,src:`/static/${a.clearIcon}.png`,style:c(a.clearIconStyle),onClick:v.clear},null,8,["src","style","onClick"])):"dark"===a.theme?(o(),l(O,{key:2,src:"data:image/png;base64,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",onClick:v.clear},null,8,["onClick"])):(o(),l(A,{key:3,class:"clear-textarea",onClick:v.clear},{default:n((()=>[u("清空")])),_:1},8,["onClick"]))],64)):s("",!0),r(e.$slots,"count",{},void 0,!0)])),_:3})])),_:3})])),_:3},8,["class","style"])}],["__scopeId","data-v-cfdac76e"]]),O={__name:"index",props:b({placeholder:{type:String,default:""},count:{type:Boolean,default:!0},height:{type:Number,default:169},maxlength:{type:Number,default:1e3},clearContent:{type:Boolean,default:!0},customStyle:{type:Object,default:()=>({})},textStyle:{type:Object,default:()=>({})},countStyle:{type:Object,default:()=>({})},placeholderStyle:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},hasHeaderSlot:{type:Boolean,default:!1},hasCountSlot:{type:Boolean,default:!1},hasOperationSlot:{type:Boolean,default:!1},clearIcon:{type:String,default:""},theme:{type:String,default:"dark"},clearIconStyle:{type:[String,Object],default:""}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,a=Object.assign({border:0,borderRadius:"24rpx",padding:"24rpx 20rpx",boxSizing:"border-box"},t.customStyle),s=Object.assign({fontSize:"28rpx",color:"#9e9e9e",lineHeight:"normal"},t.textStyle),c=Object.assign({fontSize:"24rpx",color:"#9e9e9e"},t.countStyle),u=Object.assign({fontSize:"28rpx",color:"#9e9e9e"},t.placeholderStyle),d=x(e,"modelValue");return(h,m)=>{const y=p;return o(),l(y,null,{default:n((()=>[i(C,{modelValue:d.value,"onUpdate:modelValue":m[0]||(m[0]=e=>d.value=e),count:t.count,placeholder:t.placeholder,customStyle:v(a),textStyle:v(s),countStyle:v(c),placeholderStyle:v(u),height:t.height,"clear-content":t.clearContent,maxlength:t.maxlength,disabled:t.disabled,"has-header-slot":e.hasHeaderSlot,"has-count-slot":e.hasCountSlot,"has-operation-slot":e.hasOperationSlot,clearIcon:e.clearIcon,clearIconStyle:e.clearIconStyle,theme:e.theme},A({operation:n((()=>[r(h.$slots,"operation")])),_:2},[e.hasHeaderSlot?{name:"header",fn:n((()=>[r(h.$slots,"header")])),key:"0"}:void 0,e.hasCountSlot?{name:"count",fn:n((()=>[r(h.$slots,"count")])),key:"1"}:void 0]),1032,["modelValue","count","placeholder","customStyle","textStyle","countStyle","placeholderStyle","height","clear-content","maxlength","disabled","has-header-slot","has-count-slot","has-operation-slot","clearIcon","clearIconStyle","theme"])])),_:3})}}};export{O as _};
