import{a as A}from"./uni-icons.mAW8qLNS.js";import{_ as e,s as t,m as s,p as a,a as o,b as p,w as l,d as n,e as r,t as c,i,j as m,aL as f}from"./index-5HZnFt5a.js";const u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHQAAAB0CAMAAABjROYVAAAAwFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD+/v4AAAAAAAD5+fn9/f21tbVycnLx8fHy8vKGhobf39/19fX7+/v19fXy8vLV1dXf39/f39+goKDNzc3+/v709PTh4eFCQkLj4+Pr6+vx8fHJycnGxsbw8PDo6OiysrK5ublLS0uxsbHExMTZ2dno6Ojd3d1+fn5QUFD///8AAABgYGBAQEC/v7/Pz8+p9ZdSAAAAOnRSTlMABQkMEhAVGB0gGiUjLCooL/EzMeXiLUeIqB6k2NPHuZmTf2ZP4JZIPbOcl417dmlcWDZzaF5YSkEzJjTGOQAAA71JREFUaN7t2utu4jAQBWB2CQkhCzSQUO60QO/37t3bbt//rXaI7Uxcy03HDtJWyvnd6tOZsRAkbtSpU6dOnTp1Go1PeWj/5+6RZHfQFXYXMXsmP+fZI6t4evbC6mJTRHcrJnPu7HayODlhLD5Znt6eCRrdCs1cXMVMSTz5IV1UqySnYxD1pOMRgSWYTY1U6o6bkGpUQXLzZ8reSHonhuyqKjVPWUlOlbL2JtYcLVhp0lGxrJvZ3Jk42hIVy1Zs0lW62UKzXG25qAWzhWZpFtOCalVUmFeMkKsWV7GqlXnHSNlaqjhcML2UhqZTUHHAVkW9MSNm7GlVqeYopqLx1ErF4Xqmoi9/IS+mqh4O2Kaob9jo8x/Is6Gqb1G1YHrfGR1lW6+gEou2oOjEBl1B1RZWpW7Uj23Q2CdvtbjRLbNB2ba4Vdp0oejaDl1DVZwvsWhwaYdOAmLVYtFgaYcuAqxKRH0/SO3QNPB9RInT7cSWaEeZL226HWaHsg7OtwL0CSwtT5WhYAbt1KCWmHE7ANUO7bQTVqqiiUnaHQLKTUTnrFRFE7MsohDS4W1PmFk1m+zSEvUydM3Mqtlk6wz1mlylog/MrJpN9uCEhrFZNZtx6IaumEk1m2ziiN4zk2o22TdH9EtsVI1m8oWKSrUl0GNGzrFAW9bob/qX7V8cJXxNeo1Gx+SiEaJWH/hhGD0mNDPpR2Fo/YEvq97T0BtZ1AntzyjmrO+AgirRxzlhuD1AtcNLWapQe4fJu83DnjC1lVLni2qpiUVtUHl+s6pdrpab3ayoOLskVK/6PnUOplYUUWpVUA9mpef2HEyLoogWq4ZR1O92D27eLJtsDrrdfhSFhaKI0n4UB3LAoA6PzA+Zj87BlMMNyD+Kcb6yKqqHR4mBHOamLCpRmwcdqjocfL2IX4mrzWComtqDDvJW+VpBlexgcz1bJkAnyfziejOQJJh8oaSNIqoOWKi8bMZiMpLXFKYyXEAd1DZXdyy4EO6BmJHcbOum7QNJX6g5C7AMgDmJpjZcclXomqs7FlyAZXog7kjVdH/gK06TZMEFWKQPYk7CGXIxccCoQlnOgosBkZNQE00cLhHVVMkCjAFQkGhW8roCWE+y3MVwUZIekIrppiILrpJOgXQ0UVVZcAHGAAiiQqJprWJZzgoX4wsSa6Lp+ipTtuUwBkDREmtCqnppi3WVyJKQyl8Vo5sl51Dc31txPQTS5cqBLiIJ+biXK0jXSD76hRlk/68rSa//9mNf90IZvTp16tSpU6dO4x+Yt2JQFtNXJwAAAABJRU5ErkJggg==";const d={all:g=g||new Map,on:function(A,e){var t=g.get(A);t?t.push(e):g.set(A,[e])},off:function(A,e){var t=g.get(A);t&&(e?t.splice(t.indexOf(e)>>>0,1):g.set(A,[]))},emit:function(A,e){var t=g.get(A);t&&t.slice().map((function(A){A(e)})),(t=g.get("*"))&&t.slice().map((function(t){t(A,e)}))}};var g;const v=e({__name:"MyChatItem",props:{message:{type:Object,default:()=>({})}},setup(e){const u=e;t((()=>/^(http|https|ftp):\/\/[^\s/$.?#].[^\s]*$/i.test(u.message.text)));const d=t((()=>{var A;const e=null==(A=u.message.text)?void 0:A.split(".").pop().toLowerCase();return["pdf","doc","docx","xls","xlsx","ppt","pptx","txt","zip","rar","7z"].includes(e)})),g=t((()=>{var A;const e=null==(A=u.message.text)?void 0:A.split(".").pop().toLowerCase();return["mp3","wav","ogg","wma","aac","flac"].includes(e)})),v=t((()=>{var A;const e=null==(A=u.message.text)?void 0:A.split(".").pop().toLowerCase();return["mp4","mov","m4v","3gp","avi","m3u8","webm"].includes(e)})),x=t((()=>{var A;const e=null==(A=u.message.text)?void 0:A.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif","bmp","svg","webp"].includes(e)})),y=t((()=>u.message.text.split("/").pop())),L=t((()=>{const A=u.message.text;return A?A.replace(/\n/g,"<br/>"):""}));return(e,t)=>{const U=s(a("uni-icons"),A),h=i,O=m,b=f;return o(),p(h,null,{default:l((()=>[d.value?(o(),p(h,{key:0},{default:l((()=>[n(U,{type:"folder-add",color:"#ffffff",size:"20"}),r(" "+c(y.value),1)])),_:1})):g.value?(o(),p(h,{key:1},{default:l((()=>[n(U,{type:"headphones",color:"#ffffff",size:"20"}),r(" "+c(y.value),1)])),_:1})):v.value?(o(),p(h,{key:2},{default:l((()=>[n(U,{type:"videocam",color:"#ffffff",size:"20"}),r(" "+c(y.value),1)])),_:1})):x.value?(o(),p(h,{key:3},{default:l((()=>[n(O,{src:u.message.text,mode:"aspectFill",style:{width:"200rpx",height:"200rpx"}},null,8,["src"])])),_:1})):(o(),p(h,{key:4,class:"message-text"},{default:l((()=>[n(b,{nodes:L.value},null,8,["nodes"])])),_:1}))])),_:1})}}},[["__scopeId","data-v-8533f4e7"]]);export{d as E,u as _,v as m};
