import{_ as e,u as a,q as t,r as l,s,o as i,B as o,F as n,m as u,p as r,b as c,w as d,a9 as m,c as f,a4 as p,G as _,i as v,a as g,d as x,e as y,t as k,g as h,L as b,K as V,a7 as C,a1 as j,a6 as U,a0 as w,U as F,X as I,Y as R,a2 as $,Q as A,aW as D,j as E,k as L,a5 as P}from"./index-5HZnFt5a.js";import{_ as Y}from"./is-vip.81A82wTA.js";import{a as q}from"./index.BIXFsUHK.js";import{a as z}from"./sound.xODPqvvt.js";import{i as B}from"./new.Du8D5HTl.js";import{m as G}from"./digital-man.CbE7ZGLY.js";import"./uv-line-progress.D7X4wFI6.js";import"./trash.CZ3Tbgel.js";import"./upload-img-icon.C_3Nycwj.js";const H=e({__name:"create",setup(e){const{t:H}=a(),K=t(),Q=l(null),T=l({name:"",cover:"",audioUrl:"",description:""}),W=s((()=>!!K.token)),X=s((()=>{const e=C("userInfo")||{};return 1===e.lifetimeVip||e.vipExpire&&new Date(e.vipExpire)>new Date})),J=s((()=>O.value&&O.value.isVipFree&&X.value)),M=s((()=>O.value&&O.value.remainCount&&X.value)),N=e=>{T.value.audioUrl=j(e)},O=l({}),S=async()=>{if(!(await U(O.value,ee.value)))return;const e=T.value;if(w(e.name))return void F({title:H("sound.creating.form.toast1"),icon:"none"});if(w(e.audioUrl))return void F({title:H("sound.creating.form.toast2"),icon:"none"});I({title:H("human.creating.loading"),mask:!0});const{code:a}=await G.voiceClone(e);200===a&&(R(),F({title:H("app.http.success"),icon:"success"}),setTimeout((()=>{$({url:"/pagesA/my/task/index?tab=4&type=3"})}),2e3))},Z=()=>{$({url:"/pagesA/digital-man/protocol"})},ee=l([]);return i((()=>{(async()=>{const{data:e}=await G.getVoiceCloneFree();O.value=m(e)})()})),o((()=>{(async()=>{const{data:e}=await f.getVipLeavel();ee.value=p(e)})()})),(e,a)=>{const t=n("ai-bindphone"),l=n("ai-privacy"),s=u(r("uv-icon"),_),i=v,o=A,m=D,f=E,p=L;return g(),c(i,{class:"digital-man-page container-bg"},{default:d((()=>[x(t,{ref:"aiPrivacyRef"},null,512),x(l,{ref:"aiPrivacyRef"},null,512),x(q,{bg:!1},{left:d((()=>[x(s,{name:"arrow-left",bold:"",size:"22",color:"#000",onClick:a[0]||(a[0]=a=>e.$tools.back())})])),center:d((()=>[x(i,{class:"header-title"},{default:d((()=>[y(k(h(H)("sound.creating.title")),1)])),_:1})])),_:1}),x(i,{class:"main-container",style:V(`height: ${e.$tools.height().contentHeight}px;`)},{default:d((()=>[x(i,{class:"container"},{default:d((()=>[x(i,{class:"form-item"},{default:d((()=>[x(i,{class:"title-box"},{default:d((()=>[x(o,{class:"title"},{default:d((()=>[y(k(h(H)("sound.creating.form.title1")),1)])),_:1})])),_:1}),x(i,{class:"form-li inputs"},{default:d((()=>[x(m,{class:"input",type:"text",placeholder:h(H)("sound.creating.form.text1"),modelValue:T.value.name,"onUpdate:modelValue":a[1]||(a[1]=e=>T.value.name=e)},null,8,["placeholder","modelValue"])])),_:1})])),_:1}),x(i,{class:"form-item"},{default:d((()=>[x(i,{class:"title-box"},{default:d((()=>[x(o,{class:"title"},{default:d((()=>[y(k(h(H)("sound.creating.form.title2")),1)])),_:1})])),_:1}),x(i,{class:"form-li upload img"},{default:d((()=>[x(i,{class:"content"},{default:d((()=>[x(B,{modelValue:T.value.cover,"onUpdate:modelValue":a[2]||(a[2]=e=>T.value.cover=e),"picture-height":382,"tip-list":[h(H)("sound.creating.form.text2")]},null,8,["modelValue","tip-list"])])),_:1})])),_:1})])),_:1}),x(i,{class:"form-item"},{default:d((()=>[x(i,{class:"title-box"},{default:d((()=>[x(o,{class:"title"},{default:d((()=>[y(k(h(H)("sound.creating.form.title3")),1)])),_:1})])),_:1}),x(i,{class:"form-li upload"},{default:d((()=>[x(i,{class:"content"},{default:d((()=>[x(z,{ref_key:"uploadRef",ref:Q,modelValue:T.value.audioUrl,"onUpdate:modelValue":a[3]||(a[3]=e=>T.value.audioUrl=e),onChange:N},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),x(i,{class:"form-item"},{default:d((()=>[x(i,{class:"title-box"},{default:d((()=>[x(o,{class:"title"},{default:d((()=>[y(k(h(H)("sound.creating.form.title4")),1)])),_:1})])),_:1}),x(i,{class:"form-li text"},{default:d((()=>[x(i,{class:"item"},{default:d((()=>[y(k(h(H)("sound.creating.tip.text1")),1)])),_:1}),x(i,{class:"item"},{default:d((()=>[y(k(h(H)("sound.creating.tip.text2")),1)])),_:1}),x(i,{class:"item"},{default:d((()=>[y(k(h(H)("sound.creating.tip.text3")),1)])),_:1}),x(i,{class:"item"},{default:d((()=>[y(k(h(H)("sound.creating.tip.text4")),1)])),_:1}),x(i,{class:"item"},{default:d((()=>[y(k(h(H)("sound.creating.tip.text5")),1)])),_:1}),x(i,{class:"item"},{default:d((()=>[y(k(h(H)("sound.creating.tip.text6")),1)])),_:1})])),_:1})])),_:1})])),_:1}),x(i,{class:"footer"},{default:d((()=>[x(i,{class:"tip-box"},{default:d((()=>[x(o,null,{default:d((()=>[y(k(h(H)("app.ai.tips.text")),1)])),_:1}),x(o,{class:"link",onClick:Z},{default:d((()=>[y(k(h(H)("app.ai.tips.href")),1)])),_:1})])),_:1}),W.value?(g(),c(p,{key:0,class:"btn-primary-creat",onClick:S},{default:d((()=>[O.value.isVipUsed?(g(),c(f,{key:0,class:"vip-icon",src:Y})):b("",!0),x(o,null,{default:d((()=>[y(k(h(H)("my.feedback.form.btn")),1)])),_:1}),J.value?(g(),c(o,{key:1},{default:d((()=>[y("("+k(h(H)("human.guide.btn.text"))+")",1)])),_:1})):M.value?(g(),c(o,{key:2},{default:d((()=>[y("("+k(h(H)("video.index.model.free"))+k(O.value.remainCount)+k(h(H)("video.index.model.time"))+")",1)])),_:1})):O.value?(g(),c(o,{key:3},{default:d((()=>[y("("+k(O.value.useIntegrate)+k(h(H)("my.vip.score"))+")",1)])),_:1})):b("",!0)])),_:1})):(g(),c(p,{key:1,class:"btn-primary-creat",onClick:h(P)},{default:d((()=>[y(k(h(H)("my.login")),1)])),_:1},8,["onClick"]))])),_:1})])),_:1},8,["style"])])),_:1})}}},[["__scopeId","data-v-c9270e3d"]]);export{H as default};
