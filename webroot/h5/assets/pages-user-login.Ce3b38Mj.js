import{_ as e,u as a,r as o,q as l,l as t,B as n,am as r,X as i,c as s,a9 as u,Y as c,F as p,m as f,p as d,b as m,w as g,K as v,i as A,G as y,n as h,an as q,ao as x,a as b,d as k,g as N,e as S,t as w,H as C,J as H,L as G,U,x as R,ap as V,k as P,Q,j as D,ak as B}from"./index-5HZnFt5a.js";import{_ as Y}from"./uv-navbar.BqnHoo3Z.js";import{_ as z}from"./uv-input.DP28rKYF.js";const X=e({__name:"login",setup(e){const{t:X}=a(),J=o(0),T=o("account"),F=l(),K=t(),j=o();n((()=>{W(),setTimeout((()=>{J.value=r().windowHeight}),200)}));const I=o({}),W=async()=>{i({title:X("app.loading"),mask:!0}),s.query({keys:["siteName","guideWelcome","subSiteName","clientLogoPath","qqNumber","vxNumber","robotAvatar","siteRobotName","userDefautlAvatar","guideQuestion","guideAnswer","fast_mjDeduction1","relax_mjDeduction1","trubo_mjDeduction1","fast_vip_free","relax_vip_free","wechatOfficialAppId","payWeChatAppId","dialogueTail","icpNumber","copyrightTitle","policeFilingNumber","phoneRegisterStatus"]}).then((({data:e})=>{I.value=u(e),c()})).catch((e=>{c()}))},L=o(!1),E=o({username:"",password:"",weAppOpenId:"",miniOpenId:"",phone:"",phoneCode:""});async function O(){if("agree"===K.agreePrivacy[0])if(E.value.username||E.value.phone)if(E.value.password||E.value.phoneCode){if("phone"===T.value){const{data:e}=await R.loginByPhoneV3(E.value);F.setToken(e)}else{const{data:e}=await R.loginV4(E.value);F.setToken(e)}V({url:"/pages/index/index"})}else U({title:X("my.user.login.password.placeholder"),icon:"none"});else U({title:X("my.user.login.toast1"),icon:"none"});else j.value.open()}function Z(){var e,a;if("micromessenger"===(null==(e=navigator.userAgent.toLowerCase().match(/MicroMessenger/i))?void 0:e[0])){const e=["localhost","127.0.0.1","kaifa.qumao518.vip","ceshi.qumao518.vip","saas.qumao518.vip"],o=null==(a=I.value)?void 0:a.wechatOfficialAppId;if(e.includes(location.hostname)){const e=encodeURIComponent(B+"/h5/redirect.html"),a=encodeURIComponent(location.href);o&&(window.location.href=`https://open.weixin.qq.com/connect/oauth2/authorize?appid=${o}&redirect_uri=${e}&state=${a}&response_type=code&scope=snsapi_userinfo#wechat_redirect`)}else{const e=encodeURIComponent(location.href);o&&(window.location.href=`https://open.weixin.qq.com/connect/oauth2/authorize?appid=${o}&redirect_uri=${e}&response_type=code&scope=snsapi_userinfo#wechat_redirect`)}}else U({title:X("my.user.login.wechat.open"),icon:"none"})}function M(){T.value="phone",E.value.username="",E.value.password=""}function _(){T.value="account",E.value.phone="",E.value.phoneCode=""}const $=o(60),ee=o(null);async function ae(){i({title:X("my.user.login.way"),mask:!0});const{data:e}=await R.sendPhoneCode({phone:E.value.phone,captchaCode:"123456"}).catch((()=>{c()}));ee.value=setInterval((()=>{$.value--,($.value<0||0===$.value)&&(clearInterval(ee.value),ee.value=null,$.value=60)}),1e3),c(),U({title:e,icon:"none"})}function oe(e){K.setAgreePrivacy(e)}return(e,a)=>{const o=p("ai-bindphone"),l=p("ai-privacy"),t=f(d("uv-navbar"),Y),n=A,r=f(d("uv-input"),z),i=f(d("uv-icon"),y),s=P,u=Q,c=D,U=f(d("uv-avatar"),h),R=f(d("uv-checkbox"),q),V=f(d("uv-checkbox-group"),x);return b(),m(n,{style:v({height:J.value+"px",position:"relative"})},{default:g((()=>[k(o,{ref_key:"aiPrivacyRef",ref:j},null,512),k(l,{ref_key:"aiPrivacyRef",ref:j},null,512),k(t,{"bg-color":"transparent",onLeftClick:e.$tools.back,fixed:!1,title:N(X)("my.user.login.title")},null,8,["onLeftClick","title"]),k(n,{class:"container"},{default:g((()=>[k(n,{class:"title"},{default:g((()=>[S(w(N(X)("my.user.login.container.title")),1)])),_:1}),k(n,{class:"description"},{default:g((()=>[S(w(N(X)("my.user.login.container.desc")),1)])),_:1}),"account"===T.value?(b(),C(H,{key:0},[k(n,{style:{"text-align":"center","font-size":"18px",color:"#3d3d3d","margin-top":"80rpx"}},{default:g((()=>[S(w(N(X)("my.user.login.account.title")),1)])),_:1}),k(r,{modelValue:E.value.username,"onUpdate:modelValue":a[0]||(a[0]=e=>E.value.username=e),placeholder:N(X)("my.user.login.account.placeholder"),border:"bottom",prefixIcon:"account",customStyle:{marginTop:"120rpx"}},null,8,["modelValue","placeholder"]),k(r,{modelValue:E.value.password,"onUpdate:modelValue":a[3]||(a[3]=e=>E.value.password=e),placeholder:N(X)("my.user.login.password.placeholder"),border:"bottom",prefixIcon:"lock",customStyle:{marginTop:"40rpx"},type:L.value?"text":"password"},{suffix:g((()=>[L.value?(b(),m(i,{key:0,name:"eye",onClick:a[1]||(a[1]=e=>L.value=!L.value)})):(b(),m(i,{key:1,name:"eye-off-outline",onClick:a[2]||(a[2]=e=>L.value=!L.value)}))])),_:1},8,["modelValue","placeholder","type"]),k(s,{class:"btn-primary login-btn",style:{"margin-top":"120rpx"},onClick:O},{default:g((()=>[S(w(N(X)("my.user.login.btn.title")),1)])),_:1})],64)):G("",!0),"phone"===T.value?(b(),C(H,{key:1},[k(n,{style:{"text-align":"center","font-size":"18px",color:"#3d3d3d","margin-top":"80rpx"}},{default:g((()=>[S(w(N(X)("my.user.login.phone.title")),1)])),_:1}),k(r,{placeholder:N(X)("my.user.login.phone.placeholder"),fontSize:"30rpx",modelValue:E.value.phone,"onUpdate:modelValue":a[4]||(a[4]=e=>E.value.phone=e),border:"bottom",customStyle:{marginTop:"120rpx"}},{prefix:g((()=>[k(u,{class:"input-prefix"},{default:g((()=>[S("+86")])),_:1})])),_:1},8,["placeholder","modelValue"]),k(r,{placeholder:N(X)("my.user.login.phone.code"),fontSize:"30rpx",modelValue:E.value.phoneCode,"onUpdate:modelValue":a[5]||(a[5]=e=>E.value.phoneCode=e),border:"bottom",customStyle:{marginTop:"40rpx"}},{suffix:g((()=>[k(u,{class:"input-suffix",onClick:ae},{default:g((()=>[S(w($.value<60?`${N(X)("my.user.login.phone.code.re")}(${$.value})`:N(X)("my.user.login.phone.code.get")),1)])),_:1})])),_:1},8,["placeholder","modelValue"]),k(s,{class:"btn-primary login-btn",style:{"margin-top":"120rpx"},onClick:O},{default:g((()=>[S(w(N(X)("my.user.login.btn.title")),1)])),_:1})],64)):G("",!0),k(n,{style:{"margin-top":"120rpx"}},{default:g((()=>[k(n,{class:"flex-around"},{default:g((()=>{var e;return[k(n,{class:"flex-center flex-column"},{default:g((()=>[k(c,{src:"data:image/png;base64,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",style:{width:"84rpx",height:"84rpx"},onClick:Z}),k(n,{style:{color:"rgba(0, 0, 0, 0.5)","margin-top":"14rpx"}},{default:g((()=>[S(w(N(X)("my.user.login.wechat.login")),1)])),_:1})])),_:1}),"phone"!==T.value&&1==(null==(e=I.value)?void 0:e.phoneRegisterStatus)?(b(),m(n,{key:0,class:"flex-center flex-column",onClick:M},{default:g((()=>[k(c,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAMAAAArteDzAAABAlBMVEUAAABCrvNHqfRHqfRLqfZHp/NGqfNGqfNGqvRHqfNDqvJHqfRGqvRHqPNHqfRGqPRDo/NJsflHqfRGqPNHqvRHqPNGqfVGqfNHqfNHqfNHqfNHqPNGqfNGp/JHqfNHqfNHqfRGqfNHqfRHqfRGqfRGqPNGqfRHqPNHqvNGqfNGqfNHqvNFqfFIqfNHqfNJqfRGqPRIqfRIqPNHqfP///9Mq/PM5/yGxvf7/f9gtfX3+/51vvbc7/273/v9/v+Myfjq9f5JqvOl1vnW7PyTzfhTrvTy+f7h8f213fqZz/h+w/fB4vus2PrF5Puy2/pwvfbk8/5ruva94fuf0vns9/6JyPdY1nP3AAAAM3RSTlMABPz5CDeb73baFOLHYqwsEAv2y7Q+MurX8ufObSWC07zesqp9UZNw8sCjVx2LRhqGWmeW/FpjAAAEIUlEQVRYw7WZ51riQBSGp6QXII0SQu/Yd1ARFVlFVESw7N7/rayy4i5mkhAI73/eZ3K+SZgzB/gCYSLp7HGxoiHaum6LRjHG7TnJBIRgXZhd60fdVAqibKcyOkJ6JmXLYkEx6z+sXWYtY85S820lRSiklHZetXJMWKWUFCoiQsQDhMSKkJTCaKHGCqacwcQHnJFNgdVWLm6CbcTSPCIBID4dc9jESkotrnIGT1aCNzg1HlwDeGAdZhFZGZTNsxIMylw1ZUxCgEuxnV1/K7tX4DEJBeYNIe5XzhqXRiQ0OHtoMZ6p18wUWYtSndU86rkv6mg9KbYrLL2uVlsn64LkKq2uMJeXEVkbnG0cQPf+dBSyEUVVgq6QFLyZFLf2tW8hJdsewf+kQKjYXHx5qfG8SFvo8ez32/R+melkOH45pi1VXA4roWZpztvx9OS521mmP7p7moxvqWGpiX9OyHKIts7zi16/33HR7/ZuzmlrRdx/u1VrGLRqnt+POh6MJi+EguFoXymxMZ7iPHsb9L2k3echrQB8jGU+pZKQpj786/tvb2g8j/qdyRltE6QFabGdTJ4mHT91epcPQwrTi27nlVpV3kz+XWpOkKkxnZ68S8e3FIbv0pNTalSykJtLrViGeErPCYUrTynJVKx59GoJRyfF6R348fSHiEQnJfpHVHA/tomU/gIwjSyJUkqKRxBI9VS0UrHKANYk0UqbnAQcJWIpKrNgrxCxlLRqgBOjlioOiMlRSwt5ULSjloocMFJRS+UyEDNRS1MKsPWopc0S0FHUUsxvRbqVx99KUFvZUlvZ/Ft5TbfyQdnKp28bH+kkSJoRS3lOAomo//gKAgPgD8VPOj6j8OAjReUaBNBqI2/p4+Sawuudj7SehADs5r2l/dGAxqjX8Tn2JAAAjCpiL6knnlJcmB/QgFXJBEi7owX9IGmmYgUdej8Z3Tw9zjnpuaTuQ2/Q8XwhfTo/mzMefEkvZz89jue+jcTs0kfq3UgEtDzXvz5L2LuYXs/5aqz6g+Gxf8sDNIfenD3+6i56vE8WyQ3uqa+a0dCC2sjb2f2g26fQHUxfvNrIwIb3eDY5ubn7zsXN45vL6Wp45615iW49vXr4zvBqTA0JlxatuSur9bHbSQiWkHYMvJkzU9xPgGXgrpDdTFo8cl8kwvhhaYO1YqNBvUa06jZa2ykKOUCDYSsyXtOZzschoKKx1TXr2lK9r9JhvFEMv1bEm+oBBN4cqC07pFaXyzUJ+AGlfU7E4cpZD7xBh1q8Gu6iuxrXQCAw7JU8XHF44Kw6PGiwie2POYIHMmnvK2qkp6kDmeDR0Y7AFcUmcgmbYpETdqijo2CgxB5VuXLrY8yVamLcTH2MuFplrnrkGm2E0UJGYmtOnisrJZ4vKWUu79RYiYH+yj93zkkW4THJEQAAAABJRU5ErkJggg==",style:{width:"84rpx",height:"84rpx"}}),k(n,{style:{color:"rgba(0, 0, 0, 0.5)","margin-top":"14rpx"}},{default:g((()=>[S(w(N(X)("my.user.login.phone.login")),1)])),_:1})])),_:1})):G("",!0),"account"!==T.value?(b(),m(n,{key:1,class:"flex-center flex-column",onClick:_},{default:g((()=>[k(U,{size:"84rpx"}),k(n,{style:{color:"rgba(0, 0, 0, 0.5)","margin-top":"14rpx"}},{default:g((()=>[S(w(N(X)("my.user.login.account.login")),1)])),_:1})])),_:1})):G("",!0)]})),_:1})])),_:1}),k(n,{style:{position:"absolute",bottom:"48rpx",width:"90%"}},{default:g((()=>[k(n,{class:"flex-center",style:{"margin-top":"80rpx"}},{default:g((()=>[k(V,{modelValue:N(K).agreePrivacy,"onUpdate:modelValue":a[8]||(a[8]=e=>N(K).agreePrivacy=e),shape:"circle",labelSize:"#9E9E9E",labelColor:"24rpx",customStyle:{justifyContent:"center"},onChange:oe},{default:g((()=>[k(R,{name:"agree"},{default:g((()=>[k(n,{style:{display:"flex"}},{default:g((()=>[S(w(N(X)("my.login.agree"))+" ",1),k(u,{style:{color:"#3c9cff"},onClick:a[6]||(a[6]=a=>e.$tools.to("/pagesA/my/setting/protocol?protocolName=用户服务协议"))},{default:g((()=>[S(w(N(X)("my.login.agree.user")),1)])),_:1}),k(u,{style:{color:"#3c9cff"},onClick:a[7]||(a[7]=a=>e.$tools.to("/pages/my/setting/protocol?protocolName=用户隐私协议"))},{default:g((()=>[S(w(N(X)("my.login.agree.privacy")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["style"])}}},[["__scopeId","data-v-d8b954ab"]]);export{X as default};
