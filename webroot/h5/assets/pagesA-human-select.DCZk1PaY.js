import{_ as a,u as e,r as l,o as s,ad as t,a9 as i,B as n,F as o,m as c,p as u,b as r,w as d,a0 as v,ab as m,ac as p,c as f,a4 as g,G as _,i as y,a as h,d as b,e as w,t as k,g as x,K as j,H as z,I as C,J as V,L as P,M as F,av as H,a6 as S,j as U}from"./index-5HZnFt5a.js";import{_ as $}from"./uv-tabs.CxaWShil.js";import{_ as M}from"./z-paging.B8jSxtUa.js";import{_ as R}from"./is-vip.81A82wTA.js";import{a as I}from"./index.BIXFsUHK.js";import{m as L}from"./digital-man.CbE7ZGLY.js";import"./uv-badge.vue_vue_type_style_index_0_scoped_d4ba6c2a_lang.C03jWKDg.js";const N=a({__name:"select",setup(a){const{t:N}=e(),W=l(null),B=l({}),E=l(null),G=[{name:N("human.select.tabs.name1"),id:"0"},{name:N("human.select.tabs.name2"),id:"1"}],J=l(0),K=a=>{var e;v(a)||(J.value=Number(a),null==(e=E.value)||e.reload())},O=l(0),Q=l([]),Y=async(a,e)=>{const l=J.value;0===l?await q({page:a,size:e}):1===l&&await A({page:a,size:e})},q=async a=>{var e;const{data:l}=await L.getMyVideos(a),s=g(null==l?void 0:l.rows).filter((a=>!v(a.fileUrl)));null==(e=E.value)||e.complete(s)},A=async a=>{var e;const{data:l}=await L.getVideoMarket(a),s=g(null==l?void 0:l.rows).filter((a=>!v(a.fileUrl)));null==(e=E.value)||e.complete(s)},D=l([]);return s((()=>{const a=t().proxy.getOpenerEventChannel();a.on("onFromPage",((a,e)=>{B.value=i(a),J.value=e?1:0})),W.value=a,(async()=>{const a=t();await m();const e=await p(a,".apps-tabs");O.value=e.height})()})),n((()=>{(async()=>{const{data:a}=await f.getVipLeavel();D.value=g(a)})(),K(0)})),(a,e)=>{const l=o("ai-bindphone"),s=o("ai-privacy"),t=c(u("uv-icon"),_),i=y,n=c(u("uv-tabs"),$),v=U,p=c(u("z-paging"),M);return h(),r(i,{class:"my-assets-page container-bg"},{default:d((()=>[b(l,{ref:"aiPrivacyRef"},null,512),b(s,{ref:"aiPrivacyRef"},null,512),b(I,{bg:!1},{left:d((()=>[b(t,{name:"arrow-left",bold:"",size:"22",color:"#000",onClick:e[0]||(e[0]=e=>a.$tools.back())})])),center:d((()=>[b(i,{class:"header-title"},{default:d((()=>[w(k(x(N)("human.select.title")),1)])),_:1})])),_:1}),b(i,{class:"main-container",style:j(`height: ${a.$tools.height().contentHeight}px;`)},{default:d((()=>[b(i,{class:"apps-tabs"},{default:d((()=>[b(n,{list:G,keyName:"name",lineWidth:"100rpx",current:J.value,activeStyle:{color:"#000000",fontSize:"32rpx",fontWeight:600},inactiveStyle:{color:"#767676",fontSize:"32rpx"},onChange:e[1]||(e[1]=a=>K(a.id))},null,8,["current"])])),_:1}),b(i,{class:"scroll-inner",style:j({height:`calc(100% - ${O.value}px)`})},{default:d((()=>[b(p,{ref_key:"pagingRef",ref:E,modelValue:Q.value,"onUpdate:modelValue":e[2]||(e[2]=a=>Q.value=a),fixed:!1,height:"100%","show-loading-more-no-more-view":!1,"loading-more-default-as-loading":!0,"default-page-size":100,"hide-empty-view":"",onQuery:Y},{default:d((()=>[0===J.value?(h(),r(i,{key:0,class:"assets-paging-content"},{default:d((()=>[(h(!0),z(V,null,C(Q.value,(a=>(h(),r(i,{key:a.id,class:F(["item li",a.id===B.value.id?"active":""]),onClick:e=>(async a=>{B.value=a,W.value.emit("onHumanPage",a,"my"),await m(),H({delta:1})})(a)},{default:d((()=>[b(v,{class:"cover",src:a.cover,mode:"aspectFill"},null,8,["src"]),b(i,{class:"content"},{default:d((()=>[b(i,{class:"title-box"},{default:d((()=>[w(k(a.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})):P("",!0),1===J.value?(h(),r(i,{key:1,class:"assets-paging-content"},{default:d((()=>[(h(!0),z(V,null,C(Q.value,(a=>(h(),r(i,{key:a.id,class:F(["item li",a.id===B.value.id?"active":""]),onClick:e=>(async a=>{await S(a,D.value)&&(B.value=a,W.value.emit("onHumanPage",a,""),await m(),H({delta:1}))})(a)},{default:d((()=>[a.isVipUsed?(h(),r(v,{key:0,class:"vip-icon",src:R})):P("",!0),b(v,{class:"cover",src:a.cover,mode:"aspectFill"},null,8,["src"]),b(i,{class:"content"},{default:d((()=>[b(i,{class:"title-box"},{default:d((()=>[w(k(a.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})):P("",!0)])),_:1},8,["modelValue"])])),_:1},8,["style"])])),_:1},8,["style"])])),_:1})}}},[["__scopeId","data-v-756c7481"]]);export{N as default};
