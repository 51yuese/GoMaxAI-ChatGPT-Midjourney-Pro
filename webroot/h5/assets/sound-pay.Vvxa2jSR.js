import{R as e,S as a,r as t,o as n,v as s,E as o,a0 as l,a as r,b as u,as as p,i as d}from"./index-5HZnFt5a.js";const i={__name:"sound-pay",props:{modelValue:{},modelModifiers:{}},emits:e(["change"],["update:modelValue"]),setup(e,{expose:i,emit:c}){const m=a(e,"modelValue"),v=t(null),y=c,g=e=>{const a=Math.floor(e/60),t=Math.floor(e%60);return`${String(a).padStart(2,"0")}:${String(t).padStart(2,"0")}`},h=e=>{var a;null==(a=v.value)||a.seek(e)};return n((()=>{(()=>{const e=p();e.sessionCategory="soloAmbient",e.onCanplay((()=>{const a=g(e.duration);y("change",{type:"canplay",data:a})})),e.onPlay((()=>{y("change",{type:"play"})})),e.onPause((()=>{y("change",{type:"pause"})})),e.onStop((()=>{e.seek(0),y("change",{type:"stop"})})),e.onEnded((()=>{e.seek(0),y("change",{type:"ended"})})),e.onError((()=>{e.seek(0),y("change",{type:"error"})})),e.onTimeUpdate((()=>{if(e.duration>0){const a=e.currentTime/e.duration*100,t=Math.min(a,100).toFixed(2),n=g(e.currentTime);y("change",{type:"update",data:{plan:t,time:n}})}else y("change",{type:"update",data:{plan:0,time:"00:00"}})})),v.value=e})()})),s((()=>m.value),(e=>{v.value.src=e,h(0)})),o((()=>{var e;l(v.value)||(null==(e=v.value)||e.stop(),v.value=null)})),i({play:()=>{var e;null==(e=v.value)||e.play()},pause:()=>{var e;null==(e=v.value)||e.pause()},stop:()=>{var e;null==(e=v.value)||e.stop()},seek:h}),(e,a)=>{const t=d;return r(),u(t)}}};export{i as _};
