import{_ as a,u as e,m as t,p as s,a as l,b as r,w as u,d as n,e as d,t as i,L as o,j as p,i as c,r as m,s as f,B as v,g,H as y,J as _,I as w}from"./index-5HZnFt5a.js";import{_ as h}from"./z-paging.B8jSxtUa.js";import{_ as x}from"./uv-image.B14LvnqC.js";import{m as I}from"./mj.CpUrlHRv.js";const b=a({__name:"DrawListItem",props:{data:{type:Object,default:()=>({})}},emits:["delete"],setup:(a,{emit:m})=>(e(),(e,m)=>{const f=p,v=c,g=t(s("uv-image"),x);return l(),r(v,{class:"draw-item",onClick:m[0]||(m[0]=t=>e.$tools.to("/pages/draw/squareTask?jobId="+a.data.jobId,!0))},{default:u((()=>[n(f,{class:"image",src:a.data.imageUrl||a.data.cover,mode:"widthFix"},null,8,["src"]),n(v,{class:"draw-desc uv-line-2"},{default:u((()=>[d(i(a.data.originPrompt),1)])),_:1}),a.data.userInfo?(l(),r(v,{key:0,class:"draw-info"},{default:u((()=>[n(g,{src:a.data.userInfo.avatar,width:"48rpx",height:"48rpx",radius:"50%",lazyLoad:"",observeLazyLoad:""},null,8,["src"]),n(v,null,{default:u((()=>[d(i(a.data.userInfo.nickname),1)])),_:1})])),_:1})):o("",!0)])),_:1})})},[["__scopeId","data-v-fb6a54bc"]]),j=a({__name:"DrawList",props:{sticky:{type:Boolean,default:!0}},setup(a){const{t:d}=e(),i=m([]),o=m(),p=m([]),x=m("0");async function j(a,e){const{data:t}=await I.getList({page:a,size:e,rec:1,squareType:"0"===x.value?"":x.value});o.value.complete(t.rows)}const k=f((()=>{var a;return null==(a=i.value)?void 0:a.filter(((a,e)=>e%2==0))})),L=f((()=>{var a;return null==(a=i.value)?void 0:a.filter(((a,e)=>e%2!=0))}));return v((()=>{!async function(){const{data:a}=await I.inspireClassifyQuery({page:1,size:20});p.value=[{name:d("square.index.square.name"),value:"0"},...a.rows]}()})),(e,p)=>{const m=c,f=t(s("z-paging"),h);return l(),r(m,{class:"draw-list-container"},{default:u((()=>[n(f,{fixed:!1,scrollable:a.sticky,modelValue:i.value,"onUpdate:modelValue":p[2]||(p[2]=a=>i.value=a),emptyViewText:g(d)("app.noContent"),emptyViewImg:"/static/empty.png",emptyViewImgStyle:{width:"128rpx",height:"128rpx"},ref_key:"pagingRef",ref:o,height:"100%",onQuery:j},{default:u((()=>[n(m,{class:"item"},{default:u((()=>[n(m,{class:"waterfall"},{default:u((()=>[n(m,null,{default:u((()=>[(l(!0),y(_,null,w(L.value,((a,e)=>(l(),r(b,{key:e,data:a,onDelete:p[0]||(p[0]=a=>{var e;return null==(e=o.value)?void 0:e.refresh()})},null,8,["data"])))),128))])),_:1}),n(m,null,{default:u((()=>[(l(!0),y(_,null,w(k.value,((a,e)=>(l(),r(b,{key:e,data:a,onDelete:p[1]||(p[1]=a=>{var e;return null==(e=o.value)?void 0:e.refresh()})},null,8,["data"])))),128))])),_:1})])),_:1})])),_:1})])),_:1},8,["scrollable","modelValue","emptyViewText"])])),_:1})}}},[["__scopeId","data-v-6f6547da"]]);export{j as D};
