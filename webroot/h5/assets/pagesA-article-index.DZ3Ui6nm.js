import{_ as a,r as e,o as t,m as l,p as s,a as i,b as n,w as o,d as c,L as u,a4 as r,ab as d,ac as p,i as m,ad as v,u as g,F as _,G as f,g as y,K as h,H as b,I as x,J as w,e as k,t as C,h as I,j as V}from"./index-5HZnFt5a.js";import{_ as j}from"./z-paging.B8jSxtUa.js";import{a as z,A}from"./article.BFlRo7s2.js";import{_ as S}from"./uv-tabs.CxaWShil.js";import"./uv-badge.vue_vue_type_style_index_0_scoped_d4ba6c2a_lang.C03jWKDg.js";const T=a({__name:"AppsTabs",emits:["change","init"],setup(a,{emit:g}){const _=v(),f=g,y=e([]),h=async()=>{const a=await p(_,".apps-tabs-box");f("init",a.height,y.value)},b=a=>{f("change",a)},x=e(!1);return t((()=>{(async()=>{const{data:a}=await z.getCategorys(),e=r(null==a?void 0:a.rows);e.length>0&&b(e[0].id),y.value=e,x.value=!0,await d(),setTimeout((()=>{h()}),300)})()})),(a,e)=>{const t=l(s("uv-tabs"),S),r=m;return i(),n(r,{class:"apps-tabs-box"},{default:o((()=>[x.value?(i(),n(r,{key:0,class:"apps-tabs"},{default:o((()=>[c(t,{list:y.value,keyName:"name",lineWidth:"56rpx",activeStyle:{color:"#000000",fontSize:"32rpx",fontWeight:600},inactiveStyle:{color:"#767676",fontSize:"32rpx"},onChange:e[0]||(e[0]=a=>b(a.id))},null,8,["list"])])),_:1})):u("",!0)])),_:1})}}},[["__scopeId","data-v-f2ce75ed"]]),$=a({__name:"index",setup(a){const{t:t}=g(),u=e(null),r=e(!1),d=e("100%"),p=a=>{d.value=`calc(100% - ${a})`},v=e(44),S=e([]),$=(a,e)=>{S.value=e,v.value=a},R=e(""),P=a=>{var e;R.value=a,W.value=[],null==(e=u.value)||e.reload()},W=e([]),F=async(a,e)=>{var t;r.value=!1;const{data:l}=await z.getArticles({page:a,size:e,categoryId:R.value});null==(t=u.value)||t.complete(null==l?void 0:l.rows),setTimeout((()=>{r.value=!0}),3e3)};return(a,e)=>{const r=_("ai-bindphone"),g=_("ai-privacy"),z=l(s("uv-icon"),f),S=m,R=V,G=l(s("z-paging"),j);return i(),n(S,{class:"article-index-page"},{default:o((()=>[c(r,{ref:"aiPrivacyRef"},null,512),c(g,{ref:"aiPrivacyRef"},null,512),c(A,{title:y(t)("article.index.title"),onChange:p},{left:o((()=>[c(z,{name:"arrow-left",bold:"",size:"22",color:"#000",onClick:e[0]||(e[0]=e=>a.$tools.back())})])),_:1},8,["title"]),c(S,{class:"main-content",style:h({height:d.value})},{default:o((()=>[c(S,{class:"apps-tabs-main"},{default:o((()=>[c(T,{onChange:P,onInit:$})])),_:1}),c(S,{class:"scroll-inner",style:h({height:`calc(100% - ${v.value}px)`})},{default:o((()=>[c(G,{ref_key:"pagingRef",ref:u,modelValue:W.value,"onUpdate:modelValue":e[1]||(e[1]=a=>W.value=a),fixed:!1,height:"100%","show-loading-more-no-more-view":!1,"show-loading-more-when-reload":!0,"loading-more-default-as-loading":!0,emptyViewText:y(t)("app.noContent"),emptyViewImg:"/static/empty-1.png",emptyViewImgStyle:{width:"128rpx",height:"128rpx"},onQuery:F},{default:o((()=>[c(S,{class:"item-container"},{default:o((()=>[(i(!0),b(w,null,x(W.value,(a=>(i(),n(S,{class:"list-item",key:a.id,onClick:e=>(a=>{I.to(`/pagesA/article/details?id=${a.id}`,!0)})(a)},{default:o((()=>[c(S,{class:"image-box"},{default:o((()=>[c(R,{src:a.cover},null,8,["src"])])),_:2},1024),c(S,{class:"content-box"},{default:o((()=>[c(S,{class:"title"},{default:o((()=>[k(C(a.title),1)])),_:2},1024),c(S,{class:"time"},{default:o((()=>[k(C(a.createdAt),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1},8,["modelValue","emptyViewText"])])),_:1},8,["style"])])),_:1},8,["style"])])),_:1})}}},[["__scopeId","data-v-6a9bd388"]]);export{$ as default};
