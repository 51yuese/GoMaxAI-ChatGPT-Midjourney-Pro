import{_ as e,u as a,m as t,p as l,a as s,b as o,w as r,d as i,e as d,t as u,j as n,i as p,r as c,s as m,H as v,J as f,I as y,g as _}from"./index-5HZnFt5a.js";import{_ as g}from"./z-paging.B8jSxtUa.js";import{_ as h}from"./uv-image.B14LvnqC.js";import{_ as w}from"./play.DdU5vgv-.js";import{v as x}from"./video.HkJGK1YS.js";const V=e({__name:"VideoListItem",props:{data:{type:Object,default:()=>({})}},emits:["delete"],setup:(e,{emit:c})=>(a(),(a,c)=>{const m=n,v=t(l("uv-image"),h),f=p;return s(),o(f,{class:"video-item",onClick:c[0]||(c[0]=t=>a.$tools.to("/pages/video/squareTask?id="+e.data.id))},{default:r((()=>[i(m,{class:"image",src:e.data.imageUrl||e.data.cover,mode:"widthFix"},null,8,["src"]),i(m,{class:"play",src:w}),i(f,{class:"video-info"},{default:r((()=>[i(v,{src:e.data.avatar,width:"48rpx",height:"48rpx",radius:"50%",lazyLoad:"",observeLazyLoad:""},null,8,["src"]),i(f,null,{default:r((()=>[d(u(e.data.nickname),1)])),_:1})])),_:1})])),_:1})})},[["__scopeId","data-v-9cbc62c9"]]),k=e({__name:"VideoList",props:{sticky:{type:Boolean,default:!0}},setup(e){const{t:d}=a(),u=c([]),n=c();async function h(e,a){const t=await x.getList({page:e,size:a,modelType:"video"});200===t.code?n.value.complete(t.data.records):n.value.complete(!1)}const w=m((()=>{var e;return null==(e=u.value)?void 0:e.filter(((e,a)=>a%2==0))})),k=m((()=>{var e;return null==(e=u.value)?void 0:e.filter(((e,a)=>a%2!=0))}));return(a,c)=>{const m=p,x=t(l("z-paging"),g);return s(),o(x,{fixed:!1,modelValue:u.value,"onUpdate:modelValue":c[2]||(c[2]=e=>u.value=e),emptyViewText:_(d)("app.noContent"),emptyViewImg:"/static/empty.png",emptyViewImgStyle:{width:"128rpx",height:"128rpx"},ref_key:"pagingRef",ref:n,scrollable:e.sticky,height:"100%",onQuery:h},{default:r((()=>[i(m,{class:"item"},{default:r((()=>[i(m,{class:"waterfall"},{default:r((()=>[i(m,null,{default:r((()=>[(s(!0),v(f,null,y(k.value,((e,a)=>(s(),o(V,{key:a,data:e,onDelete:c[0]||(c[0]=e=>{var a;return null==(a=n.value)?void 0:a.refresh()})},null,8,["data"])))),128))])),_:1}),i(m,null,{default:r((()=>[(s(!0),v(f,null,y(w.value,((e,a)=>(s(),o(V,{key:a,data:e,onDelete:c[1]||(c[1]=e=>{var a;return null==(a=n.value)?void 0:a.refresh()})},null,8,["data"])))),128))])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","emptyViewText","scrollable"])}}},[["__scopeId","data-v-0713367e"]]);export{k as V};
