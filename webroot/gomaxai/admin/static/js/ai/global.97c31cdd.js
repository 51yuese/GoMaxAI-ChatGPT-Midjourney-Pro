
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,U as l,r as a,V as t,e as o,ah as i,Y as r,o as d,f as s,j as u,h as n,g as p,m as g,k as m,q as c,X as b,ae as v,a1 as y,a2 as x}from"../main-9d6c7d62.js";const f={style:{"min-height":"500px"}},h={style:{"margin-bottom":"10px"}},w={style:{"margin-bottom":"10px"}},q={style:{"flex-grow":"1"}},V={style:{"padding-top":"32px"}},_={style:{"flex-grow":"1"}},I={style:{"padding-top":"32px"}},A={style:{"padding-top":"32px"}},M={style:{"margin-top":"16px"}},P=e({__name:"global",setup(e){const y=l(),x=a(),P=a({systemPreMessage:"",dialogueTail:"",robotAvatar:"",chatGuide:[],chatMarquee:[]});a({systemPreMessage:[{required:!0,trigger:"blur",message:"请填写预设信息"}],dialogueTail:[{required:!0,trigger:"blur",message:"请填写引导答案"}],robotAvatar:[{required:!0,trigger:"blur",message:"请上传头像"}],chatMarquee:[{required:!0,trigger:"blur",message:"请上传轮播图"}]});const G=a();async function O(){x.value=!0;const e=await b.queryConfig({keys:["systemPreMessage","chatGuide","dialogueTail","robotAvatar","chatMarquee"]});P.value=e.data,P.value.chatGuide||(P.value.chatGuide=[]),x.value=!1}async function U(){if(0==y.isUserModifyPermissions())return v.error("非超级管理员无权限操作！");var e;null==P.value.systemPreMessage||""==P.value.systemPreMessage?v.error("请填写完整信息"):(await b.setConfig({settings:(e=P.value,Object.keys(e).map((l=>({configKey:l,configVal:e[l]}))))}),v.success("变更配置信息成功"),O())}return t((()=>{O()})),(e,l)=>{const a=o("el-alert"),t=o("els-upload"),b=o("els-option"),v=o("els-input"),y=o("els-list"),O=o("el-input"),k=o("el-form-item"),z=o("el-col"),F=o("el-row"),T=o("els-tabs"),L=o("els-form"),j=o("el-button"),C=i("loading");return r((d(),s("div",f,[x.value?m("",!0):(d(),u(L,{key:0,ref_key:"formRef",ref:G,modelValue:P.value,"onUpdate:modelValue":l[5]||(l[5]=e=>P.value=e),"label-width":"150px","label-position":"top",style:{width:"1000px"}},{default:n((()=>[p(T,null,{default:n((()=>[p(b,{label:"对话LOGO"},{default:n((()=>[g("div",h,[p(a,{closable:!1,"show-icon":"",title:"对话LOGO说明",description:"当前LOGO将会被追加到对话模型的全局预设当中",type:"warning"})]),p(t,{label:"对话LOGO",modelValue:P.value.robotAvatar,"onUpdate:modelValue":l[0]||(l[0]=e=>P.value.robotAvatar=e),type:"Pic",width:"120",height:"120",required:""},null,8,["modelValue"])])),_:1}),p(b,{label:"轮播图"},{default:n((()=>[g("div",w,[p(a,{closable:!1,"show-icon":"",title:"轮播图说明",description:"当前轮播图将显示在对话栏目轮播图模块",type:"warning"})]),p(y,{modelValue:P.value.chatMarquee,"onUpdate:modelValue":l[1]||(l[1]=e=>P.value.chatMarquee=e),class:"marquee","border-type":"border2",hasForm:!0},{default:n((({item:e,$index:l})=>[g("div",q,[p(t,{type:"Pic",prop:"url",label:"轮播图",aIndex:l,required:""},null,8,["aIndex"]),p(v,{prop:"title",label:"标题",width:"100%",aIndex:l,required:""},null,8,["aIndex"]),p(v,{prop:"targetUrl",label:"跳转地址",width:"100%",aIndex:l,required:""},null,8,["aIndex"])])])),_:1},8,["modelValue"])])),_:1}),p(b,{label:"对话引导"},{default:n((()=>[g("div",null,[p(a,{closable:!1,"show-icon":"",title:"会话引导说明",description:"AI会话示例问题和答案！",type:"warning"})]),g("div",V,[l[6]||(l[6]=g("div",{style:{color:"#20295A","font-size":"15px","font-weight":"bold","margin-bottom":"10px"}},"对话引导设置",-1)),g("div",null,[p(y,{modelValue:P.value.chatGuide,"onUpdate:modelValue":l[2]||(l[2]=e=>P.value.chatGuide=e),class:"marquee","border-type":"border2",hasForm:!0},{default:n((({item:e,$index:l})=>[g("div",_,[p(v,{prop:"name",label:"引导名称",width:"100%",aIndex:l,required:""},null,8,["aIndex"]),p(t,{type:"Pic",prop:"icon",label:"图标",aIndex:l,required:""},null,8,["aIndex"]),p(v,{prop:"content",type:"textarea",rows:6,label:"引导内容",width:"100%",aIndex:l,required:""},null,8,["aIndex"])])])),_:1},8,["modelValue"])])])])),_:1}),p(b,{label:"对话预设"},{default:n((()=>[g("div",null,[p(a,{closable:!1,"show-icon":"",title:"模型全局头部预设说明",description:"当前消息将会被追加到对话模型的全局预设当中、对应用APP无效、对其他所有绘画生效！",type:"warning"})]),g("div",I,[l[8]||(l[8]=g("div",{style:{color:"#20295A","font-size":"15px","font-weight":"bold","margin-bottom":"10px"}},"模型系统消息预设",-1)),g("div",null,[l[7]||(l[7]=g("div",{style:{color:"#20295A","font-size":"15px","margin-bottom":"12px"}},"模型全局头部预设",-1)),g("div",null,[p(O,{style:{width:"500px"},modelValue:P.value.systemPreMessage,"onUpdate:modelValue":l[3]||(l[3]=e=>P.value.systemPreMessage=e),type:"textarea",rows:5,placeholder:"请填写模型全局头部预设信息！",clearable:""},null,8,["modelValue"])])])])])),_:1}),p(b,{label:"对话尾巴"},{default:n((()=>[g("div",null,[p(a,{closable:!1,"show-icon":"",title:"对话小尾巴设置",description:"设置对话小尾巴，前台每条对话完成后都会显示该小尾巴",type:"warning"})]),g("div",A,[l[9]||(l[9]=g("div",{style:{color:"#20295A","font-size":"15px","font-weight":"bold","margin-bottom":"10px"}},"对话小尾巴设置",-1)),g("div",null,[p(F,null,{default:n((()=>[p(z,{xs:24,md:20,lg:15,xl:8},{default:n((()=>[p(k,{label:"对话小尾巴",prop:"dialogueTail"},{default:n((()=>[p(O,{size:"large",modelValue:P.value.dialogueTail,"onUpdate:modelValue":l[4]||(l[4]=e=>P.value.dialogueTail=e),type:"text",placeholder:"请填写对话小尾巴",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])])])),_:1})])),_:1})])),_:1},8,["modelValue"])),g("div",null,[g("div",M,[p(j,{bg:"",text:"",type:"primary",size:"large",style:{"font-size":"15px",background:"#EFF6FF",height:"42px",color:"#60A5FA","border-radius":"8px",padding:"8px 100px"},onClick:U},{default:n((()=>l[10]||(l[10]=[c("保存设置")]))),_:1})])])])),[[C,x.value]])}}});"function"==typeof x&&x(P);const G=y(P,[["__scopeId","data-v-67ff17d9"]]);export{G as default};
