
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,u as s,G as a,r as t,x as o,j as r,o as i,c as n,b as l,f as d,g as p,h as g,Q as c,P as u,p as y,k as m,_ as f,q as x}from"../main-2d3d97e8.js";const b=e=>(y("data-v-2989d698"),e=e(),m(),e),P={style:{"padding-top":"32px"}},v=b((()=>l("div",{style:{color:"#20295A","font-size":"15px","font-weight":"bold","margin-bottom":"10px"}},"模型系统消息预设",-1))),M=b((()=>l("div",{style:{color:"#20295","font-size":"15px","margin-bottom":"12px"}},"模型全局头部预设",-1))),h={style:{"margin-top":"16px"}},w=e({__name:"globalPre",setup(e){const y=s(),m=a({systemPreMessage:""});async function f(){const e=await c.queryConfig({keys:["systemPreMessage"]});Object.assign(m,e.data)}async function x(){if(0==y.isUserModifyPermissions())return u.error("非超级管理员无权限操作！");var e;null==m.systemPreMessage||""==m.systemPreMessage?u.error("请填写完整信息"):(await c.setConfig({settings:(e=m,Object.keys(e).map((s=>({configKey:s,configVal:e[s]}))))}),u.success("变更配置信息成功"),f())}return t({systemPreMessage:[{required:!0,trigger:"blur",message:"请填写全局预设信息、用于模型预设词"}]}),t(),o((()=>{f()})),(e,s)=>{const a=r("el-alert"),t=r("el-input"),o=r("el-button");return i(),n("div",null,[l("div",null,[d(a,{closable:!1,"show-icon":"",title:"模型全局头部预设说明",description:"当前消息将会被追加到对话模型的全局预设当中、对应用APP无效、对其他所有绘画生效！",type:"warning"})]),l("div",P,[v,l("div",null,[M,l("div",null,[d(t,{style:{width:"500px"},modelValue:m.systemPreMessage,"onUpdate:modelValue":s[0]||(s[0]=e=>m.systemPreMessage=e),type:"textarea",rows:5,placeholder:"请填写模型全局头部预设信息！",clearable:""},null,8,["modelValue"])])])]),l("div",h,[d(o,{bg:"",text:"",type:"primary",size:"large",style:{"font-size":"15px",background:"#EFF6FF",height:"42px",color:"#60A5FA","border-radius":"8px",padding:"8px 100px"},onClick:x},{default:p((()=>[g("保存设置")])),_:1})])])}}});"function"==typeof x&&x(w);const _=f(w,[["__scopeId","data-v-2989d698"]]);export{_ as default};
