
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,U as l,r as a,V as t,e as o,ah as i,Y as d,o as r,f as s,j as u,h as n,g as p,m,k as c,q as g,X as b,ae as v,a1 as x,a2 as y}from"../main-6fd6ef79.js";const f={style:{"min-height":"500px"}},h={style:{"margin-bottom":"10px"}},w={style:{"margin-bottom":"10px"}},V={style:{"flex-grow":"1"}},_={style:{"padding-top":"32px"}},q={style:{"flex-grow":"1"}},I={style:{"padding-top":"32px"}},A={style:{"padding-top":"32px"}},M={style:{"margin-top":"16px"}},P=e({__name:"global",setup(e){const x=l(),y=a(),P=a({systemPreMessage:"",dialogueTail:"",robotAvatar:"",chatGuide:[],chatMarquee:[],guideWelcome:""});a({systemPreMessage:[{required:!0,trigger:"blur",message:"请填写预设信息"}],dialogueTail:[{required:!0,trigger:"blur",message:"请填写引导答案"}],robotAvatar:[{required:!0,trigger:"blur",message:"请上传头像"}],chatMarquee:[{required:!0,trigger:"blur",message:"请上传轮播图"}]});const G=a();async function U(){y.value=!0;const e=await b.queryConfig({keys:["systemPreMessage","chatGuide","dialogueTail","robotAvatar","chatMarquee","guideWelcome"]});P.value=e.data,P.value.chatGuide||(P.value.chatGuide=[]),y.value=!1}async function O(){if(0==x.isUserModifyPermissions())return v.error("非超级管理员无权限操作！");var e;null==P.value.systemPreMessage||""==P.value.systemPreMessage?v.error("请填写完整信息"):(await b.setConfig({settings:(e=P.value,Object.keys(e).map((l=>({configKey:l,configVal:e[l]}))))}),v.success("变更配置信息成功"),U())}return t((()=>{U()})),(e,l)=>{const a=o("el-alert"),t=o("els-upload"),b=o("els-option"),v=o("els-input"),x=o("els-list"),U=o("el-input"),k=o("el-form-item"),z=o("el-col"),F=o("el-row"),T=o("els-tabs"),W=o("els-form"),L=o("el-button"),j=i("loading");return d((r(),s("div",f,[y.value?c("",!0):(r(),u(W,{key:0,ref_key:"formRef",ref:G,modelValue:P.value,"onUpdate:modelValue":l[6]||(l[6]=e=>P.value=e),"label-width":"150px","label-position":"top",style:{width:"1000px"}},{default:n((()=>[p(T,null,{default:n((()=>[p(b,{label:"对话LOGO"},{default:n((()=>[m("div",h,[p(a,{closable:!1,"show-icon":"",title:"对话LOGO说明",description:"当前LOGO将会被追加到对话模型的全局预设当中",type:"warning"})]),p(t,{label:"对话LOGO",modelValue:P.value.robotAvatar,"onUpdate:modelValue":l[0]||(l[0]=e=>P.value.robotAvatar=e),type:"Pic",width:"120",height:"120",required:""},null,8,["modelValue"])])),_:1}),p(b,{label:"轮播图"},{default:n((()=>[m("div",w,[p(a,{closable:!1,"show-icon":"",title:"轮播图说明",description:"当前轮播图将显示在对话栏目轮播图模块",type:"warning"})]),p(x,{modelValue:P.value.chatMarquee,"onUpdate:modelValue":l[1]||(l[1]=e=>P.value.chatMarquee=e),class:"marquee","border-type":"border2",hasForm:!0},{default:n((({item:e,$index:l})=>[m("div",V,[p(t,{type:"Pic",prop:"url",label:"轮播图",aIndex:l,required:""},null,8,["aIndex"]),p(v,{prop:"title",label:"标题",width:"100%",aIndex:l,required:""},null,8,["aIndex"]),p(v,{prop:"targetUrl",label:"跳转地址",width:"100%",aIndex:l,required:""},null,8,["aIndex"])])])),_:1},8,["modelValue"])])),_:1}),p(b,{label:"对话引导"},{default:n((()=>[m("div",null,[p(a,{closable:!1,"show-icon":"",title:"会话引导说明",description:"AI会话示例问题和答案！",type:"warning"})]),m("div",_,[l[7]||(l[7]=m("div",{style:{color:"#20295A","font-size":"15px","font-weight":"bold","margin-bottom":"10px"}},"对话引导设置",-1)),m("div",null,[p(F,null,{default:n((()=>[p(z,{xs:24,md:20,lg:15,xl:8},{default:n((()=>[p(k,{label:"欢迎语",prop:"guideWelcome","label-width":"150"},{default:n((()=>[p(U,{type:"textarea",rows:6,modelValue:P.value.guideWelcome,"onUpdate:modelValue":l[2]||(l[2]=e=>P.value.guideWelcome=e),placeholder:"请输入",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),p(x,{modelValue:P.value.chatGuide,"onUpdate:modelValue":l[3]||(l[3]=e=>P.value.chatGuide=e),class:"marquee","border-type":"border2",hasForm:!0},{default:n((({item:e,$index:l})=>[m("div",q,[p(v,{prop:"name",label:"引导名称",width:"100%",aIndex:l,required:""},null,8,["aIndex"]),p(t,{type:"Pic",prop:"icon",label:"图标",aIndex:l,required:""},null,8,["aIndex"]),p(v,{prop:"content",type:"textarea",rows:6,label:"引导内容",width:"100%",aIndex:l,required:""},null,8,["aIndex"])])])),_:1},8,["modelValue"])])])])),_:1}),p(b,{label:"对话预设"},{default:n((()=>[m("div",null,[p(a,{closable:!1,"show-icon":"",title:"模型全局头部预设说明",description:"当前消息将会被追加到对话模型的全局预设当中、对应用APP无效、对其他所有绘画生效！",type:"warning"})]),m("div",I,[l[9]||(l[9]=m("div",{style:{color:"#20295A","font-size":"15px","font-weight":"bold","margin-bottom":"10px"}},"模型系统消息预设",-1)),m("div",null,[l[8]||(l[8]=m("div",{style:{color:"#20295A","font-size":"15px","margin-bottom":"12px"}},"模型全局头部预设",-1)),m("div",null,[p(U,{style:{width:"500px"},modelValue:P.value.systemPreMessage,"onUpdate:modelValue":l[4]||(l[4]=e=>P.value.systemPreMessage=e),type:"textarea",rows:5,placeholder:"请填写模型全局头部预设信息！",clearable:""},null,8,["modelValue"])])])])])),_:1}),p(b,{label:"对话尾巴"},{default:n((()=>[m("div",null,[p(a,{closable:!1,"show-icon":"",title:"对话小尾巴设置",description:"设置对话小尾巴，前台每条对话完成后都会显示该小尾巴",type:"warning"})]),m("div",A,[l[10]||(l[10]=m("div",{style:{color:"#20295A","font-size":"15px","font-weight":"bold","margin-bottom":"10px"}},"对话小尾巴设置",-1)),m("div",null,[p(F,null,{default:n((()=>[p(z,{xs:24,md:20,lg:15,xl:8},{default:n((()=>[p(k,{label:"对话小尾巴",prop:"dialogueTail"},{default:n((()=>[p(U,{size:"large",modelValue:P.value.dialogueTail,"onUpdate:modelValue":l[5]||(l[5]=e=>P.value.dialogueTail=e),type:"text",placeholder:"请填写对话小尾巴",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])])])),_:1})])),_:1})])),_:1},8,["modelValue"])),m("div",null,[m("div",M,[p(L,{bg:"",text:"",type:"primary",size:"large",style:{"font-size":"15px",background:"#EFF6FF",height:"42px",color:"#60A5FA","border-radius":"8px",padding:"8px 100px"},onClick:O},{default:n((()=>l[11]||(l[11]=[g("保存设置")]))),_:1})])])])),[[j,y.value]])}}});"function"==typeof y&&y(P);const G=x(P,[["__scopeId","data-v-bf582a21"]]);export{G as default};
