
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,u as t,a,F as r,B as s,r as n,o as i,l as o,b as m,e as l,f as p,h as c,i as g,j as d,c as u,P as b,_ as y,q as f}from"../main-46c178e9.js";/* empty css                     */const x={style:{"margin-top":"16px"}},h={style:{"margin-top":"50px"}},A=e({__name:"agreementmember",setup(e){const y=t(),f=a(),A=r({memberAgreement:""});async function v(){const e=await u.queryConfig({keys:["memberAgreement"]}),{memberAgreement:t}=e.data;Object.assign(A,{memberAgreement:t})}async function F(){if(0==y.isUserModifyPermissions())return b.error("非超级管理员无权限操作！");if(""!=A.memberAgreement){try{await u.setConfig({settings:(e=A,Object.keys(e).map((t=>({configKey:t,configVal:e[t]}))))}),b.success("变更配置信息成功")}catch(t){}var e;v()}else b.error("请填写完整信息")}return s((()=>f.settings.app.colorScheme)),n({memberAgreement:[{required:!0,trigger:"blur",message:"请填写会员协议内容"}]}),n(),n("/api/file/upload"),i((()=>{v()})),(e,t)=>{const a=o("el-alert"),r=o("el-input"),s=o("el-button");return m(),l("div",null,[p("div",x,[c(a,{closable:!1,"show-icon":"",title:"会员协议设置说明",description:"这里的会员协议设置是对应用户端的会员协议链接、可以使用MD语法或直接使用Html标签进行发布、您也可以直接粘贴上传图片、作为图床使用、其他地方比如上传商品等地方的图片也可以暂时在此作为临时方案。",type:"warning"})]),p("div",null,[t[1]||(t[1]=p("div",{style:{color:"#20295A","font-size":"15px","margin-top":"24px","margin-bottom":"12px"}}," 会员协议内容 ",-1)),c(r,{style:{width:"100%",height:"50vh"},type:"textarea",modelValue:A.memberAgreement,"onUpdate:modelValue":t[0]||(t[0]=e=>A.memberAgreement=e),placeholder:"请输入会员协议内容",clearable:""},null,8,["modelValue"])]),p("div",h,[c(s,{bg:"",text:"",type:"primary",size:"large",style:{"font-size":"15px",background:"#EFF6FF",height:"42px",color:"#60A5FA","border-radius":"8px",padding:"8px 100px"},onClick:F},{default:g((()=>t[2]||(t[2]=[d("保存设置 ")]))),_:1})])])}}});"function"==typeof f&&f(A);const v=y(A,[["__scopeId","data-v-5baab91d"]]);export{v as default};
