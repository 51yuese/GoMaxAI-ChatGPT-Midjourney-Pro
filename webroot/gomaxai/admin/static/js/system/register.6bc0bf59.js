
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,T as t,C as a,r,U as s,e as l,o as i,f as n,m as d,g as o,h as u,q as g,W as f,ad as p,a1 as c}from"../main-527fe521.js";const m={style:{"margin-top":"16px"}},S=e({__name:"register",setup(e){const c=t(),S=a({registerSendStatus:0,registerRewards:""}),y=r();async function x(){const e=await f.queryConfig({keys:["registerSendStatus","registerRewards"]});e.data.registerSendStatus&&(e.data.registerSendStatus=Number(e.data.registerSendStatus)),Object.assign(S,e.data)}async function b(){if(0==c.isUserModifyPermissions())return p.error("非超级管理员无权限操作！");if(0!=S.registerSendStatus)if(S.registerRewards<=0)p.error("开启邀请赠送选项后需填写此项");else{try{await f.setConfig({settings:(e=S,Object.keys(e).map((t=>({configKey:t,configVal:e[t]}))))}),p.success("变更配置信息成功")}catch(t){}var e;x()}else p.error("开启注册赠送后当前配置才能生效")}return s((()=>{x()})),(e,t)=>{const a=l("el-switch"),r=l("el-form-item"),s=l("el-col"),f=l("el-row"),p=l("el-input"),c=l("el-form"),x=l("el-button");return i(),n("div",null,[t[4]||(t[4]=d("div",{style:{display:"flex","align-items":"center","margin-bottom":"16px"}},[d("div",{style:{"font-size":"15px","font-weight":"bold"}},"注册赠送")],-1)),d("div",null,[o(c,{ref_key:"formRef",ref:y,model:S,"label-position":"top"},{default:u((()=>[d("div",null,[o(f,null,{default:u((()=>[o(s,{xs:24,md:20,lg:15,xl:8},{default:u((()=>[o(r,{prop:"registerSendStatus"},{default:u((()=>[t[2]||(t[2]=d("div",{style:{color:"#9FA3B8","font-size":"15px","margin-right":"12px"}}," 注册赠送 ",-1)),o(a,{modelValue:S.registerSendStatus,"onUpdate:modelValue":t[0]||(t[0]=e=>S.registerSendStatus=e),"active-value":1,"inactive-value":0},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),o(f,null,{default:u((()=>[o(s,{xs:24,md:20,lg:15,xl:8},{default:u((()=>[o(r,{label:"注册赠送积分",prop:"registerSendIntegral"},{default:u((()=>[o(p,{size:"large",modelValue:S.registerRewards,"onUpdate:modelValue":t[1]||(t[1]=e=>S.registerRewards=e),placeholder:"首次注册赠送积分数量",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])])),_:1},8,["model"]),d("div",m,[o(x,{bg:"",text:"",type:"primary",size:"large",style:{"font-size":"15px",background:"#EFF6FF",height:"42px",color:"#60A5FA","border-radius":"8px",padding:"8px 100px"},onClick:b},{default:u((()=>t[3]||(t[3]=[g("保存设置 ")]))),_:1})])])])}}});"function"==typeof c&&c(S);export{S as default};
