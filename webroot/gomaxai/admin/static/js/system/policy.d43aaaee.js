
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,U as t,W as o,C as a,c as i,r as s,V as n,e as l,o as p,f as r,m as c,g as y,h as d,q as u,X as g,ae as m,a1 as f,a2 as x}from"../main-537e5929.js";/* empty css                     */const C={style:{"margin-top":"16px"}},h={style:{"margin-top":"50px"}},b=e({__name:"policy",setup(e){const f=t(),x=o(),b=a({policyContent:"",policyTitle:""});async function v(){const e=await g.queryConfig({keys:["policyTitle","policyContent"]}),{policyTitle:t,policyContent:o}=e.data;Object.assign(b,{policyTitle:t,policyContent:o})}async function w(){if(0==f.isUserModifyPermissions())return m.error("非超级管理员无权限操作！");if(""!=b.policyContent){try{await g.setConfig({settings:(e=b,Object.keys(e).map((t=>({configKey:t,configVal:e[t]}))))}),m.success("变更配置信息成功")}catch(t){}var e;v()}else m.error("请填写用户协议内容")}return i((()=>x.settings.app.colorScheme)),s({policyContent:[{required:!0,trigger:"blur",message:"请填写隐私政策内容"}]}),s(),s("/api/file/upload"),n((()=>{v()})),(e,t)=>{const o=l("el-alert"),a=l("el-input"),i=l("el-button");return p(),r("div",null,[c("div",C,[y(o,{closable:!1,"show-icon":"",title:"隐私政策设置说明",description:"这里的隐私政策设置是对应用户端底部隐私政策链接的设置、你可以使用MD语法或直接使用Html标签进行发布、您也可以直接粘贴上传图片、作为图床使用、其他地方比如上传商品等地方的图片也可以暂时在此作为临时方案。",type:"warning"})]),c("div",null,[t[1]||(t[1]=c("div",{style:{color:"#20295A","font-size":"15px","margin-top":"24px","margin-bottom":"12px"}}," 隐私政策内容 ",-1)),y(a,{style:{width:"100%",height:"50vh"},type:"textarea",modelValue:b.policyContent,"onUpdate:modelValue":t[0]||(t[0]=e=>b.policyContent=e),placeholder:"请输入隐私政策内容",clearable:""},null,8,["modelValue"])]),c("div",h,[y(i,{bg:"",text:"",type:"primary",size:"large",style:{"font-size":"15px",background:"#EFF6FF",height:"42px",color:"#60A5FA","border-radius":"8px",padding:"8px 100px"},onClick:w},{default:d((()=>t[2]||(t[2]=[u("保存设置")]))),_:1})])])}}});"function"==typeof x&&x(b);const v=f(b,[["__scopeId","data-v-e3f7a757"]]);export{v as default};
