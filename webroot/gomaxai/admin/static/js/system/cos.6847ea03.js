
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as e}from"../index/index.8279f6f1.js";import{d as l,G as a,r as o,x as t,j as s,o as c,c as r,f as u,g as d,b as n,h as i,Q as f,P as m,q as g}from"../main-2d3d97e8.js";const p={class:"flex justify-between"},b=n("b",null,"COS参数设置",-1),y=l({__name:"cos",setup(l){const g=a({cosSecretId:"",cosSecretKey:"",cosBucket:"",cosRegion:""}),y=o({cosSecretKey:[{required:!0,trigger:"blur",message:"请填写SecretKey"}],cosBucket:[{required:!0,trigger:"blur",message:"请填写存储桶名称"}],cosRegion:[{required:!0,trigger:"blur",message:"请填写存储桶所属地域"}],cosSecretId:[{required:!0,trigger:"blur",message:"请填写SecretId"}]}),S=o();async function _(){const e=await f.queryConfig({keys:["cosSecretKey","cosBucket","cosRegion","cosSecretId"]});Object.assign(g,e.data)}function x(){var e;null==(e=S.value)||e.validate((async e=>{if(e){try{await f.setConfig({settings:(l=g,Object.keys(l).map((e=>({configKey:e,configVal:l[e]}))))}),m.success("变更配置信息成功")}catch(a){}_()}else m.error("请填写完整信息");var l}))}return t((()=>{_()})),(l,a)=>{const o=s("el-alert"),t=e,f=s("el-button"),m=s("el-input"),_=s("el-form-item"),V=s("el-col"),h=s("el-row"),k=s("el-form"),I=s("el-card");return c(),r("div",null,[u(t,null,{default:d((()=>[u(o,{closable:!1,"show-icon":"",title:"COS参数说明",description:"当前默认使用腾讯云COS对象存储、如果您有特殊的对接通道、将为您开放API对接！！",type:"success"})])),_:1}),u(I,{style:{margin:"20px"}},{header:d((()=>[n("div",p,[b,u(f,{class:"button",onClick:x},{default:d((()=>[i(" 保存设置 ")])),_:1})])])),default:d((()=>[u(k,{ref_key:"formRef",ref:S,rules:y.value,model:g,"label-width":"120px"},{default:d((()=>[u(h,null,{default:d((()=>[u(V,{xs:24,md:20,lg:15,xl:12},{default:d((()=>[u(_,{label:"SecretId",prop:"cosSecretId"},{default:d((()=>[u(m,{modelValue:g.cosSecretId,"onUpdate:modelValue":a[0]||(a[0]=e=>g.cosSecretId=e),placeholder:"请填写SecretId",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),u(h,null,{default:d((()=>[u(V,{xs:24,md:20,lg:15,xl:12},{default:d((()=>[u(_,{label:"SecretKey",prop:"cosSecretKey"},{default:d((()=>[u(m,{modelValue:g.cosSecretKey,"onUpdate:modelValue":a[1]||(a[1]=e=>g.cosSecretKey=e),placeholder:"请填写SecretKey",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),u(h,null,{default:d((()=>[u(V,{xs:24,md:20,lg:15,xl:12},{default:d((()=>[u(_,{label:"存储桶名称",prop:"cosBucket"},{default:d((()=>[u(m,{modelValue:g.cosBucket,"onUpdate:modelValue":a[2]||(a[2]=e=>g.cosBucket=e),placeholder:"请填写存储桶名称",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),u(h,null,{default:d((()=>[u(V,{xs:24,md:20,lg:15,xl:12},{default:d((()=>[u(_,{label:"所属地域",prop:"cosRegion"},{default:d((()=>[u(m,{modelValue:g.cosRegion,"onUpdate:modelValue":a[3]||(a[3]=e=>g.cosRegion=e),placeholder:"请填写所属地域(ap-guangzhou)",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["rules","model"])])),_:1})])}}});"function"==typeof g&&g(y);export{y as default};
