
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,U as a,C as t,r as s,V as l,e as r,o,f as i,m as n,g as d,h as m,q as u,X as f,ae as c,a2 as p}from"../main-9b7515ee.js";const y={style:{"margin-top":"24px"}},g=e({__name:"theme",setup(e){const p=a(),g=t({theme:""}),b=s({theme:[{required:!0,trigger:"blur",message:"必选"}]}),h=s();async function x(){const e=await f.queryConfig({keys:["theme"]});Object.assign(g,e.data)}function k(){var e;null==(e=h.value)||e.validate((async e=>{if(e){if(0==p.isUserModifyPermissions())return c.error("非超级管理员无权限操作！");try{await f.setConfig({settings:(a=g,Object.keys(a).map((e=>({configKey:e,configVal:a[e]}))))}),c.success("变更配置信息成功")}catch(t){}x()}else c.error("请填写完整信息");var a}))}return l((()=>{x()})),(e,a)=>{const t=r("el-radio"),s=r("el-radio-group"),l=r("el-form-item"),f=r("el-form"),c=r("el-button");return o(),i("div",null,[a[4]||(a[4]=n("div",{style:{color:"#20295A","font-size":"15px","margin-bottom":"24px"}},"设置默认系统主题",-1)),d(f,{ref_key:"formRef",ref:h,rules:b.value,model:g},{default:m((()=>[d(l,{prop:"theme"},{default:m((()=>[d(s,{modelValue:g.theme,"onUpdate:modelValue":a[0]||(a[0]=e=>g.theme=e),style:{display:"block"}},{default:m((()=>[d(t,{style:{display:"block",transform:"scale(1.1)","margin-bottom":"12px"},label:"dark"},{default:m((()=>a[1]||(a[1]=[u("深色")]))),_:1}),d(t,{style:{display:"block",transform:"scale(1.1)"},label:"light"},{default:m((()=>a[2]||(a[2]=[u("浅色")]))),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["rules","model"]),n("div",y,[d(c,{bg:"",text:"",type:"primary",size:"large",style:{"font-size":"15px",background:"#EFF6FF",height:"42px",color:"#60A5FA","border-radius":"8px",padding:"8px 100px"},onClick:k},{default:m((()=>a[3]||(a[3]=[u("保存设置")]))),_:1})])])}}});"function"==typeof p&&p(g);export{g as default};
