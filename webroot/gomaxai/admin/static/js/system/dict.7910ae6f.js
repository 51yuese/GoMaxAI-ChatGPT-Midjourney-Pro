
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,U as a,r as l,C as t,V as i,e as d,ah as o,o as s,f as r,m as n,g as u,h as c,q as p,Y as m,j as g,t as f,i as b,ae as h,a4 as v,a1 as x,a2 as y}from"../main-a14f6586.js";import{u as F}from"../utcformatTime/utcformatTime.f6db2c52.js";import{A as w}from"../aiMusic/aiMusic.2a6011bc.js";const _={class:"search_condition"},V={style:{display:"flex","align-items":"center"}},z={style:{"margin-top":"22px","margin-left":"12px"}},k={style:{"margin-top":"12px"}},N={style:{color:"#20295A","font-size":"15px","font-weight":"bold","background-color":"#EFF6FF",padding:"15px 20px","border-top":"15px",display:"flex","align-items":"center","justify-content":"space-between","border-top-right-radius":"15px","border-top-left-radius":"15px"}},C={style:{padding:"0 20px","border-bottom":"1px solid var(--el-border-color-lighter)"}},j={style:{padding:"20px",display:"flex","align-items":"center","justify-content":"space-between"}},A=e({__name:"dict",props:{type:{default:""}},emits:["success"],setup(e,{emit:x}){const y=e,A=x;a(),l();const U=l(0);l(!1);const Y=l(!1),M=l(!1),T=t({id:0,ids:[],dictType:y.type,dictName:"",publishFlag:0}),D=t({dictType:y.type,dictName:"",page:1,size:15}),E=l([]);async function q(){try{Y.value=!0;const e=await w.page(D),{rows:a,count:l}=e.data;U.value=l,Y.value=!1,E.value=a}catch(e){Y.value=!1}}function B(e){D.dictName="",q()}const I=t({dictName:[{required:!0,message:"名称不能为空",trigger:"blur"}]});async function R(){(await w.save(T)).data&&h({type:"success",message:"操作成功！"}),M.value=!1,q(),A("success")}return i((()=>q())),(e,a)=>{const l=d("el-input"),t=d("el-button"),i=d("RefreshRight"),h=d("el-icon"),x=d("el-table-column"),y=d("el-table"),w=d("el-pagination"),A=d("el-row"),S=v,G=d("el-form-item"),P=d("els-switch"),H=d("el-form"),J=d("el-dialog"),K=o("loading");return s(),r("div",null,[n("div",_,[n("div",V,[n("div",null,[a[8]||(a[8]=n("div",{class:"search_title"}," 搜索关键字 ",-1)),n("div",null,[u(l,{modelValue:D.dictName,"onUpdate:modelValue":a[0]||(a[0]=e=>D.dictName=e),placeholder:"请输入字典关键字",clearable:"",style:{width:"192px"}},null,8,["modelValue"])])]),n("div",z,[u(t,{text:"",bg:"",style:{"font-size":"15px",color:"#60A5FA","background-color":"#EFF6FF","border-radius":"8px"},onClick:q},{default:c((()=>a[9]||(a[9]=[p(" 查询 ")]))),_:1})]),n("div",{style:{"margin-left":"12px","background-color":"#EFF6FF",padding:"4px 16px","border-radius":"8px","margin-top":"22px",cursor:"pointer"},onClick:B},[u(h,{color:"#3B82F6",size:"20"},{default:c((()=>[u(i)])),_:1})])])]),n("div",k,[m((s(),g(y,{border:"",height:"66vh",data:E.value,style:{width:"100%"},size:"large"},{default:c((()=>[u(x,{fixed:"",prop:"id",label:"ID",width:"80"}),u(x,{prop:"dictName",label:"名称",width:"150"}),u(x,{prop:"dictValue",label:"内容",align:"center"}),u(x,{prop:"publishFlag",label:"是否发布",align:"center",width:"100"},{default:c((e=>[p(f(1===e.row.publishFlag?"是":"否"),1)])),_:1}),u(x,{prop:"createdAt",label:"创建时间",width:"200",align:"center"},{default:c((e=>[p(f(b(F)(e.row.createdAt,"YYYY-MM-DD hh:mm:ss")),1)])),_:1}),u(x,{fixed:"right",label:"操作",width:"250",align:"center"},{default:c((e=>[u(t,{link:"",type:"primary",size:"small",onClick:a=>{return l=e.row,M.value=!0,T.id=l.id,T.ids=[],T.dictName=l.dictName,T.publishFlag=l.publishFlag,void(T.dictValue=l.dictValue);var l}},{default:c((()=>a[10]||(a[10]=[p(" 编辑 ")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[K,Y.value]]),u(A,{class:"flex justify-end mt-5"},{default:c((()=>[u(w,{"page-size":D.size,"onUpdate:pageSize":a[1]||(a[1]=e=>D.size=e),"current-page":D.page,"onUpdate:currentPage":a[2]||(a[2]=e=>D.page=e),class:"mr-5",total:U.value,"page-sizes":[15,30,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:q,onCurrentChange:q},null,8,["page-size","current-page","total"])])),_:1})]),u(J,{modelValue:M.value,"onUpdate:modelValue":a[7]||(a[7]=e=>M.value=e),width:"650","show-close":!1,"destroy-on-close":""},{header:c((()=>[n("div",N,[n("div",null,f(T.id?"编辑内容":"新增内容"),1),n("div",{style:{cursor:"pointer"},onClick:a[3]||(a[3]=e=>M.value=!1)},[u(h,null,{default:c((()=>[u(S,{name:"close"})])),_:1})])])])),default:c((()=>[n("div",C,[u(H,{model:T},{default:c((()=>[u(G,{label:"名称",rules:I.dictName},{default:c((()=>[u(l,{modelValue:T.dictName,"onUpdate:modelValue":a[4]||(a[4]=e=>T.dictName=e),size:"large",placeholder:"请输入名称"},null,8,["modelValue"])])),_:1},8,["rules"]),u(G,{label:"是否发布"},{default:c((()=>[u(P,{modelValue:T.publishFlag,"onUpdate:modelValue":a[5]||(a[5]=e=>T.publishFlag=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])]),n("div",j,[u(t,{bg:"",text:"",style:{width:"40%",padding:"20px 0","background-color":"#F4F4F5",color:"#20295A","border-radius":"8px"},onClick:a[6]||(a[6]=e=>M.value=!1)},{default:c((()=>a[11]||(a[11]=[p(" 取消 ")]))),_:1}),u(t,{bg:"",text:"",style:{width:"40%",padding:"20px 0","background-color":"#3B82F6",color:"#FFF","border-radius":"8px"},type:"primary",onClick:R},{default:c((()=>a[12]||(a[12]=[p(" 确定 ")]))),_:1})])])),_:1},8,["modelValue"])])}}});"function"==typeof y&&y(A);const U=x(A,[["__scopeId","data-v-e9fac37b"]]);export{U as default};
