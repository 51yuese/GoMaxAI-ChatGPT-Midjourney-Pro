
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,r as l,b as a,e as r,o as t,j as o,h as n,g as s,i,q as u,s as d,al as p,P as m,a2 as c}from"../main-a14f6586.js";const f=e({__name:"voiceMarket",setup(e){const c=l(),f=l(),b=l(),v={id:0,name:"",type:2,cover:"",fileUrl:"",tags:"",description:"",isRelease:0},h=l(),y=l(),k=l(),E=l(),_=l([{name:"查询",color:"primary",icon:"search",action:"Search"},{name:"新增声音",color:"primary",icon:"edit",action:()=>(y.value="新增声音",h.value=a.cloneObj(v),k.value=!0,Promise.resolve(!0))}]);function g(){return new Promise(((e,l)=>{E.value.validate().then((l=>{l?b.value.save().then((l=>{E.value.query(),e(l)})):e(!1)}))}))}return(e,l)=>{const v=r("ElsInput"),w=r("ElsMenuTool"),C=r("ElsFormQuery"),q=r("ElsColumn"),R=r("ElsColumnImage"),U=r("ElsColumnBool"),V=r("el-button"),D=r("ElsTable"),j=r("ElsSwitch"),x=r("ElsUpload"),F=r("ElsTextarea"),M=r("ElsForm"),P=r("ElsDialog"),Y=r("ElsContainer");return t(),o(Y,{ref_key:"containerRef",ref:E},{default:n((()=>[s(C,{ref_key:"queryRef",ref:f,defaultQuery:[{prop:"type",value:2}]},{default:n((()=>[s(v,{prop:"name",placeholder:"请输入名称"}),s(w,{data:i(_),text:"",bg:""},null,8,["data"])])),_:1},512),s(D,{url:"/admin/human/market/list",ref_key:"tableRef",ref:c},{default:n((()=>[s(q,{prop:"id",label:"ID",sortable:"",width:"100",sortExpress:"desc"}),s(q,{prop:"name",label:"名称",width:"200"}),s(R,{prop:"cover",label:"封面"}),s(q,{prop:"description",label:"说明"}),s(U,{prop:"isRelease",label:"是否发布",width:"100"}),s(q,{prop:"createdAt",label:"创建时间",width:"200",dateFormatter:"YYYY-MM-DD HH:mm:ss"}),s(q,{label:"操作",width:"200"},{default:n((({row:e})=>[s(V,{link:"",type:"primary",size:"small",onClick:l=>function(e){y.value="修改配置",h.value=a.cloneObj(e),k.value=!0}(e)},{default:n((()=>l[2]||(l[2]=[u("编辑")]))),_:2},1032,["onClick"]),s(V,{link:"",type:"danger",size:"small",onClick:l=>function(e){p.confirm("确认删除？").then((()=>{`/admin/human/market/delete?id=${e.id}`.get().then((e=>{c.value.searchData(),m.success("删除成功")}))}))}(e)},{default:n((()=>l[3]||(l[3]=[u("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},512),s(P,{modelValue:i(k),"onUpdate:modelValue":l[1]||(l[1]=e=>d(k)?k.value=e:null),title:i(y),confirm:g,"content-height":"350"},{default:n((()=>[s(M,{modelValue:i(h),"onUpdate:modelValue":l[0]||(l[0]=e=>d(h)?h.value=e:null),ref_key:"formRef",ref:b,saveUrl:"/admin/human/market/save",labelWidth:"120"},{default:n((()=>[s(j,{label:"是否发布",prop:"isRelease"}),s(v,{label:"名称",prop:"name",required:""}),s(x,{label:"封面",prop:"cover",type:"Pic",required:""}),s(x,{label:"音频",prop:"fileUrl",type:"File",required:""}),s(v,{label:"标签",prop:"tags",required:""}),s(F,{label:"说明",prop:"description"})])),_:1},8,["modelValue"])])),_:1},8,["modelValue","title"])])),_:1},512)}}});"function"==typeof c&&c(f);export{f as default};
