
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as e}from"../index/index.51a974b7.js";import{d as a,W as l,r as s,C as t,c as o,V as d,e as u,ah as n,o as r,f as i,g as c,h as f,i as m,bj as p,$ as y,a0 as v,F as w,J as b,j as _,q as h,Y as x,t as V,s as g,ae as k,A as W,a2 as j}from"../main-9b7515ee.js";import{A as C}from"../badWords/badWords.b5289251.js";import{o as B}from"../index/index.55773171.js";const z=a({__name:"custom",setup(a){const j=l(),z=s(),K=s(0),U=s(!1),q=t({word:"",status:"",page:1,size:500}),A=o((()=>j.settings.app.colorScheme)),F=s([]);async function P(){try{U.value=!0;const e=await C.queryBadWords(q),{rows:a,count:l}=e.data;U.value=!1,K.value=l,F.value=a}catch(e){U.value=!1}}d((()=>{P()}));const R=s(""),I=s(!1),J=s();function M(){I.value=!0,W((()=>{J.value.input.focus()}))}async function N(){R.value&&(await C.addBadWords({word:R.value}),k.success("添加敏感词成功"),q.status="",await P()),I.value=!1,R.value=""}return(a,l)=>{const s=u("el-alert"),t=e,o=u("el-form-item"),d=u("el-option"),W=u("el-select"),j=u("el-button"),K=u("el-form"),S=u("el-tag"),Y=n("loading");return r(),i("div",null,[c(t,{bottomPadding:"20px"},{default:f((()=>[c(s,{closable:!1,"show-icon":"",title:"敏感词说明",description:"当前为自定义敏感词、触发敏感词将自动拦截、如配置过三方平台、自定义检测将在三方平台通过后最后进行检测！",type:"success"})])),_:1}),c(t,null,{default:f((()=>[c(K,{ref_key:"formRef",ref:z,inline:!0,model:q},{default:f((()=>[c(o,{label:"敏感词",prop:"word"},{default:f((()=>[c(m(p),{modelValue:q.word,"onUpdate:modelValue":l[0]||(l[0]=e=>q.word=e),placeholder:"敏感词[模糊搜索]",onKeydown:y(v(P,["prevent"]),["enter"])},null,8,["modelValue","onKeydown"])])),_:1}),c(o,{label:"敏感词状态",prop:"status"},{default:f((()=>[c(W,{modelValue:q.status,"onUpdate:modelValue":l[1]||(l[1]=e=>q.status=e),placeholder:"请选择敏感词状态",clearable:"",style:{width:"192px"}},{default:f((()=>[(r(!0),i(w,null,b(m(B),(e=>(r(),_(d,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),c(o,null,{default:f((()=>[c(j,{type:"primary",onClick:P},{default:f((()=>l[4]||(l[4]=[h(" 查询 ")]))),_:1}),c(j,{onClick:l[2]||(l[2]=e=>{return null==(a=m(z))||a.resetFields(),void P();var a})},{default:f((()=>l[5]||(l[5]=[h(" 重置 ")]))),_:1})])),_:1})])),_:1},8,["model"])])),_:1}),x((r(),_(t,{style:{width:"100%"},bottomPadding:"20px",bottomMargin:"0px"},{default:f((()=>[(r(!0),i(w,null,b(m(F),(e=>(r(),_(S,{key:e.id,type:"warning",class:"mr-3 mb-3",closable:"",hit:"",effect:m(A),"disable-transitions":!0,onClose:a=>async function(e){await C.delBadWords({id:e}),k.success("删除敏感词成功"),await P()}(e.id)},{default:f((()=>[h(V(e.word),1)])),_:2},1032,["effect","onClose"])))),128)),m(I)?(r(),_(m(p),{key:0,ref_key:"InputRef",ref:J,modelValue:m(R),"onUpdate:modelValue":l[3]||(l[3]=e=>g(R)?R.value=e:null),class:"ml-1",style:{width:"80px"},size:"small",onKeyup:y(N,["enter"]),onBlur:N},null,8,["modelValue"])):(r(),_(j,{key:1,class:"ml-1",size:"small",onClick:M},{default:f((()=>l[6]||(l[6]=[h(" + New Word ")]))),_:1}))])),_:1})),[[Y,m(U)]])])}}});"function"==typeof j&&j(z);export{z as default};
