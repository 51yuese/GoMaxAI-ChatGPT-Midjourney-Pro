
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{A as e}from"../mj/mj.b05f9cba.js";import{d as a,r as n,F as l,l as t,V as s,b as i,J as u,i as d,f as o,h as r,j as c,t as p,w as m,g,e as v,Y as f,X as h,K as y,O as _,_ as I}from"../main-fe71c3b2.js";const b={style:{height:"auto","overflow-y":"auto","overflow-x":"hidden"}},w={class:"setting-content"},j={class:"setting-content-line1"},x={class:"setting-content-line2"},T={style:{"margin-right":"2px"}},k=I(a({__name:"mjDetail",emits:["fresh"],setup(a,{expose:I,emit:k}){const D=n(!1),O=n(!1),V=n(""),z=n(0),A=l({id:0,setting:{},account:"",channelId:"",guildId:"",authorization:"",applicationId:"",version:"",sessionId:"",usedTime:"",totalTime:"",fastRemainTime:"",relaxRemainTime:"",renewDate:"",orderPlan:0,createdAt:"",updatedAt:"",type:1,enable:1,concurrency:3,timeout:5,awaitQueue:10,remark:""});const J=async a=>await e.getMjParamById(a).then((e=>e.data));return I({open:function(e){O.value=!0,z.value=e||0,V.value="查看详情",A.id=e,e&&e>0&&J({id:e}).then((e=>{const a=JSON.parse(e.setting);Object.assign(A,{...e,setting:e.setting?a:{}})}))}}),(a,n)=>{const l=t("el-col"),I=t("el-row"),k=t("el-card"),z=t("el-button"),P=t("el-dialog"),R=s("loading");return i(),u(P,{modelValue:g(O),"onUpdate:modelValue":n[0]||(n[0]=e=>_(O)?O.value=e:null),"append-to-body":!0,"close-on-click-modal":!1,title:g(V),top:"80px",fullscreen:!1,width:"1200px","z-index":2e3},{default:d((()=>[o("div",b,[o("div",null,[r(k,{class:"box-card",shadow:"never"},{header:d((()=>n[1]||(n[1]=[o("div",{class:"card-header"},[o("span",null,"账号信息")],-1)]))),default:d((()=>[r(I,{gutter:20},{default:d((()=>[r(l,{span:12},{default:d((()=>[o("p",null,[n[2]||(n[2]=c("账户名: ")),o("span",null,p(A.account),1)]),o("p",null,[n[3]||(n[3]=c("频道ID: ")),o("span",null,p(A.channelId),1)]),o("p",null,[n[4]||(n[4]=c("服务器ID: ")),o("span",null,p(A.guildId),1)]),o("p",null,[n[5]||(n[5]=c("授权令牌: ")),o("span",null,p(A.authorization),1)])])),_:1}),r(l,{span:12},{default:d((()=>[o("p",null,[n[6]||(n[6]=c("状态: ")),o("span",null,p(1===A.enable?"启用":"停用"),1)]),o("p",null,[n[7]||(n[7]=c("出图模式: ")),o("span",null,p(1===A.type?"快速":2===A.type?"休闲":3===A.type?"Turbo":""),1)]),o("p",null,[n[8]||(n[8]=c("快速时间剩余: ")),o("span",null,p(A.fastRemainTime),1)]),o("p",null,[n[9]||(n[9]=c("订阅计划: ")),o("span",null,p(1===A.orderPlan?"标准":"其他"),1)]),o("p",null,[n[10]||(n[10]=c("续订时间: ")),o("span",null,p(A.renewDate),1)])])),_:1})])),_:1})])),_:1}),"{}"!==A.setting?(i(),u(k,{key:0,class:"box-card",shadow:"never"},{header:d((()=>n[11]||(n[11]=[o("div",{class:"card-header"},[o("span",null,"设置")],-1)]))),default:d((()=>{var a;return[m((i(),v("div",w,[(i(!0),v(f,null,h(null==(a=A.setting)?void 0:a.components,(a=>(i(),v("div",j,[(i(!0),v(f,null,h(a.components,(a=>{return i(),v("div",x,[r(z,{style:{margin:"4px"},type:(n=a.style,1===n?"primary":3===n?"success":4===n?"danger":"info"),onClick:n=>{var l,t;return(async a=>{D.value=!0;const n=A.id;await e.updateMjSetting({...a,mode:A.type,accountId:n}).then((e=>{J({id:n}).then((e=>{const a=JSON.parse(e.setting);Object.assign(A,{...e,setting:e.setting?a:{}})}))})),D.value=!1})({messageId:null==(l=null==A?void 0:A.setting)?void 0:l.id,customId:null==a?void 0:a.custom_id,flags:null==(t=null==A?void 0:A.setting)?void 0:t.flags})}},{default:d((()=>{var e;return[o("span",T,p(null==(e=a.emoji)?void 0:e.name),1),c(p(a.label),1)]})),_:2},1032,["type","onClick"])]);var n})),256))])))),256))])),[[R,g(D)]])]})),_:1})):y("",!0)])])])),_:1},8,["modelValue","title"])}}}),[["__scopeId","data-v-30e4b1f9"]]);export{k as default};
