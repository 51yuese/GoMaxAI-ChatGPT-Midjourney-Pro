
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,U as a,r as l,C as s,e as t,o,j as i,h as r,m as d,t as n,i as u,g as p,q as c,s as m,ae as f,a4 as g,a1 as y}from"../main-a14f6586.js";import{A as b}from"../mj/mj.039bb673.js";const v={style:{color:"#20295A","font-size":"15px","font-weight":"bold","background-color":"#EFF6FF",padding:"15px 20px","border-top":"15px",display:"flex","align-items":"center","justify-content":"space-between","border-top-right-radius":"15px","border-top-left-radius":"15px"}},x={style:{padding:"0 20px","border-bottom":"1px solid var(--el-border-color-lighter)"}},h={style:{padding:"20px",display:"flex","align-items":"center","justify-content":"space-between"}},j=y(e({__name:"mjInspireClassify",emits:["fresh"],setup(e,{expose:y,emit:j}){const w=a(),_=l(!1),F=l(""),C=l(0),V=l();l(!1);const k=s({name:"",value:"",dataType:1}),I=j,U=s({name:[{required:!0,message:"广场分类名称不能为空",trigger:"change"},{max:10,message:"最大长度10"}],value:[{required:!0,message:"广场分类值不能为空",trigger:"change"}]});const M=async e=>{await(null==e?void 0:e.validate((async e=>{if(e){if(0==w.isUserModifyPermissions())return f.error("非超级管理员无权限操作！");C.value?await A({id:C.value,...k}):await O(k),I("fresh",!0),_.value=!1,Object.assign(k,{})}})))},O=async e=>(await b.addMjInspireClassify(e),f.success("添加广场分类类成功！"),!0),q=async e=>await b.getMjInspireClassify(e).then((e=>e.data)),A=async e=>{await b.modifyMjInspireClassify(e),f.success("更新广场分类成功！")};return y({open:function(e){_.value=!0,C.value=e||0,F.value=e?"编辑广场分类":"添加广场分类",e&&e>0?(k.dataType=1,q({id:e}).then((e=>{Object.assign(k,e)}))):(k.dataType=1,Object.assign(k,{name:"",value:""}))}}),(e,a)=>{const l=g,s=t("el-icon"),f=t("el-input"),y=t("el-form-item"),b=t("el-form"),j=t("el-button"),w=t("el-dialog");return o(),i(w,{modelValue:u(_),"onUpdate:modelValue":a[5]||(a[5]=e=>m(_)?_.value=e:null),width:"500","show-close":!1,"destroy-on-close":""},{header:r((({close:e,titleId:t,titleClass:o})=>[d("div",v,[d("div",null,n(u(F)),1),d("div",{onClick:a[0]||(a[0]=e=>_.value=!1),style:{cursor:"pointer"}},[p(s,null,{default:r((()=>[p(l,{name:"close"})])),_:1})])])])),default:r((()=>[d("div",x,[p(b,{model:k,"label-position":"right",ref_key:"formRef",ref:V,rules:U,inline:!1,"label-width":"80px"},{default:r((()=>[p(y,{label:"分类名称",prop:"name"},{default:r((()=>[p(f,{modelValue:k.name,"onUpdate:modelValue":a[1]||(a[1]=e=>k.name=e),placeholder:"输入分类名称",clearable:""},null,8,["modelValue"])])),_:1}),p(y,{label:"分类值",prop:"value"},{default:r((()=>[p(f,{modelValue:k.value,"onUpdate:modelValue":a[2]||(a[2]=e=>k.value=e),placeholder:"输入分类value值",clearable:""},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])]),d("div",h,[p(j,{bg:"",text:"",style:{width:"40%",padding:"20px 0","background-color":"#F4F4F5",color:"#20295A","border-radius":"8px"},onClick:a[3]||(a[3]=e=>_.value=!1)},{default:r((()=>a[6]||(a[6]=[c("取消 ")]))),_:1}),p(j,{bg:"",text:"",style:{width:"40%",padding:"20px 0","background-color":"#3B82F6",color:"#FFF","border-radius":"8px"},type:"primary",onClick:a[4]||(a[4]=e=>M(u(V)))},{default:r((()=>a[7]||(a[7]=[c(" 确定 ")]))),_:1})])])),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-4b2343f1"]]);export{j as default};
