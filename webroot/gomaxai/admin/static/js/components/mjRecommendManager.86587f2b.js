
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{A as e}from"../mj/mj.ecba9aa7.js";import{d as a,r as l,C as o,e as s,o as t,j as d,h as n,g as i,q as r,i as u,m,s as c,ae as p,a1 as f}from"../main-98fa617f.js";const h={style:{height:"auto","overflow-y":"auto","overflow-x":"hidden"}},g=f(a({__name:"mjRecommendManager",emits:["fresh"],setup(a,{expose:f,emit:g}){const y=l(!1),w=l(""),_=l(0),k=l();l(!1);const v=o({icon:"",keywordChinese:"",keywordEnglish:""}),j=g,b=o({keywordChinese:[{required:!0,message:"中文关键词不能为空",trigger:"change"},{max:50,message:"最大长度50"}],keywordEnglish:[{required:!0,message:"中文关键词英文翻译不能为空",trigger:"change"},{max:50,message:"最大长度50"}]});const x=async e=>{await(null==e?void 0:e.validate((async e=>{e&&(_.value?await E({id:_.value,...v}):await C(v),j("fresh",!0),y.value=!1,Object.assign(v,{}))})))},C=async a=>(await e.addMjParam(a),p.success("添加预设关键词成功！"),!0),V=async a=>await e.getMjParamById(a).then((e=>e.data)),E=async a=>{await e.modifyMjParam(a),p.success("更新预设关键词成功！")};return f({open:function(e){y.value=!0,_.value=e||0,w.value=e?"编辑预设关键词":"添加预设关键词",e&&e>0?V({id:e}).then((e=>{Object.assign(v,e)})):Object.assign(v,{icon:"",keywordChinese:"",keywordEnglish:""})}}),(e,a)=>{const l=s("el-input"),o=s("el-col"),p=s("el-button"),f=s("el-row"),g=s("el-form-item"),_=s("el-upload"),j=s("el-form"),C=s("el-dialog");return t(),d(C,{modelValue:u(y),"onUpdate:modelValue":a[4]||(a[4]=e=>c(y)?y.value=e:null),"append-to-body":!0,"close-on-click-modal":!1,title:u(w),top:"80px",fullscreen:!1,width:"600px","z-index":2e3},{footer:n((()=>[i(p,{onClick:a[2]||(a[2]=e=>y.value=!1)},{default:n((()=>a[6]||(a[6]=[r(" 取消 ")]))),_:1}),i(p,{type:"primary",onClick:a[3]||(a[3]=e=>x(u(k)))},{default:n((()=>a[7]||(a[7]=[r(" 确认 ")]))),_:1})])),default:n((()=>[m("div",h,[i(j,{model:v,"label-position":"right",ref_key:"formRef",ref:k,rules:b,inline:!1,"label-width":"120px"},{default:n((()=>[i(g,{label:"中文关键词",prop:"keywordChinese"},{default:n((()=>[i(f,{gutter:4},{default:n((()=>[i(o,{span:23},{default:n((()=>[i(l,{modelValue:v.keywordChinese,"onUpdate:modelValue":a[0]||(a[0]=e=>v.keywordChinese=e),style:{width:"100%"},placeholder:"输入中文关键词",clearable:"",maxlength:"50"},null,8,["modelValue"])])),_:1}),i(o,{span:1},{default:n((()=>[i(p,null,{default:n((()=>a[5]||(a[5]=[r("翻译")]))),_:1})])),_:1})])),_:1})])),_:1}),i(g,{label:"中文关键词翻译",prop:"mjId"},{default:n((()=>[i(l,{modelValue:v.keywordEnglish,"onUpdate:modelValue":a[1]||(a[1]=e=>v.keywordEnglish=e),placeholder:"输入中文关键词翻译",clearable:"",maxlength:"50"},null,8,["modelValue"])])),_:1}),i(g,{label:"图标",prop:"icon"},{default:n((()=>[i(_,{type:"card"})])),_:1})])),_:1},8,["model","rules"])])])),_:1},8,["modelValue","title"])}}}),[["__scopeId","data-v-e8e32f77"]]);export{g as default};
