
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{A as e}from"../mj/mj.2e205486.js";import{d as a,r as n,C as l,e as t,ah as s,o as i,j as d,h as o,m as u,g as r,q as c,t as p,Y as m,i as g,f as v,F as f,J as h,k as y,s as I,a1 as _}from"../main-9d6c7d62.js";const b={style:{height:"auto","overflow-y":"auto","overflow-x":"hidden"}},j={class:"setting-content"},w={class:"setting-content-line1"},x={class:"setting-content-line2"},k={style:{"margin-right":"2px"}},T=_(a({__name:"mjDetail",emits:["fresh"],setup(a,{expose:_,emit:T}){const D=n(!1),O=n(!1),z=n(""),A=n(0),C=l({id:0,setting:{},account:"",channelId:"",guildId:"",authorization:"",applicationId:"",version:"",sessionId:"",usedTime:"",totalTime:"",fastRemainTime:"",relaxRemainTime:"",renewDate:"",orderPlan:0,createdAt:"",updatedAt:"",type:1,enable:1,concurrency:3,timeout:5,awaitQueue:10,remark:""});const J=async a=>await e.getMjParamById(a).then((e=>e.data));return _({open:function(e){O.value=!0,A.value=e||0,z.value="查看详情",C.id=e,e&&e>0&&J({id:e}).then((e=>{const a=JSON.parse(e.setting);Object.assign(C,{...e,setting:e.setting?a:{}})}))}}),(a,n)=>{const l=t("el-col"),_=t("el-row"),T=t("el-card"),A=t("el-button"),P=t("el-dialog"),R=s("loading");return i(),d(P,{modelValue:g(O),"onUpdate:modelValue":n[0]||(n[0]=e=>I(O)?O.value=e:null),"append-to-body":!0,"close-on-click-modal":!1,title:g(z),top:"80px",fullscreen:!1,width:"1200px","z-index":2e3},{default:o((()=>[u("div",b,[u("div",null,[r(T,{class:"box-card",shadow:"never"},{header:o((()=>n[1]||(n[1]=[u("div",{class:"card-header"},[u("span",null,"账号信息")],-1)]))),default:o((()=>[r(_,{gutter:20},{default:o((()=>[r(l,{span:12},{default:o((()=>[u("p",null,[n[2]||(n[2]=c("账户名: ")),u("span",null,p(C.account),1)]),u("p",null,[n[3]||(n[3]=c("频道ID: ")),u("span",null,p(C.channelId),1)]),u("p",null,[n[4]||(n[4]=c("服务器ID: ")),u("span",null,p(C.guildId),1)]),u("p",null,[n[5]||(n[5]=c("授权令牌: ")),u("span",null,p(C.authorization),1)])])),_:1}),r(l,{span:12},{default:o((()=>[u("p",null,[n[6]||(n[6]=c("状态: ")),u("span",null,p(1===C.enable?"启用":"停用"),1)]),u("p",null,[n[7]||(n[7]=c("出图模式: ")),u("span",null,p(1===C.type?"快速":2===C.type?"休闲":3===C.type?"Turbo":""),1)]),u("p",null,[n[8]||(n[8]=c("快速时间剩余: ")),u("span",null,p(C.fastRemainTime),1)]),u("p",null,[n[9]||(n[9]=c("订阅计划: ")),u("span",null,p(1===C.orderPlan?"标准":"其他"),1)]),u("p",null,[n[10]||(n[10]=c("续订时间: ")),u("span",null,p(C.renewDate),1)])])),_:1})])),_:1})])),_:1}),"{}"!==C.setting?(i(),d(T,{key:0,class:"box-card",shadow:"never"},{header:o((()=>n[11]||(n[11]=[u("div",{class:"card-header"},[u("span",null,"设置")],-1)]))),default:o((()=>{var a;return[m((i(),v("div",j,[(i(!0),v(f,null,h(null==(a=C.setting)?void 0:a.components,(a=>(i(),v("div",w,[(i(!0),v(f,null,h(a.components,(a=>{return i(),v("div",x,[r(A,{style:{margin:"4px"},type:(n=a.style,1===n?"primary":3===n?"success":4===n?"danger":"info"),onClick:n=>{var l,t;return(async a=>{D.value=!0;const n=C.id;await e.updateMjSetting({...a,mode:C.type,accountId:n}).then((e=>{J({id:n}).then((e=>{const a=JSON.parse(e.setting);Object.assign(C,{...e,setting:e.setting?a:{}})}))})),D.value=!1})({messageId:null==(l=null==C?void 0:C.setting)?void 0:l.id,customId:null==a?void 0:a.custom_id,flags:null==(t=null==C?void 0:C.setting)?void 0:t.flags})}},{default:o((()=>{var e;return[u("span",k,p(null==(e=a.emoji)?void 0:e.name),1),c(p(a.label),1)]})),_:2},1032,["type","onClick"])]);var n})),256))])))),256))])),[[R,g(D)]])]})),_:1})):y("",!0)])])])),_:1},8,["modelValue","title"])}}}),[["__scopeId","data-v-f321db04"]]);export{T as default};
