
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,r as l,b as a,e as t,o,j as r,h as n,g as s,i,q as u,s as d,al as p,P as c,a2 as m}from"../main-a14f6586.js";const f=e({__name:"category",setup(e){const m=l(),f=l(),b=l(),y={id:0,type:1,name:"",icon:"",isRelease:0,sortIndex:0},h=l(),v=l(),_=l(),E=l(),g=l([{name:"查询",color:"primary",icon:"search",action:"Search"},{name:"新增分类",color:"primary",icon:"edit",action:()=>(v.value="新增分类",h.value=a.cloneObj(y),_.value=!0,Promise.resolve(!0))}]);function k(){return new Promise(((e,l)=>{E.value.validate().then((l=>{l?b.value.save().then((l=>{m.value.searchData(),e(l)})):e(!1)}))}))}return(e,l)=>{const y=t("ElsInput"),w=t("ElsMenuTool"),C=t("ElsFormQuery"),I=t("ElsColumn"),R=t("ElsColumnImage"),D=t("ElsColumnBool"),V=t("el-button"),x=t("ElsTable"),j=t("ElsSwitch"),P=t("ElsUpload"),U=t("ElsInputNumber"),Y=t("ElsForm"),q=t("ElsDialog"),F=t("ElsContainer");return o(),r(F,{ref_key:"containerRef",ref:E},{default:n((()=>[s(C,{ref_key:"queryRef",ref:f,defaultQuery:[{prop:"type",value:1}]},{default:n((()=>[s(y,{prop:"name",placeholder:"请输入名称",clearable:""}),s(w,{data:i(g),text:"",bg:""},null,8,["data"])])),_:1},512),s(x,{url:"/admin/category/list",ref_key:"tableRef",ref:m},{default:n((()=>[s(I,{prop:"id",label:"ID",sortable:"",width:"100"}),s(I,{prop:"name",label:"名称"}),s(R,{prop:"icon",label:"图标"}),s(D,{prop:"isRelease",label:"是否启用",width:"100"}),s(I,{prop:"sortIndex",label:"排序",width:"100"}),s(I,{prop:"createdAt",label:"创建时间",width:"200",dateFormatter:"YYYY-MM-DD HH:mm:ss"}),s(I,{label:"操作",width:"200"},{default:n((({row:e})=>[s(V,{link:"",type:"primary",size:"small",onClick:l=>function(e){v.value="修改分类",h.value=a.cloneObj(e),_.value=!0}(e)},{default:n((()=>l[2]||(l[2]=[u("编辑")]))),_:2},1032,["onClick"]),s(V,{link:"",type:"danger",size:"small",onClick:l=>function(e){p.confirm("确认删除？").then((()=>{`/admin/category/delete?id=${e.id}`.get().then((e=>{m.value.searchData(),c.success("删除成功")}))}))}(e)},{default:n((()=>l[3]||(l[3]=[u("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},512),s(q,{modelValue:i(_),"onUpdate:modelValue":l[1]||(l[1]=e=>d(_)?_.value=e:null),title:i(v),confirm:k,width:"500",contentHeight:"300"},{default:n((()=>[s(Y,{modelValue:i(h),"onUpdate:modelValue":l[0]||(l[0]=e=>d(h)?h.value=e:null),ref_key:"formRef",ref:b,saveUrl:"/admin/category/save"},{default:n((()=>[s(j,{label:"是否发布",prop:"isRelease"}),s(y,{label:"名称",prop:"name",required:""}),s(P,{label:"图标",type:"Pic",prop:"icon"}),s(U,{label:"排序",prop:"sortIndex"})])),_:1},8,["modelValue"])])),_:1},8,["modelValue","title"])])),_:1},512)}}});"function"==typeof m&&m(f);export{f as default};
