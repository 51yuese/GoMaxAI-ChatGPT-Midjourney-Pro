
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,r as l,b as a,e as t,o as r,j as o,h as i,g as n,i as s,q as d,t as p,s as u,al as c,P as m,a2 as f}from"../main-537e5929.js";const b=e({__name:"list",setup(e){const f=l(),b=l(),v=l(),h={id:0,title:"",desc:"",prompt:"",promptEn:"",isRelease:0,sortIndex:0},y=l(),_=l(),E=l(),w=l(),g=l([{name:"查询",color:"primary",icon:"search",action:"Search"},{name:"新增提示词",color:"primary",icon:"edit",action:()=>(_.value="新增提示词",y.value=a.cloneObj(h),E.value=!0,Promise.resolve(!0))}]);function k(){return new Promise(((e,l)=>{w.value.validate().then((l=>{l?v.value.save().then((l=>{f.value.searchData(),e(l)})):e(!1)}))}))}const I=l([]);return"/admin/category/allList".get().then((e=>{I.value=e.data})),(e,l)=>{const h=t("ElsInput"),x=t("ElsSelect"),C=t("ElsMenuTool"),F=t("ElsFormQuery"),R=t("ElsColumn"),D=t("ElsColumnBool"),P=t("el-button"),V=t("ElsTable"),j=t("ElsSwitch"),q=t("ElsInputNumber"),Y=t("ElsForm"),M=t("ElsDialog"),S=t("ElsContainer");return r(),o(S,{ref_key:"containerRef",ref:w},{default:i((()=>[n(F,{ref_key:"queryRef",ref:b},{default:i((()=>[n(h,{prop:"title",placeholder:"请输入名称",clearable:""}),n(x,{prop:"categoryId",data:s(I),labelField:"name",valueField:"id",placeholder:"请选择分类",clearable:""},null,8,["data"]),n(C,{data:s(g),text:"",bg:""},null,8,["data"])])),_:1},512),n(V,{url:"/admin/aiPrompt/list",ref_key:"tableRef",ref:f},{default:i((()=>[n(R,{prop:"id",label:"ID",sortable:"",width:"100"}),n(R,{prop:"categoryId",label:"分类",width:"100"},{default:i((({row:e})=>{return[d(p((l=e.categoryId,null==(a=I.value.find((e=>e.id===l)))?void 0:a.name)),1)];var l,a})),_:1}),n(R,{prop:"title",label:"名称",width:"200"}),n(R,{prop:"desc",label:"描述"}),n(D,{prop:"isRelease",label:"是否启用",width:"100"}),n(R,{prop:"sortIndex",label:"排序",width:"100"}),n(R,{prop:"createdAt",label:"创建时间",width:"200",dateFormatter:"YYYY-MM-DD HH:mm:ss"}),n(R,{label:"操作",width:"200"},{default:i((({row:e})=>[n(P,{link:"",type:"primary",size:"small",onClick:l=>function(e){_.value="修改提示词",y.value=a.cloneObj(e),E.value=!0}(e)},{default:i((()=>l[2]||(l[2]=[d("编辑")]))),_:2},1032,["onClick"]),n(P,{link:"",type:"danger",size:"small",onClick:l=>function(e){c.confirm("确认删除？").then((()=>{`/admin/aiPrompt/delete?id=${e.id}`.get().then((e=>{f.value.searchData(),m.success("删除成功")}))}))}(e)},{default:i((()=>l[3]||(l[3]=[d("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},512),n(M,{modelValue:s(E),"onUpdate:modelValue":l[1]||(l[1]=e=>u(E)?E.value=e:null),title:s(_),confirm:k},{default:i((()=>[n(Y,{modelValue:s(y),"onUpdate:modelValue":l[0]||(l[0]=e=>u(y)?y.value=e:null),ref_key:"formRef",ref:v,saveUrl:"/admin/aiPrompt/save"},{default:i((()=>[n(j,{label:"是否发布",prop:"isRelease"}),n(x,{label:"分类",prop:"categoryId",data:s(I),labelField:"name",valueField:"id",required:""},null,8,["data"]),n(h,{label:"名称",prop:"title",required:""}),n(h,{type:"textarea",rows:"5",label:"中文提示词",prop:"prompt"}),n(h,{type:"textarea",rows:"5",label:"英文提示词",prop:"promptEn"}),n(h,{type:"textarea",label:"描述",prop:"desc"}),n(q,{label:"排序",prop:"sortIndex"})])),_:1},8,["modelValue"])])),_:1},8,["modelValue","title"])])),_:1},512)}}});"function"==typeof f&&f(b);export{b as default};
