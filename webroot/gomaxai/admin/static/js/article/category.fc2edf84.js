
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,r as a,b as l,e as t,o,j as r,h as n,g as s,i,q as u,s as d,al as c,P as m,a2 as p}from"../main-98fa617f.js";const f=e({__name:"category",setup(e){const p=a(),f=a(),b=a(),y={id:0,type:3,name:"",icon:"",isRelease:0,sortIndex:0},v=a(),h=a(),_=a(),E=a(),g=a([{name:"查询",color:"primary",icon:"search",action:"Search"},{name:"新增分类",color:"primary",icon:"edit",action:()=>(h.value="新增分类",v.value=l.cloneObj(y),_.value=!0,Promise.resolve(!0))}]);function k(){return new Promise(((e,a)=>{E.value.validate().then((a=>{a?b.value.save().then((a=>{p.value.loadData(),e(a)})):e(!1)}))}))}return(e,a)=>{const y=t("ElsInput"),w=t("ElsMenuTool"),C=t("ElsFormQuery"),R=t("ElsColumn"),D=t("ElsColumnBool"),I=t("el-button"),V=t("ElsTable"),x=t("ElsSwitch"),j=t("ElsInputNumber"),Y=t("ElsForm"),q=t("ElsDialog"),F=t("ElsContainer");return o(),r(F,{ref_key:"containerRef",ref:E},{default:n((()=>[s(C,{ref_key:"queryRef",ref:f,defaultQuery:[{prop:"type",value:"3"}]},{default:n((()=>[s(y,{prop:"name",placeholder:"请输入名称",clearable:""}),s(w,{data:i(g),text:"",bg:""},null,8,["data"])])),_:1},512),s(V,{url:"/admin/category/list",ref_key:"tableRef",ref:p},{default:n((()=>[s(R,{prop:"id",label:"ID",sortable:"",width:"100"}),s(R,{prop:"name",label:"栏目名称"}),s(D,{prop:"isRelease",label:"是否启用",width:"100"}),s(R,{prop:"sortIndex",label:"排序",width:"100"}),s(R,{prop:"createdAt",label:"创建时间",width:"200",dateFormatter:"YYYY-MM-DD HH:mm:ss"}),s(R,{label:"操作",width:"200"},{default:n((({row:e})=>[s(I,{link:"",type:"primary",size:"small",onClick:a=>function(e){h.value="修改分类",v.value=l.cloneObj(e),_.value=!0}(e)},{default:n((()=>a[2]||(a[2]=[u("编辑")]))),_:2},1032,["onClick"]),s(I,{link:"",type:"danger",size:"small",onClick:a=>function(e){c.confirm("确认删除？").then((()=>{`/admin/category/delete?id=${e.id}`.get().then((e=>{p.value.searchData(),m.success("删除成功")}))}))}(e)},{default:n((()=>a[3]||(a[3]=[u("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},512),s(q,{modelValue:i(_),"onUpdate:modelValue":a[1]||(a[1]=e=>d(_)?_.value=e:null),title:i(h),confirm:k,width:"500",contentHeight:"300"},{default:n((()=>[s(Y,{modelValue:i(v),"onUpdate:modelValue":a[0]||(a[0]=e=>d(v)?v.value=e:null),ref_key:"formRef",ref:b,saveUrl:"/admin/category/save"},{default:n((()=>[s(x,{label:"是否发布",prop:"isRelease"}),s(y,{label:"名称",prop:"name",required:""}),s(j,{label:"排序",prop:"sortIndex"})])),_:1},8,["modelValue"])])),_:1},8,["modelValue","title"])])),_:1},512)}}});"function"==typeof p&&p(f);export{f as default};
