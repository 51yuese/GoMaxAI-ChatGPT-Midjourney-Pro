
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as a,T as s,W as e,U as o,c as l,r as d,V as t,ar as n,e as r,ah as i,o as u,f as c,i as m,Y as p,j as f,h as v,F as w,J as g,k as h,g as y,m as _,q as x,t as b,a4 as j,a1 as k}from"../main-a14f6586.js";import{a as C}from"../index/index.e8f072a8.js";import{a as F}from"../access/access.41ab1e5a.js";const P={class:"tools"},z={class:"user-wrapper"},A=a({name:"Tools"}),B=k(a({...A,setup(a){const k=s(),A=e(),B=o();C();const I=l((()=>B.userinfo));d(!1),t((()=>{S.value&&n(["saas"])&&F.getSaasPage({page:1,size:30}).then((a=>{M.value=[{id:-1,name:"全部数据"},{id:0,name:"主站数据"}].concat(a.data.rows)}))}));const S=l((()=>B.isAdmin||B.isSuperAdmin)),M=d([]);function T(a){switch(a){case"modifyPwd":B.updateModifyPasswordDialog(!0);break;case"logout":B.logout().then((()=>{k.push({name:"login"})}))}}return(a,s)=>{const e=r("el-option"),o=r("el-select"),l=r("el-avatar"),d=j,t=r("el-icon"),n=r("el-dropdown-item"),k=r("el-dropdown-menu"),C=r("el-dropdown"),F=i("platform");return u(),c("div",P,[m(S)?p((u(),f(o,{key:0,"model-value":m(A).saasId,placeholder:"选择查看代理商数据",style:{width:"180px"},onChange:m(A).setSaasId},{default:v((()=>[(u(!0),c(w,null,g(m(M),(a=>(u(),f(e,{key:a.id,label:a.name,value:a.id},null,8,["label","value"])))),128))])),_:1},8,["model-value","onChange"])),[[F,["saas"]]]):h("",!0),y(C,{class:"user-container",size:"default",onCommand:T},{dropdown:v((()=>[y(k,{class:"user-dropdown"},{default:v((()=>[y(n,{command:"modifyPwd"},{default:v((()=>s[0]||(s[0]=[_("div",{style:{color:"#3B82F6"}}," 修改密码 ",-1)]))),_:1}),y(n,{divided:"",command:"logout"},{default:v((()=>s[1]||(s[1]=[_("div",{style:{color:"#FF3B30"}}," 退出登录 ",-1)]))),_:1})])),_:1})])),default:v((()=>[_("div",z,[y(l,{size:"small",src:m(I).avatar},null,8,["src"]),x(" "+b(`${m(B).username||"GoMaxAi"} `)+" ",1),y(t,null,{default:v((()=>[y(d,{name:"ep:caret-bottom"})])),_:1})])])),_:1})])}}}),[["__scopeId","data-v-3a4e3eae"]]);export{B as default};
