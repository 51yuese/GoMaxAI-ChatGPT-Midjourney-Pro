
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as a,S as s,V as e,T as o,c as l,r as d,U as t,ap as n,e as i,ag as r,o as u,f as c,i as m,X as p,j as f,h as v,F as g,J as w,k as h,g as y,m as _,q as x,t as b,a3 as j,a0 as k}from"../main-527fe521.js";import{a as F}from"../index/index.7e614874.js";import{a as P}from"../access/access.7ec667bc.js";const S={class:"tools"},z={class:"user-wrapper"},A=a({name:"Tools"}),C=k(a({...A,setup(a){const k=s(),A=e(),C=o();F();const I=l((()=>C.userinfo));d(!1),t((()=>{B.value&&n(["saas"])&&P.getSaasPage({page:1,size:30}).then((a=>{M.value=[{id:-1,name:"全部数据"},{id:0,name:"主站数据"}].concat(a.data.rows)}))}));const B=l((()=>C.isAdmin||C.isSuperAdmin)),M=d([]);function T(a){switch(a){case"modifyPwd":C.updateModifyPasswordDialog(!0);break;case"logout":C.logout().then((()=>{k.push({name:"login"})}))}}return(a,s)=>{const e=i("el-option"),o=i("el-select"),l=i("el-avatar"),d=j,t=i("el-icon"),n=i("el-dropdown-item"),k=i("el-dropdown-menu"),F=i("el-dropdown"),P=r("platform");return u(),c("div",S,[m(B)?p((u(),f(o,{key:0,"model-value":m(A).saasId,placeholder:"选择查看代理商数据",style:{width:"180px"},onChange:m(A).setSaasId},{default:v((()=>[(u(!0),c(g,null,w(m(M),(a=>(u(),f(e,{key:a.id,label:a.name,value:a.id},null,8,["label","value"])))),128))])),_:1},8,["model-value","onChange"])),[[P,["saas"]]]):h("",!0),y(F,{class:"user-container",size:"default",onCommand:T},{dropdown:v((()=>[y(k,{class:"user-dropdown"},{default:v((()=>[y(n,{command:"modifyPwd"},{default:v((()=>s[0]||(s[0]=[_("div",{style:{color:"#3B82F6"}}," 修改密码 ",-1)]))),_:1}),y(n,{divided:"",command:"logout"},{default:v((()=>s[1]||(s[1]=[_("div",{style:{color:"#FF3B30"}}," 退出登录 ",-1)]))),_:1})])),_:1})])),default:v((()=>[_("div",z,[y(l,{size:"small",src:m(I).avatar},null,8,["src"]),x(" "+b(`${m(C).username||"GoMaxAi"} `)+" ",1),y(t,null,{default:v((()=>[y(d,{name:"ep:caret-bottom"})])),_:1})])])),_:1})])}}}),[["__scopeId","data-v-3a4e3eae"]]);export{C as default};
