
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as a,m as s,a as e,u as o,B as l,r as d,o as t,af as n,l as i,V as r,b as u,e as m,g as c,w as p,J as f,i as v,Y as w,X as g,K as h,h as _,f as y,j as x,t as b,x as j,_ as P}from"../main-fe71c3b2.js";import{a as k}from"../index/index.a15820f8.js";import{a as z}from"../access/access.c835832a.js";const A={class:"tools"},B={class:"user-wrapper"},C=a({name:"Tools"}),F=P(a({...C,setup(a){const P=s(),C=e(),F=o();k();const I=l((()=>F.userinfo));d(!1),t((()=>{S.value&&n(["saas"])&&z.getSaasPage({page:1,size:30}).then((a=>{M.value=[{id:-1,name:"全部数据"},{id:0,name:"主站数据"}].concat(a.data.rows)}))}));const S=l((()=>F.isAdmin||F.isSuperAdmin)),M=d([]);function D(a){switch(a){case"modifyPwd":F.updateModifyPasswordDialog(!0);break;case"logout":F.logout().then((()=>{P.push({name:"login"})}))}}return(a,s)=>{const e=i("el-option"),o=i("el-select"),l=i("el-avatar"),d=j,t=i("el-icon"),n=i("el-dropdown-item"),P=i("el-dropdown-menu"),k=i("el-dropdown"),z=r("platform");return u(),m("div",A,[c(S)?p((u(),f(o,{key:0,"model-value":c(C).saasId,placeholder:"选择查看代理商数据",style:{width:"180px"},onChange:c(C).setSaasId},{default:v((()=>[(u(!0),m(w,null,g(c(M),(a=>(u(),f(e,{key:a.id,label:a.name,value:a.id},null,8,["label","value"])))),128))])),_:1},8,["model-value","onChange"])),[[z,["saas"]]]):h("",!0),_(k,{class:"user-container",size:"default",onCommand:D},{dropdown:v((()=>[_(P,{class:"user-dropdown"},{default:v((()=>[_(n,{command:"modifyPwd"},{default:v((()=>s[0]||(s[0]=[y("div",{style:{color:"#3B82F6"}}," 修改密码 ",-1)]))),_:1}),_(n,{divided:"",command:"logout"},{default:v((()=>s[1]||(s[1]=[y("div",{style:{color:"#FF3B30"}}," 退出登录 ",-1)]))),_:1})])),_:1})])),default:v((()=>[y("div",B,[_(l,{size:"small",src:c(I).avatar},null,8,["src"]),x(" "+b(`${c(F).username||"GoMaxAi"} `)+" ",1),_(t,null,{default:v((()=>[_(d,{name:"ep:caret-bottom"})])),_:1})])])),_:1})])}}}),[["__scopeId","data-v-3a4e3eae"]]);export{F as default};
