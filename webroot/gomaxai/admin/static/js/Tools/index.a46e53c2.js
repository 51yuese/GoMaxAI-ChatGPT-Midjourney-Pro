
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as a,T as s,W as e,U as o,c as l,r as d,V as t,ar as n,e as r,ah as i,o as u,f as c,i as m,Y as p,j as f,h as v,F as w,J as g,k as h,g as y,m as _,q as x,t as b,a4 as j,a1 as k}from"../main-9d6c7d62.js";import{a as F}from"../index/index.007ce1b9.js";import{a as P}from"../access/access.f248c1bf.js";const z={class:"tools"},A={class:"user-wrapper"},C=a({name:"Tools"}),I=k(a({...C,setup(a){const k=s(),C=e(),I=o();F();const S=l((()=>I.userinfo));d(!1),t((()=>{B.value&&n(["saas"])&&P.getSaasPage({page:1,size:30}).then((a=>{M.value=[{id:-1,name:"全部数据"},{id:0,name:"主站数据"}].concat(a.data.rows)}))}));const B=l((()=>I.isAdmin||I.isSuperAdmin)),M=d([]);function T(a){switch(a){case"modifyPwd":I.updateModifyPasswordDialog(!0);break;case"logout":I.logout().then((()=>{k.push({name:"login"})}))}}return(a,s)=>{const e=r("el-option"),o=r("el-select"),l=r("el-avatar"),d=j,t=r("el-icon"),n=r("el-dropdown-item"),k=r("el-dropdown-menu"),F=r("el-dropdown"),P=i("platform");return u(),c("div",z,[m(B)?p((u(),f(o,{key:0,"model-value":m(C).saasId,placeholder:"选择查看代理商数据",style:{width:"180px"},onChange:m(C).setSaasId},{default:v((()=>[(u(!0),c(w,null,g(m(M),(a=>(u(),f(e,{key:a.id,label:a.name,value:a.id},null,8,["label","value"])))),128))])),_:1},8,["model-value","onChange"])),[[P,["saas"]]]):h("",!0),y(F,{class:"user-container",size:"default",onCommand:T},{dropdown:v((()=>[y(k,{class:"user-dropdown"},{default:v((()=>[y(n,{command:"modifyPwd"},{default:v((()=>s[0]||(s[0]=[_("div",{style:{color:"#3B82F6"}}," 修改密码 ",-1)]))),_:1}),y(n,{divided:"",command:"logout"},{default:v((()=>s[1]||(s[1]=[_("div",{style:{color:"#FF3B30"}}," 退出登录 ",-1)]))),_:1})])),_:1})])),default:v((()=>[_("div",A,[y(l,{size:"small",src:m(S).avatar},null,8,["src"]),x(" "+b(`${m(I).username||"GoMaxAi"} `)+" ",1),y(t,null,{default:v((()=>[y(d,{name:"ep:caret-bottom"})])),_:1})])])),_:1})])}}}),[["__scopeId","data-v-3a4e3eae"]]);export{I as default};
