
/**
 * ç”± Fantastic-admin æä¾›æŠ€æœ¯æ”¯æŒ
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as e}from"../index/index.a67586a1.js";import{d as a,R as r,S as s,T as l,U as o,r as t,V as i,W as n,o as g,f as d,m,t as u,i as p,X as c,Y as f,g as b,h as v,q as x,e as h,Z as w,$ as y,a0 as _,a1 as q}from"../main-527fe521.js";const F={class:"login_box"},V={class:"login_left"},k={style:{"text-align":"left","margin-top":"20%","margin-left":"50%",transform:"translate(-27%)"}},S={class:"greeting"},z={style:{"margin-left":"50%",transform:"translate(-27%)"}},P={class:"flex-bar"},N={style:{"text-align":"left","margin-top":"40px"}},U={class:"copyright"},I={class:"login_right"},A={style:{color:"#FFF","font-size":"40px","margin-top":"20px"}},L=a({name:"Login"}),R=a({...L,setup(a){var _;const q=r(),L=s(),R=l();o((()=>{!async function(){const{data:e}=await n.queryConfig({keys:["siteName","clientLogoPath","clientFavoIconPath","siteDescribtion","siteKeyword","qqNumber","vxNumber"]});T.value=e}()})),new URL("/gomaxai/admin/static/png/login-banner-2c1ede93.png",self.location).href;const j=t("login"),C=t(!1);t((null==(_=q.query.redirect)?void 0:_.toString())??"/"),i();const E=t(),K=t({username:localStorage.login_username||"",password:"",remember:!!localStorage.login_username}),D=t({username:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥ç”¨æˆ·å"}],password:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥å¯†ç "},{min:6,max:18,trigger:"blur",message:"å¯†ç é•¿åº¦ä¸º6åˆ°18ä½"}]}),T=t({});function W(){E.value&&E.value.validate((e=>{e&&(C.value=!0,R.login(K.value).then((()=>{C.value=!1,K.value.remember?localStorage.setItem("login_username",K.value.username):localStorage.removeItem("login_username"),L.push("/")})).catch((()=>{C.value=!1})))}))}t();const X=t({username:"",captcha:"",password:"",checkPassword:""});return t({username:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥ç”¨æˆ·å"}],captcha:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥éªŒè¯ç "}],password:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥å¯†ç "},{min:6,max:18,trigger:"blur",message:"å¯†ç é•¿åº¦ä¸º6åˆ°18ä½"}],checkPassword:[{required:!0,trigger:"blur",message:"è¯·å†æ¬¡è¾“å…¥å¯†ç "},{validator:(e,a,r)=>{a!==X.value.password?r(new Error("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´")):r()}}]}),t(),t({username:localStorage.login_username||"",captcha:"",newPassword:""}),t({username:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥ç”¨æˆ·å"}],captcha:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥éªŒè¯ç "}],newPassword:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥æ–°å¯†ç "},{min:6,max:18,trigger:"blur",message:"å¯†ç é•¿åº¦ä¸º6åˆ°18ä½"}]}),(a,r)=>{const s=h("el-input"),l=h("el-form-item"),o=h("el-checkbox"),t=h("el-button"),i=h("el-form"),n=e;return g(),d("div",F,[m("div",V,[m("div",k,[m("div",S,"æ¬¢è¿Žä½¿ç”¨ "+u(p(T).siteName)+" ! ðŸ‘‹ðŸ»",1),r[3]||(r[3]=m("div",{class:"tips"},"è¾“å…¥æ‚¨çš„ç”¨æˆ·åå’Œå¯†ç å³å¯ç™»å½•ï¼",-1))]),m("div",z,[c(b(i,{ref_key:"loginFormRef",ref:E,model:p(K),rules:p(D),class:"login-form",autocomplete:"on","label-position":"top","hide-required-asterisk":""},{default:v((()=>[m("div",null,[b(l,{prop:"username",label:"ç”¨æˆ·å"},{default:v((()=>[b(s,{size:"large",modelValue:p(K).username,"onUpdate:modelValue":r[0]||(r[0]=e=>p(K).username=e),placeholder:"è¯·è¾“å…¥ç”¨æˆ·å",text:"",tabindex:"1",autocomplete:"on"},null,8,["modelValue"])])),_:1}),b(l,{prop:"password",label:"å¯†ç "},{default:v((()=>[b(s,{size:"large",modelValue:p(K).password,"onUpdate:modelValue":r[1]||(r[1]=e=>p(K).password=e),type:"password",placeholder:"è¯·è¾“å…¥å¯†ç ",tabindex:"2",autocomplete:"on","show-password":"",onKeyup:w(W,["enter"])},null,8,["modelValue"])])),_:1})]),m("div",P,[b(o,{modelValue:p(K).remember,"onUpdate:modelValue":r[2]||(r[2]=e=>p(K).remember=e),style:{"font-size":"13px"}},{default:v((()=>r[4]||(r[4]=[x(" è®°ä½æˆ‘ ")]))),_:1},8,["modelValue"])]),m("div",N,[b(t,{bg:"",text:"",loading:p(C),type:"primary",size:"large",style:{width:"400px","font-size":"15px",background:"#EFF6FF",height:"42px",color:"#60A5FA","border-radius":"16px"},onClick:y(W,["prevent"])},{default:v((()=>r[5]||(r[5]=[x(" ç™»å½• ")]))),_:1},8,["loading"])])])),_:1},8,["model","rules"]),[[f,"login"===p(j)]])]),m("div",U,[b(n)])]),m("div",I,[r[7]||(r[7]=m("div",{style:{"margin-top":"20%"}},[m("img",{src:"/gomaxai/admin/static/png/login_logo-082f52d9.png"})],-1)),m("div",A,[x(u(p(T).siteName)+" ",1),r[6]||(r[6]=m("span",{style:{border:"4px solid var(--type-gray-white, #FFF)",padding:"0 6px","border-radius":"16px"}},"Ai",-1))])])])}}});"function"==typeof q&&q(R);const j=_(R,[["__scopeId","data-v-f22e13a0"]]);export{j as default};
