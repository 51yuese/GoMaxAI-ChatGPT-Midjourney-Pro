
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,T as t,C as p,r,U as i,e as a,o as s,j as l,h as o,g as u,i as n,ai as d,m as c,q as f,aj as g,W as y,ad as m,a0 as b,a1 as F}from"../main-527fe521.js";const P={style:{"margin-top":"16px"}},V=e({__name:"config",setup(e){const b=t(),F=p({pptOutlinePrice:"",pptOutlineVipFree:"",pptCreatePrice:"",pptCreateVipFree:"",pptThesisPrice:"",pptThesisVipFree:"",pptEditorPrice:"",pptEditorVipFree:"",pptTimeoutMs:5}),V=r();async function _(){const e=await y.queryConfig({keys:["pptOutlinePrice","pptOutlineVipFree","pptTimeoutMs","pptCreatePrice","pptCreateVipFree","pptThesisPrice","pptThesisVipFree","pptEditorPrice","pptEditorVipFree"]});Object.assign(F,e.data)}function h(){var e;null==(e=V.value)||e.validate().then((async e=>{if(e)if(e){if(0==b.isUserModifyPermissions())return m.error("非超级管理员无权限操作！");try{await y.setConfig({settings:(t=F,Object.keys(t).map((e=>({configKey:e,configVal:t[e]}))))}),m.success("变更配置信息成功")}catch(p){}_()}else m.error("请填写完整信息");var t}))}return i((()=>{_()})),(e,t)=>{const p=a("ElsCaption"),r=a("ElsRow"),i=a("ElsInputNumber"),y=a("ElsForm"),m=a("el-button");return s(),l(n(g),{style:{width:"1000px"}},{default:o((()=>[u(y,{modelValue:F,"onUpdate:modelValue":t[0]||(t[0]=e=>F=e),ref_key:"formRef",ref:V,labelWidth:"120",labelPosition:"top",size:"large"},{default:o((()=>[u(p,{type:"left",title:"大纲生成"}),u(r,{gutter:20},{default:o((()=>[u(n(d),{prop:"pptOutlinePrice",label:"单次消耗积分",required:""}),u(n(d),{prop:"pptOutlineVipFree",label:"会员免费次数",required:""})])),_:1}),u(p,{type:"left",title:"PPT生成"}),u(r,{gutter:20},{default:o((()=>[u(n(d),{prop:"pptCreatePrice",label:"单次消耗积分",required:""}),u(n(d),{prop:"pptCreateVipFree",label:"会员免费次数",required:""})])),_:1}),u(p,{type:"left",title:"编辑器"}),u(r,{gutter:20},{default:o((()=>[u(n(d),{prop:"pptEditorPrice",label:"单次消耗积分",required:""}),u(n(d),{prop:"pptEditorVipFree",label:"会员免费次数",required:""})])),_:1}),u(p,{type:"left",title:"其他设置"}),u(r,{gutter:20},{default:o((()=>[u(i,{prop:"pptTimeoutMs",label:"超时时间（分钟）"})])),_:1})])),_:1},8,["modelValue"]),c("div",P,[u(m,{bg:"",text:"",type:"primary",size:"large",style:{"font-size":"15px",background:"#EFF6FF",height:"42px",color:"#60A5FA","border-radius":"8px",padding:"8px 100px"},onClick:h},{default:o((()=>t[1]||(t[1]=[f("保存设置 ")]))),_:1})])])),_:1})}}});"function"==typeof F&&F(V);const _=b(V,[["__scopeId","data-v-140b40fa"]]);export{_ as default};
