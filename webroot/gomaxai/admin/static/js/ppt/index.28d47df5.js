
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,r as a,e as l,o as t,j as r,h as s,g as p,q as o,i as u,f as i,k as d,t as n,P as f,a1 as c}from"../main-527fe521.js";const m={key:0},_=e({__name:"index",setup(e){const c=a(),_=a(),h=a(),b=a([{name:"查询",color:"primary",icon:"search",action:"Search"}]);return(e,a)=>{const y=l("ElsInput"),g=l("ElsOption"),w=l("ElsSelect"),k=l("ElsMenuTool"),E=l("ElsFormQuery"),P=l("ElsColumn"),v=l("ElsImage"),D=l("el-button"),T=l("ElsTable"),C=l("ElsContainer");return t(),r(C,{ref_key:"containerRef",ref:h},{default:s((()=>[p(E,{ref_key:"queryRef",ref:_,defaultQuery:[{prop:"type",value:"create"}]},{default:s((()=>[p(y,{prop:"user_id",placeholder:"用户ID",clearable:""}),p(y,{prop:"title",placeholder:"请输入标题",clearable:""}),p(w,{prop:"status",placeholder:"请选择状态",clearable:""},{default:s((()=>[p(g,{value:"1"},{default:s((()=>a[0]||(a[0]=[o("进行中")]))),_:1}),p(g,{value:"2"},{default:s((()=>a[1]||(a[1]=[o("已完成")]))),_:1}),p(g,{value:"3"},{default:s((()=>a[2]||(a[2]=[o("生成失败")]))),_:1})])),_:1}),p(k,{data:u(b),text:"",bg:""},null,8,["data"])])),_:1},512),p(T,{url:"/admin/chatgpt/ppttask/list",ref_key:"tableRef",ref:c},{default:s((()=>[p(P,{prop:"id",label:"ID",sortable:"",width:"100"}),p(P,{prop:"user_id",label:"用户id",width:"100"}),p(P,{prop:"type",label:"PPT类型",width:"100"}),p(P,{prop:"title",label:"PPT标题",width:"250"}),p(P,{prop:"images",label:"PPT标题"},{default:s((({row:e})=>[e.images?(t(),i("div",m,[p(v,{url:e.images.map((e=>e.url))[0],width:"60"},null,8,["url"])])):d("",!0)])),_:1}),p(P,{prop:"status",label:"状态",width:"100"},{default:s((({row:e})=>[o(n(["","进行中","已完成","生成失败"][e.status]),1)])),_:1}),p(P,{prop:"createdAt",label:"创建时间",width:"200",dateFormatter:"YYYY-MM-DD HH:mm:ss"}),p(P,{label:"操作",width:"100"},{default:s((({row:e})=>[p(D,{link:"",type:"primary",size:"small",onClick:a=>function(e){"/admin/chatgpt/ppttask/rec".get({id:e.id,rec:e.publish_flag?0:1}).then((e=>{f.success("操作成功"),c.value.loadData()}))}(e)},{default:s((()=>[o(n(1==e.publish_flag?"取消推荐":"推荐"),1)])),_:2},1032,["onClick"])])),_:1})])),_:1},512)])),_:1},512)}}});"function"==typeof c&&c(_);export{_ as default};
