
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,r as a,e as l,o as t,j as r,h as o,g as i,q as s,i as u,f as p,k as d,t as n,P as f,a2 as _}from"../main-9d6c7d62.js";const c={key:0},h=e({__name:"index",setup(e){const _=a(),h=a(),b=a(),m=a([{name:"查询",color:"primary",icon:"search",action:"Search"}]);function w(e){return`${window.location.origin}/ppt/detail/${e.id}`}return(e,a)=>{const g=l("ElsInput"),k=l("ElsOption"),y=l("ElsSelect"),E=l("ElsMenuTool"),P=l("ElsFormQuery"),v=l("ElsColumn"),T=l("ElsImage"),D=l("el-link"),C=l("el-button"),I=l("ElsTable"),Y=l("ElsContainer");return t(),r(Y,{ref_key:"containerRef",ref:b},{default:o((()=>[i(P,{ref_key:"queryRef",ref:h,defaultQuery:[{prop:"type",value:"create"}]},{default:o((()=>[i(g,{prop:"user_id",placeholder:"用户ID",clearable:""}),i(g,{prop:"title",placeholder:"请输入标题",clearable:""}),i(y,{prop:"status",placeholder:"请选择状态",clearable:""},{default:o((()=>[i(k,{value:"1"},{default:o((()=>a[0]||(a[0]=[s("进行中")]))),_:1}),i(k,{value:"2"},{default:o((()=>a[1]||(a[1]=[s("已完成")]))),_:1}),i(k,{value:"3"},{default:o((()=>a[2]||(a[2]=[s("生成失败")]))),_:1})])),_:1}),i(E,{data:u(m),text:"",bg:""},null,8,["data"])])),_:1},512),i(I,{url:"/admin/chatgpt/ppttask/list",ref_key:"tableRef",ref:_},{default:o((()=>[i(v,{prop:"id",label:"ID",sortable:"",width:"100"}),i(v,{prop:"user_id",label:"用户id",width:"100"}),i(v,{prop:"type",label:"PPT类型",width:"100"}),i(v,{prop:"title",label:"PPT标题",width:"250"}),i(v,{prop:"images",label:"PPT封面"},{default:o((({row:e})=>[e.images?(t(),p("div",c,[i(T,{url:e.images.map((e=>e.url))[0],width:"60"},null,8,["url"])])):d("",!0)])),_:1}),i(v,{prop:"title",label:"站内预览"},{default:o((({row:e})=>[i(D,{href:w(e),target:"_blank"},{default:o((()=>a[3]||(a[3]=[s("预览")]))),_:2},1032,["href"])])),_:1}),i(v,{prop:"title",label:"下载地址"},{default:o((({row:e})=>[i(D,{href:e.down_url,target:"_blank"},{default:o((()=>a[4]||(a[4]=[s("下载")]))),_:2},1032,["href"])])),_:1}),i(v,{prop:"title",label:"PPT编辑"},{default:o((({row:e})=>[i(D,{href:e.editor_url,target:"_blank"},{default:o((()=>a[5]||(a[5]=[s("编辑")]))),_:2},1032,["href"])])),_:1}),i(v,{prop:"status",label:"状态",width:"100"},{default:o((({row:e})=>[s(n(["","进行中","已完成","生成失败"][e.status]),1)])),_:1}),i(v,{prop:"createdAt",label:"创建时间",width:"200",dateFormatter:"YYYY-MM-DD HH:mm:ss"}),i(v,{label:"操作",width:"100"},{default:o((({row:e})=>[i(C,{link:"",type:"primary",size:"small",onClick:a=>function(e){"/admin/chatgpt/ppttask/rec".get({id:e.id,rec:e.publish_flag?0:1}).then((e=>{f.success("操作成功"),_.value.loadData()}))}(e)},{default:o((()=>[s(n(1==e.publish_flag?"取消推荐":"推荐"),1)])),_:2},1032,["onClick"])])),_:1})])),_:1},512)])),_:1},512)}}});"function"==typeof _&&_(h);export{h as default};
