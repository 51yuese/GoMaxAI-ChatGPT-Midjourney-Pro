
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,r as l,b as a,e as t,o,j as r,h as i,g as s,i as n,q as d,t as u,s as p,al as c,P as m,a2 as f}from"../main-9d6c7d62.js";const b=e({__name:"botList",setup(e){const f=l(),b=l(),h=l(),y={id:0,name:"",botId:"",iconFileUrl:"",description:"",isRelease:0,tags:""},_=l(),v=l(),g=l(),k=l(),E=l([{name:"查询",color:"primary",icon:"search",action:"Search"},{name:"新增配置",color:"primary",icon:"edit",action:()=>(v.value="新增配置",_.value=a.cloneObj(y),g.value=!0,Promise.resolve(!0))}]);function w(){return new Promise(((e,l)=>{k.value.validate().then((l=>{l?h.value.save().then((l=>{f.value.searchData(),e(l)})):e(!1)}))}))}return(e,l)=>{const y=t("ElsInput"),C=t("ElsMenuTool"),D=t("ElsFormQuery"),I=t("ElsColumn"),z=t("ElsColumnImage"),R=t("el-tag"),U=t("ElsColumnBool"),F=t("el-button"),V=t("ElsTable"),q=t("ElsSwitch"),j=t("ElsUpload"),x=t("ElsSelect"),P=t("ElsTextarea"),Y=t("ElsForm"),M=t("ElsDialog"),S=t("ElsContainer");return o(),r(S,{ref_key:"containerRef",ref:k},{default:i((()=>[s(D,{ref_key:"queryRef",ref:b},{default:i((()=>[s(y,{prop:"name",placeholder:"请输入名称"}),s(C,{data:n(E),text:"",bg:""},null,8,["data"])])),_:1},512),s(V,{url:"/admin/coze/bot/list",ref_key:"tableRef",ref:f},{default:i((()=>[s(I,{prop:"id",label:"ID",sortable:"",width:"100",sortExpress:"desc"}),s(I,{prop:"name",label:"名称",width:"200"}),s(I,{prop:"tags",label:"分类",width:"100"}),s(z,{prop:"iconFileUrl",label:"图标"}),s(I,{prop:"userId",label:"角色",width:"100"},{default:i((({row:e})=>[e.userId?(o(),r(R,{key:1,type:"success"},{default:i((()=>l[3]||(l[3]=[d("用户")]))),_:1})):(o(),r(R,{key:0},{default:i((()=>l[2]||(l[2]=[d("官方")]))),_:1}))])),_:1}),s(I,{prop:"description",label:"说明"}),s(U,{prop:"isRelease",label:"是否发布",width:"100"}),s(I,{prop:"createdAt",label:"创建时间",width:"200",dateFormatter:"YYYY-MM-DD HH:mm:ss"}),s(I,{label:"操作",width:"200"},{default:i((({row:e})=>[s(F,{link:"",type:"primary",size:"small",onClick:l=>function(e){v.value="修改配置",_.value=a.cloneObj(e),g.value=!0}(e)},{default:i((()=>l[4]||(l[4]=[d("编辑")]))),_:2},1032,["onClick"]),s(F,{link:"",type:"primary",size:"small",onClick:l=>function(e){`/admin/coze/bot/rec?id=${e.id}&rec=${1==e.publish_flag?0:1}`.get().then((e=>{f.value.loadData(),m.success("操作成功")}))}(e)},{default:i((()=>[d(u(e.publish_flag?"取消推荐":"推荐"),1)])),_:2},1032,["onClick"]),s(F,{link:"",type:"danger",size:"small",onClick:l=>function(e){c.confirm("确认删除？").then((()=>{`/admin/coze/bot/delete?id=${e.id}`.get().then((e=>{f.value.searchData(),m.success("删除成功")}))}))}(e)},{default:i((()=>l[5]||(l[5]=[d("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},512),s(M,{modelValue:n(g),"onUpdate:modelValue":l[1]||(l[1]=e=>p(g)?g.value=e:null),title:n(v),confirm:w,"content-height":"350"},{default:i((()=>[s(Y,{modelValue:n(_),"onUpdate:modelValue":l[0]||(l[0]=e=>p(_)?_.value=e:null),ref_key:"formRef",ref:h,saveUrl:"/admin/coze/bot/save",labelWidth:"120"},{default:i((()=>[s(q,{label:"是否发布",prop:"isRelease"}),s(y,{label:"智能体ID",prop:"botId",required:"",tip:"扣子智能体ID"}),s(y,{label:"名称",prop:"name",required:""}),s(j,{label:"图标",prop:"iconFileUrl",type:"Pic",required:""}),s(x,{label:"分类",prop:"tags",url:"/admin/category/allList?type=2","label-field":"name","value-field":"name"}),s(P,{label:"说明",prop:"description"})])),_:1},8,["modelValue"])])),_:1},8,["modelValue","title"])])),_:1},512)}}});"function"==typeof f&&f(b);export{b as default};
