
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,r as l,b as a,e as o,o as t,j as r,h as n,g as s,i,q as u,s as d,al as p,P as c,a2 as m}from"../main-a14f6586.js";const f=e({__name:"category",setup(e){const m=l(),f=l(),y=l(),b={id:0,type:2,name:"",icon:"",isRelease:0,sortIndex:0},v=l(),h=l(),_=l(),E=l(),g=l([{name:"查询",color:"primary",icon:"search",action:"Search"},{name:"新增分类",color:"primary",icon:"edit",action:()=>(h.value="新增分类",v.value=a.cloneObj(b),_.value=!0,Promise.resolve(!0))}]);function k(){return new Promise(((e,l)=>{E.value.validate().then((l=>{l?y.value.save().then((l=>{E.value.query(),e(l)})):e(!1)}))}))}return(e,l)=>{const b=o("ElsInput"),w=o("ElsMenuTool"),C=o("ElsFormQuery"),I=o("ElsColumn"),R=o("ElsColumnImage"),V=o("ElsColumnBool"),q=o("el-button"),x=o("ElsTable"),j=o("ElsSwitch"),D=o("ElsUpload"),P=o("ElsInputNumber"),U=o("ElsForm"),Y=o("ElsDialog"),F=o("ElsContainer");return t(),r(F,{ref_key:"containerRef",ref:E},{default:n((()=>[s(C,{ref_key:"queryRef",ref:f,defaultQuery:[{prop:"type",value:2}]},{default:n((()=>[s(b,{prop:"name",placeholder:"请输入名称",clearable:""}),s(w,{data:i(g),text:"",bg:""},null,8,["data"])])),_:1},512),s(x,{url:"/admin/category/list",ref_key:"tableRef",ref:m},{default:n((()=>[s(I,{prop:"id",label:"ID",sortable:"",width:"100"}),s(I,{prop:"name",label:"名称"}),s(R,{prop:"icon",label:"图标"}),s(V,{prop:"isRelease",label:"是否启用",width:"100"}),s(I,{prop:"sortIndex",label:"排序",width:"100"}),s(I,{prop:"createdAt",label:"创建时间",width:"200",dateFormatter:"YYYY-MM-DD HH:mm:ss"}),s(I,{label:"操作",width:"200"},{default:n((({row:e})=>[s(q,{link:"",type:"primary",size:"small",onClick:l=>function(e){h.value="修改分类",v.value=a.cloneObj(e),_.value=!0}(e)},{default:n((()=>l[2]||(l[2]=[u("编辑")]))),_:2},1032,["onClick"]),s(q,{link:"",type:"danger",size:"small",onClick:l=>function(e){p.confirm("确认删除？").then((()=>{`/admin/category/delete?id=${e.id}`.get().then((e=>{E.value.query(),c.success("删除成功")}))}))}(e)},{default:n((()=>l[3]||(l[3]=[u("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},512),s(Y,{modelValue:i(_),"onUpdate:modelValue":l[1]||(l[1]=e=>d(_)?_.value=e:null),title:i(h),confirm:k,width:"500",contentHeight:"300"},{default:n((()=>[s(U,{modelValue:i(v),"onUpdate:modelValue":l[0]||(l[0]=e=>d(v)?v.value=e:null),ref_key:"formRef",ref:y,saveUrl:"/admin/category/save"},{default:n((()=>[s(j,{label:"是否发布",prop:"isRelease"}),s(b,{label:"名称",prop:"name",required:""}),s(D,{label:"图标",type:"Pic",prop:"icon"}),s(P,{label:"排序",prop:"sortIndex"})])),_:1},8,["modelValue"])])),_:1},8,["modelValue","title"])])),_:1},512)}}});"function"==typeof m&&m(f);export{f as default};
