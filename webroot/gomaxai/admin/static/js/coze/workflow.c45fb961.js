
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,r as l,b as a,e as o,o as r,j as t,h as i,g as n,i as s,q as d,s as u,al as p,P as c,a2 as m}from"../main-537e5929.js";const f=e({__name:"workflow",setup(e){const m=l(),f=l(),w=l(),b={id:0,name:"",workflowId:"",icon:"",descript:"",isRelease:0},h=l(),k=l(),v=l(),_=l(),y=l([{name:"查询",color:"primary",icon:"search",action:"Search"},{name:"新增配置",color:"primary",icon:"edit",action:()=>(k.value="新增配置",h.value=a.cloneObj(b),v.value=!0,Promise.resolve(!0))}]);function E(){return new Promise(((e,l)=>{_.value.validate().then((l=>{l?w.value.save().then((l=>{m.value.searchData(),e(l)})):e(!1)}))}))}return(e,l)=>{const b=o("ElsInput"),C=o("ElsMenuTool"),D=o("ElsFormQuery"),I=o("ElsColumn"),g=o("ElsColumnImage"),R=o("ElsColumnBool"),V=o("el-button"),q=o("ElsTable"),z=o("ElsSwitch"),j=o("ElsUpload"),P=o("ElsTextarea"),U=o("ElsForm"),Y=o("ElsDialog"),x=o("ElsContainer");return r(),t(x,{ref_key:"containerRef",ref:_},{default:i((()=>[n(D,{ref_key:"queryRef",ref:f},{default:i((()=>[n(b,{prop:"name",placeholder:"请输入名称"}),n(C,{data:s(y),text:"",bg:""},null,8,["data"])])),_:1},512),n(q,{url:"/admin/coze/workflow/list",ref_key:"tableRef",ref:m},{default:i((()=>[n(I,{prop:"id",label:"ID",sortable:"",width:"100"}),n(I,{prop:"workflowId",label:"扣子工作流ID",width:"150"}),n(I,{prop:"name",label:"名称",width:"200"}),n(g,{prop:"icon",label:"图标"}),n(I,{prop:"descript",label:"说明"}),n(R,{prop:"isRelease",label:"是否发布",width:"100"}),n(I,{prop:"createdAt",label:"创建时间",width:"200",dateFormatter:"YYYY-MM-DD HH:mm:ss"}),n(I,{label:"操作",width:"200"},{default:i((({row:e})=>[n(V,{link:"",type:"primary",size:"small",onClick:l=>function(e){k.value="修改配置",h.value=a.cloneObj(e),v.value=!0}(e)},{default:i((()=>l[2]||(l[2]=[d("编辑")]))),_:2},1032,["onClick"]),n(V,{link:"",type:"danger",size:"small",onClick:l=>function(e){p.confirm("确认删除？").then((()=>{`/admin/coze/workflow/delete?id=${e.id}`.get().then((e=>{m.value.searchData(),c.success("删除成功")}))}))}(e)},{default:i((()=>l[3]||(l[3]=[d("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},512),n(Y,{modelValue:s(v),"onUpdate:modelValue":l[1]||(l[1]=e=>u(v)?v.value=e:null),title:s(k),confirm:E,"content-height":"350"},{default:i((()=>[n(U,{modelValue:s(h),"onUpdate:modelValue":l[0]||(l[0]=e=>u(h)?h.value=e:null),ref_key:"formRef",ref:w,saveUrl:"/admin/coze/workflow/save",labelWidth:"120"},{default:i((()=>[n(z,{label:"是否发布",prop:"isRelease"}),n(b,{label:"工作流id",prop:"workflowId",required:"",tip:"扣子工作流ID"}),n(b,{label:"名称",prop:"name",required:""}),n(j,{label:"图标",prop:"icon",type:"Pic",required:""}),n(P,{label:"说明",prop:"descript"})])),_:1},8,["modelValue"])])),_:1},8,["modelValue","title"])])),_:1},512)}}});"function"==typeof m&&m(f);export{f as default};
