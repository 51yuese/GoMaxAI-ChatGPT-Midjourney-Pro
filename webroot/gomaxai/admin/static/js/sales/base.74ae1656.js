
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as e}from"../index/index.ba4efddb.js";import{d as l,G as a,r as s,x as t,j as o,o as i,c as r,f as u,g as n,b as d,h as m,Q as f,P as c,q as p}from"../main-043c96ab.js";const y={class:"flex justify-between"},g=d("b",null,"分销系统基础设置",-1),b={style:{height:"61vh","overflow-y":"auto","overflow-x":"hidden"}},_=l({__name:"base",setup(l){const p=a({salesBaseRatio:10,salesSeniorRatio:30,salesAllowDrawMoney:10,salesBaseTitle:"新秀分销商"}),_=s({salesBaseRatio:[{required:!0,trigger:"blur",message:"请填写默认佣金比例"}],salesSeniorRatio:[{required:!0,trigger:"blur",message:"请填写高级代理默认比例"}],salesBaseTitle:[{required:!0,trigger:"blur",message:"请填写默认用户推介等级名称"}]}),x=s();async function w(){const e=await f.queryConfig({keys:["salesBaseRatio","salesSeniorRatio","salesAllowDrawMoney","salesBaseTitle"]});Object.assign(p,e.data)}function R(){var e;null==(e=x.value)||e.validate((async e=>{if(e){try{await f.setConfig({settings:(l=p,Object.keys(l).map((e=>({configKey:e,configVal:l[e]}))))}),c.success("变更配置信息成功")}catch(a){}w()}else c.error("请填写完整信息");var l}))}return t((()=>{w()})),(l,a)=>{const s=o("el-alert"),t=e,f=o("el-button"),c=o("el-input-number"),w=o("el-form-item"),V=o("el-col"),B=o("el-row"),v=o("el-input"),h=o("el-form"),S=o("el-card");return i(),r("div",null,[u(t,{bottomPadding:"20px"},{default:n((()=>[u(s,{closable:!1,"show-icon":"",title:"分销系统基础配置",description:"填写默认佣金比例和高级分销佣金比例会对应显示到客户端的分销页面、同时新用户将使用默认分销比例、允许提现额度限制用户最低提现金额、分销名称同样对应分销页面、高级代理可自定义名称！",type:"success"})])),_:1}),u(S,{style:{margin:"20px"}},{header:n((()=>[d("div",y,[g,u(f,{class:"button",onClick:R},{default:n((()=>[m(" 保存设置 ")])),_:1})])])),default:n((()=>[d("div",b,[u(h,{ref_key:"formRef",ref:x,model:p,"label-width":"140px",rules:_.value},{default:n((()=>[u(B,null,{default:n((()=>[u(V,{xs:24,md:20,lg:15,xl:12},{default:n((()=>[u(w,{label:"默认分销佣金比例",prop:"salesBaseRatio"},{default:n((()=>[u(c,{modelValue:p.salesBaseRatio,"onUpdate:modelValue":a[0]||(a[0]=e=>p.salesBaseRatio=e),max:100,min:0,step:5,"step-strictly":""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),u(B,null,{default:n((()=>[u(V,{xs:24,md:20,lg:15,xl:12},{default:n((()=>[u(w,{label:"高级分销佣金比例",prop:"salesSeniorRatio"},{default:n((()=>[u(c,{modelValue:p.salesSeniorRatio,"onUpdate:modelValue":a[1]||(a[1]=e=>p.salesSeniorRatio=e),max:100,min:0,step:5,"step-strictly":""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),u(B,null,{default:n((()=>[u(V,{xs:24,md:20,lg:15,xl:12},{default:n((()=>[u(w,{label:"允许最低提现金额",prop:"salesAllowDrawMoney"},{default:n((()=>[u(v,{modelValue:p.salesAllowDrawMoney,"onUpdate:modelValue":a[2]||(a[2]=e=>p.salesAllowDrawMoney=e),type:"number","step-strictly":""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),u(B,null,{default:n((()=>[u(V,{xs:24,md:20,lg:15,xl:12},{default:n((()=>[u(w,{label:"默认等级分销名称",prop:"salesBaseTitle"},{default:n((()=>[u(v,{modelValue:p.salesBaseTitle,"onUpdate:modelValue":a[3]||(a[3]=e=>p.salesBaseTitle=e),placeholder:"请填写SecretKey",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model","rules"])])])),_:1})])}}});"function"==typeof p&&p(_);export{_ as default};
