
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import e from"../components/mjInspireClassify.5c1f6957.js";import a from"../components/mjDetail.2e71f439.js";import{A as t}from"../mj/mj.bcc05220.js";import{u as l}from"../utcformatTime/utcformatTime.f6db2c52.js";import{d as s,u as r,r as o,G as i,x as n,j as p,V as u,o as d,c,f,b as m,g,h as y,w as v,J as b,t as h,e as j,P as _,_ as w,q as x}from"../main-7fe883cc.js";const z={style:{"text-align":"right","margin-bottom":"12px"}},C=s({__name:"inspire-classify",setup(s){const w=r(),x=o(),C=o(),k=o(!1),A=o([]),I=o(0),M=i({page:1,size:20});o();const P=async()=>{try{k.value=!0;const e=await t.queryMjInspireClassify(M),{rows:a,count:l}=e.data;k.value=!1,I.value=l,A.value=a}catch(e){k.value=!1}},F=async()=>{C.value.open()};return n((()=>{P()})),(s,r)=>{const o=p("el-alert"),i=p("el-button"),n=p("el-table-column"),R=p("el-popconfirm"),S=p("el-table"),U=p("el-pagination"),q=p("el-row"),B=u("loading");return d(),c("div",null,[f(e,{ref_key:"mjManagerRef",ref:C,onFresh:P},null,512),f(a,{ref_key:"mjDetailRef",ref:x},null,512),m("div",null,[f(o,{"show-icon":"",title:"广场分类说明",closable:!1,description:"此处的广场分类是为了给广场广场的图片分成各个不同类型！",type:"warning"})]),m("div",z,[m("div",null,[f(i,{style:{"border-radius":"8px",border:"1px solid #3B82F6",color:"#3B82F6","font-size":"15px",height:"32px","margin-top":"25px"},onClick:F},{default:g((()=>[y(" 添加分类 ")])),_:1})])]),v((d(),b(S,{border:"",data:A.value,height:"64vh",width:"100%"},{default:g((()=>[f(n,{prop:"name",label:"分类名称"}),f(n,{prop:"value",label:"分类值"}),f(n,{prop:"createdAt",label:"创建时间"},{default:g((e=>[m("p",null,h(j(l)(e.row.createdAt)),1)])),_:1}),f(n,{prop:"updatedAt",label:"更新时间"},{default:g((e=>[m("p",null,h(j(l)(e.row.updatedAt)),1)])),_:1}),f(n,{fixed:"right",label:"操作",width:"280",align:"center"},{default:g((e=>[f(i,{link:"",type:"primary",size:"small",onClick:a=>(async e=>{C.value.open(e.id)})(e.row)},{default:g((()=>[y(" 编辑 ")])),_:2},1032,["onClick"]),f(R,{width:"300px",title:"删除后不可找回，确定删除?","confirm-button-text":"确认",onConfirm:a=>(async e=>{if(0==w.isUserModifyPermissions())return _.error("非超级管理员无权限操作！");await t.removeMjInspireClassify({id:e.id}),_.success("删除广场分类成功！"),await P()})(e.row)},{reference:g((()=>[f(i,{link:"",type:"danger",size:"small"},{default:g((()=>[y(" 删除 ")])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"])),[[B,k.value]]),f(q,{class:"flex justify-end mt-5 pb-5"},{default:g((()=>[f(U,{"current-page":M.page,"onUpdate:currentPage":r[0]||(r[0]=e=>M.page=e),"page-size":M.size,"onUpdate:pageSize":r[1]||(r[1]=e=>M.size=e),class:"mr-5","page-sizes":[15,30,50,100],layout:"total, sizes, prev, pager, next, jumper",total:I.value,onSizeChange:P,onCurrentChange:P},null,8,["current-page","page-size","total"])])),_:1})])}}});"function"==typeof x&&x(C);const k=w(C,[["__scopeId","data-v-ea39f9c1"]]);export{k as default};
