
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as e}from"../index/index.b30cdbc6.js";import a from"../components/mjRecommendManager.83b25e6c.js";import t from"../components/mjDetail.0e623c8e.js";import{g as s,A as l}from"../index/index.b1051121.js";import{d as n,r as o,bc as r,C as i,U as c,e as p,ag as d,o as m,f as u,g as f,h as g,q as b,X as y,j as h,ad as j,a0 as _,a1 as w}from"../main-527fe521.js";import{A as v}from"../mj/mj.030803b5.js";const x=n({__name:"recommend",setup(n){const _=o(),w=o(),x=o(!1),z=o([]),C=o(0);r(s),r(l);const k=i({account:"",channelId:"",enable:0,page:1,size:20});o();const P=async()=>{try{x.value=!0;const e=await v.queryMjParamByPage(k),{rows:a,count:t}=e.data;x.value=!1,C.value=t,z.value=a}catch(e){x.value=!1}},M=async()=>{w.value.open()};return c((()=>{P()})),(s,l)=>{const n=p("el-alert"),o=p("Plus"),r=p("el-icon"),i=p("el-button"),c=e,R=p("el-table-column"),U=p("el-popconfirm"),q=p("el-table"),A=p("el-pagination"),D=p("el-row"),E=d("loading");return m(),u("div",null,[f(a,{ref_key:"mjManagerRef",ref:w,onFresh:P},null,512),f(t,{ref_key:"mjDetailRef",ref:_},null,512),f(c,{bottomPadding:"20px",class:"header"},{default:g((()=>[f(n,{"show-icon":"",title:"关键词说明",closable:!1,description:"此处的提示词将会在用户端的输入框中聚焦的时候自动展示出来、用户点击你给与的预设将直接将提示词写入输入框中！",type:"success"}),f(i,{type:"success",class:"ml-3",size:"large",onClick:M},{default:g((()=>[l[2]||(l[2]=b(" 添加关键词 ")),f(r,{class:"ml-3"},{default:g((()=>[f(o)])),_:1})])),_:1})])),_:1}),f(c,{bottomPadding:"20px",bottomMargin:"0px"},{default:g((()=>[y((m(),h(q,{border:"",data:z.value,height:"53vh",width:"100%",size:"large"},{default:g((()=>[f(R,{prop:"icon",label:"图标"}),f(R,{prop:"keywordChinese",label:"名称"}),f(R,{prop:"keywordEnglish",label:"英文翻译"}),f(R,{prop:"createTime",label:"创建时间"}),f(R,{prop:"updateTime",label:"更新时间"}),f(R,{fixed:"right",label:"操作",width:"280",align:"center"},{default:g((e=>[f(i,{link:"",type:"primary",size:"small",onClick:a=>(async e=>{const a={id:e.id,enable:1===e.enable?2:1};(await v.setMjParamEnable(a)).success&&j({type:"success",message:`账户${1===e.enable?"停用":"启用"}成功！`}),await P()})(e.row)},{default:g((()=>l[3]||(l[3]=[b(" 翻译 ")]))),_:2},1032,["onClick"]),f(U,{width:"300px",title:"删除后不可找回，确定删除?","confirm-button-text":"确认",onConfirm:a=>(async e=>{await v.removeMjParam({id:e.id}),j.success("删除MJ账号成功！"),await P()})(e.row)},{reference:g((()=>[f(i,{link:"",type:"danger",size:"small"},{default:g((()=>l[4]||(l[4]=[b(" 删除 ")]))),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"])),[[E,x.value]]),f(D,{class:"flex justify-end mt-5 pb-5"},{default:g((()=>[f(A,{"current-page":k.page,"onUpdate:currentPage":l[0]||(l[0]=e=>k.page=e),"page-size":k.size,"onUpdate:pageSize":l[1]||(l[1]=e=>k.size=e),class:"mr-5","page-sizes":[15,30,50,100],layout:"total, sizes, prev, pager, next, jumper",total:C.value,onSizeChange:P,onCurrentChange:P},null,8,["current-page","page-size","total"])])),_:1})])),_:1})])}}});"function"==typeof w&&w(x);const z=_(x,[["__scopeId","data-v-2b69bd38"]]);export{z as default};
