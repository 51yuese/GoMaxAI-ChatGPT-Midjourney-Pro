
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import e from"../components/mjInspireClassify.98a42e22.js";import a from"../components/mjDetail.a7f5dc53.js";import{A as t}from"../mj/mj.2e205486.js";import{u as l}from"../utcformatTime/utcformatTime.f6db2c52.js";import{d as s,U as r,r as i,C as o,V as n,e as p,ah as u,o as d,f,g as m,m as c,h as g,q as y,Y as v,j as h,t as j,i as b,ae as w,a1 as _,a2 as x}from"../main-9d6c7d62.js";const z={style:{"text-align":"right","margin-bottom":"12px"}},C=s({__name:"inspire-classify",setup(s){const _=r(),x=i(),C=i(),k=i(!1),A=i([]),I=i(0),M=o({page:1,size:20,dataType:1});i();const U=async()=>{try{k.value=!0;const e=await t.queryMjInspireClassify(M),{rows:a,count:l}=e.data;k.value=!1,I.value=l,A.value=a}catch(e){k.value=!1}},F=async()=>{C.value.open()};return n((()=>{U()})),(s,r)=>{const i=p("el-alert"),o=p("el-button"),n=p("el-table-column"),T=p("el-popconfirm"),q=p("el-table"),B=p("el-pagination"),D=p("el-row"),P=u("loading");return d(),f("div",null,[m(e,{ref_key:"mjManagerRef",ref:C,onFresh:U},null,512),m(a,{ref_key:"mjDetailRef",ref:x},null,512),c("div",null,[m(i,{"show-icon":"",title:"广场分类说明",closable:!1,description:"此处的广场分类是为了给广场广场的图片分成各个不同类型！",type:"warning"})]),c("div",z,[c("div",null,[m(o,{style:{"border-radius":"8px",border:"1px solid #3B82F6",color:"#3B82F6","font-size":"15px",height:"32px","margin-top":"25px"},onClick:F},{default:g((()=>r[2]||(r[2]=[y(" 添加分类 ")]))),_:1})])]),v((d(),h(q,{border:"",data:A.value,height:"64vh",width:"100%"},{default:g((()=>[m(n,{prop:"name",label:"分类名称"}),m(n,{prop:"value",label:"分类值"}),m(n,{prop:"createdAt",label:"创建时间"},{default:g((e=>[c("p",null,j(b(l)(e.row.createdAt)),1)])),_:1}),m(n,{prop:"updatedAt",label:"更新时间"},{default:g((e=>[c("p",null,j(b(l)(e.row.updatedAt)),1)])),_:1}),m(n,{fixed:"right",label:"操作",width:"280",align:"center"},{default:g((e=>[m(o,{link:"",type:"primary",size:"small",onClick:a=>(async e=>{C.value.open(e.id)})(e.row)},{default:g((()=>r[3]||(r[3]=[y(" 编辑 ")]))),_:2},1032,["onClick"]),m(T,{width:"300px",title:"删除后不可找回，确定删除?","confirm-button-text":"确认",onConfirm:a=>(async e=>{if(0==_.isUserModifyPermissions())return w.error("非超级管理员无权限操作！");await t.removeMjInspireClassify({id:e.id}),w.success("删除广场分类成功！"),await U()})(e.row)},{reference:g((()=>[m(o,{link:"",type:"danger",size:"small"},{default:g((()=>r[4]||(r[4]=[y(" 删除 ")]))),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"])),[[P,k.value]]),m(D,{class:"flex justify-end mt-5 pb-5"},{default:g((()=>[m(B,{"current-page":M.page,"onUpdate:currentPage":r[0]||(r[0]=e=>M.page=e),"page-size":M.size,"onUpdate:pageSize":r[1]||(r[1]=e=>M.size=e),class:"mr-5","page-sizes":[15,30,50,100],layout:"total, sizes, prev, pager, next, jumper",total:I.value,onSizeChange:U,onCurrentChange:U},null,8,["current-page","page-size","total"])])),_:1})])}}});"function"==typeof x&&x(C);const k=_(C,[["__scopeId","data-v-08f5f40f"]]);export{k as default};
