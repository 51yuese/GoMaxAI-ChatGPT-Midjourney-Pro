
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,r as l,e as a,o as t,j as s,h as o,g as i,q as r,i as u,f as d,t as n,k as p,s as c,J as f,F as m,m as y,P as v,al as h,a2 as _}from"../main-9d6c7d62.js";const g={key:0},b={key:1},k={style:{padding:"20px",display:"flex","align-items":"center","justify-content":"space-between"}},w=e({__name:"videoLog",setup(e){l();const _=l(),w=l(),C=l(),x=l(),F=l(),E=l(),D=l(),$=l([{name:"查询",color:"primary",icon:"search",action:"Search"}]),V=l();function R(){`/admin/chatlog/rec?id=${E.value.id}&rec=${E.value.publish_flag}&classify=${E.value.classify}`.get().then((e=>{C.value.loadData(),w.value=!1,v.success("操作成功")}))}return"/midjourney/inspireClassifyQuery".post({dataType:1,page:1,size:100}).then((e=>{D.value=e.data.rows})),(e,l)=>{const T=a("ElsOption"),j=a("ElsSelect"),z=a("ElsMenuTool"),I=a("ElsFormQuery"),Y=a("ElsColumn"),q=a("ElsImage"),H=a("ElsColumnBool"),L=a("el-button"),M=a("ElsTable"),Q=a("ElsForm"),S=a("ElsDialog"),U=a("ElsContainer");return t(),s(U,{ref_key:"containerRef",ref:F},{default:o((()=>[i(I,{ref_key:"queryRef",ref:x,defaultQuery:[{prop:"modelType",value:"video"},{prop:"role",value:"assistant"}]},{default:o((()=>[i(j,{prop:"modelSubType",placeholder:"请选择类别"},{default:o((()=>[i(T,{value:"1"},{default:o((()=>l[3]||(l[3]=[r("Luma")]))),_:1}),i(T,{value:"2"},{default:o((()=>l[4]||(l[4]=[r("Runway")]))),_:1}),i(T,{value:"3"},{default:o((()=>l[5]||(l[5]=[r("可灵")]))),_:1})])),_:1}),i(z,{data:u($),text:"",bg:""},null,8,["data"])])),_:1},512),i(M,{url:"/admin/chatlog/assetsList",ref_key:"tableRef",ref:C},{default:o((()=>[i(Y,{prop:"id",label:"ID",sortable:"",width:"100"}),i(Y,{prop:"userId",label:"userID",width:"100"}),i(Y,{prop:"model",label:"模型",width:"200"}),i(Y,{prop:"prompt",label:"提示词"}),i(Y,{label:"结果",width:"200"},{default:o((({row:e})=>[e.assets_cover?(t(),d("div",g,[i(q,{url:e.assets_cover,width:"100",height:"100"},null,8,["url"])])):(t(),d("div",b,n(e.answer),1))])),_:1}),i(H,{prop:"publish_flag",label:"是否推荐",width:"100"}),i(Y,{prop:"classify",label:"分类",width:"100"}),i(Y,{prop:"createdAt",label:"创建时间",width:"200",dateFormatter:"YYYY-MM-DD HH:mm:ss","sort-express":"desc"}),i(Y,{label:"操作",width:"200"},{default:o((({row:e})=>[e.assets_cover?(t(),s(L,{key:0,link:"",type:"primary",size:"small",onClick:l=>function(e){`/admin/chatlog/rec?id=${e.id}&rec=${1==e.publish_flag?0:1}&classify=${e.classify}`.get().then((e=>{C.value.loadData(),w.value=!1,v.success("操作成功")}))}(e)},{default:o((()=>[r(n(0==e.publish_flag?"推荐":"取消推荐"),1)])),_:2},1032,["onClick"])):p("",!0),i(L,{link:"",type:"primary",size:"small",onClick:l=>function(e){E.value=e,w.value=!0,_.value="推荐"}(e)},{default:o((()=>l[6]||(l[6]=[r("变更")]))),_:2},1032,["onClick"]),i(L,{link:"",type:"danger",size:"small",onClick:l=>function(e){h.confirm("确认删除？").then((()=>{`/admin/chatlog/delete?id=${e.id}`.get().then((e=>{C.value.loadData(),v.success("删除成功")}))}))}(e)},{default:o((()=>l[7]||(l[7]=[r("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},512),i(S,{title:u(_),modelValue:u(w),"onUpdate:modelValue":l[2]||(l[2]=e=>c(w)?w.value=e:null),width:"400",contentHeight:"80"},{default:o((()=>[i(Q,{modelValue:u(E),"onUpdate:modelValue":l[1]||(l[1]=e=>c(E)?E.value=e:null),ref_key:"formRef",ref:V,saveUrl:"linkFox/saveCategory_admin"},{default:o((()=>[i(j,{label:"父级分类",prop:"classify",required:""},{default:o((()=>[(t(!0),d(m,null,f(u(D),(e=>(t(),s(T,{key:e.id,value:e.value},{default:o((()=>[r(n(e.name),1)])),_:2},1032,["value"])))),128))])),_:1}),y("div",k,[i(L,{bg:"",text:"",style:{width:"40%",padding:"20px 0","background-color":"#F4F4F5",color:"#20295A","border-radius":"8px"},onClick:l[0]||(l[0]=e=>w.value=!1)},{default:o((()=>l[8]||(l[8]=[r("取消 ")]))),_:1}),i(L,{bg:"",text:"",style:{width:"40%",padding:"20px 0","background-color":"#3B82F6",color:"#FFF","border-radius":"8px"},type:"primary",onClick:R},{default:o((()=>l[9]||(l[9]=[r(" 确定 ")]))),_:1})])])),_:1},8,["modelValue"])])),_:1},8,["title","modelValue"])])),_:1},512)}}});"function"==typeof _&&_(w);export{w as default};
