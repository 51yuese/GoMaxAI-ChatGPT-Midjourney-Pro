
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,r as l,e as a,o as t,j as s,h as o,g as r,q as i,i as d,f as u,t as n,k as p,s as c,J as f,F as m,m as y,P as v,al as h,a2 as _}from"../main-98fa617f.js";const g={key:0},b={key:1},k={key:2},w={style:{padding:"20px",display:"flex","align-items":"center","justify-content":"space-between"}},C=e({__name:"videoLog",setup(e){l();const _=l(),C=l(),x=l(),F=l(),E=l(),D=l(),$=l(),V=l([{name:"查询",color:"primary",icon:"search",action:"Search"}]),M=l();function R(){`/admin/chatlog/rec?id=${D.value.id}&rec=${D.value.publish_flag}&classify=${D.value.classify}`.get().then((e=>{x.value.loadData(),C.value=!1,v.success("操作成功")}))}return"/midjourney/inspireClassifyQuery".post({dataType:1,page:1,size:100}).then((e=>{$.value=e.data.rows})),(e,l)=>{const T=a("ElsOption"),j=a("ElsSelect"),z=a("ElsMenuTool"),I=a("ElsFormQuery"),Y=a("ElsColumn"),q=a("ElsImage"),H=a("ElsColumnBool"),L=a("el-button"),Q=a("ElsTable"),S=a("ElsForm"),U=a("ElsDialog"),A=a("ElsContainer");return t(),s(A,{ref_key:"containerRef",ref:E},{default:o((()=>[r(I,{ref_key:"queryRef",ref:F,defaultQuery:[{prop:"modelType",value:"video"},{prop:"role",value:"assistant"}]},{default:o((()=>[r(j,{prop:"modelSubType",placeholder:"请选择类别"},{default:o((()=>[r(T,{value:"1"},{default:o((()=>l[3]||(l[3]=[i("Luma")]))),_:1}),r(T,{value:"2"},{default:o((()=>l[4]||(l[4]=[i("Runway")]))),_:1}),r(T,{value:"3"},{default:o((()=>l[5]||(l[5]=[i("可灵")]))),_:1})])),_:1}),r(z,{data:d(V),text:"",bg:""},null,8,["data"])])),_:1},512),r(Q,{url:"/admin/chatlog/assetsList",ref_key:"tableRef",ref:x},{default:o((()=>[r(Y,{prop:"id",label:"ID",sortable:"",width:"100"}),r(Y,{prop:"userId",label:"userID",width:"100"}),r(Y,{prop:"model",label:"模型",width:"200"}),r(Y,{prop:"prompt",label:"提示词"}),r(Y,{label:"结果",width:"200"},{default:o((({row:e})=>[e.errMsg?(t(),u("div",g,n(e.errMsg),1)):e.assets_cover?(t(),u("div",b,[r(q,{url:e.assets_cover,width:"100",height:"100"},null,8,["url"])])):(t(),u("div",k,n(e.answer),1))])),_:1}),r(H,{prop:"publish_flag",label:"是否推荐",width:"100"}),r(Y,{prop:"classify",label:"分类",width:"100"}),r(Y,{prop:"createdAt",label:"创建时间",width:"200",dateFormatter:"YYYY-MM-DD HH:mm:ss","sort-express":"desc"}),r(Y,{label:"操作",width:"200"},{default:o((({row:e})=>[e.assets_cover?(t(),s(L,{key:0,link:"",type:"primary",size:"small",onClick:l=>function(e){`/admin/chatlog/rec?id=${e.id}&rec=${1==e.publish_flag?0:1}&classify=${e.classify}`.get().then((e=>{x.value.loadData(),C.value=!1,v.success("操作成功")}))}(e)},{default:o((()=>[i(n(0==e.publish_flag?"推荐":"取消推荐"),1)])),_:2},1032,["onClick"])):p("",!0),r(L,{link:"",type:"primary",size:"small",onClick:l=>function(e){D.value=e,C.value=!0,_.value="推荐"}(e)},{default:o((()=>l[6]||(l[6]=[i("变更")]))),_:2},1032,["onClick"]),r(L,{link:"",type:"danger",size:"small",onClick:l=>function(e){h.confirm("确认删除？").then((()=>{`/admin/chatlog/delete?id=${e.id}`.get().then((e=>{x.value.loadData(),v.success("删除成功")}))}))}(e)},{default:o((()=>l[7]||(l[7]=[i("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},512),r(U,{title:d(_),modelValue:d(C),"onUpdate:modelValue":l[2]||(l[2]=e=>c(C)?C.value=e:null),width:"400",contentHeight:"80"},{default:o((()=>[r(S,{modelValue:d(D),"onUpdate:modelValue":l[1]||(l[1]=e=>c(D)?D.value=e:null),ref_key:"formRef",ref:M,saveUrl:"linkFox/saveCategory_admin"},{default:o((()=>[r(j,{label:"父级分类",prop:"classify",required:""},{default:o((()=>[(t(!0),u(m,null,f(d($),(e=>(t(),s(T,{key:e.id,value:e.value},{default:o((()=>[i(n(e.name),1)])),_:2},1032,["value"])))),128))])),_:1}),y("div",w,[r(L,{bg:"",text:"",style:{width:"40%",padding:"20px 0","background-color":"#F4F4F5",color:"#20295A","border-radius":"8px"},onClick:l[0]||(l[0]=e=>C.value=!1)},{default:o((()=>l[8]||(l[8]=[i("取消 ")]))),_:1}),r(L,{bg:"",text:"",style:{width:"40%",padding:"20px 0","background-color":"#3B82F6",color:"#FFF","border-radius":"8px"},type:"primary",onClick:R},{default:o((()=>l[9]||(l[9]=[i(" 确定 ")]))),_:1})])])),_:1},8,["modelValue"])])),_:1},8,["title","modelValue"])])),_:1},512)}}});"function"==typeof _&&_(C);export{C as default};
