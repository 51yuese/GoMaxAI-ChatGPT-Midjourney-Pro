
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,U as i,C as r,r as s,V as a,e as t,o as l,j as u,h as c,g as o,i as p,aj as d,m,q as n,ak as f,X as y,ae as g,a1 as b,a2 as F}from"../main-9d6c7d62.js";const V={style:{"margin-top":"16px"}},_=e({__name:"config",setup(e){const b=i(),F=r({musicLyricsPrice:"",musicLyricsVipFree:"",musicCreatePrice:"",musicCreateVipFree:"",musicUploadPrice:"",musicUploadFree:"",musicTimeoutMs:5}),_=s();async function C(){const e=await y.queryConfig({keys:["musicLyricsPrice","musicLyricsVipFree","musicCreatePrice","musicCreateVipFree","musicUploadPrice","musicUploadVipFree","musicTimeoutMs"]});Object.assign(F,e.data)}function P(){var e;null==(e=_.value)||e.validate().then((async e=>{if(e)if(e){if(0==b.isUserModifyPermissions())return g.error("非超级管理员无权限操作！");try{await y.setConfig({settings:(i=F,Object.keys(i).map((e=>({configKey:e,configVal:i[e]}))))}),g.success("变更配置信息成功")}catch(r){}C()}else g.error("请填写完整信息");var i}))}return a((()=>{C()})),(e,i)=>{const r=t("ElsCaption"),s=t("ElsRow"),a=t("ElsInputNumber"),y=t("ElsForm"),g=t("el-button");return l(),u(p(f),{style:{width:"1000px"}},{default:c((()=>[o(y,{modelValue:F,"onUpdate:modelValue":i[0]||(i[0]=e=>F=e),ref_key:"formRef",ref:_,labelWidth:"120",labelPosition:"top",size:"large"},{default:c((()=>[o(r,{type:"left",title:"歌词生成"}),o(s,{gutter:20},{default:c((()=>[o(p(d),{prop:"musicLyricsPrice",label:"单次消耗积分",required:""}),o(p(d),{prop:"musicLyricsVipFree",label:"会员免费次数",required:""})])),_:1}),o(r,{type:"left",title:"音乐生成"}),o(s,{gutter:20},{default:c((()=>[o(p(d),{prop:"musicCreatePrice",label:"单次消耗积分",required:""}),o(p(d),{prop:"musicCreateVipFree",label:"会员免费次数",required:""})])),_:1}),o(r,{type:"left",title:"上传音乐"}),o(s,{gutter:20},{default:c((()=>[o(p(d),{prop:"musicUploadPrice",label:"单次消耗积分",required:""}),o(p(d),{prop:"musicUploadVipFree",label:"会员免费次数",required:""})])),_:1}),o(r,{type:"left",title:"其他设置"}),o(s,{gutter:20},{default:c((()=>[o(a,{prop:"musicTimeoutMs",label:"超时时间（分钟）"})])),_:1})])),_:1},8,["modelValue"]),m("div",V,[o(g,{bg:"",text:"",type:"primary",size:"large",style:{"font-size":"15px",background:"#EFF6FF",height:"42px",color:"#60A5FA","border-radius":"8px",padding:"8px 100px"},onClick:P},{default:c((()=>i[1]||(i[1]=[n("保存设置 ")]))),_:1})])])),_:1})}}});"function"==typeof F&&F(_);const C=b(_,[["__scopeId","data-v-e55c0d24"]]);export{C as default};
