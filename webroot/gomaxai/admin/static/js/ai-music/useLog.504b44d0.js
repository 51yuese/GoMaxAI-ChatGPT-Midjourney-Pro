
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,r as a,e as l,o as s,j as t,h as o,g as r,q as d,i,t as u,f as n,k as p,P as c,al as f,a2 as h}from"../main-6fd6ef79.js";const m={key:0},_={key:1},b=e({__name:"useLog",setup(e){const h=a(),b=a(),g=a(),y=a([{name:"查询",color:"primary",icon:"search",action:"Search"}]);return(e,a)=>{const w=l("ElsInput"),k=l("ElsOption"),v=l("ElsSelect"),I=l("ElsMenuTool"),E=l("ElsFormQuery"),D=l("ElsColumn"),C=l("ElsImage"),$=l("ElsColumnBool"),F=l("el-button"),T=l("ElsTable"),Y=l("ElsContainer");return s(),t(Y,{ref_key:"containerRef",ref:g},{default:o((()=>[r(E,{ref_key:"queryRef",ref:b,defaultQuery:[{prop:"modelType",value:"music"},{prop:"modelSubType",value:"create"},{prop:"role",value:"assistant"}]},{default:o((()=>[r(w,{prop:"userId",placeholder:"用户ID",clearable:""}),r(v,{prop:"publish_flag",placeholder:"是否推荐",clearable:"",width:"100"},{default:o((()=>[r(k,{value:1},{default:o((()=>a[0]||(a[0]=[d("是")]))),_:1}),r(k,{value:0},{default:o((()=>a[1]||(a[1]=[d("否")]))),_:1})])),_:1}),r(I,{data:i(y),text:"",bg:""},null,8,["data"])])),_:1},512),r(T,{url:"/admin/chatlog/assetsList",ref_key:"tableRef",ref:h,"row-key":"assetsId"},{default:o((()=>[r(D,{prop:"assetsId",label:"ID",sortable:"",width:"100"},{default:o((({row:e})=>[d(u(e.assetsId||e.id),1)])),_:1}),r(D,{prop:"userId",label:"userID",width:"100"}),r(D,{prop:"model",label:"模型",width:"200"}),r(D,{prop:"title",label:"歌名"}),r(D,{prop:"intro",label:"歌词"}),r(D,{label:"结果",width:"200","show-overflow-tooltip":""},{default:o((({row:e})=>[e.assets_cover?(s(),n("div",m,[r(C,{url:e.assets_cover,width:"100",height:"100"},null,8,["url"])])):(s(),n("div",_,u(e.answer),1))])),_:1}),r($,{prop:"publish_flag",label:"是否推荐",width:"100"}),r(D,{prop:"createdAt",label:"创建时间",width:"200",dateFormatter:"YYYY-MM-DD HH:mm:ss","sort-express":"desc"}),r(D,{label:"操作",width:"200"},{default:o((({row:e})=>[e.assets_cover?(s(),t(F,{key:0,link:"",type:"primary",size:"small",onClick:a=>function(e){`/admin/chatlog/recForAssets?id=${e.assetsId}&rec=${1==e.publish_flag?0:1}`.get().then((e=>{h.value.loadData(),c.success("操作成功")}))}(e)},{default:o((()=>[d(u(0==e.publish_flag?"推荐":"取消推荐"),1)])),_:2},1032,["onClick"])):p("",!0),r(F,{link:"",type:"danger",size:"small",onClick:a=>function(e){f.confirm("确认删除？").then((()=>{e.assetsId?`/admin/chatlog/delForAssets?id=${e.assetsId}&logId=${e.id}`.get().then((e=>{h.value.loadData(),c.success("删除成功")})):`/admin/chatlog/delete?id=${e.id}`.get().then((e=>{h.value.loadData(),c.success("删除成功")}))}))}(e)},{default:o((()=>a[2]||(a[2]=[d("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},512)])),_:1},512)}}});"function"==typeof h&&h(b);export{b as default};
