
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,W as l,U as a,r as t,C as o,aa as d,V as i,e as r,o as s,f as u,m as n,g as p,h as c,F as m,J as v,j as f,i as g,q as y,t as b,k as h,ag as x,ae as V,a4 as w,a1 as _,a2 as k}from"../main-98fa617f.js";import{t as z}from"../index/index.cfc6c5fc.js";import{u as U}from"../utcformatTime/utcformatTime.f6db2c52.js";import{a as F}from"../access/access.7bb6aa66.js";const C={class:"user_list_box"},I={class:"search_add_card"},L={style:{display:"flex","align-items":"center"}},E={style:{"margin-left":"10px"}},N={style:{"margin-left":"10px"}},D={style:{"margin-left":"10px"}},A={style:{"margin-left":"10px"}},j={style:{display:"flex",gap:"10px"}},M={class:"table_card"},P={style:{display:"flex","align-items":"center"}},q=["src"],T={style:{color:"#20295A","font-weight":"400","font-size":"13px","margin-left":"5px"}},Y={key:2},S={style:{"font-size":"13px"}},B={style:{display:"flex"}},R={style:{color:"#20295A","font-size":"15px","font-weight":"bold","background-color":"#EFF6FF",padding:"15px 20px","border-top":"15px",display:"flex","align-items":"center","justify-content":"space-between","border-top-right-radius":"15px","border-top-left-radius":"15px"}},$={style:{padding:"0 20px"}},J={style:{color:"#20295A","font-size":"15px","font-weight":"bold","background-color":"#EFF6FF",padding:"15px 20px","border-top":"15px",display:"flex","align-items":"center","justify-content":"space-between","border-top-right-radius":"15px","border-top-left-radius":"15px"}},W={style:{padding:"0 20px"}},G={style:{padding:"20px 20px"}},H={style:{color:"#20295A","font-size":"15px","font-weight":"bold","background-color":"#EFF6FF",padding:"15px 20px","border-top":"15px",display:"flex","align-items":"center","justify-content":"space-between","border-top-right-radius":"15px","border-top-left-radius":"15px"}},K={style:{padding:"0 20px"}},O={style:{color:"#20295A","font-size":"15px","font-weight":"bold","background-color":"#EFF6FF",padding:"15px 20px","border-top":"15px",display:"flex","align-items":"center","justify-content":"space-between","border-top-right-radius":"15px","border-top-left-radius":"15px"}},Q={style:{padding:"0 20px","border-bottom":"1px solid var(--el-border-color-lighter)"}},X={key:1},Z={key:2},ee={style:{padding:"20px",display:"flex","align-items":"center","justify-content":"space-between"}},le=e({__name:"index",setup(e){const _=l(),k=a(),le=t(!1);t();const ae=t(0),te=t(!1),oe=t(!1),de=t(!1),ie=t(0);t();const re=t(!1),se=t(!1),ue=t(0),ne=t([]),pe=o({userId:"",days:""}),ce=o({userId:"",score:""}),me=t({id:"",vipExpire:"",lifetimeVip:0,vipLeavelId:0,vipLeavelName:""}),ve=o({keyword:"",vip:"",status:"",page:1,size:15}),fe=t([]),ge=t(),ye=t({username:"",nickname:"",phone:"",email:"",password:""}),be=t({vipLeavelId:45,vipLeavelName:"",num:1,score:1,vipDays:1}),he=o({status:"",id:0}),xe=o({username:[{required:!0,message:"用户名不能为空",trigger:"blur"},{min:6,message:"用户名不能少于6位",trigger:"blur"}],nickname:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],saasId:[{required:!0,message:"SaasId不能为空",trigger:"blur"}],phone:[{required:!0,message:"手机号不能为空",trigger:"blur"},{pattern:/^1[3456789]\d{9}$/,message:"请输入正确的手机号",trigger:"blur"}],email:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{min:6,message:"密码不能少于6位",trigger:"blur"}]}),Ve=t([{value:0,label:"未开通"},{value:1,label:"已开通"}]),we=d("创建账号"),_e=d(!1),ke=d(!1),ze=t([]);function Ue(){ue.value=0,ye.value.username="",ye.value.nickname="",ye.value.phone="",ye.value.email="",ye.value.password="",ye.value.saasId="",ye.value.role="",_e.value=!1,we.value="创建账号",se.value=!0}async function Fe(){try{oe.value=!0;const e=await x.queryAllUser(ve),{rows:l,count:a}=e.data;l.forEach((e=>{e.vipLeavelId||(e.vipLeavelId=0)})),oe.value=!1,ae.value=a,fe.value=l}catch(e){oe.value=!1}}function Ce(e){le.value=!0,me.value={...e}}async function Ie(){if(0==k.isUserModifyPermissions())return V.error("非超级管理员无权限操作！");(await x.updateUserStatus(he)).success&&V({type:"success",message:"变更用户状态成功！"}),te.value=!1,Fe()}async function Le(){if(0==k.isUserModifyPermissions())return V.error("非超级管理员无权限操作！");0==me.value.vipLeavelId&&(me.value.vipExpire=null);(await x.updateUser(me.value)).success&&V({type:"success",message:"变更用户VIP成功！"}),le.value=!1,Fe()}function Ee(){ve.keyword="",ve.vip="",ve.status="",ve.roleCode="",ve.page=1,ve.size=15,Fe()}function Ne(){ge.value.validate((async e=>{if(!e)return;if(0==k.isUserModifyPermissions())return V.error("非超级管理员无权限操作！");let l="";if(0==ue.value){const e={...ye.value};""==e.saasId&&_.saasId>-1&&(e.saasId=_.saasId),ke.value&&(e.role="agent",e.saasId=k.userinfo.saasId),l=await x.createUser(e)}else{if(""==be.value.num||be.value.num<=0||null==be.value.num)return V.error("创建的用户数量不能为空或者不能少于1");if(""==be.value.score||be.value.score<=0||null==be.value.score)return V.error("积分数量不能为空或者不能少于1");if(""==be.value.vipDays||be.value.vipDays<=0||null==be.value.vipDays)return V.error("会员天数不能为空或者不能少于1");ne.value.forEach((e=>{e.id==be.value.vipLeavelId&&(be.value.vipLeavelName=e.dictName)})),l=await x.batchCreateUser(be.value)}200==l.code?(ue.value&&saveTextAsFile(l.data,`用户列表${(new Date).getTime()}.txt`),V.success("创建用户成功！"),se.value=!1,Fe()):V.error(l.data)}))}async function De(){if(0==k.isUserModifyPermissions())return V.error("非超级管理员无权限操作！");if(""==pe.days||null==pe.days)return void V({type:"error",message:"赠送的会员天数不能为空"});const e=await x.giftUserVip(pe);200==e.code?(V({type:"success",message:"会员赠送成功"}),re.value=!1,Fe()):V({type:"error",message:e.data})}async function Ae(){if(0==k.isUserModifyPermissions())return V.error("非超级管理员无权限操作！");if(""==ce.score||null==ce.score)return void V({type:"error",message:"赠送的积分数量不能为空"});const e=await x.giftUserIntegral(ce);200==e.code?(V({type:"success",message:"积分赠送成功"}),de.value=!1,Fe()):V({type:"error",message:e.data})}return i((()=>{Fe(),x.getUserType({dictType:"vip-leavel",dictName:"",page:1,size:30}).then((e=>{ne.value=e.data.rows})),async function(){const{data:e}=await F.getRolePage({});ze.value=e.rows}()})),(e,l)=>{const a=r("el-input"),t=r("el-option"),o=r("el-select"),d=r("el-button"),i=r("RefreshRight"),_=r("el-icon"),F=r("el-table-column"),oe=r("el-link"),je=r("el-tag"),Me=r("el-popconfirm"),Pe=w,qe=r("el-popover"),Te=r("el-table"),Ye=r("el-pagination"),Se=r("el-row"),Be=r("el-form-item"),Re=r("el-form"),$e=r("el-dialog"),Je=r("els-switch"),We=r("els-option"),Ge=r("els-select"),He=r("els-date-picker");return s(),u("div",C,[n("div",I,[n("div",L,[n("div",null,[l[40]||(l[40]=n("div",{class:"condition_name"}," 搜索关键字 ",-1)),p(a,{modelValue:ve.keyword,"onUpdate:modelValue":l[0]||(l[0]=e=>ve.keyword=e),placeholder:"用户名/呢称/手机号/邮箱",style:{width:"200px"}},null,8,["modelValue"])]),n("div",E,[l[41]||(l[41]=n("div",{class:"condition_name"}," 是否开通会员 ",-1)),p(o,{modelValue:ve.vip,"onUpdate:modelValue":l[1]||(l[1]=e=>ve.vip=e),clearable:"",placeholder:"请选择会员状态",style:{width:"150px"}},{default:c((()=>[(s(!0),u(m,null,v(Ve.value,(e=>(s(),f(t,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),n("div",N,[l[42]||(l[42]=n("div",{class:"condition_name"}," 用户角色 ",-1)),p(o,{modelValue:ve.roleCode,"onUpdate:modelValue":l[2]||(l[2]=e=>ve.roleCode=e),clearable:"",placeholder:"请选择用户角色",style:{width:"150px"}},{default:c((()=>[(s(!0),u(m,null,v(ze.value,(e=>(s(),f(t,{key:e.code,label:e.name,value:e.code},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),n("div",D,[l[43]||(l[43]=n("div",{class:"condition_name"}," 用户状态 ",-1)),p(o,{modelValue:ve.status,"onUpdate:modelValue":l[3]||(l[3]=e=>ve.status=e),clearable:"",placeholder:"请选择用户状态",style:{width:"150px"}},{default:c((()=>[(s(!0),u(m,null,v(g(z),(e=>(s(),f(t,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),n("div",A,[p(d,{bg:"",text:"",type:"primary",size:"large",style:{"font-size":"15px",height:"32px",background:"#EFF6FF",color:"#60A5FA","border-radius":"8px","margin-top":"25px"},onClick:Fe},{default:c((()=>l[44]||(l[44]=[y(" 查询 ")]))),_:1})]),n("div",{style:{"margin-left":"12px","background-color":"#EFF6FF",padding:"4px 16px","border-radius":"8px","margin-top":"22px",cursor:"pointer"},onClick:Ee},[p(_,{color:"#3B82F6",size:"20"},{default:c((()=>[p(i)])),_:1})])]),n("div",j,[p(d,{style:{"border-radius":"8px",border:"1px solid #3B82F6",color:"#3B82F6","font-size":"15px",height:"32px","margin-top":"25px"},onClick:Ue},{default:c((()=>l[45]||(l[45]=[y(" 创建账号 ")]))),_:1})])]),n("div",M,[p(Te,{border:"","highlight-current-row":"",data:fe.value,style:{width:"100%"},"max-height":"70vh"},{default:c((()=>[p(F,{label:"ID",prop:"id"}),p(F,{label:"用户昵称",width:"180"},{default:c((e=>[n("div",P,[n("div",null,[n("img",{style:{width:"24px",height:"24px","border-radius":"50%","margin-top":"5px"},src:e.row.avatar},null,8,q)]),n("div",T,b(e.row.nickname),1)])])),_:1}),p(F,{label:"用户名",width:"180"},{default:c((e=>[y(b(null==e.row.username?"--":e.row.username),1)])),_:1}),p(F,{label:"角色名称",prop:"code",width:"180"},{default:c((({row:e})=>[p(o,{modelValue:e.role,"onUpdate:modelValue":l=>e.role=l,size:"large",style:{width:"140px"},onChange:l=>async function(e,l){await x.updateRole({id:l.id,role:e}),V({type:"success",message:"修改角色成功"})}(l,e)},{default:c((()=>[(s(!0),u(m,null,v(ze.value,(e=>(s(),f(t,{key:e.code,label:e.name,value:e.code},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])),_:1}),p(F,{prop:"phone",label:"手机号",width:"160",style:{"font-size":"13px"}},{default:c((e=>[y(b(null==e.row.phone?"--":e.row.phone),1)])),_:1}),p(F,{prop:"email",label:"邮箱",width:"200",style:{"font-size":"13px"}},{default:c((e=>[y(b(null==e.row.email?"--":e.row.email),1)])),_:1}),p(F,{prop:"score",label:"当前积分",width:"120",style:{"font-size":"13px"}}),p(F,{prop:"vipLeavelName",label:"用户等级",width:"150",style:{"font-size":"13px"}},{default:c((({row:e})=>[p(oe,{onClick:l=>Ce(e),type:"primary"},{default:c((()=>[y(b(1==e.lifetimeVip?"永久会员":e.vipLeavelName?e.vipLeavelName:"普通用户"),1)])),_:2},1032,["onClick"])])),_:1}),p(F,{prop:"vipExpire",label:"会员到期时间",width:"140",style:{"font-size":"13px"}},{default:c((e=>[1==e.row.lifetimeVip?(s(),f(je,{key:0,type:"info"},{default:c((()=>l[46]||(l[46]=[y(" 永久会员 ")]))),_:1})):null==e.row.vipExpire?(s(),f(je,{key:1,type:"info"},{default:c((()=>l[47]||(l[47]=[y(" 非会员 ")]))),_:1})):(s(),u("div",Y,b(g(U)(e.row.vipExpire,"YYYY-MM-DD hh:mm:ss")),1))])),_:1}),p(F,{prop:"status",label:"账号状态",width:"90"},{default:c((e=>[p(je,{type:1==e.row.status?"success":"danger"},{default:c((()=>[y(b(g(z)[e.row.status].label),1)])),_:2},1032,["type"])])),_:1}),p(F,{prop:"createdAt",label:"注册时间"},{default:c((e=>[n("div",S,b(g(U)(e.row.createdAt,"YYYY-MM-DD hh:mm:ss")),1)])),_:1}),p(F,{fixed:"right",label:"操作",width:"200"},{default:c((e=>[n("div",B,[n("div",null,[p(d,{size:"small",link:"",style:{color:"#3B82F6","font-size":"13px","font-weight":"400"},onClick:l=>{return a=e.row,te.value=!0,he.status=a.status,void(he.id=a.id);var a}},{default:c((()=>l[48]||(l[48]=[y(" 修改状态 ")]))),_:2},1032,["onClick"]),p(Me,{title:"确认重置此用户密码为【123456】?","confirm-button-text":"确认重置",onConfirm:l=>async function(e){if(0==k.isUserModifyPermissions())return V.error("非超级管理员无权限操作！");const{id:l,email:a}=e;(await x.resetUserPassword({id:l})).success&&V({type:"success",message:`重置用户[${a}密码为初始密码为[123456]完成！`})}(e.row)},{reference:c((()=>[p(d,{size:"small",link:"",style:{color:"#3B82F6","font-size":"13px","font-weight":"400"}},{default:c((()=>l[49]||(l[49]=[y(" 重置密码 ")]))),_:1})])),_:2},1032,["onConfirm"])]),g(k).isSuperAdmin?(s(),f(qe,{key:0,placement:"bottom",trigger:"click",content:"this is content, this is content, this is content","popper-class":"el-popover-self"},{reference:c((()=>[n("div",null,[p(_,{size:24,style:{"margin-left":"10px"}},{default:c((()=>[p(Pe,{name:"more"})])),_:1})])])),default:c((()=>[n("div",null,[p(d,{style:{width:"100%","margin-left":"0",border:"none"},onClick:l=>Ce(e.row)},{default:c((()=>l[50]||(l[50]=[y(" 修改会员类型 ")]))),_:2},1032,["onClick"]),p(d,{style:{width:"100%","margin-left":"0",border:"none"},onClick:l=>async function(e){re.value=!0,pe.userId=e.id,ie.value=e.id}(e.row)},{default:c((()=>l[51]||(l[51]=[y(" 赠送会员 ")]))),_:2},1032,["onClick"]),p(d,{style:{width:"100%","margin-left":"0",border:"none"},onClick:l=>{return a=e.row,de.value=!0,ce.userId=a.id,void(ie.value=a.id);var a}},{default:c((()=>l[52]||(l[52]=[y(" 赠送积分 ")]))),_:2},1032,["onClick"])])])),_:2},1024)):h("",!0)])])),_:1})])),_:1},8,["data"]),p(Se,{class:"flex justify-end mt-3"},{default:c((()=>[p(Ye,{"current-page":ve.page,"onUpdate:currentPage":l[4]||(l[4]=e=>ve.page=e),"page-size":ve.size,"onUpdate:pageSize":l[5]||(l[5]=e=>ve.size=e),class:"mr-5","page-sizes":[15,30,50,100],layout:"total, sizes, prev, pager, next, jumper",total:ae.value,onSizeChange:Fe,onCurrentChange:Fe},null,8,["current-page","page-size","total"])])),_:1})]),p($e,{modelValue:re.value,"onUpdate:modelValue":l[8]||(l[8]=e=>re.value=e),width:"500","show-close":!1,"destroy-on-close":""},{header:c((({close:e,titleId:a,titleClass:t})=>[n("div",R,[l[53]||(l[53]=n("div",null," 赠送会员 ",-1)),n("div",{style:{cursor:"pointer"},onClick:l[6]||(l[6]=e=>re.value=!1)},[p(_,null,{default:c((()=>[p(Pe,{name:"close"})])),_:1})])])])),default:c((()=>[n("div",$,[p(Re,{model:pe,inline:!0,ro:""},{default:c((()=>[p(Be,{label:"会员天数"},{default:c((()=>[p(a,{modelValue:pe.days,"onUpdate:modelValue":l[7]||(l[7]=e=>pe.days=e),modelModifiers:{number:!0},style:{width:"240px"},size:"large",placeholder:"请输入赠送会员天数(-1为永久)"},null,8,["modelValue"])])),_:1}),p(Be,null,{default:c((()=>[p(d,{type:"primary",onClick:De},{default:c((()=>l[54]||(l[54]=[y(" 确认赠送 ")]))),_:1})])),_:1})])),_:1},8,["model"])])])),_:1},8,["modelValue"]),p($e,{modelValue:te.value,"onUpdate:modelValue":l[11]||(l[11]=e=>te.value=e),width:"400","show-close":!1,"destroy-on-close":""},{header:c((({close:e,titleId:a,titleClass:t})=>[n("div",J,[l[55]||(l[55]=n("div",null," 修改用户状态 ",-1)),n("div",{style:{cursor:"pointer"},onClick:l[9]||(l[9]=e=>te.value=!1)},[p(_,null,{default:c((()=>[p(Pe,{name:"close"})])),_:1})])])])),default:c((()=>[n("div",W,[p(Re,{model:he,inline:!0},{default:c((()=>[p(Be,{label:"用户状态","label-width":"90px"},{default:c((()=>[p(o,{modelValue:he.status,"onUpdate:modelValue":l[10]||(l[10]=e=>he.status=e),style:{width:"100px"},placeholder:"请选择用户状态",clearable:""},{default:c((()=>[(s(!0),u(m,null,v(g(z),(e=>(s(),f(t,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),p(Be,null,{default:c((()=>[p(d,{type:"primary",onClick:Ie},{default:c((()=>l[56]||(l[56]=[y(" 确认变更 ")]))),_:1})])),_:1})])),_:1},8,["model"])])])),_:1},8,["modelValue"]),p($e,{modelValue:le.value,"onUpdate:modelValue":l[16]||(l[16]=e=>le.value=e),width:"400","destroy-on-close":""},{header:c((({close:e,titleId:a,titleClass:t})=>l[57]||(l[57]=[n("div",{style:{color:"#20295A","font-size":"15px","font-weight":"bold","background-color":"#EFF6FF",padding:"15px 20px","border-top":"15px",display:"flex","align-items":"center","justify-content":"space-between","border-top-right-radius":"15px","border-top-left-radius":"15px"}},[n("div",null," 修改vip类型 ")],-1)]))),default:c((()=>[n("div",G,[p(Re,{model:me.value,"label-width":"120px"},{default:c((()=>[p(Be,{label:"是否终身VIP"},{default:c((()=>[p(Je,{modelValue:me.value.lifetimeVip,"onUpdate:modelValue":l[12]||(l[12]=e=>me.value.lifetimeVip=e)},null,8,["modelValue"])])),_:1}),me.value.lifetimeVip?h("",!0):(s(),u(m,{key:0},[p(Be,{label:"用户Vip"},{default:c((()=>[p(Ge,{modelValue:me.value.vipLeavelId,"onUpdate:modelValue":l[13]||(l[13]=e=>me.value.vipLeavelId=e),width:"200","select-label":me.value.vipLeavelName,"onUpdate:selectLabel":l[14]||(l[14]=e=>me.value.vipLeavelName=e),url:"dict/list?dictType=vip-leavel","label-field":"dictName","value-field":"id"},{extra:c((()=>[p(We,{value:0},{default:c((()=>l[58]||(l[58]=[y("普通用户")]))),_:1})])),_:1},8,["modelValue","select-label"])])),_:1}),p(Be,{label:"会员到期时间"},{default:c((()=>[p(He,{modelValue:me.value.vipExpire,"onUpdate:modelValue":l[15]||(l[15]=e=>me.value.vipExpire=e),type:"datetime",placeholder:"选择日期"},null,8,["modelValue"])])),_:1})],64)),p(Be,null,{default:c((()=>[p(d,{type:"primary",onClick:Le},{default:c((()=>l[59]||(l[59]=[y(" 确认变更 ")]))),_:1})])),_:1})])),_:1},8,["model"])])])),_:1},8,["modelValue"]),p($e,{modelValue:de.value,"onUpdate:modelValue":l[19]||(l[19]=e=>de.value=e),width:"500","show-close":!1,"destroy-on-close":""},{header:c((({close:e,titleId:a,titleClass:t})=>[n("div",H,[l[60]||(l[60]=n("div",null," 赠送积分 ",-1)),n("div",{style:{cursor:"pointer"},onClick:l[17]||(l[17]=e=>de.value=!1)},[p(_,null,{default:c((()=>[p(Pe,{name:"close"})])),_:1})])])])),default:c((()=>[n("div",K,[p(Re,{model:ce,inline:!0},{default:c((()=>[p(Be,{label:"积分数量"},{default:c((()=>[p(a,{modelValue:ce.score,"onUpdate:modelValue":l[18]||(l[18]=e=>ce.score=e),modelModifiers:{number:!0},style:{width:"240px"},size:"large",placeholder:"请输入赠送的积分数量"},null,8,["modelValue"])])),_:1}),p(Be,null,{default:c((()=>[p(d,{type:"primary",onClick:Ae},{default:c((()=>l[61]||(l[61]=[y(" 确认赠送 ")]))),_:1})])),_:1})])),_:1},8,["model"])])])),_:1},8,["modelValue"]),p($e,{modelValue:se.value,"onUpdate:modelValue":l[39]||(l[39]=e=>se.value=e),width:"400","show-close":!1,"destroy-on-close":""},{header:c((({close:e,titleId:a,titleClass:t})=>[n("div",O,[n("div",null,b(g(we)),1),n("div",{style:{cursor:"pointer"},onClick:l[20]||(l[20]=e=>se.value=!1)},[p(_,null,{default:c((()=>[p(Pe,{name:"close"})])),_:1})])])])),default:c((()=>[n("div",Q,[p(Re,{ref_key:"addUserFormRef",ref:ge,rules:xe,model:ye.value,"label-width":"auto",style:{"max-width":"400px"}},{default:c((()=>[g(_e)?h("",!0):(s(),f(Be,{key:0,label:"创建方式",size:"large"},{default:c((()=>[p(o,{modelValue:ue.value,"onUpdate:modelValue":l[21]||(l[21]=e=>ue.value=e)},{default:c((()=>[p(t,{label:"单个用户",value:0}),p(t,{label:"多个用户",value:1})])),_:1},8,["modelValue"])])),_:1})),0==ue.value?(s(),u("div",X,[g(ke)?h("",!0):(s(),f(Be,{key:0,label:"账号角色",prop:"role",size:"large",rules:[{required:!0,message:"请选择账号角色",trigger:"blur"}]},{default:c((()=>[p(o,{modelValue:ye.value.role,"onUpdate:modelValue":l[22]||(l[22]=e=>ye.value.role=e),placeholder:"请选择账号角色"},{default:c((()=>[(s(!0),u(m,null,v(ze.value,(e=>(s(),f(t,{key:e.id,label:e.name,value:e.code},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),p(oe,{type:"primary",underline:!1,onClick:l[23]||(l[23]=l=>e.$router.push("/access/role"))},{default:c((()=>l[62]||(l[62]=[y(" 管理角色 ")]))),_:1})])),_:1})),"agent"==ye.value.role?(s(),f(Be,{key:1,label:"SaasID",prop:"saasId",size:"large"},{default:c((()=>[p(a,{modelValue:ye.value.saasId,"onUpdate:modelValue":l[24]||(l[24]=e=>ye.value.saasId=e),size:"large",placeholder:"请输入SaasID"},null,8,["modelValue"])])),_:1})):h("",!0),p(Be,{label:"是否终身VIP",size:"large"},{default:c((()=>[p(Je,{modelValue:ye.value.lifetimeVip,"onUpdate:modelValue":l[25]||(l[25]=e=>ye.value.lifetimeVip=e)},null,8,["modelValue"])])),_:1}),ye.value.lifetimeVip?h("",!0):(s(),u(m,{key:2},[p(Be,{label:"用户Vip",size:"large"},{default:c((()=>[p(Ge,{modelValue:ye.value.vipLeavelId,"onUpdate:modelValue":l[26]||(l[26]=e=>ye.value.vipLeavelId=e),"select-label":ye.value.vipLeavelName,"onUpdate:selectLabel":l[27]||(l[27]=e=>ye.value.vipLeavelName=e),url:"dict/list?dictType=vip-leavel","label-field":"dictName","value-field":"id"},{extra:c((()=>[p(We,{value:0},{default:c((()=>l[63]||(l[63]=[y("普通用户")]))),_:1})])),_:1},8,["modelValue","select-label"])])),_:1}),p(Be,{label:"会员到期时间",size:"large"},{default:c((()=>[p(He,{modelValue:ye.value.vipExpire,"onUpdate:modelValue":l[28]||(l[28]=e=>ye.value.vipExpire=e),type:"datetime",width:"100%",placeholder:"选择日期"},null,8,["modelValue"])])),_:1})],64)),p(Be,{label:"用户名",prop:"username",size:"large"},{default:c((()=>[p(a,{modelValue:ye.value.username,"onUpdate:modelValue":l[29]||(l[29]=e=>ye.value.username=e),size:"large",placeholder:"请输入用户名(字母+数字)"},null,8,["modelValue"])])),_:1}),p(Be,{label:"用户昵称",prop:"nickname",size:"large"},{default:c((()=>[p(a,{modelValue:ye.value.nickname,"onUpdate:modelValue":l[30]||(l[30]=e=>ye.value.nickname=e),size:"large",placeholder:"请输入用户昵称"},null,8,["modelValue"])])),_:1}),p(Be,{label:"手机号",prop:"phone",size:"large"},{default:c((()=>[p(a,{modelValue:ye.value.phone,"onUpdate:modelValue":l[31]||(l[31]=e=>ye.value.phone=e),size:"large",placeholder:"请输入手机号"},null,8,["modelValue"])])),_:1}),p(Be,{label:"邮箱",prop:"email",size:"large"},{default:c((()=>[p(a,{modelValue:ye.value.email,"onUpdate:modelValue":l[32]||(l[32]=e=>ye.value.email=e),size:"large",placeholder:"请输入邮箱"},null,8,["modelValue"])])),_:1}),p(Be,{label:"密码",prop:"password",size:"large"},{default:c((()=>[p(a,{modelValue:ye.value.password,"onUpdate:modelValue":l[33]||(l[33]=e=>ye.value.password=e),size:"large",placeholder:"请输入密码",type:"password","show-password":""},null,8,["modelValue"])])),_:1})])):(s(),u("div",Z,[p(Be,{label:"用户类型",prop:"createNumber",size:"large"},{default:c((()=>[p(o,{modelValue:be.value.vipLeavelId,"onUpdate:modelValue":l[34]||(l[34]=e=>be.value.vipLeavelId=e),clearable:"",placeholder:"请选择用户类型"},{default:c((()=>[(s(!0),u(m,null,v(ne.value,(e=>(s(),f(t,{key:e.id,label:e.dictName,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),p(Be,{label:"数量",prop:"createNumber",size:"large"},{default:c((()=>[p(a,{modelValue:be.value.num,"onUpdate:modelValue":l[35]||(l[35]=e=>be.value.num=e),size:"large",placeholder:"请输入批量创建的用户数量",type:"number"},null,8,["modelValue"])])),_:1}),p(Be,{label:"积分",prop:"score",size:"large"},{default:c((()=>[p(a,{modelValue:be.value.score,"onUpdate:modelValue":l[36]||(l[36]=e=>be.value.score=e),size:"large",placeholder:"请输入赠送的积分数量",type:"number"},null,8,["modelValue"])])),_:1}),p(Be,{label:"会员有效期",prop:"vipDays",size:"large"},{default:c((()=>[p(a,{modelValue:be.value.vipDays,"onUpdate:modelValue":l[37]||(l[37]=e=>be.value.vipDays=e),size:"large",placeholder:"请输入赠送会员天数",type:"number"},null,8,["modelValue"])])),_:1})]))])),_:1},8,["rules","model"])]),n("div",ee,[p(d,{bg:"",text:"",style:{width:"40%",padding:"20px 0","background-color":"#F4F4F5",color:"#20295A","border-radius":"8px"},onClick:l[38]||(l[38]=e=>se.value=!1)},{default:c((()=>l[64]||(l[64]=[y(" 取消 ")]))),_:1}),p(d,{bg:"",text:"",style:{width:"40%",padding:"20px 0","background-color":"#3B82F6",color:"#FFF","border-radius":"8px"},type:"primary",onClick:Ne},{default:c((()=>l[65]||(l[65]=[y(" 确定 ")]))),_:1})])])),_:1},8,["modelValue"])])}}});"function"==typeof k&&k(le);const ae=_(le,[["__scopeId","data-v-e75110fa"]]);export{ae as default};
