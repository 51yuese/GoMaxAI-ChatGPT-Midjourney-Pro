
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,U as l,C as a,r,V as t,e as o,o as i,f as p,m as d,g as f,h as s,q as u,X as n,ae as m,a1 as c,a2 as V}from"../main-98fa617f.js";const y={style:{"margin-top":"16px"}},g={style:{"margin-top":"16px"}},v=e({__name:"proxy",setup(e){const c=l(),V=a({lfUrl:"",lfAppId:"",lfPrivateKey:"",lfPrice:"",lfVipFree:""}),v=r({lfUrl:[{required:!0}],lfAppId:[{required:!0}],lfPrivateKey:[{required:!0}],lfVipFree:[{required:!0,message:"消耗积分不能为空"},{validator:(e,l,a)=>{l<0?a("消耗积分不能小于0"):a()}},{pattern:/^[0-9]+$/,message:"消耗积分必须是正整数"}],lfPrice:[{required:!0,message:"消耗积分不能为空"},{validator:(e,l,a)=>{l<0?a("消耗积分不能小于0"):a()}},{pattern:/^[0-9]+$/,message:"消耗积分必须是正整数"}]}),_=r();async function b(){const e=await n.queryConfig({keys:["lfUrl","lfAppId","lfPrivateKey","lfVipFree","lfPrice"]});Object.assign(V,e.data)}function x(){var e;null==(e=_.value)||e.validate((async e=>{if(e){if(0==c.isUserModifyPermissions())return m.error("非超级管理员无权限操作！");try{await n.setConfig({settings:(l=V,Object.keys(l).map((e=>({configKey:e,configVal:l[e]}))))}),m.success("变更配置信息成功")}catch(a){}b()}else m.error("请填写完整信息");var l}))}return t((()=>{b()})),(e,l)=>{const a=o("el-input"),r=o("el-form-item"),t=o("el-form"),n=o("el-col"),m=o("el-row"),c=o("el-button");return i(),p("div",null,[d("div",y,[f(m,null,{default:s((()=>[f(n,{xs:24,md:20,lg:15,xl:8},{default:s((()=>[f(t,{ref_key:"formRef",ref:_,rules:v.value,model:V,"label-width":"150px","label-position":"top"},{default:s((()=>[f(r,{label:"Api地址",prop:"lfUrl"},{default:s((()=>[f(a,{modelValue:V.lfUrl,"onUpdate:modelValue":l[0]||(l[0]=e=>V.lfUrl=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"AppID",prop:"lfAppId"},{default:s((()=>[f(a,{modelValue:V.lfAppId,"onUpdate:modelValue":l[1]||(l[1]=e=>V.lfAppId=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"Api私钥",prop:"lfPrivateKey"},{default:s((()=>[f(a,{modelValue:V.lfPrivateKey,"onUpdate:modelValue":l[2]||(l[2]=e=>V.lfPrivateKey=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"绘画积分",prop:"lfPrice"},{default:s((()=>[f(a,{modelValue:V.lfPrice,"onUpdate:modelValue":l[3]||(l[3]=e=>V.lfPrice=e)},null,8,["modelValue"])])),_:1}),f(r,{label:"Vip每日限免",prop:"lfVipFree"},{default:s((()=>[f(a,{modelValue:V.lfVipFree,"onUpdate:modelValue":l[4]||(l[4]=e=>V.lfVipFree=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["rules","model"])])),_:1})])),_:1}),d("div",g,[f(c,{bg:"",text:"",type:"primary",size:"large",style:{"font-size":"15px",background:"#EFF6FF",height:"42px",color:"#60A5FA","border-radius":"8px",padding:"8px 100px"},onClick:x},{default:s((()=>l[5]||(l[5]=[u("保存设置 ")]))),_:1})])])])}}});"function"==typeof V&&V(v);const _=c(v,[["__scopeId","data-v-e964f54e"]]);export{_ as default};
