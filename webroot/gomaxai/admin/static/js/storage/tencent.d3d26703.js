
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{d as e,U as l,C as t,r as a,c as o,V as s,e as c,o as n,f as r,m as u,g as d,h as i,i as m,q as p,X as f,ae as g,a2 as x}from"../main-9b7515ee.js";const y={style:{"margin-top":"32px","margin-bottom":"24px"}},_={style:{"margin-top":"16px"}},b=e({__name:"tencent",setup(e){const x=l(),b=t({tencentCosStatus:"",cosSecretId:"",cosSecretKey:"",cosBucket:"",cosRegion:"",tencentCosAcceleratedDomain:""}),S=a();async function V(){const e=await f.queryConfig({keys:["cosSecretKey","cosBucket","cosRegion","cosSecretId","tencentCosStatus","tencentCosAcceleratedDomain"]});Object.assign(b,e.data)}function h(){var e;null==(e=S.value)||e.validate((async e=>{if(e){if(0==x.isUserModifyPermissions())return g.error("非超级管理员无权限操作！");try{await f.setConfig({settings:(l=b,Object.keys(l).map((e=>({configKey:e,configVal:l[e]}))))}),g.success("变更配置信息成功")}catch(t){}V()}else g.error("请填写完整信息");var l}))}const C=o((()=>[{required:1===Number(b.tencentCosStatus),message:"开启配置后请填写此项",trigger:"change"}]));return s((()=>{V()})),(e,l)=>{const t=c("el-alert"),a=c("el-switch"),o=c("el-form-item"),s=c("el-col"),f=c("el-row"),g=c("el-input"),x=c("el-form"),V=c("el-button");return n(),r("div",null,[u("div",y,[d(t,{closable:!1,"show-icon":"",title:"腾讯云COS参数设置",description:"前往腾讯云申请对象存储服务、更多配置详见文档、申请服务前往 https://console.cloud.tencent.com/cos ！！",type:"warning"})]),u("div",null,[d(x,{ref_key:"formRef",ref:S,model:b,"label-width":"120px","label-position":"top"},{default:i((()=>[d(f,null,{default:i((()=>[d(s,{xs:24,md:20,lg:15,xl:12},{default:i((()=>[d(o,{prop:"tencentCosStatus"},{default:i((()=>[l[6]||(l[6]=u("div",{style:{color:"#9FA3B8","font-size":"15px","margin-right":"12px"}}," 启用状态 ",-1)),d(a,{modelValue:b.tencentCosStatus,"onUpdate:modelValue":l[0]||(l[0]=e=>b.tencentCosStatus=e),"active-value":"1","inactive-value":"0"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),d(f,null,{default:i((()=>[d(s,{xs:24,md:20,lg:15,xl:8},{default:i((()=>[d(o,{label:"SecretId",prop:"cosSecretId",rules:m(C)},{default:i((()=>[d(g,{size:"large",modelValue:b.cosSecretId,"onUpdate:modelValue":l[1]||(l[1]=e=>b.cosSecretId=e),placeholder:"请填写SecretId",clearable:""},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1})])),_:1}),d(f,null,{default:i((()=>[d(s,{xs:24,md:20,lg:15,xl:8},{default:i((()=>[d(o,{label:"SecretKey",prop:"cosSecretKey",rules:m(C)},{default:i((()=>[d(g,{size:"large",modelValue:b.cosSecretKey,"onUpdate:modelValue":l[2]||(l[2]=e=>b.cosSecretKey=e),placeholder:"请填写SecretKey",clearable:""},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1})])),_:1}),d(f,null,{default:i((()=>[d(s,{xs:24,md:20,lg:15,xl:8},{default:i((()=>[d(o,{label:"存储桶名称",prop:"cosBucket",rules:m(C)},{default:i((()=>[d(g,{size:"large",modelValue:b.cosBucket,"onUpdate:modelValue":l[3]||(l[3]=e=>b.cosBucket=e),placeholder:"请填写存储桶名称",clearable:""},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1})])),_:1}),d(f,null,{default:i((()=>[d(s,{xs:24,md:20,lg:15,xl:8},{default:i((()=>[d(o,{label:"所属地域",prop:"cosRegion",rules:m(C)},{default:i((()=>[d(g,{size:"large",modelValue:b.cosRegion,"onUpdate:modelValue":l[4]||(l[4]=e=>b.cosRegion=e),placeholder:"请填写所属地域(ap-guangzhou)",clearable:""},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1})])),_:1}),d(f,null,{default:i((()=>[d(s,{xs:24,md:20,lg:15,xl:8},{default:i((()=>[d(o,{label:"全球加速域名",prop:"tencentCosAcceleratedDomain"},{default:i((()=>[d(g,{size:"large",modelValue:b.tencentCosAcceleratedDomain,"onUpdate:modelValue":l[5]||(l[5]=e=>b.tencentCosAcceleratedDomain=e),placeholder:"如您是国外服务器可开启全球加速域名得到更快响应速度、同理也会更高计费！",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])]),u("div",_,[d(V,{bg:"",text:"",type:"primary",size:"large",style:{"font-size":"15px",background:"#EFF6FF",height:"42px",color:"#60A5FA","border-radius":"8px",padding:"8px 100px"},onClick:h},{default:i((()=>l[7]||(l[7]=[p("保存设置")]))),_:1})])])}}});"function"==typeof x&&x(b);export{b as default};
