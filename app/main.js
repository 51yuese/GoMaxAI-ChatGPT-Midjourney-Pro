'use strict';const _0x419fa2=_0xa5e4;function _0x4c05(){const _0x11e86f=['defineProperty','./config/AppConfig','1184KZMcuX','useGlobalInterceptors','createSwagger','./app.module','App\x20','view\x20engine','path','./common/middleware/shunt.middleware','./common/utils/date','uncaughtException','config','208870EwaVcw','useGlobalFilters','./modules/database/initDatabase','1119tuXtxj','/api/chatgpt/chat-docs','@nestjs/common','/api/chatgpt/chat-process','\x20is\x20running\x20at:\x0a\x0a\x20-\x20Local:\x20\x20\x20http://localhost:','warn','default','@nestjs/core','__esModule','stack','Logger','json','YYYY-MM-DD\x20HH:mm:ss','333armHYO','./common/swagger','APIPREFIX','APP_VERSION','format','enableCors','/api/coze/startChat','use','7228EOFiMv','listen','error','3716790NOJMyU','views','./common/interceptors/request.interceptor','getHttpAdapter','./common/filters/allExceptions.filter','1493706HTSYes','AppModule','startsWith','create','useGlobalPipes','\x0a\x20\x20\x20\x20\x20\x20\x20_____\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20_____\x20\x20\x20__\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20__\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20__\x0a\x20\x20\x20\x20\x20\x20/\x20___/\x20\x20___\x20\x20\x20\x20_____\x20_\x20\x20\x20__\x20\x20___\x20\x20\x20\x20_____\x20\x20\x20\x20\x20\x20\x20\x20\x20/\x20___/\x20\x20/\x20/_\x20\x20____\x20_\x20\x20\x20_____\x20\x20/\x20/_\x20\x20___\x20\x20\x20____/\x20/\x0a\x20\x20\x20\x20\x20\x20\x5c__\x20\x5c\x20\x20/\x20_\x20\x5c\x20\x20/\x20___/|\x20|\x20/\x20/\x20/\x20_\x20\x5c\x20\x20/\x20___/\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5c__\x20\x5c\x20\x20/\x20__/\x20/\x20__\x20`/\x20\x20/\x20___/\x20/\x20__/\x20/\x20_\x20\x5c\x20/\x20__\x20\x20/\x0a\x20\x20\x20\x20\x20___/\x20/\x20/\x20\x20__/\x20/\x20/\x20\x20\x20\x20|\x20|/\x20/\x20/\x20\x20__/\x20/\x20/\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20___/\x20/\x20/\x20/_\x20\x20/\x20/_/\x20/\x20\x20/\x20/\x20\x20\x20\x20/\x20/_\x20\x20/\x20\x20__//\x20/_/\x20/\x0a\x20\x20\x20\x20/____/\x20\x20\x5c___/\x20/_/\x20\x20\x20\x20\x20|___/\x20\x20\x5c___/\x20/_/\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/____/\x20\x20\x5c__/\x20\x20\x5c__,_/\x20\x20/_/\x20\x20\x20\x20\x20\x5c__/\x20\x20\x5c___/\x20\x5c__,_/\x0a\x0a\x20\x20','getInstance','timeout','./common/interceptors/transform.interceptor','1330NIqIoG','set','dotenv','./common/utils','urlencoded','initDatabase','PORT','.env','AllExceptionsFilter','1708224fbDuli','369296QNqXJP','50mb','log','app/templates/pages','RequestInterceptor','body-parser','\x20\x0a\x20-\x20Network:\x20http://','hbs'];_0x4c05=function(){return _0x11e86f;};return _0x4c05();}(function(_0x20416b,_0xa5abd0){const _0x13a0f6=_0xa5e4,_0x5b5f01=_0x20416b();while(!![]){try{const _0x8a7ac7=-parseInt(_0x13a0f6(0xe7))/0x1*(parseInt(_0x13a0f6(0xd9))/0x2)+parseInt(_0x13a0f6(0xce))/0x3+parseInt(_0x13a0f6(0xb4))/0x4*(parseInt(_0x13a0f6(0xc5))/0x5)+parseInt(_0x13a0f6(0xbc))/0x6+parseInt(_0x13a0f6(0xb7))/0x7+parseInt(_0x13a0f6(0xcf))/0x8+parseInt(_0x13a0f6(0xf4))/0x9*(-parseInt(_0x13a0f6(0xe4))/0xa);if(_0x8a7ac7===_0xa5abd0)break;else _0x5b5f01['push'](_0x5b5f01['shift']());}catch(_0x4800fb){_0x5b5f01['push'](_0x5b5f01['shift']());}}}(_0x4c05,0x6ba36));Object[_0x419fa2(0xd7)](exports,_0x419fa2(0xef),{'value':!![]});const Dotenv=require(_0x419fa2(0xc7));Dotenv[_0x419fa2(0xe3)]({'path':_0x419fa2(0xcc)});function _0xa5e4(_0x106b2d,_0x14d749){const _0x4c0576=_0x4c05();return _0xa5e4=function(_0xa5e43,_0x431659){_0xa5e43=_0xa5e43-0xae;let _0x3cd80a=_0x4c0576[_0xa5e43];return _0x3cd80a;},_0xa5e4(_0x106b2d,_0x14d749);}const core_1=require(_0x419fa2(0xee)),app_module_1=require(_0x419fa2(0xdc)),swagger_1=require(_0x419fa2(0xf5)),allExceptions_filter_1=require(_0x419fa2(0xbb)),typeOrmQueryFailed_filter_1=require('./common/filters/typeOrmQueryFailed.filter'),common_1=require(_0x419fa2(0xe9)),transform_interceptor_1=require(_0x419fa2(0xc4)),request_interceptor_1=require(_0x419fa2(0xb9)),AppConfig_1=require(_0x419fa2(0xd8)),initDatabase_1=require(_0x419fa2(0xe6)),compression=require('compression'),xmlBodyParser=require('express-xml-bodyparser'),bodyParser=require(_0x419fa2(0xd4)),utils_1=require(_0x419fa2(0xc8)),shunt_middleware_1=require(_0x419fa2(0xe0)),date_1=require(_0x419fa2(0xe1));function shouldCompress(_0x47a027,_0x3eb573){const _0x388691=_0x419fa2;if(_0x47a027[_0x388691(0xdf)]['startsWith'](_0x388691(0xe8))||_0x47a027[_0x388691(0xdf)][_0x388691(0xbe)](_0x388691(0xea))||_0x47a027['path'][_0x388691(0xbe)](_0x388691(0xb2)))return![];return!![];}async function bootstrap(){const _0x4a009e=_0x419fa2;Date['prototype']['toJSON']=function(){const _0x1a44a2=_0xa5e4;return(0x0,date_1[_0x1a44a2(0xed)])(this)[_0x1a44a2(0xb0)](_0x1a44a2(0xf3));},await(0x0,initDatabase_1[_0x4a009e(0xca)])();const _0xbc5105=await core_1['NestFactory'][_0x4a009e(0xbf)](app_module_1[_0x4a009e(0xbd)],{'logger':[_0x4a009e(0xb6),_0x4a009e(0xec),_0x4a009e(0xd1)]});_0xbc5105[_0x4a009e(0xb3)](compression({'filter':shouldCompress})),_0xbc5105[_0x4a009e(0xb3)](bodyParser[_0x4a009e(0xf2)]({'limit':_0x4a009e(0xd0)})),_0xbc5105['use'](bodyParser[_0x4a009e(0xc9)]({'limit':_0x4a009e(0xd0),'extended':!![]})),_0xbc5105[_0x4a009e(0xb3)](shunt_middleware_1['shunt']),_0xbc5105['use'](xmlBodyParser()),_0xbc5105[_0x4a009e(0xb1)](),_0xbc5105['setGlobalPrefix'](AppConfig_1[_0x4a009e(0xae)]),_0xbc5105[_0x4a009e(0xda)](new request_interceptor_1[(_0x4a009e(0xd3))]()),_0xbc5105['useGlobalInterceptors'](new transform_interceptor_1['TransformInterceptor']()),_0xbc5105[_0x4a009e(0xe5)](new typeOrmQueryFailed_filter_1['TypeOrmQueryFailedFilter']()),_0xbc5105[_0x4a009e(0xe5)](new allExceptions_filter_1[(_0x4a009e(0xcd))]()),_0xbc5105[_0x4a009e(0xc0)](new common_1['ValidationPipe']()),_0xbc5105[_0x4a009e(0xba)]()[_0x4a009e(0xc2)]()[_0x4a009e(0xc6)](_0x4a009e(0xb8),_0x4a009e(0xd2)),_0xbc5105[_0x4a009e(0xba)]()[_0x4a009e(0xc2)]()[_0x4a009e(0xc6)](_0x4a009e(0xde),_0x4a009e(0xd6)),(0x0,swagger_1[_0x4a009e(0xdb)])(_0xbc5105);const {ipv4:_0x5ed50f}=await(0x0,utils_1['getIp'])(),_0x5bcc54=await _0xbc5105[_0x4a009e(0xb5)](AppConfig_1['PORT'],()=>{const _0x55ee22=_0x4a009e;common_1[_0x55ee22(0xf1)][_0x55ee22(0xd1)](_0x55ee22(0xdd)+AppConfig_1[_0x55ee22(0xaf)]+_0x55ee22(0xeb)+AppConfig_1[_0x55ee22(0xcb)]+_0x55ee22(0xd5)+_0x5ed50f+':'+AppConfig_1[_0x55ee22(0xcb)]),console[_0x55ee22(0xd1)](_0x55ee22(0xc1));});_0x5bcc54[_0x4a009e(0xc3)]=0x32*0x3c*0x3e8,process['on'](_0x4a009e(0xe2),function(_0x92a350){const _0x1e77c4=_0x4a009e;console[_0x1e77c4(0xd1)](_0x92a350),console[_0x1e77c4(0xd1)](_0x92a350[_0x1e77c4(0xf0)]),console[_0x1e77c4(0xd1)]('NOT\x20exit...');});}bootstrap();