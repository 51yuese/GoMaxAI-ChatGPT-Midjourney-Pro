'use strict';function _0x497a(){const _0x131e8b=['use','useGlobalPipes','.env','./common/swagger','log','7099664OPVbDC','1TdGRAT','./common/utils/date','warn','NOT\x20exit...','APP_VERSION','@nestjs/platform-ws','express-xml-bodyparser','prototype','default','\x0a\x20\x20\x20\x20\x20\x20\x20_____\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20_____\x20\x20\x20__\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20__\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20__\x0a\x20\x20\x20\x20\x20\x20/\x20___/\x20\x20___\x20\x20\x20\x20_____\x20_\x20\x20\x20__\x20\x20___\x20\x20\x20\x20_____\x20\x20\x20\x20\x20\x20\x20\x20\x20/\x20___/\x20\x20/\x20/_\x20\x20____\x20_\x20\x20\x20_____\x20\x20/\x20/_\x20\x20___\x20\x20\x20____/\x20/\x0a\x20\x20\x20\x20\x20\x20\x5c__\x20\x5c\x20\x20/\x20_\x20\x5c\x20\x20/\x20___/|\x20|\x20/\x20/\x20/\x20_\x20\x5c\x20\x20/\x20___/\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5c__\x20\x5c\x20\x20/\x20__/\x20/\x20__\x20`/\x20\x20/\x20___/\x20/\x20__/\x20/\x20_\x20\x5c\x20/\x20__\x20\x20/\x0a\x20\x20\x20\x20\x20___/\x20/\x20/\x20\x20__/\x20/\x20/\x20\x20\x20\x20|\x20|/\x20/\x20/\x20\x20__/\x20/\x20/\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20___/\x20/\x20/\x20/_\x20\x20/\x20/_/\x20/\x20\x20/\x20/\x20\x20\x20\x20/\x20/_\x20\x20/\x20\x20__//\x20/_/\x20/\x0a\x20\x20\x20\x20/____/\x20\x20\x5c___/\x20/_/\x20\x20\x20\x20\x20|___/\x20\x20\x5c___/\x20/_/\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/____/\x20\x20\x5c__/\x20\x20\x5c__,_/\x20\x20/_/\x20\x20\x20\x20\x20\x5c__/\x20\x20\x5c___/\x20\x5c__,_/\x0a\x0a\x20\x20','./common/filters/typeOrmQueryFailed.filter','setGlobalPrefix','useGlobalInterceptors','@nestjs/common','YYYY-MM-DD\x20HH:mm:ss','views','/api/chatgpt/chat-docs','useWebSocketAdapter','useGlobalFilters','error','dotenv','path','6ZxKfam','getHttpAdapter','initDatabase','stack','AllExceptionsFilter','TransformInterceptor','473QJYSRe','./modules/database/initDatabase','./config/AppConfig','format','./common/middleware/shunt.middleware','71998sxlcyb','Logger','681924AaKWQD','app/templates/pages','2667717vOwejV','App\x20','7950516QeRPJf','toJSON','urlencoded','uncaughtException','165GQPoid','set','compression','30khPybE','71524evCBHs','listen','PORT','./common/interceptors/transform.interceptor','5398915bCyTgL','50mb','timeout','./common/interceptors/request.interceptor','WsAdapter','startsWith','/api/chatgpt/chat-process','\x20is\x20running\x20at:\x0a\x0a\x20-\x20Local:\x20\x20\x20http://localhost:','@nestjs/core','config','0.0.0.0','TypeOrmQueryFailedFilter','defineProperty','view\x20engine','hbs','getInstance'];_0x497a=function(){return _0x131e8b;};return _0x497a();}const _0xa4e950=_0x5d1b;(function(_0x22578d,_0x12f3d4){const _0x2b2492=_0x5d1b,_0x45f6d7=_0x22578d();while(!![]){try{const _0xd64807=parseInt(_0x2b2492(0x15a))/0x1*(parseInt(_0x2b2492(0x132))/0x2)+-parseInt(_0x2b2492(0x13c))/0x3*(parseInt(_0x2b2492(0x140))/0x4)+-parseInt(_0x2b2492(0x144))/0x5*(-parseInt(_0x2b2492(0x127))/0x6)+parseInt(_0x2b2492(0x138))/0x7+parseInt(_0x2b2492(0x159))/0x8+-parseInt(_0x2b2492(0x136))/0x9*(-parseInt(_0x2b2492(0x13f))/0xa)+-parseInt(_0x2b2492(0x12d))/0xb*(parseInt(_0x2b2492(0x134))/0xc);if(_0xd64807===_0x12f3d4)break;else _0x45f6d7['push'](_0x45f6d7['shift']());}catch(_0x5a0284){_0x45f6d7['push'](_0x45f6d7['shift']());}}}(_0x497a,0x92ca3));Object[_0xa4e950(0x150)](exports,'__esModule',{'value':!![]});function _0x5d1b(_0x13bd32,_0x1e2822){const _0x497ac2=_0x497a();return _0x5d1b=function(_0x5d1b95,_0x4ee7e9){_0x5d1b95=_0x5d1b95-0x114;let _0x15b27b=_0x497ac2[_0x5d1b95];return _0x15b27b;},_0x5d1b(_0x13bd32,_0x1e2822);}const Dotenv=require(_0xa4e950(0x125));Dotenv[_0xa4e950(0x14d)]({'path':_0xa4e950(0x156)});const platform_ws_1=require(_0xa4e950(0x116)),core_1=require(_0xa4e950(0x14c)),app_module_1=require('./app.module'),swagger_1=require(_0xa4e950(0x157)),allExceptions_filter_1=require('./common/filters/allExceptions.filter'),typeOrmQueryFailed_filter_1=require(_0xa4e950(0x11b)),common_1=require(_0xa4e950(0x11e)),transform_interceptor_1=require(_0xa4e950(0x143)),request_interceptor_1=require(_0xa4e950(0x147)),AppConfig_1=require(_0xa4e950(0x12f)),initDatabase_1=require(_0xa4e950(0x12e)),compression=require(_0xa4e950(0x13e)),xmlBodyParser=require(_0xa4e950(0x117)),bodyParser=require('body-parser'),utils_1=require('./common/utils'),shunt_middleware_1=require(_0xa4e950(0x131)),date_1=require(_0xa4e950(0x15b));function shouldCompress(_0x15a750,_0x4c11fc){const _0xc123ce=_0xa4e950;if(_0x15a750[_0xc123ce(0x126)]['startsWith'](_0xc123ce(0x121))||_0x15a750[_0xc123ce(0x126)][_0xc123ce(0x149)](_0xc123ce(0x14a))||_0x15a750[_0xc123ce(0x126)]['startsWith']('/api/coze/startChat'))return![];return!![];}async function bootstrap(){const _0x15c364=_0xa4e950;Date[_0x15c364(0x118)][_0x15c364(0x139)]=function(){const _0x5c421a=_0x15c364;return(0x0,date_1[_0x5c421a(0x119)])(this)[_0x5c421a(0x130)](_0x5c421a(0x11f));},await(0x0,initDatabase_1[_0x15c364(0x129)])();const _0x5139f8=await core_1['NestFactory']['create'](app_module_1['AppModule'],{'logger':[_0x15c364(0x124),_0x15c364(0x15c),_0x15c364(0x158)]});_0x5139f8[_0x15c364(0x154)](compression({'filter':shouldCompress})),_0x5139f8[_0x15c364(0x154)](bodyParser['json']({'limit':'50mb'})),_0x5139f8[_0x15c364(0x154)](bodyParser[_0x15c364(0x13a)]({'limit':_0x15c364(0x145),'extended':!![]})),_0x5139f8['use'](shunt_middleware_1['shunt']),_0x5139f8['use'](xmlBodyParser()),_0x5139f8['enableCors'](),_0x5139f8[_0x15c364(0x11c)](AppConfig_1['APIPREFIX']),_0x5139f8[_0x15c364(0x11d)](new request_interceptor_1['RequestInterceptor']()),_0x5139f8[_0x15c364(0x11d)](new transform_interceptor_1[(_0x15c364(0x12c))]()),_0x5139f8[_0x15c364(0x123)](new typeOrmQueryFailed_filter_1[(_0x15c364(0x14f))]()),_0x5139f8['useGlobalFilters'](new allExceptions_filter_1[(_0x15c364(0x12b))]()),_0x5139f8[_0x15c364(0x155)](new common_1['ValidationPipe']()),_0x5139f8[_0x15c364(0x122)](new platform_ws_1[(_0x15c364(0x148))](_0x5139f8)),_0x5139f8['getHttpAdapter']()[_0x15c364(0x153)]()['set'](_0x15c364(0x120),_0x15c364(0x135)),_0x5139f8[_0x15c364(0x128)]()[_0x15c364(0x153)]()[_0x15c364(0x13d)](_0x15c364(0x151),_0x15c364(0x152)),(0x0,swagger_1['createSwagger'])(_0x5139f8);const {ipv4:_0x3e8f67}=await(0x0,utils_1['getIp'])(),_0x2e422c=await _0x5139f8[_0x15c364(0x141)](AppConfig_1[_0x15c364(0x142)],_0x15c364(0x14e),()=>{const _0x3d5f5d=_0x15c364;common_1[_0x3d5f5d(0x133)][_0x3d5f5d(0x158)](_0x3d5f5d(0x137)+AppConfig_1[_0x3d5f5d(0x115)]+_0x3d5f5d(0x14b)+AppConfig_1[_0x3d5f5d(0x142)]+'\x20\x0a\x20-\x20Network:\x20http://'+_0x3e8f67+':'+AppConfig_1[_0x3d5f5d(0x142)]),console['log'](_0x3d5f5d(0x11a));});_0x2e422c[_0x15c364(0x146)]=0x32*0x3c*0x3e8,process['on'](_0x15c364(0x13b),function(_0x2374d4){const _0x33ff03=_0x15c364;console[_0x33ff03(0x158)](_0x2374d4),console[_0x33ff03(0x158)](_0x2374d4[_0x33ff03(0x12a)]),console[_0x33ff03(0x158)](_0x33ff03(0x114));});}bootstrap();