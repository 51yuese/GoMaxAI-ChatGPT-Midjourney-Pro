'use strict';const _0x1b045b=_0x17e0;(function(_0xddcbfa,_0x1f98f8){const _0x38ce6c=_0x17e0,_0x1bf93c=_0xddcbfa();while(!![]){try{const _0x1edda0=-parseInt(_0x38ce6c(0x13f))/0x1*(parseInt(_0x38ce6c(0x143))/0x2)+-parseInt(_0x38ce6c(0x169))/0x3+parseInt(_0x38ce6c(0x13b))/0x4+-parseInt(_0x38ce6c(0x136))/0x5+-parseInt(_0x38ce6c(0x164))/0x6+-parseInt(_0x38ce6c(0x158))/0x7*(-parseInt(_0x38ce6c(0x166))/0x8)+parseInt(_0x38ce6c(0x159))/0x9*(parseInt(_0x38ce6c(0x142))/0xa);if(_0x1edda0===_0x1f98f8)break;else _0x1bf93c['push'](_0x1bf93c['shift']());}catch(_0x1db883){_0x1bf93c['push'](_0x1bf93c['shift']());}}}(_0x3dea,0xc98e1));function _0x17e0(_0x40c9f0,_0xf36fac){const _0x3dea0c=_0x3dea();return _0x17e0=function(_0x17e0f2,_0x12da2e){_0x17e0f2=_0x17e0f2-0x12c;let _0x233c1a=_0x3dea0c[_0x17e0f2];return _0x233c1a;},_0x17e0(_0x40c9f0,_0xf36fac);}Object['defineProperty'](exports,_0x1b045b(0x168),{'value':!![]});const Dotenv=require(_0x1b045b(0x167));Dotenv[_0x1b045b(0x15f)]({'path':'.env'});const platform_ws_1=require(_0x1b045b(0x14b)),core_1=require(_0x1b045b(0x137)),app_module_1=require(_0x1b045b(0x163)),swagger_1=require('./common/swagger'),allExceptions_filter_1=require(_0x1b045b(0x141)),typeOrmQueryFailed_filter_1=require(_0x1b045b(0x16f)),common_1=require('@nestjs/common'),transform_interceptor_1=require(_0x1b045b(0x156)),request_interceptor_1=require('./common/interceptors/request.interceptor'),AppConfig_1=require(_0x1b045b(0x15d)),initDatabase_1=require(_0x1b045b(0x151)),compression=require(_0x1b045b(0x12f)),xmlBodyParser=require(_0x1b045b(0x152)),bodyParser=require(_0x1b045b(0x138)),utils_1=require(_0x1b045b(0x144)),shunt_middleware_1=require(_0x1b045b(0x15b)),date_1=require(_0x1b045b(0x131));function shouldCompress(_0x18652c,_0x29389b){const _0x3925ce=_0x1b045b;if(_0x18652c[_0x3925ce(0x170)][_0x3925ce(0x171)]('/api/chatgpt/chat-docs')||_0x18652c[_0x3925ce(0x170)]['startsWith'](_0x3925ce(0x16d))||_0x18652c[_0x3925ce(0x170)][_0x3925ce(0x171)]('/api/coze/startChat'))return![];return!![];}async function bootstrap(){const _0x55e7f7=_0x1b045b;Date[_0x55e7f7(0x15c)][_0x55e7f7(0x150)]=function(){const _0x5ed343=_0x55e7f7;return(0x0,date_1[_0x5ed343(0x15e)])(this)[_0x5ed343(0x13c)]('YYYY-MM-DD\x20HH:mm:ss');},await(0x0,initDatabase_1[_0x55e7f7(0x135)])();const _0x5f5799=await core_1[_0x55e7f7(0x16c)][_0x55e7f7(0x134)](app_module_1[_0x55e7f7(0x146)],{'logger':[_0x55e7f7(0x13e),'warn',_0x55e7f7(0x13a)]});_0x5f5799[_0x55e7f7(0x132)](compression({'filter':shouldCompress})),_0x5f5799[_0x55e7f7(0x132)](bodyParser[_0x55e7f7(0x13d)]({'limit':_0x55e7f7(0x15a)})),_0x5f5799[_0x55e7f7(0x132)](bodyParser[_0x55e7f7(0x147)]({'limit':_0x55e7f7(0x15a),'extended':!![]})),_0x5f5799[_0x55e7f7(0x132)](shunt_middleware_1[_0x55e7f7(0x145)]),_0x5f5799['use'](xmlBodyParser()),_0x5f5799[_0x55e7f7(0x130)](),_0x5f5799['setGlobalPrefix'](AppConfig_1['APIPREFIX']),_0x5f5799[_0x55e7f7(0x14d)](new request_interceptor_1[(_0x55e7f7(0x149))]()),_0x5f5799[_0x55e7f7(0x14d)](new transform_interceptor_1['TransformInterceptor']()),_0x5f5799['useGlobalFilters'](new typeOrmQueryFailed_filter_1[(_0x55e7f7(0x12e))]()),_0x5f5799[_0x55e7f7(0x12c)](new allExceptions_filter_1[(_0x55e7f7(0x157))]()),_0x5f5799[_0x55e7f7(0x161)](new common_1[(_0x55e7f7(0x14c))]()),_0x5f5799[_0x55e7f7(0x153)](new platform_ws_1['WsAdapter'](_0x5f5799)),_0x5f5799[_0x55e7f7(0x154)]()['getInstance']()[_0x55e7f7(0x16e)]('views',_0x55e7f7(0x162)),_0x5f5799[_0x55e7f7(0x154)]()[_0x55e7f7(0x14f)]()[_0x55e7f7(0x16e)]('view\x20engine',_0x55e7f7(0x148)),(0x0,swagger_1['createSwagger'])(_0x5f5799);const {ipv4:_0x29981e}=await(0x0,utils_1[_0x55e7f7(0x14e)])(),_0x2ae31d=await _0x5f5799['listen'](AppConfig_1[_0x55e7f7(0x160)],_0x55e7f7(0x16b),()=>{const _0x4b2710=_0x55e7f7;common_1[_0x4b2710(0x155)][_0x4b2710(0x13a)]('App\x20'+AppConfig_1[_0x4b2710(0x139)]+'\x20is\x20running\x20at:\x0a\x0a\x20-\x20Local:\x20\x20\x20http://localhost:'+AppConfig_1[_0x4b2710(0x160)]+_0x4b2710(0x133)+_0x29981e+':'+AppConfig_1[_0x4b2710(0x160)]),console['log'](_0x4b2710(0x12d));});_0x2ae31d[_0x55e7f7(0x140)]=0x32*0x3c*0x3e8,process['on'](_0x55e7f7(0x16a),function(_0x4b4ef0){const _0x12723a=_0x55e7f7;console[_0x12723a(0x13a)](_0x4b4ef0),console[_0x12723a(0x13a)](_0x4b4ef0[_0x12723a(0x14a)]),console[_0x12723a(0x13a)](_0x12723a(0x165));});}function _0x3dea(){const _0x469192=['initDatabase','3419665koXwNu','@nestjs/core','body-parser','APP_VERSION','log','2407472WrwfjY','format','json','error','2PwFRur','timeout','./common/filters/allExceptions.filter','10MhTcTJ','1202462IIWTXO','./common/utils','shunt','AppModule','urlencoded','hbs','RequestInterceptor','stack','@nestjs/platform-ws','ValidationPipe','useGlobalInterceptors','getIp','getInstance','toJSON','./modules/database/initDatabase','express-xml-bodyparser','useWebSocketAdapter','getHttpAdapter','Logger','./common/interceptors/transform.interceptor','AllExceptionsFilter','12278UMpDLb','35738721OlPmth','50mb','./common/middleware/shunt.middleware','prototype','./config/AppConfig','default','config','PORT','useGlobalPipes','app/templates/pages','./app.module','3187200VYBKml','NOT\x20exit...','1336hEFEHs','dotenv','__esModule','4867773ycBmYR','uncaughtException','0.0.0.0','NestFactory','/api/chatgpt/chat-process','set','./common/filters/typeOrmQueryFailed.filter','path','startsWith','useGlobalFilters','\x0a\x20\x20\x20\x20\x20\x20\x20_____\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20_____\x20\x20\x20__\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20__\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20__\x0a\x20\x20\x20\x20\x20\x20/\x20___/\x20\x20___\x20\x20\x20\x20_____\x20_\x20\x20\x20__\x20\x20___\x20\x20\x20\x20_____\x20\x20\x20\x20\x20\x20\x20\x20\x20/\x20___/\x20\x20/\x20/_\x20\x20____\x20_\x20\x20\x20_____\x20\x20/\x20/_\x20\x20___\x20\x20\x20____/\x20/\x0a\x20\x20\x20\x20\x20\x20\x5c__\x20\x5c\x20\x20/\x20_\x20\x5c\x20\x20/\x20___/|\x20|\x20/\x20/\x20/\x20_\x20\x5c\x20\x20/\x20___/\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5c__\x20\x5c\x20\x20/\x20__/\x20/\x20__\x20`/\x20\x20/\x20___/\x20/\x20__/\x20/\x20_\x20\x5c\x20/\x20__\x20\x20/\x0a\x20\x20\x20\x20\x20___/\x20/\x20/\x20\x20__/\x20/\x20/\x20\x20\x20\x20|\x20|/\x20/\x20/\x20\x20__/\x20/\x20/\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20___/\x20/\x20/\x20/_\x20\x20/\x20/_/\x20/\x20\x20/\x20/\x20\x20\x20\x20/\x20/_\x20\x20/\x20\x20__//\x20/_/\x20/\x0a\x20\x20\x20\x20/____/\x20\x20\x5c___/\x20/_/\x20\x20\x20\x20\x20|___/\x20\x20\x5c___/\x20/_/\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/____/\x20\x20\x5c__/\x20\x20\x5c__,_/\x20\x20/_/\x20\x20\x20\x20\x20\x5c__/\x20\x20\x5c___/\x20\x5c__,_/\x0a\x0a\x20\x20','TypeOrmQueryFailedFilter','compression','enableCors','./common/utils/date','use','\x20\x0a\x20-\x20Network:\x20http://','create'];_0x3dea=function(){return _0x469192;};return _0x3dea();}bootstrap();