'use strict';const _0x1a763d=_0x5804;(function(_0x298912,_0x16bd60){const _0x14a1f6=_0x5804,_0x271d27=_0x298912();while(!![]){try{const _0x49cd94=parseInt(_0x14a1f6(0x1a5))/0x1+-parseInt(_0x14a1f6(0x192))/0x2+parseInt(_0x14a1f6(0x18f))/0x3+parseInt(_0x14a1f6(0x1c0))/0x4+parseInt(_0x14a1f6(0x1b3))/0x5*(-parseInt(_0x14a1f6(0x1b1))/0x6)+parseInt(_0x14a1f6(0x1ab))/0x7+-parseInt(_0x14a1f6(0x1ad))/0x8*(-parseInt(_0x14a1f6(0x1a0))/0x9);if(_0x49cd94===_0x16bd60)break;else _0x271d27['push'](_0x271d27['shift']());}catch(_0x482145){_0x271d27['push'](_0x271d27['shift']());}}}(_0x2e4b,0xeda12));Object['defineProperty'](exports,'__esModule',{'value':!![]});const Dotenv=require('dotenv');Dotenv[_0x1a763d(0x18a)]({'path':'.env'});function _0x5804(_0x38fc8f,_0x125dc4){const _0x2e4b08=_0x2e4b();return _0x5804=function(_0x5804b9,_0x554bbb){_0x5804b9=_0x5804b9-0x17d;let _0x3c6d8e=_0x2e4b08[_0x5804b9];return _0x3c6d8e;},_0x5804(_0x38fc8f,_0x125dc4);}const core_1=require('@nestjs/core'),app_module_1=require(_0x1a763d(0x181)),swagger_1=require(_0x1a763d(0x1b7)),allExceptions_filter_1=require(_0x1a763d(0x193)),typeOrmQueryFailed_filter_1=require(_0x1a763d(0x19d)),common_1=require('@nestjs/common'),transform_interceptor_1=require(_0x1a763d(0x189)),request_interceptor_1=require(_0x1a763d(0x1b4)),AppConfig_1=require(_0x1a763d(0x18c)),initDatabase_1=require('./modules/database/initDatabase'),compression=require('compression'),xmlBodyParser=require(_0x1a763d(0x1c1)),bodyParser=require('body-parser'),utils_1=require(_0x1a763d(0x199)),shunt_middleware_1=require('./common/middleware/shunt.middleware'),date_1=require(_0x1a763d(0x187));function shouldCompress(_0x426a58,_0x3bf34d){const _0x1981ae=_0x1a763d;if(_0x426a58[_0x1981ae(0x1ba)][_0x1981ae(0x1af)](_0x1981ae(0x1b6))||_0x426a58[_0x1981ae(0x1ba)][_0x1981ae(0x1af)](_0x1981ae(0x1a3))||_0x426a58[_0x1981ae(0x1ba)][_0x1981ae(0x1af)](_0x1981ae(0x17e)))return![];return!![];}function _0x2e4b(){const _0x5da322=['./common/filters/typeOrmQueryFailed.filter','createSwagger','AllExceptionsFilter','261qNHMLR','default','getIp','/api/chatgpt/chat-process','useGlobalFilters','510766XKmJnH','use','urlencoded','\x20\x0a\x20-\x20Network:\x20http://','YYYY-MM-DD\x20HH:mm:ss','views','949410skNUnt','AppModule','542824CPHsfo','NOT\x20exit...','startsWith','timeout','6114HikmQA','NestFactory','4475VSnqdA','./common/interceptors/request.interceptor','PORT','/api/chatgpt/chat-docs','./common/swagger','json','\x0a\x20\x20\x20\x20\x20\x20\x20_____\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20_____\x20\x20\x20__\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20__\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20__\x0a\x20\x20\x20\x20\x20\x20/\x20___/\x20\x20___\x20\x20\x20\x20_____\x20_\x20\x20\x20__\x20\x20___\x20\x20\x20\x20_____\x20\x20\x20\x20\x20\x20\x20\x20\x20/\x20___/\x20\x20/\x20/_\x20\x20____\x20_\x20\x20\x20_____\x20\x20/\x20/_\x20\x20___\x20\x20\x20____/\x20/\x0a\x20\x20\x20\x20\x20\x20\x5c__\x20\x5c\x20\x20/\x20_\x20\x5c\x20\x20/\x20___/|\x20|\x20/\x20/\x20/\x20_\x20\x5c\x20\x20/\x20___/\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5c__\x20\x5c\x20\x20/\x20__/\x20/\x20__\x20`/\x20\x20/\x20___/\x20/\x20__/\x20/\x20_\x20\x5c\x20/\x20__\x20\x20/\x0a\x20\x20\x20\x20\x20___/\x20/\x20/\x20\x20__/\x20/\x20/\x20\x20\x20\x20|\x20|/\x20/\x20/\x20\x20__/\x20/\x20/\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20___/\x20/\x20/\x20/_\x20\x20/\x20/_/\x20/\x20\x20/\x20/\x20\x20\x20\x20/\x20/_\x20\x20/\x20\x20__//\x20/_/\x20/\x0a\x20\x20\x20\x20/____/\x20\x20\x5c___/\x20/_/\x20\x20\x20\x20\x20|___/\x20\x20\x5c___/\x20/_/\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/____/\x20\x20\x5c__/\x20\x20\x5c__,_/\x20\x20/_/\x20\x20\x20\x20\x20\x5c__/\x20\x20\x5c___/\x20\x5c__,_/\x0a\x0a\x20\x20','path','\x20is\x20running\x20at:\x0a\x0a\x20-\x20Local:\x20\x20\x20http://localhost:','TransformInterceptor','getInstance','warn','error','1905836tLxCMg','express-xml-bodyparser','initDatabase','/api/coze/startChat','APP_VERSION','format','./app.module','useGlobalPipes','APIPREFIX','TypeOrmQueryFailedFilter','stack','create','./common/utils/date','getHttpAdapter','./common/interceptors/transform.interceptor','config','view\x20engine','./config/AppConfig','toJSON','Logger','1641969HAyffG','shunt','useGlobalInterceptors','3505160GaITNG','./common/filters/allExceptions.filter','App\x20','enableCors','templates/pages','ValidationPipe','uncaughtException','./common/utils','setGlobalPrefix','50mb','log'];_0x2e4b=function(){return _0x5da322;};return _0x2e4b();}async function bootstrap(){const _0xa691e5=_0x1a763d;Date['prototype'][_0xa691e5(0x18d)]=function(){const _0x5c046e=_0xa691e5;return(0x0,date_1[_0x5c046e(0x1a1)])(this)[_0x5c046e(0x180)](_0x5c046e(0x1a9));},await(0x0,initDatabase_1[_0xa691e5(0x17d)])();const _0xe1ba64=await core_1[_0xa691e5(0x1b2)][_0xa691e5(0x186)](app_module_1[_0xa691e5(0x1ac)],{'logger':[_0xa691e5(0x1bf),_0xa691e5(0x1be),_0xa691e5(0x19c)]});_0xe1ba64['use'](compression({'filter':shouldCompress})),_0xe1ba64[_0xa691e5(0x1a6)](bodyParser[_0xa691e5(0x1b8)]({'limit':'50mb'})),_0xe1ba64[_0xa691e5(0x1a6)](bodyParser[_0xa691e5(0x1a7)]({'limit':_0xa691e5(0x19b),'extended':!![]})),_0xe1ba64['use'](shunt_middleware_1[_0xa691e5(0x190)]),_0xe1ba64[_0xa691e5(0x1a6)](xmlBodyParser()),_0xe1ba64[_0xa691e5(0x195)](),_0xe1ba64[_0xa691e5(0x19a)](AppConfig_1[_0xa691e5(0x183)]),_0xe1ba64[_0xa691e5(0x191)](new request_interceptor_1['RequestInterceptor']()),_0xe1ba64[_0xa691e5(0x191)](new transform_interceptor_1[(_0xa691e5(0x1bc))]()),_0xe1ba64[_0xa691e5(0x1a4)](new typeOrmQueryFailed_filter_1[(_0xa691e5(0x184))]()),_0xe1ba64[_0xa691e5(0x1a4)](new allExceptions_filter_1[(_0xa691e5(0x19f))]()),_0xe1ba64[_0xa691e5(0x182)](new common_1[(_0xa691e5(0x197))]()),_0xe1ba64[_0xa691e5(0x188)]()[_0xa691e5(0x1bd)]()['set'](_0xa691e5(0x1aa),_0xa691e5(0x196)),_0xe1ba64[_0xa691e5(0x188)]()['getInstance']()['set'](_0xa691e5(0x18b),'hbs'),(0x0,swagger_1[_0xa691e5(0x19e)])(_0xe1ba64);const {ipv4:_0x39d974}=await(0x0,utils_1[_0xa691e5(0x1a2)])(),_0xd7fb73=await _0xe1ba64['listen'](AppConfig_1[_0xa691e5(0x1b5)],()=>{const _0x4166de=_0xa691e5;common_1[_0x4166de(0x18e)]['log'](_0x4166de(0x194)+AppConfig_1[_0x4166de(0x17f)]+_0x4166de(0x1bb)+AppConfig_1[_0x4166de(0x1b5)]+_0x4166de(0x1a8)+_0x39d974+':'+AppConfig_1[_0x4166de(0x1b5)]),console[_0x4166de(0x19c)](_0x4166de(0x1b9));});_0xd7fb73[_0xa691e5(0x1b0)]=0x32*0x3c*0x3e8,process['on'](_0xa691e5(0x198),function(_0x21b565){const _0x242b80=_0xa691e5;console[_0x242b80(0x19c)](_0x21b565),console[_0x242b80(0x19c)](_0x21b565[_0x242b80(0x185)]),console['log'](_0x242b80(0x1ae));});}bootstrap();