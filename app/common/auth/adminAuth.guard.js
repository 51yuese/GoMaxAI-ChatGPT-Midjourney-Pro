'use strict';function _0x4cc6(){const _0x467c05=['role','./jwtAuth.guard','1062675KGWZnM','55578TtgLHQ','2694064dQRctE','900296CrgLjV','getRequest','header','1859500kLJndh','defineProperty','switchToHttp','function','decorate','161YORtvY','63klnyVj','ERole','../constants/Role.constant','@nestjs/common','includes','AdminAuthGuard','__esModule','length','get','canActivate','485343pqxfHh','SUPER','407988VHjICh','redisCacheService','Injectable'];_0x4cc6=function(){return _0x467c05;};return _0x4cc6();}const _0x2af852=_0x63c9;function _0x63c9(_0x2882a7,_0xae1067){const _0x4cc65b=_0x4cc6();return _0x63c9=function(_0x63c93d,_0x5dbabe){_0x63c93d=_0x63c93d-0x15a;let _0x340f06=_0x4cc65b[_0x63c93d];return _0x340f06;},_0x63c9(_0x2882a7,_0xae1067);}(function(_0x597645,_0x41b639){const _0xf2e9ac=_0x63c9,_0x576b66=_0x597645();while(!![]){try{const _0x35cc22=-parseInt(_0xf2e9ac(0x15c))/0x1+parseInt(_0xf2e9ac(0x15e))/0x2+parseInt(_0xf2e9ac(0x163))/0x3+-parseInt(_0xf2e9ac(0x165))/0x4+parseInt(_0xf2e9ac(0x169))/0x5+-parseInt(_0xf2e9ac(0x164))/0x6*(parseInt(_0xf2e9ac(0x16e))/0x7)+parseInt(_0xf2e9ac(0x166))/0x8*(parseInt(_0xf2e9ac(0x16f))/0x9);if(_0x35cc22===_0x41b639)break;else _0x576b66['push'](_0x576b66['shift']());}catch(_0x5105b5){_0x576b66['push'](_0x576b66['shift']());}}}(_0x4cc6,0x54772));var __decorate=this&&this['__decorate']||function(_0x56f02a,_0x112ed8,_0x1fe608,_0x358cde){const _0x3d013d=_0x63c9;var _0x29ca59=arguments[_0x3d013d(0x176)],_0x3ee7ca=_0x29ca59<0x3?_0x112ed8:_0x358cde===null?_0x358cde=Object['getOwnPropertyDescriptor'](_0x112ed8,_0x1fe608):_0x358cde,_0xb51deb;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x3d013d(0x16c))_0x3ee7ca=Reflect[_0x3d013d(0x16d)](_0x56f02a,_0x112ed8,_0x1fe608,_0x358cde);else{for(var _0xe4fef8=_0x56f02a[_0x3d013d(0x176)]-0x1;_0xe4fef8>=0x0;_0xe4fef8--)if(_0xb51deb=_0x56f02a[_0xe4fef8])_0x3ee7ca=(_0x29ca59<0x3?_0xb51deb(_0x3ee7ca):_0x29ca59>0x3?_0xb51deb(_0x112ed8,_0x1fe608,_0x3ee7ca):_0xb51deb(_0x112ed8,_0x1fe608))||_0x3ee7ca;}return _0x29ca59>0x3&&_0x3ee7ca&&Object['defineProperty'](_0x112ed8,_0x1fe608,_0x3ee7ca),_0x3ee7ca;};Object[_0x2af852(0x16a)](exports,_0x2af852(0x175),{'value':!![]}),exports[_0x2af852(0x174)]=void 0x0;const common_1=require(_0x2af852(0x172)),jwtAuth_guard_1=require(_0x2af852(0x162)),Role_constant_1=require(_0x2af852(0x171));let AdminAuthGuard=class AdminAuthGuard extends jwtAuth_guard_1['JwtAuthGuard']{async[_0x2af852(0x15b)](_0x111845){const _0x310ebe=_0x2af852,_0x4776fd=await super[_0x310ebe(0x15b)](_0x111845);if(!_0x4776fd)return![];const _0x587946=_0x111845[_0x310ebe(0x16b)]()[_0x310ebe(0x167)](),_0x31b700=_0x587946[_0x310ebe(0x168)]('page-path');if(_0x587946['user'][_0x310ebe(0x161)]!==Role_constant_1[_0x310ebe(0x170)][_0x310ebe(0x15d)]){if(!_0x31b700)return![];const _0x339a4a=_0x31b700['split'](/#|\?/)[0x1];if(!_0x339a4a)return![];const _0x9deb7=await this[_0x310ebe(0x15f)][_0x310ebe(0x15a)]({'key':'access:'+_0x587946['user']['id']});return _0x9deb7[_0x310ebe(0x173)](_0x339a4a);}return!![];}};AdminAuthGuard=__decorate([(0x0,common_1[_0x2af852(0x160)])()],AdminAuthGuard),exports['AdminAuthGuard']=AdminAuthGuard;