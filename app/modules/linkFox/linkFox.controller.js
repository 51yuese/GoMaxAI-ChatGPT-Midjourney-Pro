'use strict';const _0x527d9b=_0x1abb;function _0x1abb(_0x5a03ce,_0x1a1abc){const _0x4b8a13=_0x4b8a();return _0x1abb=function(_0x1abbc8,_0x331e99){_0x1abbc8=_0x1abbc8-0xe7;let _0x1b0545=_0x4b8a13[_0x1abbc8];return _0x1b0545;},_0x1abb(_0x5a03ce,_0x1a1abc);}(function(_0x5f472e,_0x1cad8a){const _0x118526=_0x1abb,_0x3f0fc1=_0x5f472e();while(!![]){try{const _0x236ae0=-parseInt(_0x118526(0xef))/0x1+parseInt(_0x118526(0x15a))/0x2+-parseInt(_0x118526(0xf6))/0x3+parseInt(_0x118526(0x142))/0x4*(parseInt(_0x118526(0xf7))/0x5)+parseInt(_0x118526(0x140))/0x6*(parseInt(_0x118526(0x120))/0x7)+-parseInt(_0x118526(0x11d))/0x8+parseInt(_0x118526(0x127))/0x9*(-parseInt(_0x118526(0x158))/0xa);if(_0x236ae0===_0x1cad8a)break;else _0x3f0fc1['push'](_0x3f0fc1['shift']());}catch(_0x2e8896){_0x3f0fc1['push'](_0x3f0fc1['shift']());}}}(_0x4b8a,0x585a0));function _0x4b8a(){const _0x3bb244=['deleteCategory_admin','save','1184616jfrbyo','8920FtAvJP','./vo/CategoryTree.vo','CategoryTreeVO','后台图库保存','metadata','interactCutout','getOwnPropertyDescriptor','from','FileInterceptor','tree','Controller','ApiBearerAuth','获取精选图库','buffer','TaskPageDTO','LinkFoxService','Post','@nestjs/platform-express','__esModule','makeInfo','后台分类删除','categoryService','design:type','delete','后台获取精选图库','ChangeClothingDto','getCategoryList','getGallery_admin','InteractCutoutProcessDto','getGalleryPage','design:paramtypes','后台分类列表','../file/dto/uploder.dto','./gallery.entity','分类列表','saveGallery_admin','UseInterceptors','./dto/aiCutoutImage.dto','89864QoIKAk','getAllTask_admin','参数错误','7pSuhFe','ApiResponse','categoryList_admin','linkForService','changeClothing','AdminAuthGuard','toString','2205POHiRP','taskPage','All','./dto/taskPageDTO.dto','utf-8','./dto/galleryPageDTO.dto','JwtAuthGuard','UploaderDto','galleryPage','获取任务列表','aiCutoutImage','AI穿衣','__metadata','@nestjs/common','GalleryPageVO','prototype','FileService','originalname','./dto/interactCutoutProcess.dto','uploadFileNext','./category.service','../../common/auth/adminAuth.guard','__decorate','CategoryEntity','TaskPageVO','4312146yUCocK','@nestjs/swagger','512VXmbKp','design:returntype','./linkFox.service','../../common/auth/jwtAuth.guard','Get','galleryPageDTO','智能抠图','交互抠图','Query','上传文件','后台获取任务列表','upload','后台分类保存','Req','fileService','defineProperty','length','decorate','AiCutoutImageDto','ApiOperation','getTaskPage','linkFox','10610IIeFRV','UploadedFile','495808FtMyxO','getTask_admin','UseGuards','file','uploadFile','LinkForController','config','saveCategory_admin','object','./vo/GalleryPage.vo','167009bZKnQK','ApiExcludeEndpoint','获取生成结果\x201:穿衣\x202:智能抠图','Body','function'];_0x4b8a=function(){return _0x3bb244;};return _0x4b8a();}var __decorate=this&&this[_0x527d9b(0x13d)]||function(_0x31fae3,_0x23f87c,_0x2d7826,_0x5a7adb){const _0x59b32a=_0x527d9b;var _0x51b341=arguments['length'],_0x21bd1f=_0x51b341<0x3?_0x23f87c:_0x5a7adb===null?_0x5a7adb=Object[_0x59b32a(0xfd)](_0x23f87c,_0x2d7826):_0x5a7adb,_0x457a12;if(typeof Reflect==='object'&&typeof Reflect[_0x59b32a(0x153)]===_0x59b32a(0xf3))_0x21bd1f=Reflect['decorate'](_0x31fae3,_0x23f87c,_0x2d7826,_0x5a7adb);else{for(var _0x450cd4=_0x31fae3[_0x59b32a(0x152)]-0x1;_0x450cd4>=0x0;_0x450cd4--)if(_0x457a12=_0x31fae3[_0x450cd4])_0x21bd1f=(_0x51b341<0x3?_0x457a12(_0x21bd1f):_0x51b341>0x3?_0x457a12(_0x23f87c,_0x2d7826,_0x21bd1f):_0x457a12(_0x23f87c,_0x2d7826))||_0x21bd1f;}return _0x51b341>0x3&&_0x21bd1f&&Object[_0x59b32a(0x151)](_0x23f87c,_0x2d7826,_0x21bd1f),_0x21bd1f;},__metadata=this&&this[_0x527d9b(0x133)]||function(_0x18b041,_0x2ef871){const _0x402a84=_0x527d9b;if(typeof Reflect===_0x402a84(0xed)&&typeof Reflect[_0x402a84(0xfb)]==='function')return Reflect[_0x402a84(0xfb)](_0x18b041,_0x2ef871);},__param=this&&this['__param']||function(_0x5a0253,_0x226a29){return function(_0x9d3851,_0xf22b63){_0x226a29(_0x9d3851,_0xf22b63,_0x5a0253);};};Object[_0x527d9b(0x151)](exports,_0x527d9b(0x109),{'value':!![]}),exports['LinkForController']=void 0x0;const common_1=require(_0x527d9b(0x134)),linkFox_service_1=require(_0x527d9b(0x144)),swagger_1=require(_0x527d9b(0x141)),jwtAuth_guard_1=require(_0x527d9b(0x145)),common_2=require(_0x527d9b(0x134)),changeClothing_dto_1=require('./dto/changeClothing.dto'),aiCutoutImage_dto_1=require(_0x527d9b(0x11c)),interactCutoutProcess_dto_1=require(_0x527d9b(0x139)),TaskPage_vo_1=require('./vo/TaskPage.vo'),taskPageDTO_dto_1=require(_0x527d9b(0x12a)),GalleryPage_vo_1=require(_0x527d9b(0xee)),adminAuth_guard_1=require(_0x527d9b(0x13c)),galleryPageDTO_dto_1=require(_0x527d9b(0x12c)),category_entity_1=require('./category.entity'),category_service_1=require(_0x527d9b(0x13b)),CategoryTree_vo_1=require(_0x527d9b(0xf8)),gallery_entity_1=require(_0x527d9b(0x118)),platform_express_1=require(_0x527d9b(0x108)),uploder_dto_1=require(_0x527d9b(0x117)),file_service_1=require('../file/file.service');let LinkForController=class LinkForController{constructor(_0x39fed6,_0x20d1d0,_0x2492b0){const _0x15e60a=_0x527d9b;this[_0x15e60a(0x123)]=_0x39fed6,this[_0x15e60a(0x10c)]=_0x20d1d0,this['fileService']=_0x2492b0;}[_0x527d9b(0xeb)](_0x4d0b6a){const _0x5be581=_0x527d9b;return this[_0x5be581(0x123)][_0x5be581(0xeb)](_0x4d0b6a);}['changeClothing'](_0x29ebf4,_0x162a9a){const _0x146255=_0x527d9b;return this[_0x146255(0x123)][_0x146255(0x124)](_0x29ebf4,_0x162a9a);}[_0x527d9b(0x10a)](_0x4dc69f,_0x7649f2){const _0xa8dcec=_0x527d9b;if(!_0x4dc69f||!_0x7649f2)throw new Error(_0xa8dcec(0x11f));return this[_0xa8dcec(0x123)][_0xa8dcec(0x10a)](_0x7649f2,_0x4dc69f);}[_0x527d9b(0x131)](_0x594185,_0x138bf8){const _0x37fb2a=_0x527d9b;return this[_0x37fb2a(0x123)][_0x37fb2a(0x131)](_0x594185,_0x138bf8);}[_0x527d9b(0xfc)](_0x5abdf0,_0xab292f){const _0x50cb60=_0x527d9b;return this[_0x50cb60(0x123)][_0x50cb60(0xfc)](_0x5abdf0,_0xab292f);}async[_0x527d9b(0x156)](_0x314d08,_0x4a2d37){const _0x3ae90b=_0x527d9b;return await this[_0x3ae90b(0x123)][_0x3ae90b(0x128)](_0x314d08,_0x4a2d37);}['getGalleryPage'](_0x497e77){const _0x378399=_0x527d9b;return this[_0x378399(0x123)][_0x378399(0x12f)](_0x497e77);}async[_0x527d9b(0x14d)](_0x1ebb00,_0x188ef8){const _0x561dc2=_0x527d9b,_0x2802bd=Buffer[_0x561dc2(0xfe)](_0x188ef8[_0x561dc2(0x138)],'binary')[_0x561dc2(0x126)](_0x561dc2(0x12b));return{'data':{'dataPath':await this[_0x561dc2(0x150)][_0x561dc2(0xe9)]({'filename':_0x2802bd,'buffer':_0x188ef8[_0x561dc2(0x104)],..._0x1ebb00}),'md5':''}};}[_0x527d9b(0x111)](){const _0x42c9a7=_0x527d9b;return this['categoryService'][_0x42c9a7(0x100)]();}[_0x527d9b(0x112)](_0x443214){const _0x4b8b42=_0x527d9b;return this[_0x4b8b42(0x123)]['galleryPage'](_0x443214);}[_0x527d9b(0x11a)](_0x1cfa11){const _0x3fddec=_0x527d9b;return this[_0x3fddec(0x123)]['saveGallery'](_0x1cfa11);}[_0x527d9b(0xec)](_0x21a6ec){const _0x415820=_0x527d9b;return this[_0x415820(0x10c)][_0x415820(0xf5)](_0x21a6ec);}[_0x527d9b(0xf4)](_0x24b07f){const _0x54cd1e=_0x527d9b;return this[_0x54cd1e(0x10c)][_0x54cd1e(0x10e)](_0x24b07f);}[_0x527d9b(0x122)](){const _0x3ea9d1=_0x527d9b;return this[_0x3ea9d1(0x10c)][_0x3ea9d1(0x100)](![]);}async[_0x527d9b(0x15b)](_0xfc4edc,_0x53d125){const _0x58396d=_0x527d9b;return await this['linkForService'][_0x58396d(0x128)](_0xfc4edc,_0x53d125);}async['uploadFileNext'](_0x2e9cd6,_0x2d992d){const _0x197a52=_0x527d9b,_0x32bd58=Buffer[_0x197a52(0xfe)](_0x2d992d[_0x197a52(0x138)],'binary')[_0x197a52(0x126)](_0x197a52(0x12b));return{'data':{'dataPath':await this['fileService'][_0x197a52(0xe9)]({'filename':_0x32bd58,'buffer':_0x2d992d['buffer'],..._0x2e9cd6}),'md5':''}};}};__decorate([(0x0,common_1[_0x527d9b(0x146)])(_0x527d9b(0xeb)),(0x0,swagger_1[_0x527d9b(0x155)])({'summary':'获取配置信息'}),(0x0,common_2[_0x527d9b(0xe7)])(jwtAuth_guard_1[_0x527d9b(0x12d)]),(0x0,swagger_1[_0x527d9b(0x102)])(),__param(0x0,(0x0,common_1[_0x527d9b(0x14f)])()),__metadata(_0x527d9b(0x10d),Function),__metadata(_0x527d9b(0x115),[Object]),__metadata('design:returntype',void 0x0)],LinkForController['prototype'],_0x527d9b(0xeb),null),__decorate([(0x0,common_1[_0x527d9b(0x107)])('changeClothing'),(0x0,swagger_1[_0x527d9b(0x155)])({'summary':_0x527d9b(0x132)}),(0x0,common_2[_0x527d9b(0xe7)])(jwtAuth_guard_1[_0x527d9b(0x12d)]),(0x0,swagger_1[_0x527d9b(0x102)])(),__param(0x0,(0x0,common_2['Body'])()),__param(0x1,(0x0,common_1['Req'])()),__metadata(_0x527d9b(0x10d),Function),__metadata(_0x527d9b(0x115),[changeClothing_dto_1[_0x527d9b(0x110)],Object]),__metadata(_0x527d9b(0x143),void 0x0)],LinkForController[_0x527d9b(0x136)],'changeClothing',null),__decorate([(0x0,common_1[_0x527d9b(0x146)])('makeInfo'),(0x0,swagger_1['ApiOperation'])({'summary':_0x527d9b(0xf1)}),(0x0,common_2[_0x527d9b(0xe7)])(jwtAuth_guard_1[_0x527d9b(0x12d)]),(0x0,swagger_1[_0x527d9b(0x102)])(),__param(0x0,(0x0,common_1['Query'])('type')),__param(0x1,(0x0,common_1[_0x527d9b(0x14a)])('id')),__metadata(_0x527d9b(0x10d),Function),__metadata(_0x527d9b(0x115),[Number,Object]),__metadata(_0x527d9b(0x143),void 0x0)],LinkForController[_0x527d9b(0x136)],'makeInfo',null),__decorate([(0x0,common_1[_0x527d9b(0x107)])(_0x527d9b(0x131)),(0x0,swagger_1[_0x527d9b(0x155)])({'summary':_0x527d9b(0x148)}),(0x0,common_2['UseGuards'])(jwtAuth_guard_1[_0x527d9b(0x12d)]),(0x0,swagger_1[_0x527d9b(0x102)])(),__param(0x0,(0x0,common_2[_0x527d9b(0xf2)])()),__param(0x1,(0x0,common_1[_0x527d9b(0x14f)])()),__metadata(_0x527d9b(0x10d),Function),__metadata(_0x527d9b(0x115),[aiCutoutImage_dto_1[_0x527d9b(0x154)],Object]),__metadata(_0x527d9b(0x143),void 0x0)],LinkForController[_0x527d9b(0x136)],_0x527d9b(0x131),null),__decorate([(0x0,common_1[_0x527d9b(0x107)])(_0x527d9b(0xfc)),(0x0,swagger_1[_0x527d9b(0x155)])({'summary':_0x527d9b(0x149)}),(0x0,common_2['UseGuards'])(jwtAuth_guard_1['JwtAuthGuard']),(0x0,swagger_1[_0x527d9b(0x102)])(),__param(0x0,(0x0,common_2[_0x527d9b(0xf2)])()),__param(0x1,(0x0,common_1['Req'])()),__metadata(_0x527d9b(0x10d),Function),__metadata(_0x527d9b(0x115),[interactCutoutProcess_dto_1[_0x527d9b(0x113)],Object]),__metadata(_0x527d9b(0x143),void 0x0)],LinkForController[_0x527d9b(0x136)],'interactCutout',null),__decorate([(0x0,common_1['Get'])(_0x527d9b(0x156)),(0x0,swagger_1['ApiOperation'])({'summary':_0x527d9b(0x130)}),(0x0,common_2[_0x527d9b(0xe7)])(jwtAuth_guard_1[_0x527d9b(0x12d)]),(0x0,swagger_1[_0x527d9b(0x102)])(),(0x0,swagger_1[_0x527d9b(0x121)])({'type':TaskPage_vo_1['TaskPageVO']}),__param(0x0,(0x0,common_1[_0x527d9b(0x14a)])()),__param(0x1,(0x0,common_1['Req'])()),__metadata('design:type',Function),__metadata(_0x527d9b(0x115),[taskPageDTO_dto_1['TaskPageDTO'],Object]),__metadata(_0x527d9b(0x143),Promise)],LinkForController[_0x527d9b(0x136)],_0x527d9b(0x156),null),__decorate([(0x0,common_1[_0x527d9b(0x146)])(_0x527d9b(0x114)),(0x0,swagger_1['ApiOperation'])({'summary':_0x527d9b(0x103)}),(0x0,swagger_1[_0x527d9b(0x121)])({'type':GalleryPage_vo_1[_0x527d9b(0x135)]}),__param(0x0,(0x0,common_1['Query'])()),__metadata(_0x527d9b(0x10d),Function),__metadata(_0x527d9b(0x115),[galleryPageDTO_dto_1[_0x527d9b(0x147)]]),__metadata('design:returntype',void 0x0)],LinkForController[_0x527d9b(0x136)],_0x527d9b(0x114),null),__decorate([(0x0,common_1[_0x527d9b(0x107)])(_0x527d9b(0x14d)),(0x0,swagger_1[_0x527d9b(0x155)])({'summary':_0x527d9b(0x14b)}),(0x0,common_1[_0x527d9b(0x11b)])((0x0,platform_express_1[_0x527d9b(0xff)])(_0x527d9b(0xe8),{'preservePath':!![]})),__param(0x0,(0x0,common_2['Body'])()),__param(0x1,(0x0,common_1[_0x527d9b(0x159)])()),__metadata('design:type',Function),__metadata(_0x527d9b(0x115),[uploder_dto_1['UploaderDto'],Object]),__metadata('design:returntype',Promise)],LinkForController[_0x527d9b(0x136)],_0x527d9b(0x14d),null),__decorate([(0x0,common_1[_0x527d9b(0x146)])(_0x527d9b(0x111)),(0x0,swagger_1[_0x527d9b(0x155)])({'summary':_0x527d9b(0x119)}),(0x0,swagger_1['ApiResponse'])({'type':CategoryTree_vo_1[_0x527d9b(0xf9)]}),__metadata(_0x527d9b(0x10d),Function),__metadata('design:paramtypes',[]),__metadata('design:returntype',void 0x0)],LinkForController[_0x527d9b(0x136)],_0x527d9b(0x111),null),__decorate([(0x0,swagger_1[_0x527d9b(0xf0)])(),(0x0,common_1['All'])(_0x527d9b(0x112)),(0x0,swagger_1['ApiOperation'])({'summary':_0x527d9b(0x10f)}),(0x0,common_2['UseGuards'])(adminAuth_guard_1[_0x527d9b(0x125)]),__param(0x0,(0x0,common_1['Query'])()),__metadata(_0x527d9b(0x10d),Function),__metadata(_0x527d9b(0x115),[galleryPageDTO_dto_1[_0x527d9b(0x147)]]),__metadata('design:returntype',void 0x0)],LinkForController[_0x527d9b(0x136)],_0x527d9b(0x112),null),__decorate([(0x0,swagger_1[_0x527d9b(0xf0)])(),(0x0,common_1[_0x527d9b(0x129)])(_0x527d9b(0x11a)),(0x0,swagger_1['ApiOperation'])({'summary':_0x527d9b(0xfa)}),(0x0,common_2[_0x527d9b(0xe7)])(adminAuth_guard_1[_0x527d9b(0x125)]),(0x0,swagger_1[_0x527d9b(0x102)])(),__param(0x0,(0x0,common_2[_0x527d9b(0xf2)])()),__metadata(_0x527d9b(0x10d),Function),__metadata('design:paramtypes',[gallery_entity_1['GalleryEntity']]),__metadata('design:returntype',void 0x0)],LinkForController[_0x527d9b(0x136)],_0x527d9b(0x11a),null),__decorate([(0x0,swagger_1['ApiExcludeEndpoint'])(),(0x0,common_1['All'])(_0x527d9b(0xec)),(0x0,swagger_1['ApiOperation'])({'summary':_0x527d9b(0x14e)}),(0x0,common_2[_0x527d9b(0xe7)])(adminAuth_guard_1[_0x527d9b(0x125)]),(0x0,swagger_1[_0x527d9b(0x102)])(),__param(0x0,(0x0,common_2['Body'])()),__metadata(_0x527d9b(0x10d),Function),__metadata(_0x527d9b(0x115),[category_entity_1[_0x527d9b(0x13e)]]),__metadata(_0x527d9b(0x143),void 0x0)],LinkForController['prototype'],_0x527d9b(0xec),null),__decorate([(0x0,swagger_1[_0x527d9b(0xf0)])(),(0x0,common_1['All'])(_0x527d9b(0xf4)),(0x0,swagger_1['ApiOperation'])({'summary':_0x527d9b(0x10b)}),(0x0,common_2[_0x527d9b(0xe7)])(adminAuth_guard_1[_0x527d9b(0x125)]),(0x0,swagger_1[_0x527d9b(0x102)])(),__param(0x0,(0x0,common_1[_0x527d9b(0x14a)])('id')),__metadata(_0x527d9b(0x10d),Function),__metadata(_0x527d9b(0x115),[Number]),__metadata('design:returntype',void 0x0)],LinkForController[_0x527d9b(0x136)],_0x527d9b(0xf4),null),__decorate([(0x0,swagger_1[_0x527d9b(0xf0)])(),(0x0,common_1[_0x527d9b(0x129)])(_0x527d9b(0x122)),(0x0,common_2['UseGuards'])(adminAuth_guard_1[_0x527d9b(0x125)]),(0x0,swagger_1[_0x527d9b(0x155)])({'summary':_0x527d9b(0x116)}),__metadata(_0x527d9b(0x10d),Function),__metadata('design:paramtypes',[]),__metadata(_0x527d9b(0x143),void 0x0)],LinkForController[_0x527d9b(0x136)],_0x527d9b(0x122),null),__decorate([(0x0,swagger_1[_0x527d9b(0xf0)])(),(0x0,common_1[_0x527d9b(0x129)])(_0x527d9b(0x11e)),(0x0,swagger_1['ApiOperation'])({'summary':_0x527d9b(0x14c)}),(0x0,common_2[_0x527d9b(0xe7)])(adminAuth_guard_1[_0x527d9b(0x125)]),(0x0,swagger_1['ApiBearerAuth'])(),(0x0,swagger_1[_0x527d9b(0x121)])({'type':TaskPage_vo_1[_0x527d9b(0x13f)]}),__param(0x0,(0x0,common_1[_0x527d9b(0x14a)])()),__param(0x1,(0x0,common_1[_0x527d9b(0x14f)])()),__metadata(_0x527d9b(0x10d),Function),__metadata(_0x527d9b(0x115),[taskPageDTO_dto_1[_0x527d9b(0x105)],Object]),__metadata(_0x527d9b(0x143),Promise)],LinkForController[_0x527d9b(0x136)],_0x527d9b(0x15b),null),__decorate([(0x0,common_1[_0x527d9b(0x107)])('uploadNext'),(0x0,swagger_1[_0x527d9b(0x155)])({'summary':_0x527d9b(0x14b)}),(0x0,common_1[_0x527d9b(0x11b)])((0x0,platform_express_1[_0x527d9b(0xff)])(_0x527d9b(0xe8),{'preservePath':!![],'limits':{'fileSize':0x200*0x400*0x400}})),__param(0x0,(0x0,common_2[_0x527d9b(0xf2)])()),__param(0x1,(0x0,common_1[_0x527d9b(0x159)])()),__metadata(_0x527d9b(0x10d),Function),__metadata('design:paramtypes',[uploder_dto_1[_0x527d9b(0x12e)],Object]),__metadata(_0x527d9b(0x143),Promise)],LinkForController[_0x527d9b(0x136)],_0x527d9b(0x13a),null),LinkForController=__decorate([(0x0,common_1[_0x527d9b(0x101)])(_0x527d9b(0x157)),__metadata('design:paramtypes',[linkFox_service_1[_0x527d9b(0x106)],category_service_1['CategoryService'],file_service_1[_0x527d9b(0x137)]])],LinkForController),exports[_0x527d9b(0xea)]=LinkForController;