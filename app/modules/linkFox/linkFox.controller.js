'use strict';const _0x1d15a9=_0x4ce0;function _0x4ce0(_0x2b6f36,_0x22af5a){const _0x2e1242=_0x2e12();return _0x4ce0=function(_0x4ce0f6,_0x10e7f1){_0x4ce0f6=_0x4ce0f6-0x7a;let _0x237aae=_0x2e1242[_0x4ce0f6];return _0x237aae;},_0x4ce0(_0x2b6f36,_0x22af5a);}(function(_0x48e75f,_0x47f5d9){const _0x34d8dd=_0x4ce0,_0x9152f0=_0x48e75f();while(!![]){try{const _0x11949f=-parseInt(_0x34d8dd(0xa0))/0x1+-parseInt(_0x34d8dd(0xc1))/0x2*(-parseInt(_0x34d8dd(0x83))/0x3)+-parseInt(_0x34d8dd(0xb9))/0x4*(-parseInt(_0x34d8dd(0xcc))/0x5)+parseInt(_0x34d8dd(0xdb))/0x6*(parseInt(_0x34d8dd(0x95))/0x7)+-parseInt(_0x34d8dd(0xdf))/0x8*(parseInt(_0x34d8dd(0xb5))/0x9)+parseInt(_0x34d8dd(0xce))/0xa+-parseInt(_0x34d8dd(0x8c))/0xb;if(_0x11949f===_0x47f5d9)break;else _0x9152f0['push'](_0x9152f0['shift']());}catch(_0x2a3510){_0x9152f0['push'](_0x9152f0['shift']());}}}(_0x2e12,0xb4d01));var __decorate=this&&this[_0x1d15a9(0x8f)]||function(_0x2c3156,_0x54a93f,_0x307412,_0x4afc29){const _0x316d21=_0x1d15a9;var _0x540bd7=arguments[_0x316d21(0x86)],_0x5d045a=_0x540bd7<0x3?_0x54a93f:_0x4afc29===null?_0x4afc29=Object[_0x316d21(0xe6)](_0x54a93f,_0x307412):_0x4afc29,_0x3bc168;if(typeof Reflect===_0x316d21(0xae)&&typeof Reflect[_0x316d21(0xc6)]===_0x316d21(0xc9))_0x5d045a=Reflect['decorate'](_0x2c3156,_0x54a93f,_0x307412,_0x4afc29);else{for(var _0x4f1d37=_0x2c3156['length']-0x1;_0x4f1d37>=0x0;_0x4f1d37--)if(_0x3bc168=_0x2c3156[_0x4f1d37])_0x5d045a=(_0x540bd7<0x3?_0x3bc168(_0x5d045a):_0x540bd7>0x3?_0x3bc168(_0x54a93f,_0x307412,_0x5d045a):_0x3bc168(_0x54a93f,_0x307412))||_0x5d045a;}return _0x540bd7>0x3&&_0x5d045a&&Object[_0x316d21(0xd8)](_0x54a93f,_0x307412,_0x5d045a),_0x5d045a;},__metadata=this&&this[_0x1d15a9(0x9f)]||function(_0x23f084,_0xb5a6d5){const _0x319aac=_0x1d15a9;if(typeof Reflect==='object'&&typeof Reflect[_0x319aac(0xe2)]===_0x319aac(0xc9))return Reflect['metadata'](_0x23f084,_0xb5a6d5);},__param=this&&this[_0x1d15a9(0xbf)]||function(_0x344545,_0x1672ac){return function(_0x5779a4,_0x2efe49){_0x1672ac(_0x5779a4,_0x2efe49,_0x344545);};};Object[_0x1d15a9(0xd8)](exports,_0x1d15a9(0x98),{'value':!![]}),exports[_0x1d15a9(0xad)]=void 0x0;const common_1=require('@nestjs/common'),linkFox_service_1=require(_0x1d15a9(0x93)),swagger_1=require(_0x1d15a9(0x9d)),jwtAuth_guard_1=require(_0x1d15a9(0xe1)),common_2=require('@nestjs/common'),changeClothing_dto_1=require(_0x1d15a9(0xd2)),aiCutoutImage_dto_1=require('./dto/aiCutoutImage.dto'),interactCutoutProcess_dto_1=require('./dto/interactCutoutProcess.dto'),TaskPage_vo_1=require(_0x1d15a9(0xea)),taskPageDTO_dto_1=require('./dto/taskPageDTO.dto'),GalleryPage_vo_1=require(_0x1d15a9(0x7b)),adminAuth_guard_1=require('../../common/auth/adminAuth.guard'),galleryPageDTO_dto_1=require(_0x1d15a9(0xac)),category_entity_1=require(_0x1d15a9(0x94)),category_service_1=require(_0x1d15a9(0xe0)),CategoryTree_vo_1=require(_0x1d15a9(0xbd)),gallery_entity_1=require('./gallery.entity'),platform_express_1=require('@nestjs/platform-express'),uploder_dto_1=require('../file/dto/uploder.dto'),file_service_1=require('../file/file.service');let LinkForController=class LinkForController{constructor(_0xbcf403,_0x21749d,_0x16ee1f){const _0x12a3dc=_0x1d15a9;this['linkForService']=_0xbcf403,this['categoryService']=_0x21749d,this[_0x12a3dc(0x82)]=_0x16ee1f;}['config'](_0x1459fe){const _0x45efb7=_0x1d15a9;return this[_0x45efb7(0xb7)][_0x45efb7(0xda)](_0x1459fe);}[_0x1d15a9(0x7d)](_0x4f4b13,_0x8a5db0){const _0x365fa0=_0x1d15a9;return this[_0x365fa0(0xb7)][_0x365fa0(0x7d)](_0x4f4b13,_0x8a5db0);}[_0x1d15a9(0x84)](_0x4a8bb5,_0xdf66b){const _0x447929=_0x1d15a9;if(!_0x4a8bb5||!_0xdf66b)throw new Error(_0x447929(0xc4));return this[_0x447929(0xb7)][_0x447929(0x84)](_0xdf66b,_0x4a8bb5);}[_0x1d15a9(0x90)](_0x2eb412,_0x1d7565){const _0x439a9b=_0x1d15a9;return this[_0x439a9b(0xb7)][_0x439a9b(0x90)](_0x2eb412,_0x1d7565);}[_0x1d15a9(0xd7)](_0x163bb7,_0x51e128){const _0x102b75=_0x1d15a9;return this[_0x102b75(0xb7)][_0x102b75(0xd7)](_0x163bb7,_0x51e128);}async[_0x1d15a9(0x89)](_0x1bd498,_0x356b1d){const _0x2b836f=_0x1d15a9;return await this[_0x2b836f(0xb7)][_0x2b836f(0xb2)](_0x1bd498,_0x356b1d);}[_0x1d15a9(0xc5)](_0x311372){return this['linkForService']['galleryPage'](_0x311372);}async[_0x1d15a9(0xa6)](_0x4ec23b,_0x36434e){const _0x4b3e7c=_0x1d15a9,_0x41060a=Buffer[_0x4b3e7c(0xba)](_0x36434e['originalname'],_0x4b3e7c(0xcb))[_0x4b3e7c(0xcf)](_0x4b3e7c(0xab));return{'data':{'dataPath':await this[_0x4b3e7c(0x82)][_0x4b3e7c(0xb6)]({'filename':_0x41060a,'buffer':_0x36434e[_0x4b3e7c(0xe5)],..._0x4ec23b}),'md5':''}};}[_0x1d15a9(0xc2)](){const _0x236749=_0x1d15a9;return this[_0x236749(0xca)][_0x236749(0xe7)]();}[_0x1d15a9(0xe9)](_0x6e1a43){const _0x4421c4=_0x1d15a9;return this[_0x4421c4(0xb7)][_0x4421c4(0xd5)](_0x6e1a43);}[_0x1d15a9(0xc8)](_0x3e71ab){const _0x19dc9d=_0x1d15a9;return this[_0x19dc9d(0xb7)][_0x19dc9d(0xa7)](_0x3e71ab);}[_0x1d15a9(0x8d)](_0x13cd56){const _0x513fef=_0x1d15a9;return this[_0x513fef(0xca)][_0x513fef(0x81)](_0x13cd56);}[_0x1d15a9(0x8e)](_0x40458b){const _0x1a9c1d=_0x1d15a9;return this[_0x1a9c1d(0xca)]['delete'](_0x40458b);}[_0x1d15a9(0xa1)](){return this['categoryService']['tree'](![]);}async[_0x1d15a9(0x87)](_0xa5831d,_0x47bd9f){return await this['linkForService']['taskPage'](_0xa5831d,_0x47bd9f);}async[_0x1d15a9(0xb0)](_0x52b535,_0x38d92f){const _0xa872d7=_0x1d15a9,_0xd4225d=Buffer[_0xa872d7(0xba)](_0x38d92f[_0xa872d7(0x91)],'binary')[_0xa872d7(0xcf)]('utf-8');return{'data':{'dataPath':await this[_0xa872d7(0x82)]['uploadFile']({'filename':_0xd4225d,'buffer':_0x38d92f[_0xa872d7(0xe5)],..._0x52b535}),'md5':''}};}};function _0x2e12(){const _0xd48df=['getTask_admin','Query','getTaskPage','Controller','design:type','2318624iLVhEG','saveCategory_admin','deleteCategory_admin','__decorate','aiCutoutImage','originalname','JwtAuthGuard','./linkFox.service','./category.entity','1022cqfmmY','design:paramtypes','后台分类保存','__esModule','后台图库保存','后台分类列表','获取配置信息','UseInterceptors','@nestjs/swagger','上传文件','__metadata','1074306hXXTjX','categoryList_admin','getAllTask_admin','type','ApiOperation','分类列表','upload','saveGallery','design:returntype','GalleryEntity','TaskPageDTO','utf-8','./dto/galleryPageDTO.dto','LinkForController','object','galleryPageDTO','uploadFileNext','ApiExcludeEndpoint','taskPage','FileInterceptor','TaskPageVO','4978899ktbagi','uploadFile','linkForService','UploadedFile','20OgMgfk','from','All','LinkFoxService','./vo/CategoryTree.vo','Get','__param','后台获取精选图库','2gaeYPl','getCategoryList','CategoryEntity','参数错误','getGalleryPage','decorate','后台分类删除','saveGallery_admin','function','categoryService','binary','885770CiOsum','file','1781070puWJuc','toString','Req','UseGuards','./dto/changeClothing.dto','GalleryPageVO','ApiResponse','galleryPage','后台获取任务列表','interactCutout','defineProperty','AiCutoutImageDto','config','56370ZIVOWD','Post','UploaderDto','prototype','16feZqsE','./category.service','../../common/auth/jwtAuth.guard','metadata','FileService','AI穿衣','buffer','getOwnPropertyDescriptor','tree','交互抠图','getGallery_admin','./vo/TaskPage.vo','AdminAuthGuard','ApiBearerAuth','uploadNext','InteractCutoutProcessDto','./vo/GalleryPage.vo','获取生成结果\x201:穿衣\x202:智能抠图','changeClothing','ChangeClothingDto','Body','linkFox','save','fileService','2089722SJKzhC','makeInfo','CategoryTreeVO','length'];_0x2e12=function(){return _0xd48df;};return _0x2e12();}__decorate([(0x0,common_1['Get'])(_0x1d15a9(0xda)),(0x0,swagger_1[_0x1d15a9(0xa4)])({'summary':_0x1d15a9(0x9b)}),(0x0,common_2['UseGuards'])(jwtAuth_guard_1[_0x1d15a9(0x92)]),(0x0,swagger_1[_0x1d15a9(0xec)])(),__param(0x0,(0x0,common_1[_0x1d15a9(0xd0)])()),__metadata('design:type',Function),__metadata(_0x1d15a9(0x96),[Object]),__metadata(_0x1d15a9(0xa8),void 0x0)],LinkForController[_0x1d15a9(0xde)],_0x1d15a9(0xda),null),__decorate([(0x0,common_1['Post'])('changeClothing'),(0x0,swagger_1[_0x1d15a9(0xa4)])({'summary':_0x1d15a9(0xe4)}),(0x0,common_2[_0x1d15a9(0xd1)])(jwtAuth_guard_1[_0x1d15a9(0x92)]),(0x0,swagger_1[_0x1d15a9(0xec)])(),__param(0x0,(0x0,common_2[_0x1d15a9(0x7f)])()),__param(0x1,(0x0,common_1[_0x1d15a9(0xd0)])()),__metadata(_0x1d15a9(0x8b),Function),__metadata(_0x1d15a9(0x96),[changeClothing_dto_1[_0x1d15a9(0x7e)],Object]),__metadata('design:returntype',void 0x0)],LinkForController[_0x1d15a9(0xde)],_0x1d15a9(0x7d),null),__decorate([(0x0,common_1[_0x1d15a9(0xbe)])('makeInfo'),(0x0,swagger_1[_0x1d15a9(0xa4)])({'summary':_0x1d15a9(0x7c)}),(0x0,common_2[_0x1d15a9(0xd1)])(jwtAuth_guard_1[_0x1d15a9(0x92)]),(0x0,swagger_1[_0x1d15a9(0xec)])(),__param(0x0,(0x0,common_1['Query'])(_0x1d15a9(0xa3))),__param(0x1,(0x0,common_1[_0x1d15a9(0x88)])('id')),__metadata(_0x1d15a9(0x8b),Function),__metadata('design:paramtypes',[Number,Object]),__metadata(_0x1d15a9(0xa8),void 0x0)],LinkForController['prototype'],'makeInfo',null),__decorate([(0x0,common_1[_0x1d15a9(0xdc)])('aiCutoutImage'),(0x0,swagger_1[_0x1d15a9(0xa4)])({'summary':'智能抠图'}),(0x0,common_2[_0x1d15a9(0xd1)])(jwtAuth_guard_1['JwtAuthGuard']),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_2[_0x1d15a9(0x7f)])()),__param(0x1,(0x0,common_1[_0x1d15a9(0xd0)])()),__metadata(_0x1d15a9(0x8b),Function),__metadata(_0x1d15a9(0x96),[aiCutoutImage_dto_1[_0x1d15a9(0xd9)],Object]),__metadata(_0x1d15a9(0xa8),void 0x0)],LinkForController[_0x1d15a9(0xde)],_0x1d15a9(0x90),null),__decorate([(0x0,common_1[_0x1d15a9(0xdc)])(_0x1d15a9(0xd7)),(0x0,swagger_1['ApiOperation'])({'summary':_0x1d15a9(0xe8)}),(0x0,common_2[_0x1d15a9(0xd1)])(jwtAuth_guard_1['JwtAuthGuard']),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_2[_0x1d15a9(0x7f)])()),__param(0x1,(0x0,common_1[_0x1d15a9(0xd0)])()),__metadata(_0x1d15a9(0x8b),Function),__metadata('design:paramtypes',[interactCutoutProcess_dto_1[_0x1d15a9(0x7a)],Object]),__metadata(_0x1d15a9(0xa8),void 0x0)],LinkForController[_0x1d15a9(0xde)],_0x1d15a9(0xd7),null),__decorate([(0x0,common_1[_0x1d15a9(0xbe)])(_0x1d15a9(0x89)),(0x0,swagger_1[_0x1d15a9(0xa4)])({'summary':'获取任务列表'}),(0x0,common_2[_0x1d15a9(0xd1)])(jwtAuth_guard_1[_0x1d15a9(0x92)]),(0x0,swagger_1[_0x1d15a9(0xec)])(),(0x0,swagger_1[_0x1d15a9(0xd4)])({'type':TaskPage_vo_1[_0x1d15a9(0xb4)]}),__param(0x0,(0x0,common_1['Query'])()),__param(0x1,(0x0,common_1[_0x1d15a9(0xd0)])()),__metadata(_0x1d15a9(0x8b),Function),__metadata(_0x1d15a9(0x96),[taskPageDTO_dto_1['TaskPageDTO'],Object]),__metadata(_0x1d15a9(0xa8),Promise)],LinkForController['prototype'],_0x1d15a9(0x89),null),__decorate([(0x0,common_1[_0x1d15a9(0xbe)])(_0x1d15a9(0xc5)),(0x0,swagger_1[_0x1d15a9(0xa4)])({'summary':'获取精选图库'}),(0x0,swagger_1[_0x1d15a9(0xd4)])({'type':GalleryPage_vo_1[_0x1d15a9(0xd3)]}),__param(0x0,(0x0,common_1[_0x1d15a9(0x88)])()),__metadata(_0x1d15a9(0x8b),Function),__metadata(_0x1d15a9(0x96),[galleryPageDTO_dto_1[_0x1d15a9(0xaf)]]),__metadata(_0x1d15a9(0xa8),void 0x0)],LinkForController[_0x1d15a9(0xde)],_0x1d15a9(0xc5),null),__decorate([(0x0,common_1[_0x1d15a9(0xdc)])(_0x1d15a9(0xa6)),(0x0,swagger_1[_0x1d15a9(0xa4)])({'summary':_0x1d15a9(0x9e)}),(0x0,common_1[_0x1d15a9(0x9c)])((0x0,platform_express_1[_0x1d15a9(0xb3)])(_0x1d15a9(0xcd),{'preservePath':!![]})),__param(0x0,(0x0,common_2[_0x1d15a9(0x7f)])()),__param(0x1,(0x0,common_1[_0x1d15a9(0xb8)])()),__metadata(_0x1d15a9(0x8b),Function),__metadata(_0x1d15a9(0x96),[uploder_dto_1[_0x1d15a9(0xdd)],Object]),__metadata(_0x1d15a9(0xa8),Promise)],LinkForController[_0x1d15a9(0xde)],'upload',null),__decorate([(0x0,common_1[_0x1d15a9(0xbe)])(_0x1d15a9(0xc2)),(0x0,swagger_1[_0x1d15a9(0xa4)])({'summary':_0x1d15a9(0xa5)}),(0x0,swagger_1[_0x1d15a9(0xd4)])({'type':CategoryTree_vo_1[_0x1d15a9(0x85)]}),__metadata('design:type',Function),__metadata('design:paramtypes',[]),__metadata(_0x1d15a9(0xa8),void 0x0)],LinkForController[_0x1d15a9(0xde)],_0x1d15a9(0xc2),null),__decorate([(0x0,swagger_1['ApiExcludeEndpoint'])(),(0x0,common_1['All'])(_0x1d15a9(0xe9)),(0x0,swagger_1[_0x1d15a9(0xa4)])({'summary':_0x1d15a9(0xc0)}),(0x0,common_2[_0x1d15a9(0xd1)])(adminAuth_guard_1['AdminAuthGuard']),__param(0x0,(0x0,common_1[_0x1d15a9(0x88)])()),__metadata(_0x1d15a9(0x8b),Function),__metadata(_0x1d15a9(0x96),[galleryPageDTO_dto_1[_0x1d15a9(0xaf)]]),__metadata(_0x1d15a9(0xa8),void 0x0)],LinkForController[_0x1d15a9(0xde)],_0x1d15a9(0xe9),null),__decorate([(0x0,swagger_1['ApiExcludeEndpoint'])(),(0x0,common_1[_0x1d15a9(0xbb)])(_0x1d15a9(0xc8)),(0x0,swagger_1[_0x1d15a9(0xa4)])({'summary':_0x1d15a9(0x99)}),(0x0,common_2[_0x1d15a9(0xd1)])(adminAuth_guard_1[_0x1d15a9(0xeb)]),(0x0,swagger_1[_0x1d15a9(0xec)])(),__param(0x0,(0x0,common_2[_0x1d15a9(0x7f)])()),__metadata(_0x1d15a9(0x8b),Function),__metadata('design:paramtypes',[gallery_entity_1[_0x1d15a9(0xa9)]]),__metadata(_0x1d15a9(0xa8),void 0x0)],LinkForController[_0x1d15a9(0xde)],_0x1d15a9(0xc8),null),__decorate([(0x0,swagger_1['ApiExcludeEndpoint'])(),(0x0,common_1['All'])('saveCategory_admin'),(0x0,swagger_1['ApiOperation'])({'summary':_0x1d15a9(0x97)}),(0x0,common_2[_0x1d15a9(0xd1)])(adminAuth_guard_1[_0x1d15a9(0xeb)]),(0x0,swagger_1[_0x1d15a9(0xec)])(),__param(0x0,(0x0,common_2[_0x1d15a9(0x7f)])()),__metadata('design:type',Function),__metadata('design:paramtypes',[category_entity_1[_0x1d15a9(0xc3)]]),__metadata(_0x1d15a9(0xa8),void 0x0)],LinkForController[_0x1d15a9(0xde)],_0x1d15a9(0x8d),null),__decorate([(0x0,swagger_1['ApiExcludeEndpoint'])(),(0x0,common_1[_0x1d15a9(0xbb)])(_0x1d15a9(0x8e)),(0x0,swagger_1[_0x1d15a9(0xa4)])({'summary':_0x1d15a9(0xc7)}),(0x0,common_2['UseGuards'])(adminAuth_guard_1[_0x1d15a9(0xeb)]),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_1[_0x1d15a9(0x88)])('id')),__metadata(_0x1d15a9(0x8b),Function),__metadata(_0x1d15a9(0x96),[Number]),__metadata(_0x1d15a9(0xa8),void 0x0)],LinkForController[_0x1d15a9(0xde)],_0x1d15a9(0x8e),null),__decorate([(0x0,swagger_1[_0x1d15a9(0xb1)])(),(0x0,common_1[_0x1d15a9(0xbb)])(_0x1d15a9(0xa1)),(0x0,common_2[_0x1d15a9(0xd1)])(adminAuth_guard_1[_0x1d15a9(0xeb)]),(0x0,swagger_1['ApiOperation'])({'summary':_0x1d15a9(0x9a)}),__metadata(_0x1d15a9(0x8b),Function),__metadata(_0x1d15a9(0x96),[]),__metadata(_0x1d15a9(0xa8),void 0x0)],LinkForController[_0x1d15a9(0xde)],_0x1d15a9(0xa1),null),__decorate([(0x0,swagger_1[_0x1d15a9(0xb1)])(),(0x0,common_1[_0x1d15a9(0xbb)])(_0x1d15a9(0xa2)),(0x0,swagger_1[_0x1d15a9(0xa4)])({'summary':_0x1d15a9(0xd6)}),(0x0,common_2['UseGuards'])(adminAuth_guard_1[_0x1d15a9(0xeb)]),(0x0,swagger_1[_0x1d15a9(0xec)])(),(0x0,swagger_1[_0x1d15a9(0xd4)])({'type':TaskPage_vo_1[_0x1d15a9(0xb4)]}),__param(0x0,(0x0,common_1[_0x1d15a9(0x88)])()),__param(0x1,(0x0,common_1[_0x1d15a9(0xd0)])()),__metadata(_0x1d15a9(0x8b),Function),__metadata(_0x1d15a9(0x96),[taskPageDTO_dto_1[_0x1d15a9(0xaa)],Object]),__metadata(_0x1d15a9(0xa8),Promise)],LinkForController[_0x1d15a9(0xde)],'getTask_admin',null),__decorate([(0x0,common_1[_0x1d15a9(0xdc)])(_0x1d15a9(0xed)),(0x0,swagger_1[_0x1d15a9(0xa4)])({'summary':_0x1d15a9(0x9e)}),(0x0,common_1[_0x1d15a9(0x9c)])((0x0,platform_express_1[_0x1d15a9(0xb3)])(_0x1d15a9(0xcd),{'preservePath':!![],'limits':{'fileSize':0x200*0x400*0x400}})),__param(0x0,(0x0,common_2[_0x1d15a9(0x7f)])()),__param(0x1,(0x0,common_1[_0x1d15a9(0xb8)])()),__metadata('design:type',Function),__metadata(_0x1d15a9(0x96),[uploder_dto_1[_0x1d15a9(0xdd)],Object]),__metadata(_0x1d15a9(0xa8),Promise)],LinkForController['prototype'],'uploadFileNext',null),LinkForController=__decorate([(0x0,common_1[_0x1d15a9(0x8a)])(_0x1d15a9(0x80)),__metadata('design:paramtypes',[linkFox_service_1[_0x1d15a9(0xbc)],category_service_1['CategoryService'],file_service_1[_0x1d15a9(0xe3)]])],LinkForController),exports[_0x1d15a9(0xad)]=LinkForController;