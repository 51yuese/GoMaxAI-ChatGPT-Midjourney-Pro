'use strict';const _0x227032=_0x4688;(function(_0x1e9377,_0x4dc99f){const _0x4f74e5=_0x4688,_0x360c3f=_0x1e9377();while(!![]){try{const _0x3de01=parseInt(_0x4f74e5(0x1ce))/0x1*(parseInt(_0x4f74e5(0x1b9))/0x2)+-parseInt(_0x4f74e5(0x1de))/0x3+parseInt(_0x4f74e5(0x1ca))/0x4*(-parseInt(_0x4f74e5(0x1b1))/0x5)+-parseInt(_0x4f74e5(0x1da))/0x6*(-parseInt(_0x4f74e5(0x1a9))/0x7)+parseInt(_0x4f74e5(0x1ac))/0x8*(parseInt(_0x4f74e5(0x1e8))/0x9)+parseInt(_0x4f74e5(0x191))/0xa*(-parseInt(_0x4f74e5(0x1e3))/0xb)+parseInt(_0x4f74e5(0x1dc))/0xc*(-parseInt(_0x4f74e5(0x1a2))/0xd);if(_0x3de01===_0x4dc99f)break;else _0x360c3f['push'](_0x360c3f['shift']());}catch(_0x37f1ab){_0x360c3f['push'](_0x360c3f['shift']());}}}(_0x4ef1,0xb6aed));var __decorate=this&&this[_0x227032(0x1e7)]||function(_0x268504,_0x3ee0a8,_0x1519a1,_0x150c78){const _0x19429a=_0x227032;var _0x5e03bd=arguments[_0x19429a(0x1cb)],_0x51d380=_0x5e03bd<0x3?_0x3ee0a8:_0x150c78===null?_0x150c78=Object['getOwnPropertyDescriptor'](_0x3ee0a8,_0x1519a1):_0x150c78,_0x5874eb;if(typeof Reflect===_0x19429a(0x1e2)&&typeof Reflect[_0x19429a(0x1d1)]===_0x19429a(0x1e9))_0x51d380=Reflect['decorate'](_0x268504,_0x3ee0a8,_0x1519a1,_0x150c78);else{for(var _0x4436fc=_0x268504['length']-0x1;_0x4436fc>=0x0;_0x4436fc--)if(_0x5874eb=_0x268504[_0x4436fc])_0x51d380=(_0x5e03bd<0x3?_0x5874eb(_0x51d380):_0x5e03bd>0x3?_0x5874eb(_0x3ee0a8,_0x1519a1,_0x51d380):_0x5874eb(_0x3ee0a8,_0x1519a1))||_0x51d380;}return _0x5e03bd>0x3&&_0x51d380&&Object[_0x19429a(0x1a6)](_0x3ee0a8,_0x1519a1,_0x51d380),_0x51d380;},__metadata=this&&this[_0x227032(0x1ea)]||function(_0x275fa,_0x3da7a7){const _0x55298c=_0x227032;if(typeof Reflect==='object'&&typeof Reflect[_0x55298c(0x1b4)]==='function')return Reflect[_0x55298c(0x1b4)](_0x275fa,_0x3da7a7);},__param=this&&this[_0x227032(0x18b)]||function(_0x1e2b0e,_0x44789c){return function(_0x21df9c,_0x3e3866){_0x44789c(_0x21df9c,_0x3e3866,_0x1e2b0e);};};Object[_0x227032(0x1a6)](exports,_0x227032(0x1cc),{'value':!![]}),exports['LinkForController']=void 0x0;function _0x4688(_0x5aa21d,_0x3e9075){const _0x4ef13f=_0x4ef1();return _0x4688=function(_0x46886f,_0x298517){_0x46886f=_0x46886f-0x181;let _0x343823=_0x4ef13f[_0x46886f];return _0x343823;},_0x4688(_0x5aa21d,_0x3e9075);}const common_1=require(_0x227032(0x1d6)),linkFox_service_1=require(_0x227032(0x19a)),swagger_1=require(_0x227032(0x1a5)),jwtAuth_guard_1=require(_0x227032(0x1b8)),common_2=require(_0x227032(0x1d6)),changeClothing_dto_1=require(_0x227032(0x1f1)),aiCutoutImage_dto_1=require('./dto/aiCutoutImage.dto'),interactCutoutProcess_dto_1=require('./dto/interactCutoutProcess.dto'),TaskPage_vo_1=require('./vo/TaskPage.vo'),taskPageDTO_dto_1=require(_0x227032(0x194)),GalleryPage_vo_1=require(_0x227032(0x1b5)),adminAuth_guard_1=require(_0x227032(0x1e5)),galleryPageDTO_dto_1=require(_0x227032(0x1d2)),category_entity_1=require(_0x227032(0x199)),category_service_1=require(_0x227032(0x1e6)),CategoryTree_vo_1=require(_0x227032(0x192)),gallery_entity_1=require(_0x227032(0x1ba)),platform_express_1=require(_0x227032(0x183)),uploder_dto_1=require('../file/dto/uploder.dto'),file_service_1=require('../file/file.service');function _0x4ef1(){const _0x5a1ac9=['saveCategory_admin','originalname','GalleryPageVO','获取任务列表','galleryPage','20dMDIoj','./vo/CategoryTree.vo','LinkForController','./dto/taskPageDTO.dto','ApiOperation','ApiBearerAuth','AdminAuthGuard','FileInterceptor','./category.entity','./linkFox.service','file','uploadFileNext','upload','ChangeClothingDto','uploadFile','UseGuards','CategoryService','8121178eQMKle','后台分类删除','makeInfo','@nestjs/swagger','defineProperty','ApiResponse','Body','350280vdYaio','JwtAuthGuard','Post','1552TCJRPS','All','uploadNext','aiCutoutImage','design:type','1475335dcbzej','UploadedFile','changeClothing','metadata','./vo/GalleryPage.vo','buffer','utf-8','../../common/auth/jwtAuth.guard','156976FTNKBg','./gallery.entity','Req','getGallery_admin','获取精选图库','taskPage','后台分类保存','linkForService','getTask_admin','deleteCategory_admin','Query','AI穿衣','getCategoryList','config','linkFox','上传文件','Controller','8EJXVtB','length','__esModule','LinkFoxService','17wQvpVQ','CategoryTreeVO','binary','decorate','./dto/galleryPageDTO.dto','TaskPageDTO','categoryService','ApiExcludeEndpoint','@nestjs/common','interactCutout','后台获取精选图库','saveGallery_admin','90QzWyct','design:paramtypes','12FXuwAP','FileService','2456607rSVaiq','getTaskPage','design:returntype','后台获取任务列表','object','1300453QskpjO','UseInterceptors','../../common/auth/adminAuth.guard','./category.service','__decorate','43308dhbema','function','__metadata','prototype','GalleryEntity','TaskPageVO','getGalleryPage','智能抠图','UploaderDto','./dto/changeClothing.dto','fileService','toString','获取生成结果\x201:穿衣\x202:智能抠图','tree','@nestjs/platform-express','galleryPageDTO','delete','from','参数错误','categoryList_admin','Get','CategoryEntity','__param'];_0x4ef1=function(){return _0x5a1ac9;};return _0x4ef1();}let LinkForController=class LinkForController{constructor(_0x229416,_0x18ad61,_0x70b0ab){const _0x2bf2ee=_0x227032;this[_0x2bf2ee(0x1c0)]=_0x229416,this[_0x2bf2ee(0x1d4)]=_0x18ad61,this[_0x2bf2ee(0x1f2)]=_0x70b0ab;}['config'](_0x28d629){const _0x3b9ee4=_0x227032;return this[_0x3b9ee4(0x1c0)]['config'](_0x28d629);}[_0x227032(0x1b3)](_0x5e4bc8,_0x2a5b75){const _0x2d789d=_0x227032;return this[_0x2d789d(0x1c0)]['changeClothing'](_0x5e4bc8,_0x2a5b75);}['makeInfo'](_0x516784,_0x3861ce){const _0x4c5ab0=_0x227032;if(!_0x516784||!_0x3861ce)throw new Error(_0x4c5ab0(0x187));return this[_0x4c5ab0(0x1c0)][_0x4c5ab0(0x1a4)](_0x3861ce,_0x516784);}['aiCutoutImage'](_0x21fc72,_0x5ea292){const _0x415b6d=_0x227032;return this[_0x415b6d(0x1c0)]['aiCutoutImage'](_0x21fc72,_0x5ea292);}[_0x227032(0x1d7)](_0x479361,_0x42487b){const _0x258693=_0x227032;return this[_0x258693(0x1c0)][_0x258693(0x1d7)](_0x479361,_0x42487b);}async['getTaskPage'](_0x591567,_0x4d47d2){const _0x4d15f9=_0x227032;return await this[_0x4d15f9(0x1c0)][_0x4d15f9(0x1be)](_0x591567,_0x4d47d2);}[_0x227032(0x1ee)](_0x4deb0a){const _0x34cd65=_0x227032;return this['linkForService'][_0x34cd65(0x190)](_0x4deb0a);}async[_0x227032(0x19d)](_0x1b1ec7,_0x566ca9){const _0x1d34ff=_0x227032,_0x3486a4=Buffer[_0x1d34ff(0x186)](_0x566ca9[_0x1d34ff(0x18d)],_0x1d34ff(0x1d0))[_0x1d34ff(0x1f3)](_0x1d34ff(0x1b7));return{'data':{'dataPath':await this[_0x1d34ff(0x1f2)][_0x1d34ff(0x19f)]({'filename':_0x3486a4,'buffer':_0x566ca9[_0x1d34ff(0x1b6)],..._0x1b1ec7}),'md5':''}};}[_0x227032(0x1c5)](){const _0x58f0b6=_0x227032;return this[_0x58f0b6(0x1d4)][_0x58f0b6(0x182)]();}[_0x227032(0x1bc)](_0x126152){const _0x1be8d8=_0x227032;return this[_0x1be8d8(0x1c0)]['galleryPage'](_0x126152);}[_0x227032(0x1d9)](_0x1aa8c6){const _0x12f316=_0x227032;return this[_0x12f316(0x1c0)]['saveGallery'](_0x1aa8c6);}['saveCategory_admin'](_0x52b7fe){const _0x3d5471=_0x227032;return this[_0x3d5471(0x1d4)]['save'](_0x52b7fe);}[_0x227032(0x1c2)](_0x29330e){const _0x5b025a=_0x227032;return this[_0x5b025a(0x1d4)][_0x5b025a(0x185)](_0x29330e);}[_0x227032(0x188)](){const _0x5bdba8=_0x227032;return this[_0x5bdba8(0x1d4)][_0x5bdba8(0x182)](![]);}async[_0x227032(0x1c1)](_0x5c78e7,_0x17f546){const _0x3f1e53=_0x227032;return await this[_0x3f1e53(0x1c0)]['taskPage'](_0x5c78e7,_0x17f546);}async[_0x227032(0x19c)](_0x550362,_0x2e74a6){const _0x1f1342=_0x227032,_0x3b8601=Buffer[_0x1f1342(0x186)](_0x2e74a6['originalname'],'binary')[_0x1f1342(0x1f3)](_0x1f1342(0x1b7));return{'data':{'dataPath':await this[_0x1f1342(0x1f2)][_0x1f1342(0x19f)]({'filename':_0x3b8601,'buffer':_0x2e74a6[_0x1f1342(0x1b6)],..._0x550362}),'md5':''}};}};__decorate([(0x0,common_1[_0x227032(0x189)])(_0x227032(0x1c6)),(0x0,swagger_1[_0x227032(0x195)])({'summary':'获取配置信息'}),(0x0,common_2[_0x227032(0x1a0)])(jwtAuth_guard_1[_0x227032(0x1aa)]),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_1[_0x227032(0x1bb)])()),__metadata(_0x227032(0x1b0),Function),__metadata(_0x227032(0x1db),[Object]),__metadata(_0x227032(0x1e0),void 0x0)],LinkForController[_0x227032(0x1eb)],_0x227032(0x1c6),null),__decorate([(0x0,common_1[_0x227032(0x1ab)])('changeClothing'),(0x0,swagger_1[_0x227032(0x195)])({'summary':_0x227032(0x1c4)}),(0x0,common_2['UseGuards'])(jwtAuth_guard_1[_0x227032(0x1aa)]),(0x0,swagger_1[_0x227032(0x196)])(),__param(0x0,(0x0,common_2[_0x227032(0x1a8)])()),__param(0x1,(0x0,common_1[_0x227032(0x1bb)])()),__metadata(_0x227032(0x1b0),Function),__metadata(_0x227032(0x1db),[changeClothing_dto_1[_0x227032(0x19e)],Object]),__metadata(_0x227032(0x1e0),void 0x0)],LinkForController[_0x227032(0x1eb)],_0x227032(0x1b3),null),__decorate([(0x0,common_1[_0x227032(0x189)])(_0x227032(0x1a4)),(0x0,swagger_1[_0x227032(0x195)])({'summary':_0x227032(0x181)}),(0x0,common_2[_0x227032(0x1a0)])(jwtAuth_guard_1['JwtAuthGuard']),(0x0,swagger_1[_0x227032(0x196)])(),__param(0x0,(0x0,common_1['Query'])('type')),__param(0x1,(0x0,common_1['Query'])('id')),__metadata(_0x227032(0x1b0),Function),__metadata(_0x227032(0x1db),[Number,Object]),__metadata(_0x227032(0x1e0),void 0x0)],LinkForController['prototype'],_0x227032(0x1a4),null),__decorate([(0x0,common_1[_0x227032(0x1ab)])(_0x227032(0x1af)),(0x0,swagger_1[_0x227032(0x195)])({'summary':_0x227032(0x1ef)}),(0x0,common_2[_0x227032(0x1a0)])(jwtAuth_guard_1[_0x227032(0x1aa)]),(0x0,swagger_1[_0x227032(0x196)])(),__param(0x0,(0x0,common_2[_0x227032(0x1a8)])()),__param(0x1,(0x0,common_1['Req'])()),__metadata(_0x227032(0x1b0),Function),__metadata(_0x227032(0x1db),[aiCutoutImage_dto_1['AiCutoutImageDto'],Object]),__metadata('design:returntype',void 0x0)],LinkForController[_0x227032(0x1eb)],_0x227032(0x1af),null),__decorate([(0x0,common_1[_0x227032(0x1ab)])('interactCutout'),(0x0,swagger_1['ApiOperation'])({'summary':'交互抠图'}),(0x0,common_2[_0x227032(0x1a0)])(jwtAuth_guard_1['JwtAuthGuard']),(0x0,swagger_1[_0x227032(0x196)])(),__param(0x0,(0x0,common_2[_0x227032(0x1a8)])()),__param(0x1,(0x0,common_1[_0x227032(0x1bb)])()),__metadata(_0x227032(0x1b0),Function),__metadata('design:paramtypes',[interactCutoutProcess_dto_1['InteractCutoutProcessDto'],Object]),__metadata('design:returntype',void 0x0)],LinkForController[_0x227032(0x1eb)],_0x227032(0x1d7),null),__decorate([(0x0,common_1[_0x227032(0x189)])(_0x227032(0x1df)),(0x0,swagger_1['ApiOperation'])({'summary':_0x227032(0x18f)}),(0x0,common_2[_0x227032(0x1a0)])(jwtAuth_guard_1[_0x227032(0x1aa)]),(0x0,swagger_1[_0x227032(0x196)])(),(0x0,swagger_1[_0x227032(0x1a7)])({'type':TaskPage_vo_1[_0x227032(0x1ed)]}),__param(0x0,(0x0,common_1['Query'])()),__param(0x1,(0x0,common_1['Req'])()),__metadata('design:type',Function),__metadata(_0x227032(0x1db),[taskPageDTO_dto_1[_0x227032(0x1d3)],Object]),__metadata(_0x227032(0x1e0),Promise)],LinkForController[_0x227032(0x1eb)],_0x227032(0x1df),null),__decorate([(0x0,common_1[_0x227032(0x189)])(_0x227032(0x1ee)),(0x0,swagger_1[_0x227032(0x195)])({'summary':_0x227032(0x1bd)}),(0x0,swagger_1[_0x227032(0x1a7)])({'type':GalleryPage_vo_1[_0x227032(0x18e)]}),__param(0x0,(0x0,common_1[_0x227032(0x1c3)])()),__metadata('design:type',Function),__metadata(_0x227032(0x1db),[galleryPageDTO_dto_1[_0x227032(0x184)]]),__metadata(_0x227032(0x1e0),void 0x0)],LinkForController['prototype'],'getGalleryPage',null),__decorate([(0x0,common_1[_0x227032(0x1ab)])('upload'),(0x0,swagger_1[_0x227032(0x195)])({'summary':'上传文件'}),(0x0,common_1[_0x227032(0x1e4)])((0x0,platform_express_1[_0x227032(0x198)])(_0x227032(0x19b),{'preservePath':!![]})),__param(0x0,(0x0,common_2[_0x227032(0x1a8)])()),__param(0x1,(0x0,common_1[_0x227032(0x1b2)])()),__metadata(_0x227032(0x1b0),Function),__metadata(_0x227032(0x1db),[uploder_dto_1[_0x227032(0x1f0)],Object]),__metadata(_0x227032(0x1e0),Promise)],LinkForController[_0x227032(0x1eb)],'upload',null),__decorate([(0x0,common_1[_0x227032(0x189)])(_0x227032(0x1c5)),(0x0,swagger_1[_0x227032(0x195)])({'summary':'分类列表'}),(0x0,swagger_1['ApiResponse'])({'type':CategoryTree_vo_1[_0x227032(0x1cf)]}),__metadata('design:type',Function),__metadata(_0x227032(0x1db),[]),__metadata('design:returntype',void 0x0)],LinkForController[_0x227032(0x1eb)],_0x227032(0x1c5),null),__decorate([(0x0,swagger_1[_0x227032(0x1d5)])(),(0x0,common_1[_0x227032(0x1ad)])(_0x227032(0x1bc)),(0x0,swagger_1[_0x227032(0x195)])({'summary':_0x227032(0x1d8)}),(0x0,common_2[_0x227032(0x1a0)])(adminAuth_guard_1[_0x227032(0x197)]),__param(0x0,(0x0,common_1[_0x227032(0x1c3)])()),__metadata(_0x227032(0x1b0),Function),__metadata(_0x227032(0x1db),[galleryPageDTO_dto_1['galleryPageDTO']]),__metadata('design:returntype',void 0x0)],LinkForController[_0x227032(0x1eb)],_0x227032(0x1bc),null),__decorate([(0x0,swagger_1['ApiExcludeEndpoint'])(),(0x0,common_1[_0x227032(0x1ad)])(_0x227032(0x1d9)),(0x0,swagger_1['ApiOperation'])({'summary':'后台图库保存'}),(0x0,common_2[_0x227032(0x1a0)])(adminAuth_guard_1[_0x227032(0x197)]),(0x0,swagger_1[_0x227032(0x196)])(),__param(0x0,(0x0,common_2[_0x227032(0x1a8)])()),__metadata(_0x227032(0x1b0),Function),__metadata(_0x227032(0x1db),[gallery_entity_1[_0x227032(0x1ec)]]),__metadata(_0x227032(0x1e0),void 0x0)],LinkForController[_0x227032(0x1eb)],_0x227032(0x1d9),null),__decorate([(0x0,swagger_1[_0x227032(0x1d5)])(),(0x0,common_1['All'])(_0x227032(0x18c)),(0x0,swagger_1[_0x227032(0x195)])({'summary':_0x227032(0x1bf)}),(0x0,common_2['UseGuards'])(adminAuth_guard_1['AdminAuthGuard']),(0x0,swagger_1[_0x227032(0x196)])(),__param(0x0,(0x0,common_2['Body'])()),__metadata(_0x227032(0x1b0),Function),__metadata(_0x227032(0x1db),[category_entity_1[_0x227032(0x18a)]]),__metadata('design:returntype',void 0x0)],LinkForController[_0x227032(0x1eb)],'saveCategory_admin',null),__decorate([(0x0,swagger_1[_0x227032(0x1d5)])(),(0x0,common_1[_0x227032(0x1ad)])('deleteCategory_admin'),(0x0,swagger_1['ApiOperation'])({'summary':_0x227032(0x1a3)}),(0x0,common_2[_0x227032(0x1a0)])(adminAuth_guard_1[_0x227032(0x197)]),(0x0,swagger_1[_0x227032(0x196)])(),__param(0x0,(0x0,common_1[_0x227032(0x1c3)])('id')),__metadata(_0x227032(0x1b0),Function),__metadata(_0x227032(0x1db),[Number]),__metadata(_0x227032(0x1e0),void 0x0)],LinkForController[_0x227032(0x1eb)],_0x227032(0x1c2),null),__decorate([(0x0,swagger_1[_0x227032(0x1d5)])(),(0x0,common_1['All'])(_0x227032(0x188)),(0x0,common_2[_0x227032(0x1a0)])(adminAuth_guard_1[_0x227032(0x197)]),(0x0,swagger_1[_0x227032(0x195)])({'summary':'后台分类列表'}),__metadata(_0x227032(0x1b0),Function),__metadata(_0x227032(0x1db),[]),__metadata(_0x227032(0x1e0),void 0x0)],LinkForController[_0x227032(0x1eb)],'categoryList_admin',null),__decorate([(0x0,swagger_1[_0x227032(0x1d5)])(),(0x0,common_1[_0x227032(0x1ad)])('getAllTask_admin'),(0x0,swagger_1[_0x227032(0x195)])({'summary':_0x227032(0x1e1)}),(0x0,common_2[_0x227032(0x1a0)])(adminAuth_guard_1[_0x227032(0x197)]),(0x0,swagger_1[_0x227032(0x196)])(),(0x0,swagger_1[_0x227032(0x1a7)])({'type':TaskPage_vo_1['TaskPageVO']}),__param(0x0,(0x0,common_1[_0x227032(0x1c3)])()),__param(0x1,(0x0,common_1['Req'])()),__metadata(_0x227032(0x1b0),Function),__metadata(_0x227032(0x1db),[taskPageDTO_dto_1[_0x227032(0x1d3)],Object]),__metadata('design:returntype',Promise)],LinkForController[_0x227032(0x1eb)],_0x227032(0x1c1),null),__decorate([(0x0,common_1[_0x227032(0x1ab)])(_0x227032(0x1ae)),(0x0,swagger_1[_0x227032(0x195)])({'summary':_0x227032(0x1c8)}),(0x0,common_1[_0x227032(0x1e4)])((0x0,platform_express_1[_0x227032(0x198)])(_0x227032(0x19b),{'preservePath':!![],'limits':{'fileSize':0x200*0x400*0x400}})),__param(0x0,(0x0,common_2[_0x227032(0x1a8)])()),__param(0x1,(0x0,common_1[_0x227032(0x1b2)])()),__metadata(_0x227032(0x1b0),Function),__metadata(_0x227032(0x1db),[uploder_dto_1['UploaderDto'],Object]),__metadata('design:returntype',Promise)],LinkForController[_0x227032(0x1eb)],'uploadFileNext',null),LinkForController=__decorate([(0x0,common_1[_0x227032(0x1c9)])(_0x227032(0x1c7)),__metadata(_0x227032(0x1db),[linkFox_service_1[_0x227032(0x1cd)],category_service_1[_0x227032(0x1a1)],file_service_1[_0x227032(0x1dd)]])],LinkForController),exports[_0x227032(0x193)]=LinkForController;