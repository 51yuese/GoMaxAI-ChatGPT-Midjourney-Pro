'use strict';const _0x978a61=_0x3172;function _0x3172(_0x3cfa81,_0x429c90){const _0x590cd0=_0x590c();return _0x3172=function(_0x317241,_0x506a9c){_0x317241=_0x317241-0xac;let _0x1bced2=_0x590cd0[_0x317241];return _0x1bced2;},_0x3172(_0x3cfa81,_0x429c90);}function _0x590c(){const _0x54bc11=['metadata','categoryService','@nestjs/swagger','./dto/aiCutoutImage.dto','AdminAuthGuard','CategoryEntity','galleryPage','tree','originalname','getTask_admin','from','获取配置信息','13795HSvaDJ','getOwnPropertyDescriptor','./vo/CategoryTree.vo','GalleryPageVO','defineProperty','UseInterceptors','ApiBearerAuth','object','交互抠图','后台获取精选图库','4517290jgQBgn','config','../../common/auth/jwtAuth.guard','upload','changeClothing','saveGallery','uploadNext','Req','prototype','saveGallery_admin','@nestjs/platform-express','linkForService','makeInfo','length','aiCutoutImage','1176408kYjmyJ','FileInterceptor','./linkFox.service','63944kyOznA','__decorate','34OMdLdY','UploaderDto','AiCutoutImageDto','uploadFile','design:returntype','buffer','./category.service','file','./dto/galleryPageDTO.dto','taskPage','../file/dto/uploder.dto','saveCategory_admin','33QsytnM','2587840zSvUZP','Query','getGalleryPage','UploadedFile','3552OhryvK','TaskPageDTO','save','JwtAuthGuard','getCategoryList','获取任务列表','getTaskPage','ApiResponse','fileService','utf-8','categoryList_admin','getGallery_admin','Body','参数错误','GalleryEntity','galleryPageDTO','后台分类删除','__param','获取生成结果\x201:穿衣\x202:智能抠图','design:paramtypes','delete','./dto/interactCutoutProcess.dto','deleteCategory_admin','InteractCutoutProcessDto','UseGuards','CategoryService','All','./dto/changeClothing.dto','ApiExcludeEndpoint','function','binary','linkFox','type','toString','Post','./category.entity','decorate','1484736XXHnSZ','上传文件','100KjEMlx','Get','后台图库保存','后台分类列表','interactCutout','LinkForController','分类列表','uploadFileNext','133tJaKdR','design:type','ApiOperation'];_0x590c=function(){return _0x54bc11;};return _0x590c();}(function(_0x43e2d8,_0x44bf07){const _0x49183b=_0x3172,_0x1e1b38=_0x43e2d8();while(!![]){try{const _0x5c5e49=parseInt(_0x49183b(0xc1))/0x1*(-parseInt(_0x49183b(0xdf))/0x2)+parseInt(_0x49183b(0xf0))/0x3*(parseInt(_0x49183b(0x117))/0x4)+-parseInt(_0x49183b(0xec))/0x5+-parseInt(_0x49183b(0x115))/0x6+-parseInt(_0x49183b(0xb2))/0x7*(-parseInt(_0x49183b(0xdd))/0x8)+-parseInt(_0x49183b(0xda))/0x9+-parseInt(_0x49183b(0xcb))/0xa*(-parseInt(_0x49183b(0xeb))/0xb);if(_0x5c5e49===_0x44bf07)break;else _0x1e1b38['push'](_0x1e1b38['shift']());}catch(_0x18b2b0){_0x1e1b38['push'](_0x1e1b38['shift']());}}}(_0x590c,0x63383));var __decorate=this&&this[_0x978a61(0xde)]||function(_0x58a802,_0x37faae,_0xe81aa7,_0x551a0a){const _0x48e010=_0x978a61;var _0x2645f1=arguments[_0x48e010(0xd8)],_0x234d67=_0x2645f1<0x3?_0x37faae:_0x551a0a===null?_0x551a0a=Object[_0x48e010(0xc2)](_0x37faae,_0xe81aa7):_0x551a0a,_0x1dafa5;if(typeof Reflect===_0x48e010(0xc8)&&typeof Reflect['decorate']===_0x48e010(0x10d))_0x234d67=Reflect[_0x48e010(0x114)](_0x58a802,_0x37faae,_0xe81aa7,_0x551a0a);else{for(var _0x21ba8d=_0x58a802[_0x48e010(0xd8)]-0x1;_0x21ba8d>=0x0;_0x21ba8d--)if(_0x1dafa5=_0x58a802[_0x21ba8d])_0x234d67=(_0x2645f1<0x3?_0x1dafa5(_0x234d67):_0x2645f1>0x3?_0x1dafa5(_0x37faae,_0xe81aa7,_0x234d67):_0x1dafa5(_0x37faae,_0xe81aa7))||_0x234d67;}return _0x2645f1>0x3&&_0x234d67&&Object[_0x48e010(0xc5)](_0x37faae,_0xe81aa7,_0x234d67),_0x234d67;},__metadata=this&&this['__metadata']||function(_0x3a193f,_0x35d1b3){const _0x316b95=_0x978a61;if(typeof Reflect===_0x316b95(0xc8)&&typeof Reflect[_0x316b95(0xb5)]===_0x316b95(0x10d))return Reflect['metadata'](_0x3a193f,_0x35d1b3);},__param=this&&this[_0x978a61(0x101)]||function(_0x3d2313,_0xf9a9b6){return function(_0x1f075b,_0x2fc33e){_0xf9a9b6(_0x1f075b,_0x2fc33e,_0x3d2313);};};Object[_0x978a61(0xc5)](exports,'__esModule',{'value':!![]}),exports[_0x978a61(0xaf)]=void 0x0;const common_1=require('@nestjs/common'),linkFox_service_1=require(_0x978a61(0xdc)),swagger_1=require(_0x978a61(0xb7)),jwtAuth_guard_1=require(_0x978a61(0xcd)),common_2=require('@nestjs/common'),changeClothing_dto_1=require(_0x978a61(0x10b)),aiCutoutImage_dto_1=require(_0x978a61(0xb8)),interactCutoutProcess_dto_1=require(_0x978a61(0x105)),TaskPage_vo_1=require('./vo/TaskPage.vo'),taskPageDTO_dto_1=require('./dto/taskPageDTO.dto'),GalleryPage_vo_1=require('./vo/GalleryPage.vo'),adminAuth_guard_1=require('../../common/auth/adminAuth.guard'),galleryPageDTO_dto_1=require(_0x978a61(0xe7)),category_entity_1=require(_0x978a61(0x113)),category_service_1=require(_0x978a61(0xe5)),CategoryTree_vo_1=require(_0x978a61(0xc3)),gallery_entity_1=require('./gallery.entity'),platform_express_1=require(_0x978a61(0xd5)),uploder_dto_1=require(_0x978a61(0xe9)),file_service_1=require('../file/file.service');let LinkForController=class LinkForController{constructor(_0x184604,_0x1700da,_0x4d9b23){const _0xa71bb7=_0x978a61;this[_0xa71bb7(0xd6)]=_0x184604,this[_0xa71bb7(0xb6)]=_0x1700da,this['fileService']=_0x4d9b23;}[_0x978a61(0xcc)](_0x175b61){const _0x157fa5=_0x978a61;return this['linkForService'][_0x157fa5(0xcc)](_0x175b61);}[_0x978a61(0xcf)](_0x595b71,_0x56338d){const _0x4478c7=_0x978a61;return this[_0x4478c7(0xd6)][_0x4478c7(0xcf)](_0x595b71,_0x56338d);}['makeInfo'](_0x38013e,_0x4b1b7a){const _0x4b9265=_0x978a61;if(!_0x38013e||!_0x4b1b7a)throw new Error(_0x4b9265(0xfd));return this[_0x4b9265(0xd6)][_0x4b9265(0xd7)](_0x4b1b7a,_0x38013e);}[_0x978a61(0xd9)](_0x1e171b,_0xbdd2e6){return this['linkForService']['aiCutoutImage'](_0x1e171b,_0xbdd2e6);}[_0x978a61(0xae)](_0x47be72,_0x14ed1a){const _0x59f22d=_0x978a61;return this[_0x59f22d(0xd6)]['interactCutout'](_0x47be72,_0x14ed1a);}async[_0x978a61(0xf6)](_0x1b6f22,_0x16410c){const _0x37e60a=_0x978a61;return await this[_0x37e60a(0xd6)][_0x37e60a(0xe8)](_0x1b6f22,_0x16410c);}[_0x978a61(0xee)](_0x582faf){const _0x465215=_0x978a61;return this[_0x465215(0xd6)][_0x465215(0xbb)](_0x582faf);}async[_0x978a61(0xce)](_0x2f832b,_0x3ede35){const _0x58ba45=_0x978a61,_0x1faa2b=Buffer[_0x58ba45(0xbf)](_0x3ede35[_0x58ba45(0xbd)],_0x58ba45(0x10e))['toString'](_0x58ba45(0xf9));return{'data':{'dataPath':await this[_0x58ba45(0xf8)][_0x58ba45(0xe2)]({'filename':_0x1faa2b,'buffer':_0x3ede35['buffer'],..._0x2f832b}),'md5':''}};}[_0x978a61(0xf4)](){const _0x16e4db=_0x978a61;return this['categoryService'][_0x16e4db(0xbc)]();}[_0x978a61(0xfb)](_0x291769){const _0x3179cf=_0x978a61;return this['linkForService'][_0x3179cf(0xbb)](_0x291769);}[_0x978a61(0xd4)](_0x3819dc){const _0x3876d1=_0x978a61;return this[_0x3876d1(0xd6)][_0x3876d1(0xd0)](_0x3819dc);}[_0x978a61(0xea)](_0x1cc6dc){const _0x8c1c2e=_0x978a61;return this[_0x8c1c2e(0xb6)][_0x8c1c2e(0xf2)](_0x1cc6dc);}[_0x978a61(0x106)](_0x3b2a56){const _0x488b6f=_0x978a61;return this['categoryService'][_0x488b6f(0x104)](_0x3b2a56);}[_0x978a61(0xfa)](){const _0x421d88=_0x978a61;return this[_0x421d88(0xb6)]['tree'](![]);}async['getTask_admin'](_0x1b4bce,_0x3cbf9d){const _0x3e42cd=_0x978a61;return await this[_0x3e42cd(0xd6)][_0x3e42cd(0xe8)](_0x1b4bce,_0x3cbf9d);}async[_0x978a61(0xb1)](_0x3e9a93,_0x3f54ad){const _0x5a2618=_0x978a61,_0x4db0bc=Buffer[_0x5a2618(0xbf)](_0x3f54ad['originalname'],'binary')[_0x5a2618(0x111)]('utf-8');return{'data':{'dataPath':await this[_0x5a2618(0xf8)][_0x5a2618(0xe2)]({'filename':_0x4db0bc,'buffer':_0x3f54ad[_0x5a2618(0xe4)],..._0x3e9a93}),'md5':''}};}};__decorate([(0x0,common_1[_0x978a61(0x118)])(_0x978a61(0xcc)),(0x0,swagger_1[_0x978a61(0xb4)])({'summary':_0x978a61(0xc0)}),(0x0,common_2[_0x978a61(0x108)])(jwtAuth_guard_1['JwtAuthGuard']),(0x0,swagger_1[_0x978a61(0xc7)])(),__param(0x0,(0x0,common_1['Req'])()),__metadata(_0x978a61(0xb3),Function),__metadata(_0x978a61(0x103),[Object]),__metadata(_0x978a61(0xe3),void 0x0)],LinkForController[_0x978a61(0xd3)],_0x978a61(0xcc),null),__decorate([(0x0,common_1[_0x978a61(0x112)])('changeClothing'),(0x0,swagger_1[_0x978a61(0xb4)])({'summary':'AI穿衣'}),(0x0,common_2[_0x978a61(0x108)])(jwtAuth_guard_1[_0x978a61(0xf3)]),(0x0,swagger_1[_0x978a61(0xc7)])(),__param(0x0,(0x0,common_2[_0x978a61(0xfc)])()),__param(0x1,(0x0,common_1[_0x978a61(0xd2)])()),__metadata(_0x978a61(0xb3),Function),__metadata(_0x978a61(0x103),[changeClothing_dto_1['ChangeClothingDto'],Object]),__metadata('design:returntype',void 0x0)],LinkForController[_0x978a61(0xd3)],'changeClothing',null),__decorate([(0x0,common_1['Get'])('makeInfo'),(0x0,swagger_1[_0x978a61(0xb4)])({'summary':_0x978a61(0x102)}),(0x0,common_2[_0x978a61(0x108)])(jwtAuth_guard_1[_0x978a61(0xf3)]),(0x0,swagger_1[_0x978a61(0xc7)])(),__param(0x0,(0x0,common_1[_0x978a61(0xed)])(_0x978a61(0x110))),__param(0x1,(0x0,common_1[_0x978a61(0xed)])('id')),__metadata(_0x978a61(0xb3),Function),__metadata('design:paramtypes',[Number,Object]),__metadata(_0x978a61(0xe3),void 0x0)],LinkForController[_0x978a61(0xd3)],_0x978a61(0xd7),null),__decorate([(0x0,common_1['Post'])(_0x978a61(0xd9)),(0x0,swagger_1[_0x978a61(0xb4)])({'summary':'智能抠图'}),(0x0,common_2[_0x978a61(0x108)])(jwtAuth_guard_1[_0x978a61(0xf3)]),(0x0,swagger_1[_0x978a61(0xc7)])(),__param(0x0,(0x0,common_2[_0x978a61(0xfc)])()),__param(0x1,(0x0,common_1[_0x978a61(0xd2)])()),__metadata(_0x978a61(0xb3),Function),__metadata(_0x978a61(0x103),[aiCutoutImage_dto_1[_0x978a61(0xe1)],Object]),__metadata(_0x978a61(0xe3),void 0x0)],LinkForController[_0x978a61(0xd3)],_0x978a61(0xd9),null),__decorate([(0x0,common_1['Post'])(_0x978a61(0xae)),(0x0,swagger_1[_0x978a61(0xb4)])({'summary':_0x978a61(0xc9)}),(0x0,common_2['UseGuards'])(jwtAuth_guard_1[_0x978a61(0xf3)]),(0x0,swagger_1[_0x978a61(0xc7)])(),__param(0x0,(0x0,common_2[_0x978a61(0xfc)])()),__param(0x1,(0x0,common_1['Req'])()),__metadata(_0x978a61(0xb3),Function),__metadata(_0x978a61(0x103),[interactCutoutProcess_dto_1[_0x978a61(0x107)],Object]),__metadata(_0x978a61(0xe3),void 0x0)],LinkForController['prototype'],_0x978a61(0xae),null),__decorate([(0x0,common_1[_0x978a61(0x118)])(_0x978a61(0xf6)),(0x0,swagger_1[_0x978a61(0xb4)])({'summary':_0x978a61(0xf5)}),(0x0,common_2['UseGuards'])(jwtAuth_guard_1[_0x978a61(0xf3)]),(0x0,swagger_1['ApiBearerAuth'])(),(0x0,swagger_1[_0x978a61(0xf7)])({'type':TaskPage_vo_1['TaskPageVO']}),__param(0x0,(0x0,common_1[_0x978a61(0xed)])()),__param(0x1,(0x0,common_1[_0x978a61(0xd2)])()),__metadata(_0x978a61(0xb3),Function),__metadata(_0x978a61(0x103),[taskPageDTO_dto_1[_0x978a61(0xf1)],Object]),__metadata('design:returntype',Promise)],LinkForController[_0x978a61(0xd3)],_0x978a61(0xf6),null),__decorate([(0x0,common_1[_0x978a61(0x118)])(_0x978a61(0xee)),(0x0,swagger_1[_0x978a61(0xb4)])({'summary':'获取精选图库'}),(0x0,swagger_1['ApiResponse'])({'type':GalleryPage_vo_1[_0x978a61(0xc4)]}),__param(0x0,(0x0,common_1[_0x978a61(0xed)])()),__metadata(_0x978a61(0xb3),Function),__metadata('design:paramtypes',[galleryPageDTO_dto_1[_0x978a61(0xff)]]),__metadata(_0x978a61(0xe3),void 0x0)],LinkForController['prototype'],_0x978a61(0xee),null),__decorate([(0x0,common_1[_0x978a61(0x112)])(_0x978a61(0xce)),(0x0,swagger_1[_0x978a61(0xb4)])({'summary':_0x978a61(0x116)}),(0x0,common_1[_0x978a61(0xc6)])((0x0,platform_express_1[_0x978a61(0xdb)])(_0x978a61(0xe6),{'preservePath':!![]})),__param(0x0,(0x0,common_2['Body'])()),__param(0x1,(0x0,common_1['UploadedFile'])()),__metadata(_0x978a61(0xb3),Function),__metadata(_0x978a61(0x103),[uploder_dto_1[_0x978a61(0xe0)],Object]),__metadata(_0x978a61(0xe3),Promise)],LinkForController['prototype'],'upload',null),__decorate([(0x0,common_1[_0x978a61(0x118)])(_0x978a61(0xf4)),(0x0,swagger_1[_0x978a61(0xb4)])({'summary':_0x978a61(0xb0)}),(0x0,swagger_1[_0x978a61(0xf7)])({'type':CategoryTree_vo_1['CategoryTreeVO']}),__metadata('design:type',Function),__metadata('design:paramtypes',[]),__metadata(_0x978a61(0xe3),void 0x0)],LinkForController[_0x978a61(0xd3)],'getCategoryList',null),__decorate([(0x0,swagger_1[_0x978a61(0x10c)])(),(0x0,common_1[_0x978a61(0x10a)])(_0x978a61(0xfb)),(0x0,swagger_1[_0x978a61(0xb4)])({'summary':_0x978a61(0xca)}),(0x0,common_2['UseGuards'])(adminAuth_guard_1[_0x978a61(0xb9)]),__param(0x0,(0x0,common_1[_0x978a61(0xed)])()),__metadata(_0x978a61(0xb3),Function),__metadata(_0x978a61(0x103),[galleryPageDTO_dto_1[_0x978a61(0xff)]]),__metadata(_0x978a61(0xe3),void 0x0)],LinkForController[_0x978a61(0xd3)],'getGallery_admin',null),__decorate([(0x0,swagger_1[_0x978a61(0x10c)])(),(0x0,common_1[_0x978a61(0x10a)])('saveGallery_admin'),(0x0,swagger_1['ApiOperation'])({'summary':_0x978a61(0xac)}),(0x0,common_2[_0x978a61(0x108)])(adminAuth_guard_1[_0x978a61(0xb9)]),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_2['Body'])()),__metadata(_0x978a61(0xb3),Function),__metadata(_0x978a61(0x103),[gallery_entity_1[_0x978a61(0xfe)]]),__metadata(_0x978a61(0xe3),void 0x0)],LinkForController['prototype'],_0x978a61(0xd4),null),__decorate([(0x0,swagger_1[_0x978a61(0x10c)])(),(0x0,common_1['All'])('saveCategory_admin'),(0x0,swagger_1['ApiOperation'])({'summary':'后台分类保存'}),(0x0,common_2[_0x978a61(0x108)])(adminAuth_guard_1[_0x978a61(0xb9)]),(0x0,swagger_1[_0x978a61(0xc7)])(),__param(0x0,(0x0,common_2[_0x978a61(0xfc)])()),__metadata('design:type',Function),__metadata(_0x978a61(0x103),[category_entity_1[_0x978a61(0xba)]]),__metadata('design:returntype',void 0x0)],LinkForController[_0x978a61(0xd3)],'saveCategory_admin',null),__decorate([(0x0,swagger_1[_0x978a61(0x10c)])(),(0x0,common_1['All'])(_0x978a61(0x106)),(0x0,swagger_1[_0x978a61(0xb4)])({'summary':_0x978a61(0x100)}),(0x0,common_2[_0x978a61(0x108)])(adminAuth_guard_1[_0x978a61(0xb9)]),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_1[_0x978a61(0xed)])('id')),__metadata(_0x978a61(0xb3),Function),__metadata(_0x978a61(0x103),[Number]),__metadata(_0x978a61(0xe3),void 0x0)],LinkForController['prototype'],_0x978a61(0x106),null),__decorate([(0x0,swagger_1[_0x978a61(0x10c)])(),(0x0,common_1[_0x978a61(0x10a)])(_0x978a61(0xfa)),(0x0,common_2['UseGuards'])(adminAuth_guard_1[_0x978a61(0xb9)]),(0x0,swagger_1[_0x978a61(0xb4)])({'summary':_0x978a61(0xad)}),__metadata(_0x978a61(0xb3),Function),__metadata(_0x978a61(0x103),[]),__metadata(_0x978a61(0xe3),void 0x0)],LinkForController[_0x978a61(0xd3)],_0x978a61(0xfa),null),__decorate([(0x0,swagger_1[_0x978a61(0x10c)])(),(0x0,common_1[_0x978a61(0x10a)])('getAllTask_admin'),(0x0,swagger_1[_0x978a61(0xb4)])({'summary':'后台获取任务列表'}),(0x0,common_2[_0x978a61(0x108)])(adminAuth_guard_1[_0x978a61(0xb9)]),(0x0,swagger_1[_0x978a61(0xc7)])(),(0x0,swagger_1['ApiResponse'])({'type':TaskPage_vo_1['TaskPageVO']}),__param(0x0,(0x0,common_1[_0x978a61(0xed)])()),__param(0x1,(0x0,common_1[_0x978a61(0xd2)])()),__metadata('design:type',Function),__metadata(_0x978a61(0x103),[taskPageDTO_dto_1[_0x978a61(0xf1)],Object]),__metadata(_0x978a61(0xe3),Promise)],LinkForController['prototype'],_0x978a61(0xbe),null),__decorate([(0x0,common_1[_0x978a61(0x112)])(_0x978a61(0xd1)),(0x0,swagger_1[_0x978a61(0xb4)])({'summary':'上传文件'}),(0x0,common_1[_0x978a61(0xc6)])((0x0,platform_express_1['FileInterceptor'])(_0x978a61(0xe6),{'preservePath':!![],'limits':{'fileSize':0x200*0x400*0x400}})),__param(0x0,(0x0,common_2[_0x978a61(0xfc)])()),__param(0x1,(0x0,common_1[_0x978a61(0xef)])()),__metadata('design:type',Function),__metadata(_0x978a61(0x103),[uploder_dto_1[_0x978a61(0xe0)],Object]),__metadata(_0x978a61(0xe3),Promise)],LinkForController['prototype'],_0x978a61(0xb1),null),LinkForController=__decorate([(0x0,common_1['Controller'])(_0x978a61(0x10f)),__metadata(_0x978a61(0x103),[linkFox_service_1['LinkFoxService'],category_service_1[_0x978a61(0x109)],file_service_1['FileService']])],LinkForController),exports[_0x978a61(0xaf)]=LinkForController;