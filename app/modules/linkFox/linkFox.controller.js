'use strict';const _0x23083e=_0x3f50;(function(_0x455fc4,_0x3a790e){const _0x3f1ac2=_0x3f50,_0x5f5b60=_0x455fc4();while(!![]){try{const _0x575257=-parseInt(_0x3f1ac2(0x119))/0x1*(-parseInt(_0x3f1ac2(0xf9))/0x2)+-parseInt(_0x3f1ac2(0xe6))/0x3*(-parseInt(_0x3f1ac2(0x151))/0x4)+parseInt(_0x3f1ac2(0xe7))/0x5*(-parseInt(_0x3f1ac2(0xeb))/0x6)+-parseInt(_0x3f1ac2(0x147))/0x7+-parseInt(_0x3f1ac2(0x101))/0x8+parseInt(_0x3f1ac2(0x134))/0x9*(-parseInt(_0x3f1ac2(0x106))/0xa)+parseInt(_0x3f1ac2(0x111))/0xb*(parseInt(_0x3f1ac2(0xee))/0xc);if(_0x575257===_0x3a790e)break;else _0x5f5b60['push'](_0x5f5b60['shift']());}catch(_0x529730){_0x5f5b60['push'](_0x5f5b60['shift']());}}}(_0x394a,0x977f1));var __decorate=this&&this[_0x23083e(0xef)]||function(_0x5755e3,_0x117e03,_0x5ca1f9,_0x5285a6){const _0xec0cef=_0x23083e;var _0x2b32ee=arguments[_0xec0cef(0x122)],_0x1d17e2=_0x2b32ee<0x3?_0x117e03:_0x5285a6===null?_0x5285a6=Object[_0xec0cef(0x10a)](_0x117e03,_0x5ca1f9):_0x5285a6,_0x42c386;if(typeof Reflect===_0xec0cef(0x128)&&typeof Reflect[_0xec0cef(0x131)]===_0xec0cef(0x13a))_0x1d17e2=Reflect[_0xec0cef(0x131)](_0x5755e3,_0x117e03,_0x5ca1f9,_0x5285a6);else{for(var _0x2c62c6=_0x5755e3[_0xec0cef(0x122)]-0x1;_0x2c62c6>=0x0;_0x2c62c6--)if(_0x42c386=_0x5755e3[_0x2c62c6])_0x1d17e2=(_0x2b32ee<0x3?_0x42c386(_0x1d17e2):_0x2b32ee>0x3?_0x42c386(_0x117e03,_0x5ca1f9,_0x1d17e2):_0x42c386(_0x117e03,_0x5ca1f9))||_0x1d17e2;}return _0x2b32ee>0x3&&_0x1d17e2&&Object['defineProperty'](_0x117e03,_0x5ca1f9,_0x1d17e2),_0x1d17e2;},__metadata=this&&this[_0x23083e(0x107)]||function(_0x399493,_0x6bf6ff){const _0x4fa152=_0x23083e;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x4fa152(0x13a))return Reflect['metadata'](_0x399493,_0x6bf6ff);},__param=this&&this['__param']||function(_0x1b9768,_0x486e0e){return function(_0x3b6c06,_0xb08009){_0x486e0e(_0x3b6c06,_0xb08009,_0x1b9768);};};Object['defineProperty'](exports,_0x23083e(0x105),{'value':!![]}),exports[_0x23083e(0x143)]=void 0x0;function _0x3f50(_0x776f15,_0x50adbe){const _0x394a6e=_0x394a();return _0x3f50=function(_0x3f506f,_0x70d1d4){_0x3f506f=_0x3f506f-0xe6;let _0xf5d837=_0x394a6e[_0x3f506f];return _0xf5d837;},_0x3f50(_0x776f15,_0x50adbe);}function _0x394a(){const _0x5d46c6=['prototype','../../common/auth/adminAuth.guard','ApiBearerAuth','./vo/GalleryPage.vo','GalleryPageVO','interactCutout','Post','delete','length','uploadFile','../../common/auth/jwtAuth.guard','UploadedFile','design:paramtypes','获取精选图库','object','后台分类保存','getGallery_admin','upload','getAllTask_admin','上传文件','UploaderDto','saveGallery','后台分类列表','decorate','后台分类删除','交互抠图','4419BIDbkA','TaskPageVO','galleryPage','JwtAuthGuard','./dto/aiCutoutImage.dto','design:returntype','function','saveGallery_admin','linkForService','getTask_admin','InteractCutoutProcessDto','makeInfo','buffer','UseInterceptors','CategoryTreeVO','LinkForController','categoryList_admin','@nestjs/platform-express','Get','3817044tcvLdt','linkFox','LinkFoxService','type','from','save','TaskPageDTO','binary','智能抠图','CategoryEntity','16hERyxR','design:type','./dto/galleryPageDTO.dto','getCategoryList','ApiOperation','file','saveCategory_admin','AdminAuthGuard','905601KsDOpk','5icYTcE','originalname','galleryPageDTO','ApiExcludeEndpoint','7173042xToWPz','Req','All','87816OSnKwI','__decorate','AiCutoutImageDto','fileService','toString','categoryService','@nestjs/common','config','GalleryEntity','deleteCategory_admin','ApiResponse','934isUTMz','Body','CategoryService','./category.entity','utf-8','./dto/changeClothing.dto','UseGuards','FileService','2386560YknTTF','getGalleryPage','后台图库保存','后台获取精选图库','__esModule','14730ZKApct','__metadata','taskPage','ChangeClothingDto','getOwnPropertyDescriptor','./vo/TaskPage.vo','getTaskPage','changeClothing','./linkFox.service','获取配置信息','tree','2959HptCTy','FileInterceptor','aiCutoutImage','./vo/CategoryTree.vo','../file/dto/uploder.dto','./category.service','参数错误','Query','443GmqcZm'];_0x394a=function(){return _0x5d46c6;};return _0x394a();}const common_1=require(_0x23083e(0xf4)),linkFox_service_1=require(_0x23083e(0x10e)),swagger_1=require('@nestjs/swagger'),jwtAuth_guard_1=require(_0x23083e(0x124)),common_2=require('@nestjs/common'),changeClothing_dto_1=require(_0x23083e(0xfe)),aiCutoutImage_dto_1=require(_0x23083e(0x138)),interactCutoutProcess_dto_1=require('./dto/interactCutoutProcess.dto'),TaskPage_vo_1=require(_0x23083e(0x10b)),taskPageDTO_dto_1=require('./dto/taskPageDTO.dto'),GalleryPage_vo_1=require(_0x23083e(0x11d)),adminAuth_guard_1=require(_0x23083e(0x11b)),galleryPageDTO_dto_1=require(_0x23083e(0x153)),category_entity_1=require(_0x23083e(0xfc)),category_service_1=require(_0x23083e(0x116)),CategoryTree_vo_1=require(_0x23083e(0x114)),gallery_entity_1=require('./gallery.entity'),platform_express_1=require(_0x23083e(0x145)),uploder_dto_1=require(_0x23083e(0x115)),file_service_1=require('../file/file.service');let LinkForController=class LinkForController{constructor(_0xd4880,_0x28c7d0,_0x106a1e){const _0x178a5f=_0x23083e;this['linkForService']=_0xd4880,this[_0x178a5f(0xf3)]=_0x28c7d0,this[_0x178a5f(0xf1)]=_0x106a1e;}[_0x23083e(0xf5)](_0x4454f1){const _0x3fe1a2=_0x23083e;return this['linkForService'][_0x3fe1a2(0xf5)](_0x4454f1);}[_0x23083e(0x10d)](_0x53158c,_0x2fa6b2){const _0x53a891=_0x23083e;return this[_0x53a891(0x13c)]['changeClothing'](_0x53158c,_0x2fa6b2);}[_0x23083e(0x13f)](_0x242a7c,_0x13c672){const _0x2666b2=_0x23083e;if(!_0x242a7c||!_0x13c672)throw new Error(_0x2666b2(0x117));return this[_0x2666b2(0x13c)][_0x2666b2(0x13f)](_0x13c672,_0x242a7c);}['aiCutoutImage'](_0x4f27c8,_0xcd7c6d){const _0x5baf00=_0x23083e;return this[_0x5baf00(0x13c)]['aiCutoutImage'](_0x4f27c8,_0xcd7c6d);}[_0x23083e(0x11f)](_0x381987,_0x58eb7a){const _0x523b0b=_0x23083e;return this[_0x523b0b(0x13c)][_0x523b0b(0x11f)](_0x381987,_0x58eb7a);}async[_0x23083e(0x10c)](_0x139cca,_0x51f669){const _0x53fe71=_0x23083e;return await this[_0x53fe71(0x13c)]['taskPage'](_0x139cca,_0x51f669);}[_0x23083e(0x102)](_0xe0455){const _0x28a986=_0x23083e;return this[_0x28a986(0x13c)][_0x28a986(0x136)](_0xe0455);}async[_0x23083e(0x12b)](_0x2aee25,_0x39d213){const _0x13bf7b=_0x23083e,_0x433b09=Buffer[_0x13bf7b(0x14b)](_0x39d213[_0x13bf7b(0xe8)],_0x13bf7b(0x14e))[_0x13bf7b(0xf2)](_0x13bf7b(0xfd));return{'data':{'dataPath':await this[_0x13bf7b(0xf1)][_0x13bf7b(0x123)]({'filename':_0x433b09,'buffer':_0x39d213[_0x13bf7b(0x140)],..._0x2aee25}),'md5':''}};}[_0x23083e(0x154)](){const _0x5909fb=_0x23083e;return this['categoryService'][_0x5909fb(0x110)]();}[_0x23083e(0x12a)](_0x17a56c){const _0x4ec047=_0x23083e;return this[_0x4ec047(0x13c)][_0x4ec047(0x136)](_0x17a56c);}[_0x23083e(0x13b)](_0x40d694){const _0x42c308=_0x23083e;return this[_0x42c308(0x13c)][_0x42c308(0x12f)](_0x40d694);}['saveCategory_admin'](_0x43cc67){const _0x484403=_0x23083e;return this[_0x484403(0xf3)][_0x484403(0x14c)](_0x43cc67);}['deleteCategory_admin'](_0x49593c){const _0xb754dd=_0x23083e;return this['categoryService'][_0xb754dd(0x121)](_0x49593c);}[_0x23083e(0x144)](){return this['categoryService']['tree'](![]);}async[_0x23083e(0x13d)](_0xfa08b1,_0x56af76){const _0x5cc4bb=_0x23083e;return await this[_0x5cc4bb(0x13c)][_0x5cc4bb(0x108)](_0xfa08b1,_0x56af76);}async['uploadFileNext'](_0x49a7ca,_0x4bf467){const _0x2bdbfd=_0x23083e,_0x5ac13c=Buffer['from'](_0x4bf467[_0x2bdbfd(0xe8)],_0x2bdbfd(0x14e))[_0x2bdbfd(0xf2)](_0x2bdbfd(0xfd));return{'data':{'dataPath':await this['fileService'][_0x2bdbfd(0x123)]({'filename':_0x5ac13c,'buffer':_0x4bf467[_0x2bdbfd(0x140)],..._0x49a7ca}),'md5':''}};}};__decorate([(0x0,common_1[_0x23083e(0x146)])(_0x23083e(0xf5)),(0x0,swagger_1[_0x23083e(0x155)])({'summary':_0x23083e(0x10f)}),(0x0,common_2['UseGuards'])(jwtAuth_guard_1[_0x23083e(0x137)]),(0x0,swagger_1[_0x23083e(0x11c)])(),__param(0x0,(0x0,common_1[_0x23083e(0xec)])()),__metadata(_0x23083e(0x152),Function),__metadata(_0x23083e(0x126),[Object]),__metadata(_0x23083e(0x139),void 0x0)],LinkForController[_0x23083e(0x11a)],_0x23083e(0xf5),null),__decorate([(0x0,common_1[_0x23083e(0x120)])(_0x23083e(0x10d)),(0x0,swagger_1[_0x23083e(0x155)])({'summary':'AI穿衣'}),(0x0,common_2[_0x23083e(0xff)])(jwtAuth_guard_1['JwtAuthGuard']),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_2[_0x23083e(0xfa)])()),__param(0x1,(0x0,common_1[_0x23083e(0xec)])()),__metadata(_0x23083e(0x152),Function),__metadata('design:paramtypes',[changeClothing_dto_1[_0x23083e(0x109)],Object]),__metadata(_0x23083e(0x139),void 0x0)],LinkForController['prototype'],_0x23083e(0x10d),null),__decorate([(0x0,common_1['Get'])(_0x23083e(0x13f)),(0x0,swagger_1[_0x23083e(0x155)])({'summary':'获取生成结果\x201:穿衣\x202:智能抠图'}),(0x0,common_2[_0x23083e(0xff)])(jwtAuth_guard_1[_0x23083e(0x137)]),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_1['Query'])(_0x23083e(0x14a))),__param(0x1,(0x0,common_1['Query'])('id')),__metadata(_0x23083e(0x152),Function),__metadata(_0x23083e(0x126),[Number,Object]),__metadata(_0x23083e(0x139),void 0x0)],LinkForController[_0x23083e(0x11a)],_0x23083e(0x13f),null),__decorate([(0x0,common_1['Post'])(_0x23083e(0x113)),(0x0,swagger_1[_0x23083e(0x155)])({'summary':_0x23083e(0x14f)}),(0x0,common_2[_0x23083e(0xff)])(jwtAuth_guard_1[_0x23083e(0x137)]),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_2[_0x23083e(0xfa)])()),__param(0x1,(0x0,common_1[_0x23083e(0xec)])()),__metadata(_0x23083e(0x152),Function),__metadata(_0x23083e(0x126),[aiCutoutImage_dto_1[_0x23083e(0xf0)],Object]),__metadata(_0x23083e(0x139),void 0x0)],LinkForController[_0x23083e(0x11a)],_0x23083e(0x113),null),__decorate([(0x0,common_1['Post'])(_0x23083e(0x11f)),(0x0,swagger_1[_0x23083e(0x155)])({'summary':_0x23083e(0x133)}),(0x0,common_2[_0x23083e(0xff)])(jwtAuth_guard_1['JwtAuthGuard']),(0x0,swagger_1[_0x23083e(0x11c)])(),__param(0x0,(0x0,common_2[_0x23083e(0xfa)])()),__param(0x1,(0x0,common_1[_0x23083e(0xec)])()),__metadata(_0x23083e(0x152),Function),__metadata('design:paramtypes',[interactCutoutProcess_dto_1[_0x23083e(0x13e)],Object]),__metadata(_0x23083e(0x139),void 0x0)],LinkForController['prototype'],'interactCutout',null),__decorate([(0x0,common_1[_0x23083e(0x146)])(_0x23083e(0x10c)),(0x0,swagger_1[_0x23083e(0x155)])({'summary':'获取任务列表'}),(0x0,common_2[_0x23083e(0xff)])(jwtAuth_guard_1[_0x23083e(0x137)]),(0x0,swagger_1['ApiBearerAuth'])(),(0x0,swagger_1[_0x23083e(0xf8)])({'type':TaskPage_vo_1[_0x23083e(0x135)]}),__param(0x0,(0x0,common_1[_0x23083e(0x118)])()),__param(0x1,(0x0,common_1['Req'])()),__metadata(_0x23083e(0x152),Function),__metadata(_0x23083e(0x126),[taskPageDTO_dto_1[_0x23083e(0x14d)],Object]),__metadata('design:returntype',Promise)],LinkForController[_0x23083e(0x11a)],'getTaskPage',null),__decorate([(0x0,common_1[_0x23083e(0x146)])(_0x23083e(0x102)),(0x0,swagger_1[_0x23083e(0x155)])({'summary':_0x23083e(0x127)}),(0x0,swagger_1[_0x23083e(0xf8)])({'type':GalleryPage_vo_1[_0x23083e(0x11e)]}),__param(0x0,(0x0,common_1[_0x23083e(0x118)])()),__metadata(_0x23083e(0x152),Function),__metadata('design:paramtypes',[galleryPageDTO_dto_1[_0x23083e(0xe9)]]),__metadata(_0x23083e(0x139),void 0x0)],LinkForController[_0x23083e(0x11a)],_0x23083e(0x102),null),__decorate([(0x0,common_1[_0x23083e(0x120)])(_0x23083e(0x12b)),(0x0,swagger_1[_0x23083e(0x155)])({'summary':_0x23083e(0x12d)}),(0x0,common_1['UseInterceptors'])((0x0,platform_express_1[_0x23083e(0x112)])(_0x23083e(0x156),{'preservePath':!![]})),__param(0x0,(0x0,common_2[_0x23083e(0xfa)])()),__param(0x1,(0x0,common_1[_0x23083e(0x125)])()),__metadata(_0x23083e(0x152),Function),__metadata(_0x23083e(0x126),[uploder_dto_1['UploaderDto'],Object]),__metadata(_0x23083e(0x139),Promise)],LinkForController[_0x23083e(0x11a)],_0x23083e(0x12b),null),__decorate([(0x0,common_1['Get'])(_0x23083e(0x154)),(0x0,swagger_1[_0x23083e(0x155)])({'summary':'分类列表'}),(0x0,swagger_1[_0x23083e(0xf8)])({'type':CategoryTree_vo_1[_0x23083e(0x142)]}),__metadata(_0x23083e(0x152),Function),__metadata(_0x23083e(0x126),[]),__metadata('design:returntype',void 0x0)],LinkForController[_0x23083e(0x11a)],'getCategoryList',null),__decorate([(0x0,swagger_1['ApiExcludeEndpoint'])(),(0x0,common_1[_0x23083e(0xed)])(_0x23083e(0x12a)),(0x0,swagger_1[_0x23083e(0x155)])({'summary':_0x23083e(0x104)}),(0x0,common_2['UseGuards'])(adminAuth_guard_1[_0x23083e(0x158)]),__param(0x0,(0x0,common_1[_0x23083e(0x118)])()),__metadata(_0x23083e(0x152),Function),__metadata(_0x23083e(0x126),[galleryPageDTO_dto_1['galleryPageDTO']]),__metadata(_0x23083e(0x139),void 0x0)],LinkForController[_0x23083e(0x11a)],'getGallery_admin',null),__decorate([(0x0,swagger_1[_0x23083e(0xea)])(),(0x0,common_1['All'])('saveGallery_admin'),(0x0,swagger_1['ApiOperation'])({'summary':_0x23083e(0x103)}),(0x0,common_2[_0x23083e(0xff)])(adminAuth_guard_1[_0x23083e(0x158)]),(0x0,swagger_1[_0x23083e(0x11c)])(),__param(0x0,(0x0,common_2[_0x23083e(0xfa)])()),__metadata(_0x23083e(0x152),Function),__metadata('design:paramtypes',[gallery_entity_1[_0x23083e(0xf6)]]),__metadata(_0x23083e(0x139),void 0x0)],LinkForController[_0x23083e(0x11a)],'saveGallery_admin',null),__decorate([(0x0,swagger_1['ApiExcludeEndpoint'])(),(0x0,common_1[_0x23083e(0xed)])(_0x23083e(0x157)),(0x0,swagger_1['ApiOperation'])({'summary':_0x23083e(0x129)}),(0x0,common_2[_0x23083e(0xff)])(adminAuth_guard_1[_0x23083e(0x158)]),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_2[_0x23083e(0xfa)])()),__metadata(_0x23083e(0x152),Function),__metadata(_0x23083e(0x126),[category_entity_1[_0x23083e(0x150)]]),__metadata(_0x23083e(0x139),void 0x0)],LinkForController[_0x23083e(0x11a)],'saveCategory_admin',null),__decorate([(0x0,swagger_1[_0x23083e(0xea)])(),(0x0,common_1[_0x23083e(0xed)])(_0x23083e(0xf7)),(0x0,swagger_1[_0x23083e(0x155)])({'summary':_0x23083e(0x132)}),(0x0,common_2[_0x23083e(0xff)])(adminAuth_guard_1[_0x23083e(0x158)]),(0x0,swagger_1[_0x23083e(0x11c)])(),__param(0x0,(0x0,common_1[_0x23083e(0x118)])('id')),__metadata(_0x23083e(0x152),Function),__metadata(_0x23083e(0x126),[Number]),__metadata(_0x23083e(0x139),void 0x0)],LinkForController[_0x23083e(0x11a)],_0x23083e(0xf7),null),__decorate([(0x0,swagger_1[_0x23083e(0xea)])(),(0x0,common_1['All'])(_0x23083e(0x144)),(0x0,common_2[_0x23083e(0xff)])(adminAuth_guard_1['AdminAuthGuard']),(0x0,swagger_1[_0x23083e(0x155)])({'summary':_0x23083e(0x130)}),__metadata(_0x23083e(0x152),Function),__metadata(_0x23083e(0x126),[]),__metadata(_0x23083e(0x139),void 0x0)],LinkForController['prototype'],'categoryList_admin',null),__decorate([(0x0,swagger_1[_0x23083e(0xea)])(),(0x0,common_1['All'])(_0x23083e(0x12c)),(0x0,swagger_1[_0x23083e(0x155)])({'summary':'后台获取任务列表'}),(0x0,common_2[_0x23083e(0xff)])(adminAuth_guard_1[_0x23083e(0x158)]),(0x0,swagger_1[_0x23083e(0x11c)])(),(0x0,swagger_1[_0x23083e(0xf8)])({'type':TaskPage_vo_1[_0x23083e(0x135)]}),__param(0x0,(0x0,common_1['Query'])()),__param(0x1,(0x0,common_1['Req'])()),__metadata(_0x23083e(0x152),Function),__metadata(_0x23083e(0x126),[taskPageDTO_dto_1[_0x23083e(0x14d)],Object]),__metadata(_0x23083e(0x139),Promise)],LinkForController['prototype'],'getTask_admin',null),__decorate([(0x0,common_1[_0x23083e(0x120)])('uploadNext'),(0x0,swagger_1[_0x23083e(0x155)])({'summary':_0x23083e(0x12d)}),(0x0,common_1[_0x23083e(0x141)])((0x0,platform_express_1['FileInterceptor'])('file',{'preservePath':!![],'limits':{'fileSize':0x200*0x400*0x400}})),__param(0x0,(0x0,common_2[_0x23083e(0xfa)])()),__param(0x1,(0x0,common_1[_0x23083e(0x125)])()),__metadata(_0x23083e(0x152),Function),__metadata(_0x23083e(0x126),[uploder_dto_1[_0x23083e(0x12e)],Object]),__metadata(_0x23083e(0x139),Promise)],LinkForController[_0x23083e(0x11a)],'uploadFileNext',null),LinkForController=__decorate([(0x0,common_1['Controller'])(_0x23083e(0x148)),__metadata(_0x23083e(0x126),[linkFox_service_1[_0x23083e(0x149)],category_service_1[_0x23083e(0xfb)],file_service_1[_0x23083e(0x100)]])],LinkForController),exports[_0x23083e(0x143)]=LinkForController;