'use strict';function _0x3c07(){const _0x50ee19=['from','config','getCategoryList','buffer','1930580vaqdyE','../../common/auth/jwtAuth.guard','uploadFileNext','ApiBearerAuth','getGalleryPage','linkForService','design:returntype','All','__param','linkFox','aiCutoutImage','upload','9stgFwA','save','ApiResponse','获取任务列表','Req','Body','JwtAuthGuard','10vBEmMz','getAllTask_admin','上传文件','@nestjs/swagger','type','toString','./category.service','galleryPageDTO','UploaderDto','function','delete','../file/dto/uploder.dto','1941200yhlrju','interactCutout','taskPage','getOwnPropertyDescriptor','utf-8','GalleryPageVO','参数错误','./vo/CategoryTree.vo','UseGuards','TaskPageVO','2tBgHOj','./vo/TaskPage.vo','后台获取精选图库','ChangeClothingDto','获取精选图库','获取配置信息','4023360ltdWOo','../../common/auth/adminAuth.guard','deleteCategory_admin','categoryService','./category.entity','galleryPage','后台分类列表','object','InteractCutoutProcessDto','ApiOperation','交互抠图','AdminAuthGuard','FileInterceptor','saveGallery','Query','@nestjs/common','changeClothing','getTaskPage','275734oamPAe','智能抠图','@nestjs/platform-express','UseInterceptors','./linkFox.service','../file/file.service','Get','makeInfo','获取生成结果\x201:穿衣\x202:智能抠图','后台图库保存','fileService','./dto/taskPageDTO.dto','binary','__decorate','./vo/GalleryPage.vo','getGallery_admin','Post','prototype','TaskPageDTO','length','design:paramtypes','tree','categoryList_admin','./dto/changeClothing.dto','LinkForController','ApiExcludeEndpoint','215880kFqcBz','file','design:type','saveGallery_admin','CategoryService','originalname','metadata','uploadNext','./gallery.entity','saveCategory_admin','572132mILujS','30ATYVEt','AiCutoutImageDto','205807igYxbE','后台获取任务列表','decorate','UploadedFile','./dto/interactCutoutProcess.dto','defineProperty'];_0x3c07=function(){return _0x50ee19;};return _0x3c07();}const _0x5d52a0=_0x11e4;(function(_0x2f5d42,_0x138c67){const _0x5777e8=_0x11e4,_0x4bdf55=_0x2f5d42();while(!![]){try{const _0x3e58ff=parseInt(_0x5777e8(0x1d4))/0x1*(-parseInt(_0x5777e8(0x1ec))/0x2)+parseInt(_0x5777e8(0x194))/0x3+-parseInt(_0x5777e8(0x19e))/0x4*(parseInt(_0x5777e8(0x1be))/0x5)+parseInt(_0x5777e8(0x19f))/0x6*(-parseInt(_0x5777e8(0x1a1))/0x7)+-parseInt(_0x5777e8(0x1ca))/0x8*(-parseInt(_0x5777e8(0x1b7))/0x9)+parseInt(_0x5777e8(0x1ab))/0xa+parseInt(_0x5777e8(0x1da))/0xb;if(_0x3e58ff===_0x138c67)break;else _0x4bdf55['push'](_0x4bdf55['shift']());}catch(_0x1efe30){_0x4bdf55['push'](_0x4bdf55['shift']());}}}(_0x3c07,0x2830f));function _0x11e4(_0x9862f2,_0x5bf1a9){const _0x3c07be=_0x3c07();return _0x11e4=function(_0x11e4a4,_0x502dcf){_0x11e4a4=_0x11e4a4-0x17c;let _0x488bf2=_0x3c07be[_0x11e4a4];return _0x488bf2;},_0x11e4(_0x9862f2,_0x5bf1a9);}var __decorate=this&&this[_0x5d52a0(0x187)]||function(_0x4a7815,_0x6ea64d,_0x5e396f,_0x3da7a7){const _0x37f55c=_0x5d52a0;var _0x5adcbb=arguments[_0x37f55c(0x18d)],_0x2079a0=_0x5adcbb<0x3?_0x6ea64d:_0x3da7a7===null?_0x3da7a7=Object[_0x37f55c(0x1cd)](_0x6ea64d,_0x5e396f):_0x3da7a7,_0x41d061;if(typeof Reflect==='object'&&typeof Reflect[_0x37f55c(0x1a3)]===_0x37f55c(0x1c7))_0x2079a0=Reflect[_0x37f55c(0x1a3)](_0x4a7815,_0x6ea64d,_0x5e396f,_0x3da7a7);else{for(var _0x47d265=_0x4a7815[_0x37f55c(0x18d)]-0x1;_0x47d265>=0x0;_0x47d265--)if(_0x41d061=_0x4a7815[_0x47d265])_0x2079a0=(_0x5adcbb<0x3?_0x41d061(_0x2079a0):_0x5adcbb>0x3?_0x41d061(_0x6ea64d,_0x5e396f,_0x2079a0):_0x41d061(_0x6ea64d,_0x5e396f))||_0x2079a0;}return _0x5adcbb>0x3&&_0x2079a0&&Object[_0x37f55c(0x1a6)](_0x6ea64d,_0x5e396f,_0x2079a0),_0x2079a0;},__metadata=this&&this['__metadata']||function(_0x373f24,_0x1356d4){const _0x3dd9ff=_0x5d52a0;if(typeof Reflect===_0x3dd9ff(0x1e1)&&typeof Reflect[_0x3dd9ff(0x19a)]===_0x3dd9ff(0x1c7))return Reflect[_0x3dd9ff(0x19a)](_0x373f24,_0x1356d4);},__param=this&&this[_0x5d52a0(0x1b3)]||function(_0x2eae2d,_0x45bdd9){return function(_0x31d720,_0xa4fdda){_0x45bdd9(_0x31d720,_0xa4fdda,_0x2eae2d);};};Object[_0x5d52a0(0x1a6)](exports,'__esModule',{'value':!![]}),exports['LinkForController']=void 0x0;const common_1=require(_0x5d52a0(0x1e9)),linkFox_service_1=require(_0x5d52a0(0x17e)),swagger_1=require(_0x5d52a0(0x1c1)),jwtAuth_guard_1=require(_0x5d52a0(0x1ac)),common_2=require('@nestjs/common'),changeClothing_dto_1=require(_0x5d52a0(0x191)),aiCutoutImage_dto_1=require('./dto/aiCutoutImage.dto'),interactCutoutProcess_dto_1=require(_0x5d52a0(0x1a5)),TaskPage_vo_1=require(_0x5d52a0(0x1d5)),taskPageDTO_dto_1=require(_0x5d52a0(0x185)),GalleryPage_vo_1=require(_0x5d52a0(0x188)),adminAuth_guard_1=require(_0x5d52a0(0x1db)),galleryPageDTO_dto_1=require('./dto/galleryPageDTO.dto'),category_entity_1=require(_0x5d52a0(0x1de)),category_service_1=require(_0x5d52a0(0x1c4)),CategoryTree_vo_1=require(_0x5d52a0(0x1d1)),gallery_entity_1=require(_0x5d52a0(0x19c)),platform_express_1=require(_0x5d52a0(0x17c)),uploder_dto_1=require(_0x5d52a0(0x1c9)),file_service_1=require(_0x5d52a0(0x17f));let LinkForController=class LinkForController{constructor(_0x582aa5,_0xb9cb43,_0x655cca){const _0x46eb81=_0x5d52a0;this[_0x46eb81(0x1b0)]=_0x582aa5,this[_0x46eb81(0x1dd)]=_0xb9cb43,this[_0x46eb81(0x184)]=_0x655cca;}[_0x5d52a0(0x1a8)](_0x2ab206){const _0x3bc246=_0x5d52a0;return this[_0x3bc246(0x1b0)][_0x3bc246(0x1a8)](_0x2ab206);}[_0x5d52a0(0x1ea)](_0x295756,_0x3d30fc){const _0x3b2400=_0x5d52a0;return this[_0x3b2400(0x1b0)][_0x3b2400(0x1ea)](_0x295756,_0x3d30fc);}[_0x5d52a0(0x181)](_0x8df4eb,_0x434ade){const _0x112ba2=_0x5d52a0;if(!_0x8df4eb||!_0x434ade)throw new Error(_0x112ba2(0x1d0));return this[_0x112ba2(0x1b0)][_0x112ba2(0x181)](_0x434ade,_0x8df4eb);}[_0x5d52a0(0x1b5)](_0x42a4d6,_0x48f9fd){const _0x5ca021=_0x5d52a0;return this[_0x5ca021(0x1b0)][_0x5ca021(0x1b5)](_0x42a4d6,_0x48f9fd);}[_0x5d52a0(0x1cb)](_0xb0cbd5,_0x5e8e84){const _0x16fcc6=_0x5d52a0;return this[_0x16fcc6(0x1b0)]['interactCutout'](_0xb0cbd5,_0x5e8e84);}async[_0x5d52a0(0x1eb)](_0x1fd2df,_0x4aef0a){return await this['linkForService']['taskPage'](_0x1fd2df,_0x4aef0a);}[_0x5d52a0(0x1af)](_0x50f5ad){const _0x2b4dc5=_0x5d52a0;return this[_0x2b4dc5(0x1b0)]['galleryPage'](_0x50f5ad);}async[_0x5d52a0(0x1b6)](_0x2bca50,_0x1edaae){const _0x337f77=_0x5d52a0,_0x5f04b8=Buffer[_0x337f77(0x1a7)](_0x1edaae[_0x337f77(0x199)],_0x337f77(0x186))['toString'](_0x337f77(0x1ce));return{'data':{'dataPath':await this[_0x337f77(0x184)]['uploadFile']({'filename':_0x5f04b8,'buffer':_0x1edaae[_0x337f77(0x1aa)],..._0x2bca50}),'md5':''}};}[_0x5d52a0(0x1a9)](){const _0x5c4f8c=_0x5d52a0;return this[_0x5c4f8c(0x1dd)][_0x5c4f8c(0x18f)]();}[_0x5d52a0(0x189)](_0x4c2eb2){const _0x3235b9=_0x5d52a0;return this[_0x3235b9(0x1b0)][_0x3235b9(0x1df)](_0x4c2eb2);}[_0x5d52a0(0x197)](_0x9df374){const _0x9a08d5=_0x5d52a0;return this[_0x9a08d5(0x1b0)][_0x9a08d5(0x1e7)](_0x9df374);}[_0x5d52a0(0x19d)](_0x424fd7){const _0x303151=_0x5d52a0;return this[_0x303151(0x1dd)][_0x303151(0x1b8)](_0x424fd7);}['deleteCategory_admin'](_0x356c1b){const _0x472177=_0x5d52a0;return this['categoryService'][_0x472177(0x1c8)](_0x356c1b);}[_0x5d52a0(0x190)](){const _0xdf72a2=_0x5d52a0;return this[_0xdf72a2(0x1dd)]['tree'](![]);}async['getTask_admin'](_0x36921a,_0x434eb7){const _0x46d503=_0x5d52a0;return await this['linkForService'][_0x46d503(0x1cc)](_0x36921a,_0x434eb7);}async[_0x5d52a0(0x1ad)](_0xed7eae,_0x3bc676){const _0x4288a8=_0x5d52a0,_0x32e542=Buffer[_0x4288a8(0x1a7)](_0x3bc676[_0x4288a8(0x199)],_0x4288a8(0x186))[_0x4288a8(0x1c3)](_0x4288a8(0x1ce));return{'data':{'dataPath':await this[_0x4288a8(0x184)]['uploadFile']({'filename':_0x32e542,'buffer':_0x3bc676['buffer'],..._0xed7eae}),'md5':''}};}};__decorate([(0x0,common_1[_0x5d52a0(0x180)])(_0x5d52a0(0x1a8)),(0x0,swagger_1[_0x5d52a0(0x1e3)])({'summary':_0x5d52a0(0x1d9)}),(0x0,common_2['UseGuards'])(jwtAuth_guard_1['JwtAuthGuard']),(0x0,swagger_1[_0x5d52a0(0x1ae)])(),__param(0x0,(0x0,common_1[_0x5d52a0(0x1bb)])()),__metadata('design:type',Function),__metadata(_0x5d52a0(0x18e),[Object]),__metadata(_0x5d52a0(0x1b1),void 0x0)],LinkForController[_0x5d52a0(0x18b)],_0x5d52a0(0x1a8),null),__decorate([(0x0,common_1[_0x5d52a0(0x18a)])(_0x5d52a0(0x1ea)),(0x0,swagger_1[_0x5d52a0(0x1e3)])({'summary':'AI穿衣'}),(0x0,common_2[_0x5d52a0(0x1d2)])(jwtAuth_guard_1[_0x5d52a0(0x1bd)]),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_2[_0x5d52a0(0x1bc)])()),__param(0x1,(0x0,common_1[_0x5d52a0(0x1bb)])()),__metadata(_0x5d52a0(0x196),Function),__metadata('design:paramtypes',[changeClothing_dto_1[_0x5d52a0(0x1d7)],Object]),__metadata('design:returntype',void 0x0)],LinkForController[_0x5d52a0(0x18b)],_0x5d52a0(0x1ea),null),__decorate([(0x0,common_1[_0x5d52a0(0x180)])(_0x5d52a0(0x181)),(0x0,swagger_1[_0x5d52a0(0x1e3)])({'summary':_0x5d52a0(0x182)}),(0x0,common_2[_0x5d52a0(0x1d2)])(jwtAuth_guard_1['JwtAuthGuard']),(0x0,swagger_1[_0x5d52a0(0x1ae)])(),__param(0x0,(0x0,common_1[_0x5d52a0(0x1e8)])(_0x5d52a0(0x1c2))),__param(0x1,(0x0,common_1['Query'])('id')),__metadata(_0x5d52a0(0x196),Function),__metadata('design:paramtypes',[Number,Object]),__metadata(_0x5d52a0(0x1b1),void 0x0)],LinkForController[_0x5d52a0(0x18b)],'makeInfo',null),__decorate([(0x0,common_1[_0x5d52a0(0x18a)])(_0x5d52a0(0x1b5)),(0x0,swagger_1['ApiOperation'])({'summary':_0x5d52a0(0x1ed)}),(0x0,common_2['UseGuards'])(jwtAuth_guard_1[_0x5d52a0(0x1bd)]),(0x0,swagger_1[_0x5d52a0(0x1ae)])(),__param(0x0,(0x0,common_2['Body'])()),__param(0x1,(0x0,common_1['Req'])()),__metadata(_0x5d52a0(0x196),Function),__metadata(_0x5d52a0(0x18e),[aiCutoutImage_dto_1[_0x5d52a0(0x1a0)],Object]),__metadata('design:returntype',void 0x0)],LinkForController['prototype'],_0x5d52a0(0x1b5),null),__decorate([(0x0,common_1[_0x5d52a0(0x18a)])(_0x5d52a0(0x1cb)),(0x0,swagger_1['ApiOperation'])({'summary':_0x5d52a0(0x1e4)}),(0x0,common_2[_0x5d52a0(0x1d2)])(jwtAuth_guard_1[_0x5d52a0(0x1bd)]),(0x0,swagger_1[_0x5d52a0(0x1ae)])(),__param(0x0,(0x0,common_2[_0x5d52a0(0x1bc)])()),__param(0x1,(0x0,common_1[_0x5d52a0(0x1bb)])()),__metadata(_0x5d52a0(0x196),Function),__metadata(_0x5d52a0(0x18e),[interactCutoutProcess_dto_1[_0x5d52a0(0x1e2)],Object]),__metadata('design:returntype',void 0x0)],LinkForController[_0x5d52a0(0x18b)],_0x5d52a0(0x1cb),null),__decorate([(0x0,common_1[_0x5d52a0(0x180)])('getTaskPage'),(0x0,swagger_1[_0x5d52a0(0x1e3)])({'summary':_0x5d52a0(0x1ba)}),(0x0,common_2['UseGuards'])(jwtAuth_guard_1[_0x5d52a0(0x1bd)]),(0x0,swagger_1[_0x5d52a0(0x1ae)])(),(0x0,swagger_1['ApiResponse'])({'type':TaskPage_vo_1['TaskPageVO']}),__param(0x0,(0x0,common_1[_0x5d52a0(0x1e8)])()),__param(0x1,(0x0,common_1['Req'])()),__metadata(_0x5d52a0(0x196),Function),__metadata(_0x5d52a0(0x18e),[taskPageDTO_dto_1[_0x5d52a0(0x18c)],Object]),__metadata('design:returntype',Promise)],LinkForController[_0x5d52a0(0x18b)],_0x5d52a0(0x1eb),null),__decorate([(0x0,common_1[_0x5d52a0(0x180)])(_0x5d52a0(0x1af)),(0x0,swagger_1[_0x5d52a0(0x1e3)])({'summary':_0x5d52a0(0x1d8)}),(0x0,swagger_1[_0x5d52a0(0x1b9)])({'type':GalleryPage_vo_1[_0x5d52a0(0x1cf)]}),__param(0x0,(0x0,common_1[_0x5d52a0(0x1e8)])()),__metadata('design:type',Function),__metadata(_0x5d52a0(0x18e),[galleryPageDTO_dto_1[_0x5d52a0(0x1c5)]]),__metadata('design:returntype',void 0x0)],LinkForController[_0x5d52a0(0x18b)],_0x5d52a0(0x1af),null),__decorate([(0x0,common_1['Post'])(_0x5d52a0(0x1b6)),(0x0,swagger_1[_0x5d52a0(0x1e3)])({'summary':_0x5d52a0(0x1c0)}),(0x0,common_1[_0x5d52a0(0x17d)])((0x0,platform_express_1[_0x5d52a0(0x1e6)])('file',{'preservePath':!![]})),__param(0x0,(0x0,common_2['Body'])()),__param(0x1,(0x0,common_1[_0x5d52a0(0x1a4)])()),__metadata(_0x5d52a0(0x196),Function),__metadata(_0x5d52a0(0x18e),[uploder_dto_1[_0x5d52a0(0x1c6)],Object]),__metadata(_0x5d52a0(0x1b1),Promise)],LinkForController[_0x5d52a0(0x18b)],'upload',null),__decorate([(0x0,common_1[_0x5d52a0(0x180)])(_0x5d52a0(0x1a9)),(0x0,swagger_1[_0x5d52a0(0x1e3)])({'summary':'分类列表'}),(0x0,swagger_1['ApiResponse'])({'type':CategoryTree_vo_1['CategoryTreeVO']}),__metadata(_0x5d52a0(0x196),Function),__metadata('design:paramtypes',[]),__metadata(_0x5d52a0(0x1b1),void 0x0)],LinkForController[_0x5d52a0(0x18b)],_0x5d52a0(0x1a9),null),__decorate([(0x0,swagger_1[_0x5d52a0(0x193)])(),(0x0,common_1[_0x5d52a0(0x1b2)])(_0x5d52a0(0x189)),(0x0,swagger_1[_0x5d52a0(0x1e3)])({'summary':_0x5d52a0(0x1d6)}),(0x0,common_2['UseGuards'])(adminAuth_guard_1[_0x5d52a0(0x1e5)]),__param(0x0,(0x0,common_1['Query'])()),__metadata('design:type',Function),__metadata(_0x5d52a0(0x18e),[galleryPageDTO_dto_1['galleryPageDTO']]),__metadata(_0x5d52a0(0x1b1),void 0x0)],LinkForController[_0x5d52a0(0x18b)],_0x5d52a0(0x189),null),__decorate([(0x0,swagger_1[_0x5d52a0(0x193)])(),(0x0,common_1['All'])(_0x5d52a0(0x197)),(0x0,swagger_1[_0x5d52a0(0x1e3)])({'summary':_0x5d52a0(0x183)}),(0x0,common_2[_0x5d52a0(0x1d2)])(adminAuth_guard_1[_0x5d52a0(0x1e5)]),(0x0,swagger_1['ApiBearerAuth'])(),__param(0x0,(0x0,common_2[_0x5d52a0(0x1bc)])()),__metadata(_0x5d52a0(0x196),Function),__metadata(_0x5d52a0(0x18e),[gallery_entity_1['GalleryEntity']]),__metadata('design:returntype',void 0x0)],LinkForController['prototype'],_0x5d52a0(0x197),null),__decorate([(0x0,swagger_1['ApiExcludeEndpoint'])(),(0x0,common_1[_0x5d52a0(0x1b2)])('saveCategory_admin'),(0x0,swagger_1[_0x5d52a0(0x1e3)])({'summary':'后台分类保存'}),(0x0,common_2[_0x5d52a0(0x1d2)])(adminAuth_guard_1['AdminAuthGuard']),(0x0,swagger_1[_0x5d52a0(0x1ae)])(),__param(0x0,(0x0,common_2['Body'])()),__metadata('design:type',Function),__metadata(_0x5d52a0(0x18e),[category_entity_1['CategoryEntity']]),__metadata(_0x5d52a0(0x1b1),void 0x0)],LinkForController[_0x5d52a0(0x18b)],_0x5d52a0(0x19d),null),__decorate([(0x0,swagger_1[_0x5d52a0(0x193)])(),(0x0,common_1[_0x5d52a0(0x1b2)])(_0x5d52a0(0x1dc)),(0x0,swagger_1[_0x5d52a0(0x1e3)])({'summary':'后台分类删除'}),(0x0,common_2[_0x5d52a0(0x1d2)])(adminAuth_guard_1[_0x5d52a0(0x1e5)]),(0x0,swagger_1[_0x5d52a0(0x1ae)])(),__param(0x0,(0x0,common_1[_0x5d52a0(0x1e8)])('id')),__metadata('design:type',Function),__metadata(_0x5d52a0(0x18e),[Number]),__metadata(_0x5d52a0(0x1b1),void 0x0)],LinkForController[_0x5d52a0(0x18b)],_0x5d52a0(0x1dc),null),__decorate([(0x0,swagger_1['ApiExcludeEndpoint'])(),(0x0,common_1[_0x5d52a0(0x1b2)])(_0x5d52a0(0x190)),(0x0,common_2[_0x5d52a0(0x1d2)])(adminAuth_guard_1[_0x5d52a0(0x1e5)]),(0x0,swagger_1[_0x5d52a0(0x1e3)])({'summary':_0x5d52a0(0x1e0)}),__metadata(_0x5d52a0(0x196),Function),__metadata(_0x5d52a0(0x18e),[]),__metadata('design:returntype',void 0x0)],LinkForController[_0x5d52a0(0x18b)],_0x5d52a0(0x190),null),__decorate([(0x0,swagger_1['ApiExcludeEndpoint'])(),(0x0,common_1[_0x5d52a0(0x1b2)])(_0x5d52a0(0x1bf)),(0x0,swagger_1[_0x5d52a0(0x1e3)])({'summary':_0x5d52a0(0x1a2)}),(0x0,common_2['UseGuards'])(adminAuth_guard_1['AdminAuthGuard']),(0x0,swagger_1['ApiBearerAuth'])(),(0x0,swagger_1[_0x5d52a0(0x1b9)])({'type':TaskPage_vo_1[_0x5d52a0(0x1d3)]}),__param(0x0,(0x0,common_1['Query'])()),__param(0x1,(0x0,common_1['Req'])()),__metadata(_0x5d52a0(0x196),Function),__metadata('design:paramtypes',[taskPageDTO_dto_1[_0x5d52a0(0x18c)],Object]),__metadata('design:returntype',Promise)],LinkForController[_0x5d52a0(0x18b)],'getTask_admin',null),__decorate([(0x0,common_1[_0x5d52a0(0x18a)])(_0x5d52a0(0x19b)),(0x0,swagger_1[_0x5d52a0(0x1e3)])({'summary':'上传文件'}),(0x0,common_1[_0x5d52a0(0x17d)])((0x0,platform_express_1['FileInterceptor'])(_0x5d52a0(0x195),{'preservePath':!![],'limits':{'fileSize':0x200*0x400*0x400}})),__param(0x0,(0x0,common_2[_0x5d52a0(0x1bc)])()),__param(0x1,(0x0,common_1[_0x5d52a0(0x1a4)])()),__metadata(_0x5d52a0(0x196),Function),__metadata('design:paramtypes',[uploder_dto_1[_0x5d52a0(0x1c6)],Object]),__metadata(_0x5d52a0(0x1b1),Promise)],LinkForController[_0x5d52a0(0x18b)],_0x5d52a0(0x1ad),null),LinkForController=__decorate([(0x0,common_1['Controller'])(_0x5d52a0(0x1b4)),__metadata(_0x5d52a0(0x18e),[linkFox_service_1['LinkFoxService'],category_service_1[_0x5d52a0(0x198)],file_service_1['FileService']])],LinkForController),exports[_0x5d52a0(0x192)]=LinkForController;