'use strict';const _0x3f1e76=_0x1500;(function(_0x3f20e4,_0x107820){const _0x3eb8de=_0x1500,_0x3c17a7=_0x3f20e4();while(!![]){try{const _0x20711a=-parseInt(_0x3eb8de(0x101))/0x1*(-parseInt(_0x3eb8de(0x104))/0x2)+-parseInt(_0x3eb8de(0x11a))/0x3+parseInt(_0x3eb8de(0x122))/0x4+-parseInt(_0x3eb8de(0x11e))/0x5+parseInt(_0x3eb8de(0x128))/0x6+parseInt(_0x3eb8de(0x103))/0x7+-parseInt(_0x3eb8de(0x124))/0x8*(parseInt(_0x3eb8de(0x10f))/0x9);if(_0x20711a===_0x107820)break;else _0x3c17a7['push'](_0x3c17a7['shift']());}catch(_0x2d866b){_0x3c17a7['push'](_0x3c17a7['shift']());}}}(_0x27ba,0xae56c));function _0x1500(_0x907ef7,_0x597a38){const _0x27ba09=_0x27ba();return _0x1500=function(_0x1500f8,_0xce161a){_0x1500f8=_0x1500f8-0xff;let _0x2d3830=_0x27ba09[_0x1500f8];return _0x2d3830;},_0x1500(_0x907ef7,_0x597a38);}var __decorate=this&&this[_0x3f1e76(0x10a)]||function(_0x308dec,_0x1b2720,_0x2ab790,_0x7e97d1){const _0x33f20c=_0x3f1e76;var _0x18428c=arguments[_0x33f20c(0x119)],_0x519792=_0x18428c<0x3?_0x1b2720:_0x7e97d1===null?_0x7e97d1=Object['getOwnPropertyDescriptor'](_0x1b2720,_0x2ab790):_0x7e97d1,_0x4ab768;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x33f20c(0x107))_0x519792=Reflect[_0x33f20c(0x123)](_0x308dec,_0x1b2720,_0x2ab790,_0x7e97d1);else{for(var _0x244d66=_0x308dec[_0x33f20c(0x119)]-0x1;_0x244d66>=0x0;_0x244d66--)if(_0x4ab768=_0x308dec[_0x244d66])_0x519792=(_0x18428c<0x3?_0x4ab768(_0x519792):_0x18428c>0x3?_0x4ab768(_0x1b2720,_0x2ab790,_0x519792):_0x4ab768(_0x1b2720,_0x2ab790))||_0x519792;}return _0x18428c>0x3&&_0x519792&&Object[_0x33f20c(0x100)](_0x1b2720,_0x2ab790,_0x519792),_0x519792;},__metadata=this&&this[_0x3f1e76(0x109)]||function(_0x5d5e05,_0x4dbc58){const _0x100b2e=_0x3f1e76;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x100b2e(0x107))return Reflect[_0x100b2e(0x12a)](_0x5d5e05,_0x4dbc58);},__param=this&&this[_0x3f1e76(0x125)]||function(_0x3aa6f5,_0x2ecf10){return function(_0xebcb0,_0x22899e){_0x2ecf10(_0xebcb0,_0x22899e,_0x3aa6f5);};};Object[_0x3f1e76(0x100)](exports,'__esModule',{'value':!![]}),exports[_0x3f1e76(0x113)]=void 0x0;const common_1=require(_0x3f1e76(0x129)),typeorm_1=require('@nestjs/typeorm'),typeorm_2=require(_0x3f1e76(0x110)),nestjs_cls_1=require(_0x3f1e76(0x117)),utils_1=require(_0x3f1e76(0x115)),category_entity_1=require(_0x3f1e76(0x112));let CategoryService=class CategoryService{constructor(_0x1e4081,_0x113c01){const _0x545b2d=_0x3f1e76;this[_0x545b2d(0x11f)]=_0x1e4081,this[_0x545b2d(0xff)]=_0x113c01;}[_0x3f1e76(0x127)](_0x2572cd){const _0xcb42ee=_0x3f1e76,_0x437b81={},_0x384ac8=[];return _0x2572cd[_0xcb42ee(0x116)](_0xcef426=>{_0x437b81[_0xcef426['id']]=_0xcef426;}),_0x2572cd['forEach'](_0x5a9e5c=>{const _0x28055a=_0xcb42ee;_0x5a9e5c[_0x28055a(0x108)]===0x0?_0x384ac8[_0x28055a(0x11d)](_0x5a9e5c):_0x437b81[_0x5a9e5c[_0x28055a(0x108)]]&&(_0x437b81[_0x5a9e5c['pId']][_0x28055a(0x114)]=_0x437b81[_0x5a9e5c['pId']][_0x28055a(0x114)]||[],_0x437b81[_0x5a9e5c[_0x28055a(0x108)]][_0x28055a(0x114)][_0x28055a(0x11d)](_0x5a9e5c));}),_0x384ac8;}async['tree'](_0x22fe96=!![]){const _0x4aa0b2=_0x3f1e76;try{const _0x4b70f8=(0x0,utils_1['getReqSaasId'])(this[_0x4aa0b2(0xff)]);let _0x468cb6='1=1';_0x22fe96&&(_0x468cb6+=_0x4aa0b2(0x12b));const _0x363784=await this[_0x4aa0b2(0x11f)][_0x4aa0b2(0x11c)](_0x4aa0b2(0x111)+_0x468cb6+'\x20and\x20saasId='+_0x4b70f8+'\x20order\x20by\x20sortIndex,createdAt\x20desc');return this[_0x4aa0b2(0x127)](_0x363784);}catch(_0x26a75a){throw new common_1['HttpException'](_0x26a75a[_0x4aa0b2(0x10c)],common_1['HttpStatus'][_0x4aa0b2(0x105)]);}}async[_0x3f1e76(0x102)](_0x751dd){const _0xe677e0=_0x3f1e76;try{const _0x558819=(0x0,utils_1[_0xe677e0(0x121)])(this[_0xe677e0(0xff)]),_0x4742e0=await this[_0xe677e0(0x11f)][_0xe677e0(0x120)]({'where':{'categoryName':_0x751dd[_0xe677e0(0x106)],'saasId':_0x558819}});if(_0x751dd['id']&&_0x4742e0>0x1||!_0x751dd['id']&&_0x4742e0>0x0)throw new Error('分类已存在');return await this['categoryEntity'][_0xe677e0(0x102)]({..._0x751dd,'saasId':_0x558819}),!![];}catch(_0x2f529e){throw new common_1['HttpException'](_0x2f529e[_0xe677e0(0x10c)],common_1[_0xe677e0(0x10d)][_0xe677e0(0x105)]);}}async[_0x3f1e76(0x10b)](_0x4ea0b3){const _0x3cc1ab=_0x3f1e76;return await this[_0x3cc1ab(0x11f)][_0x3cc1ab(0x10b)]({'id':_0x4ea0b3}),!![];}};CategoryService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,typeorm_1[_0x3f1e76(0x11b)])(category_entity_1['CategoryEntity'])),__metadata(_0x3f1e76(0x118),[typeorm_2[_0x3f1e76(0x10e)],nestjs_cls_1[_0x3f1e76(0x126)]])],CategoryService),exports[_0x3f1e76(0x113)]=CategoryService;function _0x27ba(){const _0x5dac73=['defineProperty','17sfmfvU','save','3267159qaxzJx','14114IoXwiA','BAD_REQUEST','categoryName','function','pId','__metadata','__decorate','delete','message','HttpStatus','Repository','252117ifFRww','typeorm','select\x20id,pId,categoryName,isRelease,sortIndex\x20from\x20lx_category_tb\x20where\x20','./category.entity','CategoryService','children','../../common/utils','forEach','nestjs-cls','design:paramtypes','length','1055292GaPffU','InjectRepository','query','push','2000880uOuQpx','categoryEntity','count','getReqSaasId','4122312frBojj','decorate','88yyhOvM','__param','ClsService','listToTree','941346aqjABt','@nestjs/common','metadata','\x20and\x20isRelease=1','clsService'];_0x27ba=function(){return _0x5dac73;};return _0x27ba();}