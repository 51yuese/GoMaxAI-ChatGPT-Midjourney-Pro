'use strict';const _0x11e41c=_0x4223;(function(_0x3843f5,_0x14544c){const _0x575e07=_0x4223,_0x42a9d7=_0x3843f5();while(!![]){try{const _0x3d22d8=-parseInt(_0x575e07(0xf6))/0x1*(parseInt(_0x575e07(0xe7))/0x2)+parseInt(_0x575e07(0xe9))/0x3*(-parseInt(_0x575e07(0xde))/0x4)+parseInt(_0x575e07(0xe8))/0x5+parseInt(_0x575e07(0xed))/0x6+parseInt(_0x575e07(0xfa))/0x7*(parseInt(_0x575e07(0xfd))/0x8)+-parseInt(_0x575e07(0xfe))/0x9+parseInt(_0x575e07(0xf8))/0xa;if(_0x3d22d8===_0x14544c)break;else _0x42a9d7['push'](_0x42a9d7['shift']());}catch(_0x2b5382){_0x42a9d7['push'](_0x42a9d7['shift']());}}}(_0x4587,0x22d65));function _0x4223(_0xd6e1cc,_0x484fd4){const _0x458773=_0x4587();return _0x4223=function(_0x42233a,_0x4efefb){_0x42233a=_0x42233a-0xd4;let _0xbe75b7=_0x458773[_0x42233a];return _0xbe75b7;},_0x4223(_0xd6e1cc,_0x484fd4);}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[_0x11e41c(0xec)]=void 0x0;const store_1=require('../../../common/store'),common_1=require('@nestjs/common'),axios_1=require(_0x11e41c(0xe4)),axIns=axios_1[_0x11e41c(0xfb)][_0x11e41c(0xeb)]();axIns[_0x11e41c(0xf2)][_0x11e41c(0xd4)][_0x11e41c(0xdd)](function(_0x5d7e8d){const _0x127a4e=_0x11e41c;common_1[_0x127a4e(0xdc)][_0x127a4e(0xda)](_0x127a4e(0xd7),_0x5d7e8d[_0x127a4e(0xdb)]);const _0x530cee={};for(let _0x331aa3 in _0x5d7e8d[_0x127a4e(0xd8)]){_0x5d7e8d[_0x127a4e(0xd8)][_0x331aa3]?.[_0x127a4e(0xf3)]>0x64?_0x530cee[_0x331aa3]=_0x5d7e8d[_0x127a4e(0xd8)][_0x331aa3][_0x127a4e(0xe6)](0x0,0x64):_0x530cee[_0x331aa3]=_0x5d7e8d[_0x127a4e(0xd8)][_0x331aa3];}return common_1[_0x127a4e(0xdc)][_0x127a4e(0xda)](_0x127a4e(0xe2),_0x530cee),_0x5d7e8d;},function(_0x264bfc){return Promise['reject'](_0x264bfc);}),axIns['interceptors'][_0x11e41c(0xf0)][_0x11e41c(0xdd)](function(_0x2866b8){const _0x669181=_0x11e41c;return common_1[_0x669181(0xdc)][_0x669181(0xda)](_0x669181(0xe1),_0x2866b8[_0x669181(0xd8)]),_0x2866b8;},function(_0x369e46){return Promise['reject'](_0x369e46);});function _0x4587(){const _0x110688=['length','https://','test','63493EskYbY','mjModel','5502880uSQUkW','notifyHook','196cRtbDs','default','mjProxyHost','22232nsiQgZ','2031489xwNXiJ','request','mode','mjTransferSecert','[MJP请求地址]','data','headers','log','url','Logger','use','511892qWxwSQ','未配置MJ绘图设置或不合法的MJ绘图设置','baseURL','[MJP请求响应]','[MJP请求参数]','MjConfig','axios','mjTransfer','substring','6cbYMbr','516580xwMKaj','6OQajmN','mjTransferHost','create','mjpRequest','500538FChGme','/api/midjourney/notify','mjProxy','response','mjProxySecert','interceptors'];_0x4587=function(){return _0x110688;};return _0x4587();}const mjpRequest=async function(_0x219a17){const _0x109173=_0x11e41c;if(store_1['MjConfig']['mjModel']===_0x109173(0xef))_0x219a17[_0x109173(0xe0)]=store_1[_0x109173(0xe3)][_0x109173(0xfc)],_0x219a17[_0x109173(0xd9)]={'mj-api-secret':store_1['MjConfig'][_0x109173(0xf1)]};else{if(store_1[_0x109173(0xe3)][_0x109173(0xf7)]===_0x109173(0xe5))_0x219a17[_0x109173(0xe0)]=store_1['MjConfig'][_0x109173(0xea)],_0x219a17[_0x109173(0xd9)]={'OpenAI-Organization':store_1[_0x109173(0xe3)]['mjTransferOrganization'],'Authorization':'Bearer\x20'+store_1[_0x109173(0xe3)][_0x109173(0xd6)]};else throw new Error(_0x109173(0xdf));}if(_0x219a17[_0x109173(0xd8)]){let _0x44b974=process['env']['GOMAXAI_HOST'];!/^http/[_0x109173(0xf5)](_0x44b974)&&(_0x44b974=_0x109173(0xf4)+_0x44b974);const _0x5db89e=/swap|blend|describe|imagine|modal|action/;_0x5db89e[_0x109173(0xf5)](_0x219a17[_0x109173(0xdb)])&&(_0x219a17[_0x109173(0xd8)][_0x109173(0xf9)]=_0x44b974+_0x109173(0xee));}if(store_1['MjConfig']['mjModel']===_0x109173(0xe5)){if(_0x219a17[_0x109173(0xd8)]?.[_0x109173(0xd5)]){let _0x2fda11='/mj'+'-'+_0x219a17[_0x109173(0xd8)][_0x109173(0xd5)];_0x219a17[_0x109173(0xdb)]=_0x2fda11+_0x219a17[_0x109173(0xdb)];}}const _0x5b379e=await axIns(_0x219a17);return _0x5b379e[_0x109173(0xd8)];};exports[_0x11e41c(0xec)]=mjpRequest;