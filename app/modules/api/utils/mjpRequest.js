'use strict';const _0x3777f7=_0x3ac9;(function(_0x4b24db,_0x4b279c){const _0xa32865=_0x3ac9,_0x25bcf6=_0x4b24db();while(!![]){try{const _0x1cb928=parseInt(_0xa32865(0xe9))/0x1+-parseInt(_0xa32865(0xe1))/0x2+parseInt(_0xa32865(0xca))/0x3+parseInt(_0xa32865(0xed))/0x4*(-parseInt(_0xa32865(0xeb))/0x5)+parseInt(_0xa32865(0xd3))/0x6*(-parseInt(_0xa32865(0xbc))/0x7)+-parseInt(_0xa32865(0xe6))/0x8*(-parseInt(_0xa32865(0xc0))/0x9)+-parseInt(_0xa32865(0xdd))/0xa;if(_0x1cb928===_0x4b279c)break;else _0x25bcf6['push'](_0x25bcf6['shift']());}catch(_0x54465b){_0x25bcf6['push'](_0x25bcf6['shift']());}}}(_0x1ee4,0x2ca4f));function _0x1ee4(){const _0x34c8f1=['log','substring','prompt','196334usWlcN','request','mjpRequest','interceptors','replace','112CNBzPH','mjFastProxySecert','[MJP请求地址]','316711BlNiwC','accountFilter','70acrFpT','use','18552nENUYA','/api/midjourney/notify','mjProxyHost','create','response','mjFaceProxySecert','@nestjs/common','497hpxbiJ','../../../common/store','[MJP请求失败]','relax','211572CFCKHJ','mode','--fast','mjFaceProxyHost','length','GOMAXAI_HOST','url','https://','baseURL','axios','68061gJMTmc','[MJP请求参数]','headers','--relax','mjRelaxProxyHost','Logger','default','未配置MJ绘图设置或不合法的MJ绘图设置','defineProperty','2778orsusY','env','mjRelaxProxySecert','MjConfig','notifyHook','data','mjFastProxyHost','test','mjProxySecert','reject','2896750lNpGwC'];_0x1ee4=function(){return _0x34c8f1;};return _0x1ee4();}Object[_0x3777f7(0xd2)](exports,'__esModule',{'value':!![]}),exports[_0x3777f7(0xe3)]=void 0x0;const store_1=require(_0x3777f7(0xbd)),common_1=require(_0x3777f7(0xbb)),axios_1=require(_0x3777f7(0xc9)),axIns=axios_1[_0x3777f7(0xd0)][_0x3777f7(0xf0)]();function _0x3ac9(_0x468dd2,_0x3b55ff){const _0x1ee4aa=_0x1ee4();return _0x3ac9=function(_0x3ac907,_0x377486){_0x3ac907=_0x3ac907-0xba;let _0x29952e=_0x1ee4aa[_0x3ac907];return _0x29952e;},_0x3ac9(_0x468dd2,_0x3b55ff);}axIns[_0x3777f7(0xe4)][_0x3777f7(0xe2)][_0x3777f7(0xec)](function(_0x1c29f3){const _0x167d5a=_0x3777f7;common_1[_0x167d5a(0xcf)]['log'](_0x167d5a(0xe8),_0x1c29f3[_0x167d5a(0xc6)]);const _0x343fd2={};for(let _0x33a9fd in _0x1c29f3['data']){_0x1c29f3[_0x167d5a(0xd8)][_0x33a9fd]?.[_0x167d5a(0xc4)]>0x64?_0x343fd2[_0x33a9fd]=_0x1c29f3[_0x167d5a(0xd8)][_0x33a9fd][_0x167d5a(0xdf)](0x0,0x64):_0x343fd2[_0x33a9fd]=_0x1c29f3[_0x167d5a(0xd8)][_0x33a9fd];}return common_1[_0x167d5a(0xcf)][_0x167d5a(0xde)](_0x167d5a(0xcb),_0x343fd2),_0x1c29f3;},function(_0x5b0242){const _0x360d8c=_0x3777f7;return Promise[_0x360d8c(0xdc)](_0x5b0242);}),axIns[_0x3777f7(0xe4)][_0x3777f7(0xf1)][_0x3777f7(0xec)](function(_0x7e746b){const _0x35da66=_0x3777f7;return common_1[_0x35da66(0xcf)][_0x35da66(0xde)]('[MJP请求响应]',_0x7e746b['data']),_0x7e746b;},function(_0x1f6879){const _0x2b3150=_0x3777f7;return console[_0x2b3150(0xde)](_0x2b3150(0xbe),_0x1f6879),Promise[_0x2b3150(0xdc)](_0x1f6879);});const mjpRequest=async function(_0x4ecbce,_0x3c3f05=''){const _0x440c70=_0x3777f7;if(!store_1['MjConfig'][_0x440c70(0xce)]&&!store_1['MjConfig'][_0x440c70(0xd9)]&&!store_1['MjConfig'][_0x440c70(0xef)])throw new Error(_0x440c70(0xd1));if(store_1[_0x440c70(0xd6)]['mjModel']==='mjProxy')_0x4ecbce[_0x440c70(0xc8)]=store_1[_0x440c70(0xd6)]['mjProxyHost'],_0x4ecbce['headers']={'mj-api-secret':store_1[_0x440c70(0xd6)][_0x440c70(0xdb)]};else{let _0x1e2d64='',_0x221ba0={};_0x3c3f05==='face'&&store_1[_0x440c70(0xd6)][_0x440c70(0xc3)]?(_0x1e2d64=store_1[_0x440c70(0xd6)]['mjFaceProxyHost'],_0x221ba0={'mj-api-secret':store_1[_0x440c70(0xd6)][_0x440c70(0xba)]}):(_0x4ecbce[_0x440c70(0xd8)]?.[_0x440c70(0xc1)]===_0x440c70(0xbf)&&(_0x1e2d64=store_1[_0x440c70(0xd6)][_0x440c70(0xce)],_0x221ba0={'mj-api-secret':store_1['MjConfig'][_0x440c70(0xd5)]}),!_0x1e2d64&&(_0x1e2d64=store_1['MjConfig'][_0x440c70(0xd9)],_0x221ba0={'mj-api-secret':store_1[_0x440c70(0xd6)][_0x440c70(0xe7)]})),_0x4ecbce[_0x440c70(0xc8)]=_0x1e2d64,_0x4ecbce[_0x440c70(0xcc)]=_0x221ba0,_0x4ecbce[_0x440c70(0xd8)]?.[_0x440c70(0xc1)]&&(_0x4ecbce[_0x440c70(0xd8)][_0x440c70(0xe0)]&&(_0x4ecbce[_0x440c70(0xd8)][_0x440c70(0xe0)]=_0x4ecbce[_0x440c70(0xd8)]['prompt'][_0x440c70(0xe5)](_0x440c70(0xcd),'')[_0x440c70(0xe5)](_0x440c70(0xc2),''))),_0x4ecbce[_0x440c70(0xd8)]&&delete _0x4ecbce['data'][_0x440c70(0xc1)];}if(_0x4ecbce[_0x440c70(0xd8)]){let _0x8c685=process[_0x440c70(0xd4)][_0x440c70(0xc5)];!/^http/[_0x440c70(0xda)](_0x8c685)&&(_0x8c685=_0x440c70(0xc7)+_0x8c685);const _0x5700f9=/swap|blend|describe|imagine|modal|action/;_0x5700f9[_0x440c70(0xda)](_0x4ecbce[_0x440c70(0xc6)])&&(_0x4ecbce[_0x440c70(0xd8)][_0x440c70(0xd7)]=_0x8c685+_0x440c70(0xee)),!_0x4ecbce[_0x440c70(0xd8)][_0x440c70(0xea)]&&delete _0x4ecbce[_0x440c70(0xd8)][_0x440c70(0xea)];}const _0x39540d=await axIns(_0x4ecbce);return _0x39540d[_0x440c70(0xd8)];};exports['mjpRequest']=mjpRequest;