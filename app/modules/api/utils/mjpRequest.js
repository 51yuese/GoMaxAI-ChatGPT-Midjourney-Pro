'use strict';function _0x16bf(_0x56f161,_0xf8f3c3){const _0x5c70fc=_0x5c70();return _0x16bf=function(_0x16bf80,_0x577e11){_0x16bf80=_0x16bf80-0x183;let _0x1e9d9e=_0x5c70fc[_0x16bf80];return _0x1e9d9e;},_0x16bf(_0x56f161,_0xf8f3c3);}const _0x66adbc=_0x16bf;(function(_0x308a6e,_0x5a298e){const _0x4726ab=_0x16bf,_0x3a0491=_0x308a6e();while(!![]){try{const _0x2760bf=-parseInt(_0x4726ab(0x1a5))/0x1+parseInt(_0x4726ab(0x1a3))/0x2*(-parseInt(_0x4726ab(0x1a1))/0x3)+parseInt(_0x4726ab(0x184))/0x4*(parseInt(_0x4726ab(0x19a))/0x5)+parseInt(_0x4726ab(0x186))/0x6+-parseInt(_0x4726ab(0x1a2))/0x7+parseInt(_0x4726ab(0x19e))/0x8+parseInt(_0x4726ab(0x191))/0x9;if(_0x2760bf===_0x5a298e)break;else _0x3a0491['push'](_0x3a0491['shift']());}catch(_0x2a1f48){_0x3a0491['push'](_0x3a0491['shift']());}}}(_0x5c70,0x6bfda));Object[_0x66adbc(0x194)](exports,_0x66adbc(0x1a8),{'value':!![]}),exports['mjpRequest']=void 0x0;function _0x5c70(){const _0xe0abae=['/api/midjourney/notify','default','[MJP请求地址]','mjModel','request','224lKLfHV','GOMAXAI_HOST','4232670rkrgtj','use','/mj','[MJP请求响应]','mjProxyHost','../../../config/MjConfig','mjpRequest','mjProxy','response','mode','notifyHook','5879196oVVxgi','@nestjs/common','interceptors','defineProperty','Bearer\x20','mjTransfer','[MJP请求参数]','url','未配置MJ绘图设置或不合法的MJ绘图设置','19765WrCfEc','axios','mjTransferOrganization','substring','4313976vlwzlz','headers','data','2266242Rxrekv','4364654qIKAvh','2TYxgxD','mjTransferHost','298038tTstJW','length','reject','__esModule','log','Logger','mjProxySecert','test'];_0x5c70=function(){return _0xe0abae;};return _0x5c70();}const MjConfig_1=require(_0x66adbc(0x18b)),common_1=require(_0x66adbc(0x192)),axios_1=require(_0x66adbc(0x19b)),axIns=axios_1['default']['create']();axIns[_0x66adbc(0x193)][_0x66adbc(0x183)]['use'](function(_0x462371){const _0x3dbfe8=_0x66adbc;common_1[_0x3dbfe8(0x1aa)][_0x3dbfe8(0x1a9)](_0x3dbfe8(0x1af),_0x462371[_0x3dbfe8(0x198)]);const _0x52d55f={};for(let _0x5ce009 in _0x462371['data']){_0x462371[_0x3dbfe8(0x1a0)][_0x5ce009]?.[_0x3dbfe8(0x1a6)]>0x64?_0x52d55f[_0x5ce009]=_0x462371[_0x3dbfe8(0x1a0)][_0x5ce009][_0x3dbfe8(0x19d)](0x0,0x64):_0x52d55f[_0x5ce009]=_0x462371[_0x3dbfe8(0x1a0)][_0x5ce009];}return common_1[_0x3dbfe8(0x1aa)][_0x3dbfe8(0x1a9)](_0x3dbfe8(0x197),_0x52d55f),_0x462371;},function(_0x577d89){const _0x4dce23=_0x66adbc;return Promise[_0x4dce23(0x1a7)](_0x577d89);}),axIns[_0x66adbc(0x193)][_0x66adbc(0x18e)][_0x66adbc(0x187)](function(_0x16b393){const _0x264c02=_0x66adbc;return common_1[_0x264c02(0x1aa)][_0x264c02(0x1a9)](_0x264c02(0x189),_0x16b393['data']),_0x16b393;},function(_0x3040c0){return Promise['reject'](_0x3040c0);});const mjpRequest=async function(_0x2dc353){const _0x493dbc=_0x66adbc;if(MjConfig_1['default'][_0x493dbc(0x1b0)]===_0x493dbc(0x18d))_0x2dc353['baseURL']=MjConfig_1[_0x493dbc(0x1ae)][_0x493dbc(0x18a)],_0x2dc353[_0x493dbc(0x19f)]={'mj-api-secret':MjConfig_1[_0x493dbc(0x1ae)][_0x493dbc(0x1ab)]};else{if(MjConfig_1[_0x493dbc(0x1ae)][_0x493dbc(0x1b0)]==='mjTransfer')_0x2dc353['baseURL']=MjConfig_1['default'][_0x493dbc(0x1a4)],_0x2dc353[_0x493dbc(0x19f)]={'OpenAI-Organization':MjConfig_1[_0x493dbc(0x1ae)][_0x493dbc(0x19c)],'Authorization':_0x493dbc(0x195)+MjConfig_1[_0x493dbc(0x1ae)]['mjTransferSecert']};else throw new Error(_0x493dbc(0x199));}if(_0x2dc353['data']){let _0x12a48f=process['env'][_0x493dbc(0x185)];!/^http/[_0x493dbc(0x1ac)](_0x12a48f)&&(_0x12a48f='https://'+_0x12a48f);const _0x27dee6=/swap|blend|describe|imagine|modal|action/;_0x27dee6['test'](_0x2dc353['url'])&&(_0x2dc353['data'][_0x493dbc(0x190)]=_0x12a48f+_0x493dbc(0x1ad));}if(MjConfig_1[_0x493dbc(0x1ae)][_0x493dbc(0x1b0)]===_0x493dbc(0x196)){if(_0x2dc353['data']?.[_0x493dbc(0x18f)]){let _0x351c70=_0x493dbc(0x188)+'-'+_0x2dc353[_0x493dbc(0x1a0)][_0x493dbc(0x18f)];_0x2dc353[_0x493dbc(0x198)]=_0x351c70+_0x2dc353['url'];}}const _0x56dae3=await axIns(_0x2dc353);return _0x56dae3['data'];};exports[_0x66adbc(0x18c)]=mjpRequest;