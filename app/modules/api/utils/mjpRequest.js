'use strict';const _0x1901b1=_0x3f20;function _0x3f20(_0x3d9bbc,_0x51e0fa){const _0x4f38ab=_0x4f38();return _0x3f20=function(_0x3f2048,_0x5cf367){_0x3f2048=_0x3f2048-0xc3;let _0x1c1ef9=_0x4f38ab[_0x3f2048];return _0x1c1ef9;},_0x3f20(_0x3d9bbc,_0x51e0fa);}(function(_0x2fdcb2,_0x4a0b9d){const _0xdd7f3e=_0x3f20,_0x590445=_0x2fdcb2();while(!![]){try{const _0x4da962=-parseInt(_0xdd7f3e(0xdd))/0x1*(parseInt(_0xdd7f3e(0xc3))/0x2)+-parseInt(_0xdd7f3e(0xf0))/0x3*(-parseInt(_0xdd7f3e(0xcc))/0x4)+parseInt(_0xdd7f3e(0xee))/0x5+parseInt(_0xdd7f3e(0xe0))/0x6+parseInt(_0xdd7f3e(0xca))/0x7*(-parseInt(_0xdd7f3e(0xe6))/0x8)+parseInt(_0xdd7f3e(0xdb))/0x9+parseInt(_0xdd7f3e(0xd0))/0xa*(-parseInt(_0xdd7f3e(0xd7))/0xb);if(_0x4da962===_0x4a0b9d)break;else _0x590445['push'](_0x590445['shift']());}catch(_0x207c86){_0x590445['push'](_0x590445['shift']());}}}(_0x4f38,0x63c79));Object[_0x1901b1(0xe7)](exports,_0x1901b1(0xde),{'value':!![]}),exports['mjpRequest']=void 0x0;function _0x4f38(){const _0x4a226c=['request','74aksErj','@nestjs/common','length','MjConfig','mjModel','Logger','substring','25445LtjWtd','url','3728igvPhN','replace','--fast','use','1250dMdMBd','headers','axios','mjpRequest','mjProxySecert','prompt','reject','90717PYaZwb','response','--relax','/api/midjourney/notify','6235893pMjreP','mjRelaxProxyHost','9887JOtvOt','__esModule','test','4898742ckUJsj','log','notifyHook','mjFaceProxyHost','https://','baseURL','712biHmZm','defineProperty','[MJP请求参数]','mjFastProxyHost','accountFilter','mjFastProxySecert','create','data','134100OBzqIg','interceptors','1908LnUUCb','mjRelaxProxySecert','mode','mjProxyHost','未配置MJ绘图设置或不合法的MJ绘图设置'];_0x4f38=function(){return _0x4a226c;};return _0x4f38();}const store_1=require('../../../common/store'),common_1=require(_0x1901b1(0xc4)),axios_1=require(_0x1901b1(0xd2)),axIns=axios_1['default'][_0x1901b1(0xec)]();axIns['interceptors'][_0x1901b1(0xf5)][_0x1901b1(0xcf)](function(_0x1f8c24){const _0x2b926f=_0x1901b1;common_1[_0x2b926f(0xc8)][_0x2b926f(0xe1)]('[MJP请求地址]',_0x1f8c24['url']);const _0x2e710a={};for(let _0x1bdf11 in _0x1f8c24['data']){_0x1f8c24[_0x2b926f(0xed)][_0x1bdf11]?.[_0x2b926f(0xc5)]>0x64?_0x2e710a[_0x1bdf11]=_0x1f8c24['data'][_0x1bdf11][_0x2b926f(0xc9)](0x0,0x64):_0x2e710a[_0x1bdf11]=_0x1f8c24['data'][_0x1bdf11];}return common_1[_0x2b926f(0xc8)][_0x2b926f(0xe1)](_0x2b926f(0xe8),_0x2e710a),_0x1f8c24;},function(_0x5e30b9){return Promise['reject'](_0x5e30b9);}),axIns[_0x1901b1(0xef)][_0x1901b1(0xd8)][_0x1901b1(0xcf)](function(_0x6d040a){const _0x131fac=_0x1901b1;return common_1['Logger'][_0x131fac(0xe1)]('[MJP请求响应]',_0x6d040a[_0x131fac(0xed)]),_0x6d040a;},function(_0x4ccd35){const _0x572901=_0x1901b1;return console[_0x572901(0xe1)]('[MJP请求失败]',_0x4ccd35),Promise[_0x572901(0xd6)](_0x4ccd35);});const mjpRequest=async function(_0x35177e,_0x485955=''){const _0x5c05f0=_0x1901b1;if(!store_1[_0x5c05f0(0xc6)][_0x5c05f0(0xdc)]&&!store_1[_0x5c05f0(0xc6)][_0x5c05f0(0xe9)]&&!store_1[_0x5c05f0(0xc6)][_0x5c05f0(0xf3)])throw new Error(_0x5c05f0(0xf4));if(store_1[_0x5c05f0(0xc6)][_0x5c05f0(0xc7)]==='mjProxy')_0x35177e[_0x5c05f0(0xe5)]=store_1[_0x5c05f0(0xc6)][_0x5c05f0(0xf3)],_0x35177e[_0x5c05f0(0xd1)]={'mj-api-secret':store_1[_0x5c05f0(0xc6)][_0x5c05f0(0xd4)]};else{let _0x513776='',_0x4349d0={};_0x485955==='face'&&store_1['MjConfig'][_0x5c05f0(0xe3)]?(_0x513776=store_1['MjConfig'][_0x5c05f0(0xe3)],_0x4349d0={'mj-api-secret':store_1[_0x5c05f0(0xc6)]['mjFaceProxySecert']}):(_0x35177e[_0x5c05f0(0xed)]?.['mode']==='relax'&&(_0x513776=store_1[_0x5c05f0(0xc6)][_0x5c05f0(0xdc)],_0x4349d0={'mj-api-secret':store_1['MjConfig'][_0x5c05f0(0xf1)]}),!_0x513776&&(_0x513776=store_1[_0x5c05f0(0xc6)][_0x5c05f0(0xe9)],_0x4349d0={'mj-api-secret':store_1[_0x5c05f0(0xc6)][_0x5c05f0(0xeb)]})),_0x35177e[_0x5c05f0(0xe5)]=_0x513776,_0x35177e[_0x5c05f0(0xd1)]=_0x4349d0,_0x35177e[_0x5c05f0(0xed)]?.[_0x5c05f0(0xf2)]&&(_0x35177e[_0x5c05f0(0xed)][_0x5c05f0(0xd5)]&&(_0x35177e[_0x5c05f0(0xed)]['prompt']=_0x35177e[_0x5c05f0(0xed)][_0x5c05f0(0xd5)][_0x5c05f0(0xcd)](_0x5c05f0(0xd9),'')[_0x5c05f0(0xcd)](_0x5c05f0(0xce),''))),_0x35177e[_0x5c05f0(0xed)]&&delete _0x35177e[_0x5c05f0(0xed)][_0x5c05f0(0xf2)];}if(_0x35177e[_0x5c05f0(0xed)]){let _0x445d38=process['env']['GOMAXAI_HOST'];!/^http/[_0x5c05f0(0xdf)](_0x445d38)&&(_0x445d38=_0x5c05f0(0xe4)+_0x445d38);const _0x56a34f=/swap|blend|describe|imagine|modal|action/;_0x56a34f[_0x5c05f0(0xdf)](_0x35177e[_0x5c05f0(0xcb)])&&(_0x35177e[_0x5c05f0(0xed)][_0x5c05f0(0xe2)]=_0x445d38+_0x5c05f0(0xda)),!_0x35177e['data'][_0x5c05f0(0xea)]&&delete _0x35177e['data']['accountFilter'];}const _0x235fda=await axIns(_0x35177e);return _0x235fda['data'];};exports[_0x1901b1(0xd3)]=mjpRequest;