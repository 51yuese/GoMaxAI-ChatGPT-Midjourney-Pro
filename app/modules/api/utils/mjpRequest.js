'use strict';const _0x52deb6=_0x100d;(function(_0x1491e4,_0x1becbc){const _0x1bd9c5=_0x100d,_0x1bba0a=_0x1491e4();while(!![]){try{const _0x4a2c87=parseInt(_0x1bd9c5(0x175))/0x1+parseInt(_0x1bd9c5(0x188))/0x2+-parseInt(_0x1bd9c5(0x194))/0x3+-parseInt(_0x1bd9c5(0x195))/0x4*(parseInt(_0x1bd9c5(0x170))/0x5)+-parseInt(_0x1bd9c5(0x16a))/0x6+parseInt(_0x1bd9c5(0x17d))/0x7+parseInt(_0x1bd9c5(0x18e))/0x8;if(_0x4a2c87===_0x1becbc)break;else _0x1bba0a['push'](_0x1bba0a['shift']());}catch(_0x56b021){_0x1bba0a['push'](_0x1bba0a['shift']());}}}(_0x59f0,0x8f57d));function _0x100d(_0xdfc951,_0x5f708){const _0x59f08d=_0x59f0();return _0x100d=function(_0x100d87,_0x317a32){_0x100d87=_0x100d87-0x168;let _0xe398ed=_0x59f08d[_0x100d87];return _0xe398ed;},_0x100d(_0xdfc951,_0x5f708);}Object[_0x52deb6(0x180)](exports,_0x52deb6(0x189),{'value':!![]}),exports[_0x52deb6(0x18b)]=void 0x0;const store_1=require(_0x52deb6(0x186)),common_1=require(_0x52deb6(0x181)),axios_1=require('axios'),axIns=axios_1[_0x52deb6(0x173)]['create']();function _0x59f0(){const _0x58b8df=['../../../common/store','use','1305474MzVivo','__esModule','[MJP请求地址]','mjpRequest','mode','--fast','12218816nWrCIJ','data','mjFastProxySecert','request','accountFilter','Logger','2951574QuIndV','36hMQYHO','mjRelaxProxyHost','mjFastProxyHost','4636170VabDwP','mjProxy','mjRelaxProxySecert','substring','reject','https://','552275OHKnxp','log','relax','default','[MJP请求失败]','508757sWfEdr','response','replace','GOMAXAI_HOST','url','/api/midjourney/notify','test','MjConfig','4542545PSpEVr','headers','baseURL','defineProperty','@nestjs/common','length','prompt','mjModel','[MJP请求响应]'];_0x59f0=function(){return _0x58b8df;};return _0x59f0();}axIns['interceptors'][_0x52deb6(0x191)][_0x52deb6(0x187)](function(_0x2e1baf){const _0x2e5de1=_0x52deb6;common_1[_0x2e5de1(0x193)]['log'](_0x2e5de1(0x18a),_0x2e1baf[_0x2e5de1(0x179)]);const _0x25cb2f={};for(let _0x8d5b47 in _0x2e1baf['data']){_0x2e1baf[_0x2e5de1(0x18f)][_0x8d5b47]?.[_0x2e5de1(0x182)]>0x64?_0x25cb2f[_0x8d5b47]=_0x2e1baf['data'][_0x8d5b47][_0x2e5de1(0x16d)](0x0,0x64):_0x25cb2f[_0x8d5b47]=_0x2e1baf[_0x2e5de1(0x18f)][_0x8d5b47];}return common_1[_0x2e5de1(0x193)][_0x2e5de1(0x171)]('[MJP请求参数]',_0x25cb2f),_0x2e1baf;},function(_0x1046a8){const _0x1d87c1=_0x52deb6;return Promise[_0x1d87c1(0x16e)](_0x1046a8);}),axIns['interceptors'][_0x52deb6(0x176)][_0x52deb6(0x187)](function(_0x23fae1){const _0x25dd1b=_0x52deb6;return common_1[_0x25dd1b(0x193)][_0x25dd1b(0x171)](_0x25dd1b(0x185),_0x23fae1[_0x25dd1b(0x18f)]),_0x23fae1;},function(_0xacbd0){const _0x39df87=_0x52deb6;return console[_0x39df87(0x171)](_0x39df87(0x174),_0xacbd0),Promise[_0x39df87(0x16e)](_0xacbd0);});const mjpRequest=async function(_0x571c40){const _0x3789aa=_0x52deb6;if(!store_1[_0x3789aa(0x17c)][_0x3789aa(0x168)]&&!store_1[_0x3789aa(0x17c)]['mjFastProxyHost']&&!store_1[_0x3789aa(0x17c)]['mjProxyHost'])throw new Error('未配置MJ绘图设置或不合法的MJ绘图设置');if(store_1[_0x3789aa(0x17c)][_0x3789aa(0x184)]===_0x3789aa(0x16b))_0x571c40[_0x3789aa(0x17f)]=store_1['MjConfig']['mjProxyHost'],_0x571c40[_0x3789aa(0x17e)]={'mj-api-secret':store_1['MjConfig']['mjProxySecert']};else{let _0x3efb0d='',_0x3fc28e={};_0x571c40[_0x3789aa(0x18f)]?.[_0x3789aa(0x18c)]===_0x3789aa(0x172)&&(_0x3efb0d=store_1[_0x3789aa(0x17c)][_0x3789aa(0x168)],_0x3fc28e={'mj-api-secret':store_1[_0x3789aa(0x17c)][_0x3789aa(0x16c)]}),!_0x3efb0d&&(_0x3efb0d=store_1[_0x3789aa(0x17c)][_0x3789aa(0x169)],_0x3fc28e={'mj-api-secret':store_1[_0x3789aa(0x17c)][_0x3789aa(0x190)]}),_0x571c40[_0x3789aa(0x17f)]=_0x3efb0d,_0x571c40[_0x3789aa(0x17e)]=_0x3fc28e,_0x571c40[_0x3789aa(0x18f)]?.['mode']&&(_0x571c40[_0x3789aa(0x18f)][_0x3789aa(0x183)]&&(_0x571c40[_0x3789aa(0x18f)][_0x3789aa(0x183)]=_0x571c40[_0x3789aa(0x18f)][_0x3789aa(0x183)]['replace']('--relax','')[_0x3789aa(0x177)](_0x3789aa(0x18d),''))),_0x571c40[_0x3789aa(0x18f)]&&delete _0x571c40[_0x3789aa(0x18f)][_0x3789aa(0x18c)];}if(_0x571c40[_0x3789aa(0x18f)]){let _0x427354=process['env'][_0x3789aa(0x178)];!/^http/[_0x3789aa(0x17b)](_0x427354)&&(_0x427354=_0x3789aa(0x16f)+_0x427354);const _0x5ed9b7=/swap|blend|describe|imagine|modal|action/;_0x5ed9b7['test'](_0x571c40[_0x3789aa(0x179)])&&(_0x571c40['data']['notifyHook']=_0x427354+_0x3789aa(0x17a)),!_0x571c40['data'][_0x3789aa(0x192)]&&delete _0x571c40[_0x3789aa(0x18f)]['accountFilter'];}const _0x34d020=await axIns(_0x571c40);return _0x34d020['data'];};exports[_0x52deb6(0x18b)]=mjpRequest;