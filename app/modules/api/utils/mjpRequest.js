'use strict';const _0xb9c59e=_0x2130;(function(_0x174c45,_0x32b226){const _0xc3bf93=_0x2130,_0xf6d97a=_0x174c45();while(!![]){try{const _0x5b8ff5=-parseInt(_0xc3bf93(0x194))/0x1*(parseInt(_0xc3bf93(0x1b8))/0x2)+parseInt(_0xc3bf93(0x1ac))/0x3+parseInt(_0xc3bf93(0x1b5))/0x4+-parseInt(_0xc3bf93(0x1ae))/0x5*(parseInt(_0xc3bf93(0x1ad))/0x6)+-parseInt(_0xc3bf93(0x1b7))/0x7*(-parseInt(_0xc3bf93(0x1c3))/0x8)+parseInt(_0xc3bf93(0x198))/0x9*(-parseInt(_0xc3bf93(0x1a6))/0xa)+parseInt(_0xc3bf93(0x192))/0xb*(parseInt(_0xc3bf93(0x19d))/0xc);if(_0x5b8ff5===_0x32b226)break;else _0xf6d97a['push'](_0xf6d97a['shift']());}catch(_0x4a699a){_0xf6d97a['push'](_0xf6d97a['shift']());}}}(_0x24b9,0x2df05));function _0x2130(_0x231809,_0x4b5e60){const _0x24b97f=_0x24b9();return _0x2130=function(_0x2130e9,_0x4ae5cb){_0x2130e9=_0x2130e9-0x192;let _0x14853c=_0x24b97f[_0x2130e9];return _0x14853c;},_0x2130(_0x231809,_0x4b5e60);}Object[_0xb9c59e(0x1a4)](exports,_0xb9c59e(0x1b3),{'value':!![]}),exports['mjpRequest']=void 0x0;const store_1=require(_0xb9c59e(0x1c7)),common_1=require(_0xb9c59e(0x1a0)),axios_1=require('axios'),axIns=axios_1['default'][_0xb9c59e(0x1b6)]();function _0x24b9(){const _0x13a8ec=['115731gkpJhG','66374uNpxKF','mjpRequest','[MJP请求响应]','mjModel','env','request','mjProxySecert','--relax','mjRelaxProxyHost','baseURL','use','56iPNQFp','mjFastProxySecert','accountFilter','https://','../../../common/store','[MJP请求失败]','187YnFGWm','--fast','3uICPgJ','GOMAXAI_HOST','[MJP请求地址]','prompt','9aPyWcc','未配置MJ绘图设置或不合法的MJ绘图设置','url','mjRelaxProxySecert','headers','118476EegPra','response','MjConfig','@nestjs/common','relax','mjProxy','length','defineProperty','mjFaceProxyHost','305510aVRXcS','log','Logger','interceptors','replace','mjProxyHost','518961bsxaCe','1701066yVggkW','5hKfWAY','mode','data','face','reject','__esModule','[MJP请求参数]','580916quvYBb','create'];_0x24b9=function(){return _0x13a8ec;};return _0x24b9();}axIns[_0xb9c59e(0x1a9)][_0xb9c59e(0x1bd)][_0xb9c59e(0x1c2)](function(_0xc375c6){const _0x2e1559=_0xb9c59e;common_1[_0x2e1559(0x1a8)][_0x2e1559(0x1a7)](_0x2e1559(0x196),_0xc375c6['url']);const _0x3eec99={};for(let _0x3add81 in _0xc375c6[_0x2e1559(0x1b0)]){_0xc375c6[_0x2e1559(0x1b0)][_0x3add81]?.[_0x2e1559(0x1a3)]>0x64?_0x3eec99[_0x3add81]=_0xc375c6['data'][_0x3add81]['substring'](0x0,0x64):_0x3eec99[_0x3add81]=_0xc375c6[_0x2e1559(0x1b0)][_0x3add81];}return common_1[_0x2e1559(0x1a8)][_0x2e1559(0x1a7)](_0x2e1559(0x1b4),_0x3eec99),_0xc375c6;},function(_0x331985){return Promise['reject'](_0x331985);}),axIns[_0xb9c59e(0x1a9)][_0xb9c59e(0x19e)][_0xb9c59e(0x1c2)](function(_0x3dbe0b){const _0x557bc9=_0xb9c59e;return common_1[_0x557bc9(0x1a8)][_0x557bc9(0x1a7)](_0x557bc9(0x1ba),_0x3dbe0b[_0x557bc9(0x1b0)]),_0x3dbe0b;},function(_0xe7855d){const _0x32af5f=_0xb9c59e;return console[_0x32af5f(0x1a7)](_0x32af5f(0x1c8),_0xe7855d),Promise[_0x32af5f(0x1b2)](_0xe7855d);});const mjpRequest=async function(_0x539581,_0x27193d=''){const _0x4decf4=_0xb9c59e;if(!store_1[_0x4decf4(0x19f)]['mjRelaxProxyHost']&&!store_1['MjConfig']['mjFastProxyHost']&&!store_1[_0x4decf4(0x19f)]['mjProxyHost'])throw new Error(_0x4decf4(0x199));if(store_1[_0x4decf4(0x19f)][_0x4decf4(0x1bb)]===_0x4decf4(0x1a2))_0x539581['baseURL']=store_1[_0x4decf4(0x19f)][_0x4decf4(0x1ab)],_0x539581['headers']={'mj-api-secret':store_1['MjConfig'][_0x4decf4(0x1be)]};else{let _0x57ab0f='',_0x16da67={};_0x27193d===_0x4decf4(0x1b1)&&store_1['MjConfig']['mjFaceProxyHost']?(_0x57ab0f=store_1[_0x4decf4(0x19f)][_0x4decf4(0x1a5)],_0x16da67={'mj-api-secret':store_1[_0x4decf4(0x19f)]['mjFaceProxySecert']}):(_0x539581[_0x4decf4(0x1b0)]?.[_0x4decf4(0x1af)]===_0x4decf4(0x1a1)&&(_0x57ab0f=store_1[_0x4decf4(0x19f)][_0x4decf4(0x1c0)],_0x16da67={'mj-api-secret':store_1[_0x4decf4(0x19f)][_0x4decf4(0x19b)]}),!_0x57ab0f&&(_0x57ab0f=store_1[_0x4decf4(0x19f)]['mjFastProxyHost'],_0x16da67={'mj-api-secret':store_1[_0x4decf4(0x19f)][_0x4decf4(0x1c4)]})),_0x539581[_0x4decf4(0x1c1)]=_0x57ab0f,_0x539581[_0x4decf4(0x19c)]=_0x16da67,_0x539581['data']?.[_0x4decf4(0x1af)]&&(_0x539581['data'][_0x4decf4(0x197)]&&(_0x539581[_0x4decf4(0x1b0)][_0x4decf4(0x197)]=_0x539581[_0x4decf4(0x1b0)]['prompt'][_0x4decf4(0x1aa)](_0x4decf4(0x1bf),'')[_0x4decf4(0x1aa)](_0x4decf4(0x193),''))),_0x539581[_0x4decf4(0x1b0)]&&delete _0x539581[_0x4decf4(0x1b0)][_0x4decf4(0x1af)];}if(_0x539581[_0x4decf4(0x1b0)]){let _0x35d654=process[_0x4decf4(0x1bc)][_0x4decf4(0x195)];!/^http/['test'](_0x35d654)&&(_0x35d654=_0x4decf4(0x1c6)+_0x35d654);const _0x3ba5fb=/swap|blend|describe|imagine|modal|action/;_0x3ba5fb['test'](_0x539581[_0x4decf4(0x19a)])&&(_0x539581['data']['notifyHook']=_0x35d654+'/api/midjourney/notify'),!_0x539581['data'][_0x4decf4(0x1c5)]&&delete _0x539581[_0x4decf4(0x1b0)][_0x4decf4(0x1c5)];}const _0x2b21d5=await axIns(_0x539581);return _0x2b21d5['data'];};exports[_0xb9c59e(0x1b9)]=mjpRequest;