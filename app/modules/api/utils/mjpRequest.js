'use strict';const _0x692729=_0x228b;function _0x228b(_0x48e4d9,_0x37211a){const _0x57d392=_0x57d3();return _0x228b=function(_0x228be1,_0x3befda){_0x228be1=_0x228be1-0x19a;let _0x3be2c2=_0x57d392[_0x228be1];return _0x3be2c2;},_0x228b(_0x48e4d9,_0x37211a);}(function(_0x31ffef,_0x5dc9c0){const _0x280c8e=_0x228b,_0x5e8b74=_0x31ffef();while(!![]){try{const _0x60c044=-parseInt(_0x280c8e(0x1b8))/0x1+parseInt(_0x280c8e(0x1aa))/0x2*(parseInt(_0x280c8e(0x1b5))/0x3)+-parseInt(_0x280c8e(0x1b6))/0x4+parseInt(_0x280c8e(0x1ca))/0x5*(-parseInt(_0x280c8e(0x1a9))/0x6)+-parseInt(_0x280c8e(0x1a2))/0x7+-parseInt(_0x280c8e(0x19b))/0x8*(parseInt(_0x280c8e(0x1b9))/0x9)+-parseInt(_0x280c8e(0x19c))/0xa*(-parseInt(_0x280c8e(0x1a3))/0xb);if(_0x60c044===_0x5dc9c0)break;else _0x5e8b74['push'](_0x5e8b74['shift']());}catch(_0x191364){_0x5e8b74['push'](_0x5e8b74['shift']());}}}(_0x57d3,0xe1494));Object['defineProperty'](exports,_0x692729(0x1ba),{'value':!![]}),exports[_0x692729(0x1af)]=void 0x0;const store_1=require('../../../common/store'),common_1=require('@nestjs/common'),axios_1=require(_0x692729(0x1c9)),axIns=axios_1['default'][_0x692729(0x1a5)]();function _0x57d3(){const _0x292748=['766685glDXwo','9stbGIa','__esModule','mjRelaxProxyHost','env','use','mjFastProxyHost','data','未配置MJ绘图设置或不合法的MJ绘图设置','baseURL','headers','response','[MJP请求响应]','length','test','[MJP请求参数]','replace','axios','4735WcjQdM','mjProxy','mjProxyHost','url','accountFilter','--relax','1932808ImZnWw','181810LKNmdn','log','mjRelaxProxySecert','--fast','[MJP请求地址]','mjFastProxySecert','10911852USKqnh','2959ySDdJx','MjConfig','create','GOMAXAI_HOST','relax','request','4878SSmopo','2PvvwWW','mjFaceProxyHost','https://','/api/midjourney/notify','Logger','mjpRequest','mjModel','mode','interceptors','reject','prompt','3100677BjpaOB','6657772CuMNxi','[MJP请求失败]'];_0x57d3=function(){return _0x292748;};return _0x57d3();}axIns['interceptors'][_0x692729(0x1a8)][_0x692729(0x1bd)](function(_0x4f7018){const _0x26295e=_0x692729;common_1[_0x26295e(0x1ae)][_0x26295e(0x19d)](_0x26295e(0x1a0),_0x4f7018[_0x26295e(0x1cd)]);const _0x1ee713={};for(let _0x30c8b4 in _0x4f7018[_0x26295e(0x1bf)]){_0x4f7018[_0x26295e(0x1bf)][_0x30c8b4]?.[_0x26295e(0x1c5)]>0x64?_0x1ee713[_0x30c8b4]=_0x4f7018[_0x26295e(0x1bf)][_0x30c8b4]['substring'](0x0,0x64):_0x1ee713[_0x30c8b4]=_0x4f7018[_0x26295e(0x1bf)][_0x30c8b4];}return common_1['Logger']['log'](_0x26295e(0x1c7),_0x1ee713),_0x4f7018;},function(_0x1d0b30){const _0x209297=_0x692729;return Promise[_0x209297(0x1b3)](_0x1d0b30);}),axIns[_0x692729(0x1b2)][_0x692729(0x1c3)][_0x692729(0x1bd)](function(_0x3fa81b){const _0x416344=_0x692729;return common_1[_0x416344(0x1ae)][_0x416344(0x19d)](_0x416344(0x1c4),_0x3fa81b[_0x416344(0x1bf)]),_0x3fa81b;},function(_0x7c6779){const _0x3ede24=_0x692729;return console[_0x3ede24(0x19d)](_0x3ede24(0x1b7),_0x7c6779),Promise['reject'](_0x7c6779);});const mjpRequest=async function(_0x5a22d9,_0x5903bc=''){const _0xf3178=_0x692729;if(!store_1['MjConfig']['mjRelaxProxyHost']&&!store_1[_0xf3178(0x1a4)][_0xf3178(0x1be)]&&!store_1[_0xf3178(0x1a4)][_0xf3178(0x1cc)])throw new Error(_0xf3178(0x1c0));if(store_1[_0xf3178(0x1a4)][_0xf3178(0x1b0)]===_0xf3178(0x1cb))_0x5a22d9['baseURL']=store_1['MjConfig'][_0xf3178(0x1cc)],_0x5a22d9[_0xf3178(0x1c2)]={'mj-api-secret':store_1[_0xf3178(0x1a4)]['mjProxySecert']};else{let _0x50e1e7='',_0x3b198f={};_0x5903bc==='face'&&store_1[_0xf3178(0x1a4)]['mjFaceProxyHost']?(_0x50e1e7=store_1['MjConfig'][_0xf3178(0x1ab)],_0x3b198f={'mj-api-secret':store_1[_0xf3178(0x1a4)]['mjFaceProxySecert']}):(_0x5a22d9[_0xf3178(0x1bf)]?.[_0xf3178(0x1b1)]===_0xf3178(0x1a7)&&(_0x50e1e7=store_1['MjConfig'][_0xf3178(0x1bb)],_0x3b198f={'mj-api-secret':store_1[_0xf3178(0x1a4)][_0xf3178(0x19e)]}),!_0x50e1e7&&(_0x50e1e7=store_1[_0xf3178(0x1a4)][_0xf3178(0x1be)],_0x3b198f={'mj-api-secret':store_1[_0xf3178(0x1a4)][_0xf3178(0x1a1)]})),_0x5a22d9[_0xf3178(0x1c1)]=_0x50e1e7,_0x5a22d9[_0xf3178(0x1c2)]=_0x3b198f,_0x5a22d9[_0xf3178(0x1bf)]?.['mode']&&(_0x5a22d9[_0xf3178(0x1bf)][_0xf3178(0x1b4)]&&(_0x5a22d9[_0xf3178(0x1bf)][_0xf3178(0x1b4)]=_0x5a22d9[_0xf3178(0x1bf)][_0xf3178(0x1b4)]['replace'](_0xf3178(0x19a),'')[_0xf3178(0x1c8)](_0xf3178(0x19f),''))),_0x5a22d9[_0xf3178(0x1bf)]&&delete _0x5a22d9[_0xf3178(0x1bf)][_0xf3178(0x1b1)];}if(_0x5a22d9[_0xf3178(0x1bf)]){let _0x55e514=process[_0xf3178(0x1bc)][_0xf3178(0x1a6)];!/^http/[_0xf3178(0x1c6)](_0x55e514)&&(_0x55e514=_0xf3178(0x1ac)+_0x55e514);const _0x477511=/swap|blend|describe|imagine|modal|action/;_0x477511[_0xf3178(0x1c6)](_0x5a22d9[_0xf3178(0x1cd)])&&(_0x5a22d9[_0xf3178(0x1bf)]['notifyHook']=_0x55e514+_0xf3178(0x1ad)),!_0x5a22d9[_0xf3178(0x1bf)][_0xf3178(0x1ce)]&&delete _0x5a22d9[_0xf3178(0x1bf)][_0xf3178(0x1ce)];}const _0x17ff6b=await axIns(_0x5a22d9);return _0x17ff6b[_0xf3178(0x1bf)];};exports[_0x692729(0x1af)]=mjpRequest;