'use strict';const _0x100358=_0x1dcc;function _0x5f3c(){const _0x102cbf=['accountFilter','mjProxy','--fast','1447182UxfPxX','request','1099280qmnBxC','length','url','Logger','replace','notifyHook','GOMAXAI_HOST','mjRelaxProxySecert','default','log','2857566OKWrIv','prompt','mjFaceProxyHost','create','defineProperty','未配置MJ绘图设置或不合法的MJ绘图设置','4Tbodcj','mjModel','3058958HMfidu','10IXjwXt','axios','@nestjs/common','[MJP请求失败]','MjConfig','response','92322osFERw','use','reject','/api/midjourney/notify','476981RVRnkm','env','face','mjProxyHost','--relax','interceptors','../../../common/store','mjpRequest','headers','mjProxySecert','mjFaceProxySecert','12259017ZgtjhD','mjRelaxProxyHost','mode','baseURL','8djCWFv','data'];_0x5f3c=function(){return _0x102cbf;};return _0x5f3c();}(function(_0x4ef238,_0x196fd1){const _0x11cb9d=_0x1dcc,_0x538788=_0x4ef238();while(!![]){try{const _0x56e2c1=parseInt(_0x11cb9d(0x107))/0x1+parseInt(_0x11cb9d(0x103))/0x2+parseInt(_0x11cb9d(0xe8))/0x3*(-parseInt(_0x11cb9d(0xfa))/0x4)+-parseInt(_0x11cb9d(0xea))/0x5+-parseInt(_0x11cb9d(0xf4))/0x6+-parseInt(_0x11cb9d(0xfc))/0x7*(parseInt(_0x11cb9d(0xe3))/0x8)+parseInt(_0x11cb9d(0x112))/0x9*(parseInt(_0x11cb9d(0xfd))/0xa);if(_0x56e2c1===_0x196fd1)break;else _0x538788['push'](_0x538788['shift']());}catch(_0x5e8073){_0x538788['push'](_0x538788['shift']());}}}(_0x5f3c,0x41db6));Object[_0x100358(0xf8)](exports,'__esModule',{'value':!![]}),exports[_0x100358(0x10e)]=void 0x0;const store_1=require(_0x100358(0x10d)),common_1=require(_0x100358(0xff)),axios_1=require(_0x100358(0xfe)),axIns=axios_1[_0x100358(0xf2)][_0x100358(0xf7)]();axIns[_0x100358(0x10c)][_0x100358(0xe9)][_0x100358(0x104)](function(_0x55344a){const _0x359b48=_0x100358;common_1[_0x359b48(0xed)]['log']('[MJP请求地址]',_0x55344a[_0x359b48(0xec)]);const _0x5a3e90={};for(let _0x3333ce in _0x55344a['data']){_0x55344a['data'][_0x3333ce]?.[_0x359b48(0xeb)]>0x64?_0x5a3e90[_0x3333ce]=_0x55344a[_0x359b48(0xe4)][_0x3333ce]['substring'](0x0,0x64):_0x5a3e90[_0x3333ce]=_0x55344a['data'][_0x3333ce];}return common_1[_0x359b48(0xed)][_0x359b48(0xf3)]('[MJP请求参数]',_0x5a3e90),_0x55344a;},function(_0x2f2434){return Promise['reject'](_0x2f2434);}),axIns[_0x100358(0x10c)][_0x100358(0x102)]['use'](function(_0x5ad9de){const _0xa51132=_0x100358;return common_1[_0xa51132(0xed)][_0xa51132(0xf3)]('[MJP请求响应]',_0x5ad9de['data']),_0x5ad9de;},function(_0x4a2971){const _0x4bcdba=_0x100358;return console[_0x4bcdba(0xf3)](_0x4bcdba(0x100),_0x4a2971),Promise[_0x4bcdba(0x105)](_0x4a2971);});function _0x1dcc(_0x16bd7c,_0x423448){const _0x5f3c4b=_0x5f3c();return _0x1dcc=function(_0x1dcc4f,_0x4bc2e5){_0x1dcc4f=_0x1dcc4f-0xe1;let _0x4fbbf2=_0x5f3c4b[_0x1dcc4f];return _0x4fbbf2;},_0x1dcc(_0x16bd7c,_0x423448);}const mjpRequest=async function(_0x495100,_0x58bb18=''){const _0x1a3512=_0x100358;if(!store_1[_0x1a3512(0x101)][_0x1a3512(0x113)]&&!store_1[_0x1a3512(0x101)]['mjFastProxyHost']&&!store_1[_0x1a3512(0x101)][_0x1a3512(0x10a)])throw new Error(_0x1a3512(0xf9));if(store_1[_0x1a3512(0x101)][_0x1a3512(0xfb)]===_0x1a3512(0xe6))_0x495100['baseURL']=store_1[_0x1a3512(0x101)]['mjProxyHost'],_0x495100[_0x1a3512(0x10f)]={'mj-api-secret':store_1[_0x1a3512(0x101)][_0x1a3512(0x110)]};else{let _0x275b9b='',_0x57deea={};_0x58bb18===_0x1a3512(0x109)&&store_1[_0x1a3512(0x101)][_0x1a3512(0xf6)]?(_0x275b9b=store_1[_0x1a3512(0x101)]['mjFaceProxyHost'],_0x57deea={'mj-api-secret':store_1[_0x1a3512(0x101)][_0x1a3512(0x111)]}):(_0x495100['data']?.[_0x1a3512(0xe1)]==='relax'&&(_0x275b9b=store_1[_0x1a3512(0x101)][_0x1a3512(0x113)],_0x57deea={'mj-api-secret':store_1['MjConfig'][_0x1a3512(0xf1)]}),!_0x275b9b&&(_0x275b9b=store_1[_0x1a3512(0x101)]['mjFastProxyHost'],_0x57deea={'mj-api-secret':store_1[_0x1a3512(0x101)]['mjFastProxySecert']})),_0x495100[_0x1a3512(0xe2)]=_0x275b9b,_0x495100['headers']=_0x57deea,_0x495100[_0x1a3512(0xe4)]?.['mode']&&(_0x495100[_0x1a3512(0xe4)][_0x1a3512(0xf5)]&&(_0x495100[_0x1a3512(0xe4)][_0x1a3512(0xf5)]=_0x495100[_0x1a3512(0xe4)]['prompt'][_0x1a3512(0xee)](_0x1a3512(0x10b),'')['replace'](_0x1a3512(0xe7),''))),_0x495100[_0x1a3512(0xe4)]&&delete _0x495100[_0x1a3512(0xe4)]['mode'];}if(_0x495100[_0x1a3512(0xe4)]){let _0x2fcfb9=process[_0x1a3512(0x108)][_0x1a3512(0xf0)];!/^http/['test'](_0x2fcfb9)&&(_0x2fcfb9='https://'+_0x2fcfb9);const _0xf0916=/swap|blend|describe|imagine|modal|action/;_0xf0916['test'](_0x495100[_0x1a3512(0xec)])&&(_0x495100[_0x1a3512(0xe4)][_0x1a3512(0xef)]=_0x2fcfb9+_0x1a3512(0x106)),!_0x495100[_0x1a3512(0xe4)][_0x1a3512(0xe5)]&&delete _0x495100['data'][_0x1a3512(0xe5)];}const _0x5b4d8b=await axIns(_0x495100);return _0x5b4d8b[_0x1a3512(0xe4)];};exports[_0x100358(0x10e)]=mjpRequest;