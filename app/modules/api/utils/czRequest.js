'use strict';const _0x296e5f=_0x481b;function _0x40a3(){const _0x517556=['url','create','36549aubZcM','2816eEuciN','czProxyToken','561CGaGgE','log','msg','reject','2812bAHNLk','未配置触站绘图设置','env','test','6HnMOxZ','data','substring','311664gLWGMN','length','czProxyHost','Logger','baseURL','config','/api/midjourney/notify-sd','code','use','3hbbpOx','__esModule','axios','response','headers','[CZ请求参数]','4717525aEOXnB','CZConfig','czRequest','396rpSMVb','GOMAXAI_HOST','2420380lnVIVK','13928430AJbqBL','10299051AXnjuC','request'];_0x40a3=function(){return _0x517556;};return _0x40a3();}(function(_0x484b56,_0x5e48f2){const _0xa3cfda=_0x481b,_0x19d6f0=_0x484b56();while(!![]){try{const _0x4bd874=-parseInt(_0xa3cfda(0x7a))/0x1*(parseInt(_0xa3cfda(0x89))/0x2)+-parseInt(_0xa3cfda(0x71))/0x3*(-parseInt(_0xa3cfda(0x7c))/0x4)+parseInt(_0xa3cfda(0x77))/0x5+-parseInt(_0xa3cfda(0x8d))/0x6*(parseInt(_0xa3cfda(0x7e))/0x7)+-parseInt(_0xa3cfda(0x83))/0x8*(parseInt(_0xa3cfda(0x82))/0x9)+parseInt(_0xa3cfda(0x7d))/0xa+-parseInt(_0xa3cfda(0x85))/0xb*(-parseInt(_0xa3cfda(0x90))/0xc);if(_0x4bd874===_0x5e48f2)break;else _0x19d6f0['push'](_0x19d6f0['shift']());}catch(_0x225032){_0x19d6f0['push'](_0x19d6f0['shift']());}}}(_0x40a3,0xc561a));Object['defineProperty'](exports,_0x296e5f(0x72),{'value':!![]}),exports[_0x296e5f(0x79)]=void 0x0;const store_1=require('../../../common/store'),common_1=require('@nestjs/common'),axios_1=require(_0x296e5f(0x73)),axIns=axios_1['default'][_0x296e5f(0x81)]();axIns['interceptors'][_0x296e5f(0x7f)]['use'](function(_0x408405){const _0x4714e8=_0x296e5f;common_1['Logger'][_0x4714e8(0x86)]('[CZ请求地址]',_0x408405['url']);const _0x1e5219={};for(let _0x1a42a3 in _0x408405[_0x4714e8(0x8e)]){_0x408405[_0x4714e8(0x8e)][_0x1a42a3]?.[_0x4714e8(0x91)]>0x64?_0x1e5219[_0x1a42a3]=_0x408405[_0x4714e8(0x8e)][_0x1a42a3][_0x4714e8(0x8f)](0x0,0x64):_0x1e5219[_0x1a42a3]=_0x408405['data'][_0x1a42a3];}return common_1[_0x4714e8(0x93)][_0x4714e8(0x86)](_0x4714e8(0x76),_0x1e5219),_0x408405;},function(_0x46e7dc){const _0x9164a7=_0x296e5f;return Promise[_0x9164a7(0x88)](_0x46e7dc);}),axIns['interceptors'][_0x296e5f(0x74)][_0x296e5f(0x70)](function(_0x5a1a6f){const _0x63222a=_0x296e5f;return!/customModel/[_0x63222a(0x8c)](_0x5a1a6f[_0x63222a(0x6d)][_0x63222a(0x80)])&&common_1['Logger'][_0x63222a(0x86)]('[CZ请求响应]',_0x5a1a6f[_0x63222a(0x8e)]),_0x5a1a6f;},function(_0xd5d81){const _0x1749d2=_0x296e5f;return Promise[_0x1749d2(0x88)](_0xd5d81);});const czRequest=async function ICZRes(_0x5b0666){const _0xb2a726=_0x296e5f;if(store_1[_0xb2a726(0x78)][_0xb2a726(0x92)]&&store_1[_0xb2a726(0x78)][_0xb2a726(0x84)])_0x5b0666[_0xb2a726(0x94)]=store_1[_0xb2a726(0x78)]['czProxyHost'],_0x5b0666[_0xb2a726(0x75)]={'Auth-Token':store_1[_0xb2a726(0x78)][_0xb2a726(0x84)]};else throw new Error(_0xb2a726(0x8a));if(_0x5b0666['data']){let _0x2031a8=process[_0xb2a726(0x8b)][_0xb2a726(0x7b)];!/^http/[_0xb2a726(0x8c)](_0x2031a8)&&(_0x2031a8='https://'+_0x2031a8);if(/\/workflow\/run/[_0xb2a726(0x8c)](_0x5b0666['url']))_0x5b0666[_0xb2a726(0x8e)]['callback']=_0x2031a8+'/api/midjourney/notify-wf';else/\/aiapi\/v1\/draw|\/aiapi\/v1\/inpaint/[_0xb2a726(0x8c)](_0x5b0666[_0xb2a726(0x80)])&&(_0x5b0666['data']['callback']=_0x2031a8+_0xb2a726(0x6e));}const _0x243aab=await axIns(_0x5b0666);if(_0x243aab[_0xb2a726(0x8e)][_0xb2a726(0x6f)]!==0x0)throw new Error(_0x243aab[_0xb2a726(0x8e)][_0xb2a726(0x87)]);return _0x243aab[_0xb2a726(0x8e)]['data'];};function _0x481b(_0x3defa0,_0x197ad6){const _0x40a365=_0x40a3();return _0x481b=function(_0x481b3b,_0x185754){_0x481b3b=_0x481b3b-0x6d;let _0x243bde=_0x40a365[_0x481b3b];return _0x243bde;},_0x481b(_0x3defa0,_0x197ad6);}exports['czRequest']=czRequest;