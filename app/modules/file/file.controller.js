'use strict';const _0x330d10=_0x1f54;(function(_0xb81ebf,_0x580028){const _0x692a1d=_0x1f54,_0x5bd67b=_0xb81ebf();while(!![]){try{const _0x51e693=-parseInt(_0x692a1d(0x197))/0x1*(-parseInt(_0x692a1d(0x183))/0x2)+parseInt(_0x692a1d(0x19d))/0x3*(parseInt(_0x692a1d(0x19b))/0x4)+-parseInt(_0x692a1d(0x18c))/0x5+-parseInt(_0x692a1d(0x192))/0x6+-parseInt(_0x692a1d(0x1a4))/0x7+-parseInt(_0x692a1d(0x17c))/0x8*(parseInt(_0x692a1d(0x1a2))/0x9)+parseInt(_0x692a1d(0x193))/0xa;if(_0x51e693===_0x580028)break;else _0x5bd67b['push'](_0x5bd67b['shift']());}catch(_0x265cb7){_0x5bd67b['push'](_0x5bd67b['shift']());}}}(_0x4fdd,0x42dac));function _0x4fdd(){const _0x45e964=['length','774UAIfou','getModalImgById','2517690lvIUKd','design:returntype','buffer','@nestjs/swagger','FileController','__metadata','metadata','Req','object','Body','./file.service','@nestjs/platform-express','上传文件','37656cgqqXQ','UploadedFile','ApiBearerAuth','__decorate','__param','upload','ApiOperation','1590maJSAh','UseInterceptors','getProxyRequest','Post','file','url','Get','from','Res','2243285NbJURF','fileService','通过url下载文件，解决跨域问题','UploaderDto','@nestjs/common','Query','1009164EoglXV','10147840cmaGzA','toString','design:type','binary','359OBmIxM','decorate','getOwnPropertyDescriptor','__esModule','141988gtEcBU','defineProperty','30LGBiNK','uploadFile','prototype','design:paramtypes'];_0x4fdd=function(){return _0x45e964;};return _0x4fdd();}var __decorate=this&&this[_0x330d10(0x17f)]||function(_0x14af21,_0x418bbc,_0x3b5718,_0x385c1b){const _0x5e53d8=_0x330d10;var _0x18f028=arguments[_0x5e53d8(0x1a1)],_0x18b254=_0x18f028<0x3?_0x418bbc:_0x385c1b===null?_0x385c1b=Object[_0x5e53d8(0x199)](_0x418bbc,_0x3b5718):_0x385c1b,_0x3926bd;if(typeof Reflect===_0x5e53d8(0x177)&&typeof Reflect['decorate']==='function')_0x18b254=Reflect[_0x5e53d8(0x198)](_0x14af21,_0x418bbc,_0x3b5718,_0x385c1b);else{for(var _0x79add=_0x14af21[_0x5e53d8(0x1a1)]-0x1;_0x79add>=0x0;_0x79add--)if(_0x3926bd=_0x14af21[_0x79add])_0x18b254=(_0x18f028<0x3?_0x3926bd(_0x18b254):_0x18f028>0x3?_0x3926bd(_0x418bbc,_0x3b5718,_0x18b254):_0x3926bd(_0x418bbc,_0x3b5718))||_0x18b254;}return _0x18f028>0x3&&_0x18b254&&Object[_0x5e53d8(0x19c)](_0x418bbc,_0x3b5718,_0x18b254),_0x18b254;},__metadata=this&&this[_0x330d10(0x174)]||function(_0x135e59,_0x8789ab){const _0x4d6f53=_0x330d10;if(typeof Reflect===_0x4d6f53(0x177)&&typeof Reflect[_0x4d6f53(0x175)]==='function')return Reflect['metadata'](_0x135e59,_0x8789ab);},__param=this&&this[_0x330d10(0x180)]||function(_0xb3d0bd,_0x38fb68){return function(_0x318325,_0x6a377){_0x38fb68(_0x318325,_0x6a377,_0xb3d0bd);};};Object['defineProperty'](exports,_0x330d10(0x19a),{'value':!![]}),exports[_0x330d10(0x173)]=void 0x0;function _0x1f54(_0x1e3e6d,_0x2df037){const _0x4fdd99=_0x4fdd();return _0x1f54=function(_0x1f54e3,_0x1ccb41){_0x1f54e3=_0x1f54e3-0x173;let _0x54c073=_0x4fdd99[_0x1f54e3];return _0x54c073;},_0x1f54(_0x1e3e6d,_0x2df037);}const file_service_1=require(_0x330d10(0x179)),common_1=require(_0x330d10(0x190)),swagger_1=require(_0x330d10(0x1a7)),platform_express_1=require(_0x330d10(0x17a)),uploder_dto_1=require('./dto/uploder.dto');let FileController=class FileController{constructor(_0x544216){const _0x1285b1=_0x330d10;this[_0x1285b1(0x18d)]=_0x544216;}async[_0x330d10(0x19e)](_0x428c7d,_0x209eda){const _0x121ffc=_0x330d10,_0x557bc2=Buffer[_0x121ffc(0x18a)](_0x209eda['originalname'],_0x121ffc(0x196))[_0x121ffc(0x194)]('utf-8');return this['fileService'][_0x121ffc(0x19e)]({'filename':_0x557bc2,'buffer':_0x209eda[_0x121ffc(0x1a6)],..._0x428c7d});}async[_0x330d10(0x185)](_0x169830,_0x125d57,_0x41f2f3){const _0x2c2b0f=_0x330d10;return this[_0x2c2b0f(0x18d)]['downFile'](_0x169830,_0x125d57,_0x41f2f3);}async[_0x330d10(0x1a3)](_0x55ed1f){const _0x3475ad=_0x330d10;return this[_0x3475ad(0x18d)][_0x3475ad(0x1a3)](_0x55ed1f);}};__decorate([(0x0,common_1[_0x330d10(0x186)])(_0x330d10(0x181)),(0x0,swagger_1[_0x330d10(0x182)])({'summary':_0x330d10(0x17b)}),(0x0,common_1[_0x330d10(0x184)])((0x0,platform_express_1['FileInterceptor'])('file',{'preservePath':!![],'limits':{'fileSize':0x200*0x400*0x400}})),__param(0x0,(0x0,common_1[_0x330d10(0x178)])()),__param(0x1,(0x0,common_1[_0x330d10(0x17d)])()),__metadata('design:type',Function),__metadata('design:paramtypes',[uploder_dto_1[_0x330d10(0x18f)],Object]),__metadata(_0x330d10(0x1a5),Promise)],FileController['prototype'],_0x330d10(0x19e),null),__decorate([(0x0,common_1[_0x330d10(0x189)])('down'),(0x0,swagger_1['ApiOperation'])({'summary':_0x330d10(0x18e)}),__param(0x0,(0x0,common_1[_0x330d10(0x191)])(_0x330d10(0x188))),__param(0x1,(0x0,common_1[_0x330d10(0x176)])()),__param(0x2,(0x0,common_1[_0x330d10(0x18b)])()),__metadata(_0x330d10(0x195),Function),__metadata(_0x330d10(0x1a0),[String,Object,Object]),__metadata('design:returntype',Promise)],FileController['prototype'],_0x330d10(0x185),null),__decorate([(0x0,common_1[_0x330d10(0x189)])('getModalImgById'),(0x0,swagger_1[_0x330d10(0x182)])({'summary':'通过任务id获取原始任务的图片base64，并解决跨域问题'}),(0x0,swagger_1[_0x330d10(0x17e)])(),__param(0x0,(0x0,common_1[_0x330d10(0x176)])()),__metadata(_0x330d10(0x195),Function),__metadata(_0x330d10(0x1a0),[Object]),__metadata(_0x330d10(0x1a5),Promise)],FileController[_0x330d10(0x19f)],'getModalImgById',null),FileController=__decorate([(0x0,swagger_1['ApiTags'])(_0x330d10(0x187)),(0x0,common_1['Controller'])(_0x330d10(0x187)),__metadata(_0x330d10(0x1a0),[file_service_1['FileService']])],FileController),exports['FileController']=FileController;