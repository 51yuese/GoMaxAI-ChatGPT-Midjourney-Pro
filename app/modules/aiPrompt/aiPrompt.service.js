'use strict';const _0x167269=_0x283f;function _0x6036(){const _0x30207a=['__esModule','DESC','10942128wUNHLC','ClsService','__decorate','getReqSaasId','message','505YxbvRC','typeorm','aiPromptEntity','categoryId','promptPage','InjectRepository','AiPromptService','nestjs-cls','../../common/utils','object','Repository','defineProperty','1JmPLqc','length','@nestjs/common','2022ttBtMm','__metadata','clsService','HttpStatus','@nestjs/typeorm','decorate','function','12857859yvoAak','54548mXluRv','8442882bGVIOp','HttpException','findAndCount','design:paramtypes','3668856UDBcZl','Injectable','20064qKXzOO','BAD_REQUEST','AiPromptEntity'];_0x6036=function(){return _0x30207a;};return _0x6036();}(function(_0x2fe6c7,_0x256ab6){const _0x26142b=_0x283f,_0x1c0b41=_0x2fe6c7();while(!![]){try{const _0x27d9a6=parseInt(_0x26142b(0x19c))/0x1*(-parseInt(_0x26142b(0x1a7))/0x2)+-parseInt(_0x26142b(0x184))/0x3+-parseInt(_0x26142b(0x186))/0x4*(-parseInt(_0x26142b(0x190))/0x5)+parseInt(_0x26142b(0x19f))/0x6+-parseInt(_0x26142b(0x1a8))/0x7+parseInt(_0x26142b(0x18b))/0x8+parseInt(_0x26142b(0x1a6))/0x9;if(_0x27d9a6===_0x256ab6)break;else _0x1c0b41['push'](_0x1c0b41['shift']());}catch(_0x2dc6d0){_0x1c0b41['push'](_0x1c0b41['shift']());}}}(_0x6036,0xcecaa));var __decorate=this&&this[_0x167269(0x18d)]||function(_0x1f46c7,_0x358136,_0x3da78f,_0x5abff2){const _0x4663c2=_0x167269;var _0x3f2599=arguments[_0x4663c2(0x19d)],_0x4cb0e3=_0x3f2599<0x3?_0x358136:_0x5abff2===null?_0x5abff2=Object['getOwnPropertyDescriptor'](_0x358136,_0x3da78f):_0x5abff2,_0x5231be;if(typeof Reflect===_0x4663c2(0x199)&&typeof Reflect[_0x4663c2(0x1a4)]===_0x4663c2(0x1a5))_0x4cb0e3=Reflect['decorate'](_0x1f46c7,_0x358136,_0x3da78f,_0x5abff2);else{for(var _0x253e2c=_0x1f46c7[_0x4663c2(0x19d)]-0x1;_0x253e2c>=0x0;_0x253e2c--)if(_0x5231be=_0x1f46c7[_0x253e2c])_0x4cb0e3=(_0x3f2599<0x3?_0x5231be(_0x4cb0e3):_0x3f2599>0x3?_0x5231be(_0x358136,_0x3da78f,_0x4cb0e3):_0x5231be(_0x358136,_0x3da78f))||_0x4cb0e3;}return _0x3f2599>0x3&&_0x4cb0e3&&Object['defineProperty'](_0x358136,_0x3da78f,_0x4cb0e3),_0x4cb0e3;},__metadata=this&&this[_0x167269(0x1a0)]||function(_0x8ea702,_0xcb19c6){if(typeof Reflect==='object'&&typeof Reflect['metadata']==='function')return Reflect['metadata'](_0x8ea702,_0xcb19c6);},__param=this&&this['__param']||function(_0x55aa59,_0x2fadc3){return function(_0x468b6a,_0x36f9df){_0x2fadc3(_0x468b6a,_0x36f9df,_0x55aa59);};};Object[_0x167269(0x19b)](exports,_0x167269(0x189),{'value':!![]}),exports[_0x167269(0x196)]=void 0x0;function _0x283f(_0x164d42,_0x284a65){const _0x6036ed=_0x6036();return _0x283f=function(_0x283fbd,_0xfc1bdd){_0x283fbd=_0x283fbd-0x181;let _0x296c62=_0x6036ed[_0x283fbd];return _0x296c62;},_0x283f(_0x164d42,_0x284a65);}const common_1=require(_0x167269(0x19e)),typeorm_1=require(_0x167269(0x1a3)),typeorm_2=require(_0x167269(0x191)),aiPrompt_entity_1=require('./entity/aiPrompt.entity'),utils_1=require(_0x167269(0x198)),nestjs_cls_1=require(_0x167269(0x197));let AiPromptService=class AiPromptService{constructor(_0x580be1,_0x568aaa){const _0x11338b=_0x167269;this['aiPromptEntity']=_0x580be1,this[_0x11338b(0x1a1)]=_0x568aaa;}async[_0x167269(0x194)](_0xdcd724){const _0x1a2bd1=_0x167269;try{const _0x5e3537=(0x0,utils_1[_0x1a2bd1(0x18e)])(this[_0x1a2bd1(0x1a1)]),{page:page=0x1,size:size=0x14,categoryId:_0x49b10f}=_0xdcd724,_0x1a7714={};_0x1a7714['saasId']=_0x5e3537;_0x49b10f&&(_0x1a7714[_0x1a2bd1(0x193)]=_0x49b10f);const [_0x5a273f,_0x4964f7]=await this[_0x1a2bd1(0x192)][_0x1a2bd1(0x182)]({'where':_0x1a7714,'take':size,'skip':(page-0x1)*size,'order':{'createdAt':_0x1a2bd1(0x18a)}});return{'rows':_0x5a273f,'count':_0x4964f7};}catch(_0x57ebed){throw new common_1[(_0x1a2bd1(0x181))](_0x57ebed[_0x1a2bd1(0x18f)],common_1[_0x1a2bd1(0x1a2)][_0x1a2bd1(0x187)]);}}};AiPromptService=__decorate([(0x0,common_1[_0x167269(0x185)])(),__param(0x0,(0x0,typeorm_1[_0x167269(0x195)])(aiPrompt_entity_1[_0x167269(0x188)])),__metadata(_0x167269(0x183),[typeorm_2[_0x167269(0x19a)],nestjs_cls_1[_0x167269(0x18c)]])],AiPromptService),exports[_0x167269(0x196)]=AiPromptService;