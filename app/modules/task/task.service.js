'use strict';const _0x1cf9ac=_0x5a37;(function(_0x4e5d41,_0x432458){const _0x5902bb=_0x5a37,_0xd346da=_0x4e5d41();while(!![]){try{const _0x113f41=-parseInt(_0x5902bb(0x104))/0x1*(parseInt(_0x5902bb(0x140))/0x2)+parseInt(_0x5902bb(0xf0))/0x3+parseInt(_0x5902bb(0x134))/0x4*(parseInt(_0x5902bb(0x103))/0x5)+-parseInt(_0x5902bb(0x11e))/0x6+-parseInt(_0x5902bb(0x10f))/0x7*(parseInt(_0x5902bb(0x137))/0x8)+parseInt(_0x5902bb(0x130))/0x9*(-parseInt(_0x5902bb(0x131))/0xa)+parseInt(_0x5902bb(0x13b))/0xb;if(_0x113f41===_0x432458)break;else _0xd346da['push'](_0xd346da['shift']());}catch(_0x576104){_0xd346da['push'](_0xd346da['shift']());}}}(_0x47f7,0x71f96));function _0x5a37(_0x12c539,_0x4050a6){const _0x47f753=_0x47f7();return _0x5a37=function(_0x5a3737,_0x3a3cab){_0x5a3737=_0x5a3737-0xe9;let _0x1a6b22=_0x47f753[_0x5a3737];return _0x1a6b22;},_0x5a37(_0x12c539,_0x4050a6);}var __decorate=this&&this[_0x1cf9ac(0x117)]||function(_0x126df4,_0x1cd108,_0x6beaf9,_0x4970e4){const _0x1d621c=_0x1cf9ac;var _0x30bf4b=arguments[_0x1d621c(0x128)],_0x224848=_0x30bf4b<0x3?_0x1cd108:_0x4970e4===null?_0x4970e4=Object[_0x1d621c(0x123)](_0x1cd108,_0x6beaf9):_0x4970e4,_0x513c92;if(typeof Reflect==='object'&&typeof Reflect[_0x1d621c(0x142)]===_0x1d621c(0x143))_0x224848=Reflect['decorate'](_0x126df4,_0x1cd108,_0x6beaf9,_0x4970e4);else{for(var _0x431401=_0x126df4[_0x1d621c(0x128)]-0x1;_0x431401>=0x0;_0x431401--)if(_0x513c92=_0x126df4[_0x431401])_0x224848=(_0x30bf4b<0x3?_0x513c92(_0x224848):_0x30bf4b>0x3?_0x513c92(_0x1cd108,_0x6beaf9,_0x224848):_0x513c92(_0x1cd108,_0x6beaf9))||_0x224848;}return _0x30bf4b>0x3&&_0x224848&&Object[_0x1d621c(0xea)](_0x1cd108,_0x6beaf9,_0x224848),_0x224848;},__metadata=this&&this[_0x1cf9ac(0x12a)]||function(_0x25b1be,_0x2989d2){const _0x576c1f=_0x1cf9ac;if(typeof Reflect===_0x576c1f(0xf3)&&typeof Reflect[_0x576c1f(0x120)]===_0x576c1f(0x143))return Reflect[_0x576c1f(0x120)](_0x25b1be,_0x2989d2);};Object[_0x1cf9ac(0xea)](exports,_0x1cf9ac(0x138),{'value':!![]}),exports['TaskService']=void 0x0;const globalConfig_service_1=require('./../globalConfig/globalConfig.service'),common_1=require('@nestjs/common'),schedule_1=require('@nestjs/schedule'),models_service_1=require(_0x1cf9ac(0x12d)),auth_service_1=require(_0x1cf9ac(0xec)),midjourney_service_1=require(_0x1cf9ac(0x135)),chatLog_service_1=require(_0x1cf9ac(0xf2)),user_service_1=require(_0x1cf9ac(0x10b)),chatgpt_service_1=require(_0x1cf9ac(0xf1)),linkFox_service_1=require(_0x1cf9ac(0x13a));let TaskService=class TaskService{constructor(_0x14917d,_0x403ae1,_0x287ab3,_0x39d242,_0xfb9381,_0x34db39,_0x21d4e6,_0x5936f6){const _0x38ea55=_0x1cf9ac;this['globalConfigService']=_0x14917d,this[_0x38ea55(0x126)]=_0x403ae1,this[_0x38ea55(0x105)]=_0x287ab3,this[_0x38ea55(0x115)]=_0x39d242,this[_0x38ea55(0xfa)]=_0xfb9381,this[_0x38ea55(0xe9)]=_0x34db39,this[_0x38ea55(0xf6)]=_0x21d4e6,this[_0x38ea55(0x139)]=_0x5936f6;}[_0x1cf9ac(0x136)](){const _0x2195d4=_0x1cf9ac;this[_0x2195d4(0xe9)][_0x2195d4(0x132)](),this['midjourneyService'][_0x2195d4(0x112)](),this[_0x2195d4(0x126)][_0x2195d4(0xee)](),this['midjourneyService'][_0x2195d4(0x127)](),this[_0x2195d4(0x105)]['syncLumaTask'](),this[_0x2195d4(0x115)][_0x2195d4(0xf4)](),this[_0x2195d4(0x126)][_0x2195d4(0x102)](),this[_0x2195d4(0x126)][_0x2195d4(0x118)]();}['handleCron'](){const _0xac6fe3=_0x1cf9ac;common_1[_0xac6fe3(0x144)][_0xac6fe3(0x13d)]('Automatically\x20refresh\x20WeChat\x20access\x20every\x20hour\x20Token','TaskService'),this['globalConfigService']['getWechatAccessToken']();}async[_0x1cf9ac(0xf9)](){const _0x31c46c=_0x1cf9ac;try{await this[_0x31c46c(0xe9)][_0x31c46c(0x132)]();}catch(_0x45f16e){common_1['Logger'][_0x31c46c(0x107)](_0x31c46c(0x13c),_0x45f16e);}}async[_0x1cf9ac(0xfe)](){const _0x37cd8a=_0x1cf9ac;await this[_0x37cd8a(0x11a)][_0x37cd8a(0x12f)]();}async[_0x1cf9ac(0x133)](){const _0x369189=_0x1cf9ac;await this[_0x369189(0x11a)][_0x369189(0x10a)]();}[_0x1cf9ac(0x119)](){const _0x5c3f29=_0x1cf9ac;this[_0x5c3f29(0xfa)][_0x5c3f29(0xf7)]();}async[_0x1cf9ac(0x112)](){this['midjourneyService']['syncMjpAccountAutomatic']();}async[_0x1cf9ac(0x114)](){const _0x1b9bbc=_0x1cf9ac;this[_0x1b9bbc(0x126)]['syncTask']();}async[_0x1cf9ac(0x11d)](){this['chatgptService']['syncLumaTask']();}async['syncMjImg'](){const _0x4c28c5=_0x1cf9ac;this[_0x4c28c5(0x126)][_0x4c28c5(0x127)]();}async[_0x1cf9ac(0xed)](){const _0x313923=_0x1cf9ac;this[_0x313923(0x115)][_0x313923(0xf4)]();}async[_0x1cf9ac(0x13f)](){const _0x3c7078=_0x1cf9ac;this[_0x3c7078(0xf6)]['updateVipExpire2Redis']();}async[_0x1cf9ac(0x102)](){const _0x5e80ee=_0x1cf9ac;this['midjourneyService'][_0x5e80ee(0x102)]();}async[_0x1cf9ac(0x118)](){const _0x2d7f87=_0x1cf9ac;this[_0x2d7f87(0x126)][_0x2d7f87(0x118)]();}async['syncLinxFoxGallery'](){const _0x561d9f=_0x1cf9ac;this['linkFoxService'][_0x561d9f(0x111)]();}async[_0x1cf9ac(0x11f)](){const _0x55d9ed=_0x1cf9ac;this[_0x55d9ed(0x139)][_0x55d9ed(0xf8)]();}async['syncPPTTask'](){const _0x7b71d2=_0x1cf9ac;this['chatgptService'][_0x7b71d2(0xef)]();}async[_0x1cf9ac(0x10d)](){const _0x5c053c=_0x1cf9ac;this[_0x5c053c(0x126)][_0x5c053c(0x109)]();}async[_0x1cf9ac(0xeb)](){const _0x2da262=_0x1cf9ac;this[_0x2da262(0x115)][_0x2da262(0x101)]();}};__decorate([(0x0,schedule_1[_0x1cf9ac(0x12b)])(schedule_1[_0x1cf9ac(0x12e)][_0x1cf9ac(0x116)]),__metadata(_0x1cf9ac(0x124),Function),__metadata(_0x1cf9ac(0x11b),[]),__metadata(_0x1cf9ac(0x125),void 0x0)],TaskService[_0x1cf9ac(0xff)],_0x1cf9ac(0x13e),null),__decorate([(0x0,schedule_1[_0x1cf9ac(0x12b)])(schedule_1[_0x1cf9ac(0x12e)][_0x1cf9ac(0x10c)]),__metadata('design:type',Function),__metadata('design:paramtypes',[]),__metadata(_0x1cf9ac(0x125),Promise)],TaskService['prototype'],'WeMiniAKUpdateJob',null),__decorate([(0x0,schedule_1[_0x1cf9ac(0x12b)])(_0x1cf9ac(0x12c)),__metadata(_0x1cf9ac(0x124),Function),__metadata('design:paramtypes',[]),__metadata(_0x1cf9ac(0x125),Promise)],TaskService[_0x1cf9ac(0xff)],'checkAuth',null),__decorate([(0x0,schedule_1['Cron'])(schedule_1[_0x1cf9ac(0x12e)][_0x1cf9ac(0xf5)]),__metadata(_0x1cf9ac(0x124),Function),__metadata(_0x1cf9ac(0x11b),[]),__metadata(_0x1cf9ac(0x125),Promise)],TaskService[_0x1cf9ac(0xff)],_0x1cf9ac(0x133),null),__decorate([(0x0,schedule_1[_0x1cf9ac(0x12b)])(schedule_1[_0x1cf9ac(0x12e)]['EVERY_HOUR']),__metadata(_0x1cf9ac(0x124),Function),__metadata('design:paramtypes',[]),__metadata(_0x1cf9ac(0x125),void 0x0)],TaskService[_0x1cf9ac(0xff)],'refreshBaiduAccessToken',null),__decorate([(0x0,schedule_1[_0x1cf9ac(0x12b)])(schedule_1[_0x1cf9ac(0x12e)][_0x1cf9ac(0xfc)]),__metadata(_0x1cf9ac(0x124),Function),__metadata(_0x1cf9ac(0x11b),[]),__metadata(_0x1cf9ac(0x125),Promise)],TaskService[_0x1cf9ac(0xff)],_0x1cf9ac(0x112),null),__decorate([(0x0,schedule_1[_0x1cf9ac(0x12b)])(schedule_1[_0x1cf9ac(0x12e)][_0x1cf9ac(0x10c)]),__metadata('design:type',Function),__metadata(_0x1cf9ac(0x11b),[]),__metadata(_0x1cf9ac(0x125),Promise)],TaskService[_0x1cf9ac(0xff)],_0x1cf9ac(0x114),null),__decorate([(0x0,schedule_1['Cron'])(schedule_1[_0x1cf9ac(0x12e)][_0x1cf9ac(0x10c)]),__metadata(_0x1cf9ac(0x124),Function),__metadata(_0x1cf9ac(0x11b),[]),__metadata(_0x1cf9ac(0x125),Promise)],TaskService['prototype'],_0x1cf9ac(0x11d),null),__decorate([(0x0,schedule_1['Cron'])(schedule_1[_0x1cf9ac(0x12e)][_0x1cf9ac(0x10c)]),__metadata(_0x1cf9ac(0x124),Function),__metadata('design:paramtypes',[]),__metadata(_0x1cf9ac(0x125),Promise)],TaskService['prototype'],_0x1cf9ac(0x127),null),__decorate([(0x0,schedule_1['Cron'])(schedule_1[_0x1cf9ac(0x12e)]['EVERY_5_MINUTES']),__metadata(_0x1cf9ac(0x124),Function),__metadata(_0x1cf9ac(0x11b),[]),__metadata(_0x1cf9ac(0x125),Promise)],TaskService[_0x1cf9ac(0xff)],_0x1cf9ac(0xed),null),__decorate([(0x0,schedule_1[_0x1cf9ac(0x12b)])(schedule_1[_0x1cf9ac(0x12e)][_0x1cf9ac(0xfc)]),__metadata(_0x1cf9ac(0x124),Function),__metadata(_0x1cf9ac(0x11b),[]),__metadata('design:returntype',Promise)],TaskService['prototype'],_0x1cf9ac(0x13f),null),__decorate([(0x0,schedule_1[_0x1cf9ac(0x12b)])(schedule_1['CronExpression'][_0x1cf9ac(0xfc)]),__metadata('design:type',Function),__metadata(_0x1cf9ac(0x11b),[]),__metadata(_0x1cf9ac(0x125),Promise)],TaskService[_0x1cf9ac(0xff)],_0x1cf9ac(0x102),null),__decorate([(0x0,schedule_1[_0x1cf9ac(0x12b)])(schedule_1[_0x1cf9ac(0x12e)][_0x1cf9ac(0xfc)]),__metadata(_0x1cf9ac(0x124),Function),__metadata(_0x1cf9ac(0x11b),[]),__metadata(_0x1cf9ac(0x125),Promise)],TaskService[_0x1cf9ac(0xff)],_0x1cf9ac(0x118),null),__decorate([(0x0,schedule_1[_0x1cf9ac(0x12b)])(schedule_1[_0x1cf9ac(0x12e)][_0x1cf9ac(0x108)]),__metadata(_0x1cf9ac(0x124),Function),__metadata(_0x1cf9ac(0x11b),[]),__metadata(_0x1cf9ac(0x125),Promise)],TaskService[_0x1cf9ac(0xff)],_0x1cf9ac(0xfd),null),__decorate([(0x0,schedule_1['Cron'])(schedule_1[_0x1cf9ac(0x12e)][_0x1cf9ac(0xfb)]),__metadata(_0x1cf9ac(0x124),Function),__metadata(_0x1cf9ac(0x11b),[]),__metadata(_0x1cf9ac(0x125),Promise)],TaskService[_0x1cf9ac(0xff)],_0x1cf9ac(0x11f),null),__decorate([(0x0,schedule_1[_0x1cf9ac(0x12b)])(schedule_1[_0x1cf9ac(0x12e)]['EVERY_5_SECONDS']),__metadata(_0x1cf9ac(0x124),Function),__metadata(_0x1cf9ac(0x11b),[]),__metadata(_0x1cf9ac(0x125),Promise)],TaskService['prototype'],_0x1cf9ac(0x113),null),__decorate([(0x0,schedule_1[_0x1cf9ac(0x12b)])(schedule_1[_0x1cf9ac(0x12e)][_0x1cf9ac(0x141)]),__metadata(_0x1cf9ac(0x124),Function),__metadata(_0x1cf9ac(0x11b),[]),__metadata(_0x1cf9ac(0x125),Promise)],TaskService[_0x1cf9ac(0xff)],_0x1cf9ac(0x10d),null),__decorate([(0x0,schedule_1[_0x1cf9ac(0x12b)])(schedule_1['CronExpression'][_0x1cf9ac(0xfb)]),__metadata('design:type',Function),__metadata(_0x1cf9ac(0x11b),[]),__metadata(_0x1cf9ac(0x125),Promise)],TaskService['prototype'],'syncMusicTask',null),TaskService=__decorate([(0x0,common_1[_0x1cf9ac(0x129)])(),__metadata(_0x1cf9ac(0x11b),[globalConfig_service_1[_0x1cf9ac(0x10e)],midjourney_service_1[_0x1cf9ac(0x11c)],chatgpt_service_1['ChatgptService'],chatLog_service_1[_0x1cf9ac(0x110)],models_service_1[_0x1cf9ac(0x106)],auth_service_1[_0x1cf9ac(0x121)],user_service_1[_0x1cf9ac(0x122)],linkFox_service_1['LinkFoxService']])],TaskService),exports[_0x1cf9ac(0x100)]=TaskService;function _0x47f7(){const _0x5ef185=['pushLog','../user/user.service','EVERY_5_MINUTES','syncMjTask','GlobalConfigService','160223JFaqRg','ChatLogService','gallery','syncMjpAccountAutomatic','syncPPTTask','syncMjpTask','chatLogService','EVERY_HOUR','__decorate','syncModels','refreshBaiduAccessToken','globalConfigService','design:paramtypes','MidjourneyService','syncLumaTask','1305138JWQLGm','syncLinxFoxTask','metadata','AuthService','UserService','getOwnPropertyDescriptor','design:type','design:returntype','midjourneyService','syncMjImg','length','Injectable','__metadata','Cron','0\x20*/25\x20*\x20*\x20*\x20*','../models/models.service','CronExpression','checkAiAuth','225NOgPOE','91610lfLkuy','renewMiniAccessToken','pushAuthLogs','8aEHrGo','../midjourney/midjourney.service','onModuleInit','304QbUECK','__esModule','linkFoxService','../linkFox/linkFox.service','18943034RebUuV','WeMiniAKUpdateJobï¼š','debug','handleCron','updateVipExpire2Redis','19214XfooKG','EVERY_30_SECONDS','decorate','function','Logger','authService','defineProperty','syncMusicTask','../auth/auth.service','syncMusic','syncTask','batchPPTResult','2052732rigFdN','../chatgpt/chatgpt.service','../chatLog/chatLog.service','object','syncAssets','EVERY_2_HOURS','userService','refreshBaiduAccesstoken','batchMakeInfo','WeMiniAKUpdateJob','modelsService','EVERY_5_SECONDS','EVERY_DAY_AT_MIDNIGHT','syncLinxFoxGallery','checkAuth','prototype','TaskService','batchMusicResult','syncWorkFlowDict','219370ohgKfe','74QunbZn','chatgptService','ModelsService','error','EVERY_12_HOURS','batchTaskResult'];_0x47f7=function(){return _0x5ef185;};return _0x47f7();}