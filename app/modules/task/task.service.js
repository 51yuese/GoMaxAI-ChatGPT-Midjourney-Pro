'use strict';const _0x3ed5a6=_0x1bfa;(function(_0x198b21,_0x5885f5){const _0x31bf78=_0x1bfa,_0x526a33=_0x198b21();while(!![]){try{const _0x580181=-parseInt(_0x31bf78(0x16b))/0x1*(parseInt(_0x31bf78(0x193))/0x2)+-parseInt(_0x31bf78(0x1a3))/0x3+parseInt(_0x31bf78(0x16c))/0x4*(-parseInt(_0x31bf78(0x1b0))/0x5)+parseInt(_0x31bf78(0x183))/0x6*(parseInt(_0x31bf78(0x196))/0x7)+-parseInt(_0x31bf78(0x159))/0x8*(parseInt(_0x31bf78(0x187))/0x9)+parseInt(_0x31bf78(0x179))/0xa*(-parseInt(_0x31bf78(0x189))/0xb)+parseInt(_0x31bf78(0x185))/0xc*(parseInt(_0x31bf78(0x19c))/0xd);if(_0x580181===_0x5885f5)break;else _0x526a33['push'](_0x526a33['shift']());}catch(_0x476aa1){_0x526a33['push'](_0x526a33['shift']());}}}(_0x1d06,0x36d06));function _0x1bfa(_0x3cee0e,_0x42d59f){const _0x1d0648=_0x1d06();return _0x1bfa=function(_0x1bfaa3,_0x23568b){_0x1bfaa3=_0x1bfaa3-0x159;let _0x4275a3=_0x1d0648[_0x1bfaa3];return _0x4275a3;},_0x1bfa(_0x3cee0e,_0x42d59f);}function _0x1d06(){const _0x1335fe=['syncMusicTask','syncLinxFoxGallery','CronExpression','AuthService','design:type','midjourneyService','linkFoxService','syncMusic','../midjourney/midjourney.service','WeMiniAKUpdateJob','updateVipExpire2Redis','30rOvoUh','checkAiAuth','handleCron','syncWorkFlowDict','syncTask','globalConfigService','metadata','authService','EVERY_5_MINUTES','chatLogService','30UiqUgQ','refreshBaiduAccesstoken','1812cOPrjR','pushAuthLogs','3393513tXAQoV','syncMjImg','1636074GcsAGm','refreshBaiduAccessToken','pushLog','../chatLog/chatLog.service','syncLumaTask','debug','syncLinxFoxTask','ModelsService','./../globalConfig/globalConfig.service','@nestjs/common','59412HIVerK','MidjourneyService','Cron','367178YRqjas','batchPPTResult','design:returntype','EVERY_30_SECONDS','GlobalConfigService','__metadata','106847FpNUaJ','function','../chatgpt/chatgpt.service','EVERY_HOUR','prototype','chatgptService','ChatLogService','943827gFqJPN','design:paramtypes','TaskService','batchMusicResult','renewMiniAccessToken','onModuleInit','syncModels','gallery','../models/models.service','../auth/auth.service','Automatically\x20refresh\x20WeChat\x20access\x20every\x20hour\x20Token','userService','checkAuth','265LgxjVN','__esModule','__decorate','error','Logger','8DzelXQ','syncMjTask','syncAssets','syncMjpAccountAutomatic','object','ChatgptService','syncPPTTask','EVERY_DAY_AT_MIDNIGHT','EVERY_12_HOURS','decorate','EVERY_5_SECONDS','defineProperty','0\x20*/25\x20*\x20*\x20*\x20*','../linkFox/linkFox.service','modelsService','LinkFoxService','length','@nestjs/schedule','1fghNMS','8396PfLGQn','batchMakeInfo'];_0x1d06=function(){return _0x1335fe;};return _0x1d06();}var __decorate=this&&this[_0x3ed5a6(0x1b2)]||function(_0x4628df,_0x5db394,_0x2a0b8d,_0x26c19c){const _0x45ef5c=_0x3ed5a6;var _0x2c6c93=arguments['length'],_0xd86c72=_0x2c6c93<0x3?_0x5db394:_0x26c19c===null?_0x26c19c=Object['getOwnPropertyDescriptor'](_0x5db394,_0x2a0b8d):_0x26c19c,_0x54fd20;if(typeof Reflect===_0x45ef5c(0x15d)&&typeof Reflect[_0x45ef5c(0x162)]===_0x45ef5c(0x19d))_0xd86c72=Reflect[_0x45ef5c(0x162)](_0x4628df,_0x5db394,_0x2a0b8d,_0x26c19c);else{for(var _0x3f5e98=_0x4628df[_0x45ef5c(0x169)]-0x1;_0x3f5e98>=0x0;_0x3f5e98--)if(_0x54fd20=_0x4628df[_0x3f5e98])_0xd86c72=(_0x2c6c93<0x3?_0x54fd20(_0xd86c72):_0x2c6c93>0x3?_0x54fd20(_0x5db394,_0x2a0b8d,_0xd86c72):_0x54fd20(_0x5db394,_0x2a0b8d))||_0xd86c72;}return _0x2c6c93>0x3&&_0xd86c72&&Object[_0x45ef5c(0x164)](_0x5db394,_0x2a0b8d,_0xd86c72),_0xd86c72;},__metadata=this&&this[_0x3ed5a6(0x19b)]||function(_0x3a59a5,_0x1dd4c9){const _0x11601d=_0x3ed5a6;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x11601d(0x19d))return Reflect[_0x11601d(0x17f)](_0x3a59a5,_0x1dd4c9);};Object[_0x3ed5a6(0x164)](exports,_0x3ed5a6(0x1b1),{'value':!![]}),exports[_0x3ed5a6(0x1a5)]=void 0x0;const globalConfig_service_1=require(_0x3ed5a6(0x191)),common_1=require(_0x3ed5a6(0x192)),schedule_1=require(_0x3ed5a6(0x16a)),models_service_1=require(_0x3ed5a6(0x1ab)),auth_service_1=require(_0x3ed5a6(0x1ac)),midjourney_service_1=require(_0x3ed5a6(0x176)),chatLog_service_1=require(_0x3ed5a6(0x18c)),user_service_1=require('../user/user.service'),chatgpt_service_1=require(_0x3ed5a6(0x19e)),linkFox_service_1=require(_0x3ed5a6(0x166));let TaskService=class TaskService{constructor(_0x47f2ba,_0x12ba12,_0x530d5b,_0x3295c6,_0x181d4c,_0x56fbb5,_0x2aca90,_0x29ced4){const _0x5b688c=_0x3ed5a6;this[_0x5b688c(0x17e)]=_0x47f2ba,this[_0x5b688c(0x173)]=_0x12ba12,this['chatgptService']=_0x530d5b,this['chatLogService']=_0x3295c6,this[_0x5b688c(0x167)]=_0x181d4c,this['authService']=_0x56fbb5,this[_0x5b688c(0x1ae)]=_0x2aca90,this['linkFoxService']=_0x29ced4;}[_0x3ed5a6(0x1a8)](){const _0x1ba672=_0x3ed5a6;this[_0x1ba672(0x180)][_0x1ba672(0x1a7)](),this[_0x1ba672(0x173)][_0x1ba672(0x15c)](),this[_0x1ba672(0x173)][_0x1ba672(0x17d)](),this[_0x1ba672(0x173)][_0x1ba672(0x188)](),this[_0x1ba672(0x1a1)][_0x1ba672(0x18d)](),this[_0x1ba672(0x182)][_0x1ba672(0x15b)](),this[_0x1ba672(0x173)][_0x1ba672(0x17c)](),this[_0x1ba672(0x173)]['syncModels']();}[_0x3ed5a6(0x17b)](){const _0x15d714=_0x3ed5a6;common_1[_0x15d714(0x1b4)][_0x15d714(0x18e)](_0x15d714(0x1ad),'TaskService'),this[_0x15d714(0x17e)]['getWechatAccessToken']();}async[_0x3ed5a6(0x177)](){const _0x349b97=_0x3ed5a6;try{await this[_0x349b97(0x180)][_0x349b97(0x1a7)]();}catch(_0x5293de){common_1[_0x349b97(0x1b4)][_0x349b97(0x1b3)]('WeMiniAKUpdateJobï¼š',_0x5293de);}}async['checkAuth'](){const _0x171e48=_0x3ed5a6;await this[_0x171e48(0x17e)][_0x171e48(0x17a)]();}async['pushAuthLogs'](){const _0x44b12b=_0x3ed5a6;await this['globalConfigService'][_0x44b12b(0x18b)]();}[_0x3ed5a6(0x18a)](){const _0x50e142=_0x3ed5a6;this[_0x50e142(0x167)][_0x50e142(0x184)]();}async[_0x3ed5a6(0x15c)](){const _0x3c3f11=_0x3ed5a6;this[_0x3c3f11(0x173)]['syncMjpAccountAutomatic']();}async['syncMjpTask'](){const _0x8d2ec7=_0x3ed5a6;this['midjourneyService'][_0x8d2ec7(0x17d)]();}async['syncLumaTask'](){const _0xc09245=_0x3ed5a6;this[_0xc09245(0x1a1)]['syncLumaTask']();}async[_0x3ed5a6(0x188)](){const _0x5e263b=_0x3ed5a6;this[_0x5e263b(0x173)]['syncMjImg']();}async[_0x3ed5a6(0x175)](){const _0x2ccee8=_0x3ed5a6;this[_0x2ccee8(0x182)][_0x2ccee8(0x15b)]();}async[_0x3ed5a6(0x178)](){const _0x1cee84=_0x3ed5a6;this['userService'][_0x1cee84(0x178)]();}async[_0x3ed5a6(0x17c)](){const _0x174b8b=_0x3ed5a6;this[_0x174b8b(0x173)][_0x174b8b(0x17c)]();}async['syncModels'](){const _0x5bf4ad=_0x3ed5a6;this[_0x5bf4ad(0x173)]['syncModels']();}async['syncLinxFoxGallery'](){const _0x124554=_0x3ed5a6;this[_0x124554(0x174)][_0x124554(0x1aa)]();}async[_0x3ed5a6(0x18f)](){const _0x2a8777=_0x3ed5a6;this[_0x2a8777(0x174)][_0x2a8777(0x16d)]();}async[_0x3ed5a6(0x15f)](){const _0x1b725e=_0x3ed5a6;this[_0x1b725e(0x1a1)][_0x1b725e(0x197)]();}async[_0x3ed5a6(0x15a)](){const _0x452970=_0x3ed5a6;this[_0x452970(0x173)]['batchTaskResult']();}async[_0x3ed5a6(0x16e)](){const _0x14cd05=_0x3ed5a6;this['chatLogService'][_0x14cd05(0x1a6)]();}};__decorate([(0x0,schedule_1[_0x3ed5a6(0x195)])(schedule_1['CronExpression'][_0x3ed5a6(0x19f)]),__metadata('design:type',Function),__metadata(_0x3ed5a6(0x1a4),[]),__metadata(_0x3ed5a6(0x198),void 0x0)],TaskService['prototype'],_0x3ed5a6(0x17b),null),__decorate([(0x0,schedule_1[_0x3ed5a6(0x195)])(schedule_1[_0x3ed5a6(0x170)][_0x3ed5a6(0x181)]),__metadata(_0x3ed5a6(0x172),Function),__metadata(_0x3ed5a6(0x1a4),[]),__metadata('design:returntype',Promise)],TaskService[_0x3ed5a6(0x1a0)],_0x3ed5a6(0x177),null),__decorate([(0x0,schedule_1[_0x3ed5a6(0x195)])(_0x3ed5a6(0x165)),__metadata(_0x3ed5a6(0x172),Function),__metadata(_0x3ed5a6(0x1a4),[]),__metadata(_0x3ed5a6(0x198),Promise)],TaskService[_0x3ed5a6(0x1a0)],_0x3ed5a6(0x1af),null),__decorate([(0x0,schedule_1[_0x3ed5a6(0x195)])(schedule_1[_0x3ed5a6(0x170)]['EVERY_2_HOURS']),__metadata(_0x3ed5a6(0x172),Function),__metadata(_0x3ed5a6(0x1a4),[]),__metadata(_0x3ed5a6(0x198),Promise)],TaskService[_0x3ed5a6(0x1a0)],_0x3ed5a6(0x186),null),__decorate([(0x0,schedule_1[_0x3ed5a6(0x195)])(schedule_1[_0x3ed5a6(0x170)][_0x3ed5a6(0x19f)]),__metadata('design:type',Function),__metadata(_0x3ed5a6(0x1a4),[]),__metadata(_0x3ed5a6(0x198),void 0x0)],TaskService[_0x3ed5a6(0x1a0)],_0x3ed5a6(0x18a),null),__decorate([(0x0,schedule_1[_0x3ed5a6(0x195)])(schedule_1['CronExpression'][_0x3ed5a6(0x160)]),__metadata(_0x3ed5a6(0x172),Function),__metadata(_0x3ed5a6(0x1a4),[]),__metadata('design:returntype',Promise)],TaskService[_0x3ed5a6(0x1a0)],'syncMjpAccountAutomatic',null),__decorate([(0x0,schedule_1[_0x3ed5a6(0x195)])(schedule_1[_0x3ed5a6(0x170)]['EVERY_5_MINUTES']),__metadata(_0x3ed5a6(0x172),Function),__metadata(_0x3ed5a6(0x1a4),[]),__metadata(_0x3ed5a6(0x198),Promise)],TaskService[_0x3ed5a6(0x1a0)],'syncMjpTask',null),__decorate([(0x0,schedule_1[_0x3ed5a6(0x195)])(schedule_1[_0x3ed5a6(0x170)]['EVERY_5_MINUTES']),__metadata(_0x3ed5a6(0x172),Function),__metadata(_0x3ed5a6(0x1a4),[]),__metadata(_0x3ed5a6(0x198),Promise)],TaskService['prototype'],_0x3ed5a6(0x18d),null),__decorate([(0x0,schedule_1[_0x3ed5a6(0x195)])(schedule_1['CronExpression']['EVERY_5_MINUTES']),__metadata(_0x3ed5a6(0x172),Function),__metadata('design:paramtypes',[]),__metadata(_0x3ed5a6(0x198),Promise)],TaskService[_0x3ed5a6(0x1a0)],'syncMjImg',null),__decorate([(0x0,schedule_1[_0x3ed5a6(0x195)])(schedule_1[_0x3ed5a6(0x170)][_0x3ed5a6(0x181)]),__metadata('design:type',Function),__metadata(_0x3ed5a6(0x1a4),[]),__metadata(_0x3ed5a6(0x198),Promise)],TaskService[_0x3ed5a6(0x1a0)],_0x3ed5a6(0x175),null),__decorate([(0x0,schedule_1[_0x3ed5a6(0x195)])(schedule_1[_0x3ed5a6(0x170)]['EVERY_DAY_AT_MIDNIGHT']),__metadata(_0x3ed5a6(0x172),Function),__metadata('design:paramtypes',[]),__metadata(_0x3ed5a6(0x198),Promise)],TaskService[_0x3ed5a6(0x1a0)],_0x3ed5a6(0x178),null),__decorate([(0x0,schedule_1[_0x3ed5a6(0x195)])(schedule_1[_0x3ed5a6(0x170)][_0x3ed5a6(0x160)]),__metadata('design:type',Function),__metadata(_0x3ed5a6(0x1a4),[]),__metadata(_0x3ed5a6(0x198),Promise)],TaskService['prototype'],_0x3ed5a6(0x17c),null),__decorate([(0x0,schedule_1[_0x3ed5a6(0x195)])(schedule_1[_0x3ed5a6(0x170)][_0x3ed5a6(0x160)]),__metadata(_0x3ed5a6(0x172),Function),__metadata('design:paramtypes',[]),__metadata('design:returntype',Promise)],TaskService[_0x3ed5a6(0x1a0)],_0x3ed5a6(0x1a9),null),__decorate([(0x0,schedule_1['Cron'])(schedule_1[_0x3ed5a6(0x170)][_0x3ed5a6(0x161)]),__metadata(_0x3ed5a6(0x172),Function),__metadata(_0x3ed5a6(0x1a4),[]),__metadata(_0x3ed5a6(0x198),Promise)],TaskService[_0x3ed5a6(0x1a0)],_0x3ed5a6(0x16f),null),__decorate([(0x0,schedule_1[_0x3ed5a6(0x195)])(schedule_1[_0x3ed5a6(0x170)][_0x3ed5a6(0x163)]),__metadata('design:type',Function),__metadata(_0x3ed5a6(0x1a4),[]),__metadata(_0x3ed5a6(0x198),Promise)],TaskService['prototype'],_0x3ed5a6(0x18f),null),__decorate([(0x0,schedule_1['Cron'])(schedule_1[_0x3ed5a6(0x170)][_0x3ed5a6(0x163)]),__metadata('design:type',Function),__metadata(_0x3ed5a6(0x1a4),[]),__metadata('design:returntype',Promise)],TaskService[_0x3ed5a6(0x1a0)],_0x3ed5a6(0x15f),null),__decorate([(0x0,schedule_1[_0x3ed5a6(0x195)])(schedule_1[_0x3ed5a6(0x170)][_0x3ed5a6(0x199)]),__metadata(_0x3ed5a6(0x172),Function),__metadata(_0x3ed5a6(0x1a4),[]),__metadata(_0x3ed5a6(0x198),Promise)],TaskService[_0x3ed5a6(0x1a0)],_0x3ed5a6(0x15a),null),__decorate([(0x0,schedule_1[_0x3ed5a6(0x195)])(schedule_1['CronExpression']['EVERY_5_SECONDS']),__metadata(_0x3ed5a6(0x172),Function),__metadata(_0x3ed5a6(0x1a4),[]),__metadata(_0x3ed5a6(0x198),Promise)],TaskService[_0x3ed5a6(0x1a0)],_0x3ed5a6(0x16e),null),TaskService=__decorate([(0x0,common_1['Injectable'])(),__metadata(_0x3ed5a6(0x1a4),[globalConfig_service_1[_0x3ed5a6(0x19a)],midjourney_service_1[_0x3ed5a6(0x194)],chatgpt_service_1[_0x3ed5a6(0x15e)],chatLog_service_1[_0x3ed5a6(0x1a2)],models_service_1[_0x3ed5a6(0x190)],auth_service_1[_0x3ed5a6(0x171)],user_service_1['UserService'],linkFox_service_1[_0x3ed5a6(0x168)]])],TaskService),exports[_0x3ed5a6(0x1a5)]=TaskService;