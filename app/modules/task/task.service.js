'use strict';function _0x41b6(){const _0x5b5e80=['EVERY_10_SECONDS','syncMjpTask','length','Cron','@nestjs/schedule','Automatically\x20refresh\x20WeChat\x20access\x20every\x20hour\x20Token','syncMusic','512qKJmNE','Logger','UserService','1107040oTucCV','CronExpression','chatgptService','prototype','midjourneyService','ChatgptService','chatLogService','decorate','syncModels','EVERY_5_MINUTES','syncPPTTask','syncMusicTask','batchKnowledgeResult','../coze/coze.service','EVERY_5_SECONDS','EVERY_HOUR','authService','./../globalConfig/globalConfig.service','updateVipExpire2Redis','design:paramtypes','LinkFoxService','syncMjTask','linkFoxService','7675685edwbMB','syncLinxFoxTask','batchMusicResult','modelsService','gallery','ChatLogService','renewMiniAccessToken','syncTask','userService','3966OxeUcD','MidjourneyService','../auth/auth.service','syncMjImg','../chatgpt/chatgpt.service','Injectable','AuthService','EVERY_12_HOURS','56AMGhyV','../linkFox/linkFox.service','pushAuthLogs','__decorate','__esModule','EVERY_DAY_AT_MIDNIGHT','ModelsService','../user/user.service','design:returntype','28600362ujQyyU','@nestjs/common','handleCron','syncKnowledgeProgressTask','pushLog','syncLumaTask','getOwnPropertyDescriptor','0\x20*/25\x20*\x20*\x20*\x20*','onModuleInit','EVERY_2_HOURS','cozeService','117444sithql','1107570NKGNkr','WeMiniAKUpdateJob','error','design:type','batchKnowledgeProgressResult','syncLinxFoxGallery','syncWorkFlowDict','syncKnowledgeTask','refreshBaiduAccesstoken','batchMakeInfo','globalConfigService','864420eGebnZ','../chatLog/chatLog.service','defineProperty','refreshBaiduAccessToken','batchPPTResult','checkAiAuth','EVERY_30_SECONDS','../models/models.service','syncMjpAccountAutomatic','object','WeMiniAKUpdateJobï¼š'];_0x41b6=function(){return _0x5b5e80;};return _0x41b6();}const _0x426650=_0x5c02;(function(_0x23c367,_0x267176){const _0x2c2431=_0x5c02,_0x5c28d2=_0x23c367();while(!![]){try{const _0x432615=-parseInt(_0x2c2431(0x188))/0x1*(parseInt(_0x2c2431(0x1ab))/0x2)+-parseInt(_0x2c2431(0x1c8))/0x3+parseInt(_0x2c2431(0x1d3))/0x4+-parseInt(_0x2c2431(0x1a2))/0x5+parseInt(_0x2c2431(0x1c7))/0x6*(parseInt(_0x2c2431(0x1b3))/0x7)+parseInt(_0x2c2431(0x18b))/0x8+parseInt(_0x2c2431(0x1bc))/0x9;if(_0x432615===_0x267176)break;else _0x5c28d2['push'](_0x5c28d2['shift']());}catch(_0x1a84eb){_0x5c28d2['push'](_0x5c28d2['shift']());}}}(_0x41b6,0xbbcf8));var __decorate=this&&this[_0x426650(0x1b6)]||function(_0x17fd1b,_0x51ff65,_0x13944e,_0x21bcb9){const _0xb35ed5=_0x426650;var _0x2bbe25=arguments[_0xb35ed5(0x1e0)],_0x351858=_0x2bbe25<0x3?_0x51ff65:_0x21bcb9===null?_0x21bcb9=Object[_0xb35ed5(0x1c2)](_0x51ff65,_0x13944e):_0x21bcb9,_0x2e34a6;if(typeof Reflect===_0xb35ed5(0x1dc)&&typeof Reflect['decorate']==='function')_0x351858=Reflect[_0xb35ed5(0x192)](_0x17fd1b,_0x51ff65,_0x13944e,_0x21bcb9);else{for(var _0x214e95=_0x17fd1b['length']-0x1;_0x214e95>=0x0;_0x214e95--)if(_0x2e34a6=_0x17fd1b[_0x214e95])_0x351858=(_0x2bbe25<0x3?_0x2e34a6(_0x351858):_0x2bbe25>0x3?_0x2e34a6(_0x51ff65,_0x13944e,_0x351858):_0x2e34a6(_0x51ff65,_0x13944e))||_0x351858;}return _0x2bbe25>0x3&&_0x351858&&Object[_0xb35ed5(0x1d5)](_0x51ff65,_0x13944e,_0x351858),_0x351858;},__metadata=this&&this['__metadata']||function(_0x204edb,_0x34e203){const _0x2de0c0=_0x426650;if(typeof Reflect===_0x2de0c0(0x1dc)&&typeof Reflect['metadata']==='function')return Reflect['metadata'](_0x204edb,_0x34e203);};Object['defineProperty'](exports,_0x426650(0x1b7),{'value':!![]}),exports['TaskService']=void 0x0;function _0x5c02(_0x5b6f5c,_0x323c12){const _0x41b654=_0x41b6();return _0x5c02=function(_0x5c02dd,_0x234f9b){_0x5c02dd=_0x5c02dd-0x184;let _0xd0b960=_0x41b654[_0x5c02dd];return _0xd0b960;},_0x5c02(_0x5b6f5c,_0x323c12);}const globalConfig_service_1=require(_0x426650(0x19c)),common_1=require(_0x426650(0x1bd)),schedule_1=require(_0x426650(0x185)),models_service_1=require(_0x426650(0x1da)),auth_service_1=require(_0x426650(0x1ad)),midjourney_service_1=require('../midjourney/midjourney.service'),chatLog_service_1=require(_0x426650(0x1d4)),user_service_1=require(_0x426650(0x1ba)),chatgpt_service_1=require(_0x426650(0x1af)),linkFox_service_1=require(_0x426650(0x1b4)),coze_service_1=require(_0x426650(0x198));let TaskService=class TaskService{constructor(_0x46776a,_0x557769,_0x2bebdf,_0xf2d8e6,_0x180584,_0x15b434,_0x55838b,_0x8d4b2a,_0x7ed942){const _0x5f1db9=_0x426650;this[_0x5f1db9(0x1d2)]=_0x46776a,this[_0x5f1db9(0x18f)]=_0x557769,this[_0x5f1db9(0x18d)]=_0x2bebdf,this[_0x5f1db9(0x191)]=_0xf2d8e6,this[_0x5f1db9(0x1a5)]=_0x180584,this[_0x5f1db9(0x19b)]=_0x15b434,this[_0x5f1db9(0x1aa)]=_0x55838b,this['linkFoxService']=_0x8d4b2a,this[_0x5f1db9(0x1c6)]=_0x7ed942;}[_0x426650(0x1c4)](){const _0x33e018=_0x426650;this['authService'][_0x33e018(0x1a8)](),this[_0x33e018(0x18f)][_0x33e018(0x1db)](),this[_0x33e018(0x18f)]['syncTask'](),this[_0x33e018(0x18f)]['syncMjImg'](),this[_0x33e018(0x18d)]['syncLumaTask'](),this[_0x33e018(0x191)]['syncAssets'](),this['midjourneyService'][_0x33e018(0x1ce)](),this[_0x33e018(0x18f)][_0x33e018(0x193)]();}[_0x426650(0x1be)](){const _0x2dd6ad=_0x426650;common_1['Logger']['debug'](_0x2dd6ad(0x186),'TaskService'),this['globalConfigService']['getWechatAccessToken']();}async[_0x426650(0x1c9)](){const _0x4e3a3c=_0x426650;try{await this[_0x4e3a3c(0x19b)][_0x4e3a3c(0x1a8)]();}catch(_0xd85ff0){common_1[_0x4e3a3c(0x189)][_0x4e3a3c(0x1ca)](_0x4e3a3c(0x1dd),_0xd85ff0);}}async['checkAuth'](){const _0x7d6672=_0x426650;await this[_0x7d6672(0x1d2)][_0x7d6672(0x1d8)]();}async['pushAuthLogs'](){const _0x2f22d3=_0x426650;await this[_0x2f22d3(0x1d2)][_0x2f22d3(0x1c0)]();}['refreshBaiduAccessToken'](){const _0x6a31e3=_0x426650;this[_0x6a31e3(0x1a5)][_0x6a31e3(0x1d0)]();}async[_0x426650(0x1db)](){const _0xe11424=_0x426650;this[_0xe11424(0x18f)][_0xe11424(0x1db)]();}async['syncMjpTask'](){const _0x139f81=_0x426650;this[_0x139f81(0x18f)][_0x139f81(0x1a9)]();}async[_0x426650(0x1c1)](){const _0x123906=_0x426650;this[_0x123906(0x18d)]['syncLumaTask']();}async[_0x426650(0x1ae)](){const _0x1c6ff5=_0x426650;this[_0x1c6ff5(0x18f)][_0x1c6ff5(0x1ae)]();}async[_0x426650(0x187)](){const _0x54566f=_0x426650;this[_0x54566f(0x191)]['syncAssets']();}async[_0x426650(0x19d)](){const _0x199ad2=_0x426650;this['userService'][_0x199ad2(0x19d)]();}async[_0x426650(0x1ce)](){const _0x2d9595=_0x426650;this[_0x2d9595(0x18f)]['syncWorkFlowDict']();}async[_0x426650(0x193)](){const _0x5bf1b4=_0x426650;this[_0x5bf1b4(0x18f)][_0x5bf1b4(0x193)]();}async[_0x426650(0x1cd)](){const _0x1adbd3=_0x426650;this[_0x1adbd3(0x1a1)][_0x1adbd3(0x1a6)]();}async[_0x426650(0x1a3)](){const _0x3f851b=_0x426650;this[_0x3f851b(0x1a1)][_0x3f851b(0x1d1)]();}async[_0x426650(0x195)](){const _0x210691=_0x426650;this[_0x210691(0x18d)][_0x210691(0x1d7)]();}async[_0x426650(0x1a0)](){const _0x2d9582=_0x426650;this[_0x2d9582(0x18f)]['batchTaskResult']();}async[_0x426650(0x196)](){const _0x3ec8aa=_0x426650;this[_0x3ec8aa(0x191)][_0x3ec8aa(0x1a4)]();}async['syncKnowledgeTask'](){const _0x2c78b5=_0x426650;this[_0x2c78b5(0x1c6)][_0x2c78b5(0x197)]();}async['syncKnowledgeProgressTask'](){const _0xe8584e=_0x426650;this[_0xe8584e(0x1c6)][_0xe8584e(0x1cc)]();}};__decorate([(0x0,schedule_1[_0x426650(0x184)])(schedule_1[_0x426650(0x18c)][_0x426650(0x19a)]),__metadata(_0x426650(0x1cb),Function),__metadata(_0x426650(0x19e),[]),__metadata(_0x426650(0x1bb),void 0x0)],TaskService[_0x426650(0x18e)],_0x426650(0x1be),null),__decorate([(0x0,schedule_1['Cron'])(schedule_1[_0x426650(0x18c)][_0x426650(0x194)]),__metadata(_0x426650(0x1cb),Function),__metadata(_0x426650(0x19e),[]),__metadata(_0x426650(0x1bb),Promise)],TaskService[_0x426650(0x18e)],_0x426650(0x1c9),null),__decorate([(0x0,schedule_1[_0x426650(0x184)])(_0x426650(0x1c3)),__metadata(_0x426650(0x1cb),Function),__metadata(_0x426650(0x19e),[]),__metadata(_0x426650(0x1bb),Promise)],TaskService[_0x426650(0x18e)],'checkAuth',null),__decorate([(0x0,schedule_1[_0x426650(0x184)])(schedule_1[_0x426650(0x18c)][_0x426650(0x1c5)]),__metadata(_0x426650(0x1cb),Function),__metadata(_0x426650(0x19e),[]),__metadata(_0x426650(0x1bb),Promise)],TaskService['prototype'],_0x426650(0x1b5),null),__decorate([(0x0,schedule_1[_0x426650(0x184)])(schedule_1['CronExpression'][_0x426650(0x19a)]),__metadata(_0x426650(0x1cb),Function),__metadata(_0x426650(0x19e),[]),__metadata(_0x426650(0x1bb),void 0x0)],TaskService[_0x426650(0x18e)],_0x426650(0x1d6),null),__decorate([(0x0,schedule_1[_0x426650(0x184)])(schedule_1[_0x426650(0x18c)][_0x426650(0x1b8)]),__metadata(_0x426650(0x1cb),Function),__metadata(_0x426650(0x19e),[]),__metadata(_0x426650(0x1bb),Promise)],TaskService[_0x426650(0x18e)],_0x426650(0x1db),null),__decorate([(0x0,schedule_1[_0x426650(0x184)])(schedule_1[_0x426650(0x18c)]['EVERY_5_MINUTES']),__metadata(_0x426650(0x1cb),Function),__metadata(_0x426650(0x19e),[]),__metadata(_0x426650(0x1bb),Promise)],TaskService[_0x426650(0x18e)],_0x426650(0x1df),null),__decorate([(0x0,schedule_1['Cron'])(schedule_1['CronExpression'][_0x426650(0x194)]),__metadata(_0x426650(0x1cb),Function),__metadata(_0x426650(0x19e),[]),__metadata('design:returntype',Promise)],TaskService['prototype'],_0x426650(0x1c1),null),__decorate([(0x0,schedule_1['Cron'])(schedule_1[_0x426650(0x18c)][_0x426650(0x194)]),__metadata(_0x426650(0x1cb),Function),__metadata(_0x426650(0x19e),[]),__metadata(_0x426650(0x1bb),Promise)],TaskService[_0x426650(0x18e)],_0x426650(0x1ae),null),__decorate([(0x0,schedule_1['Cron'])(schedule_1[_0x426650(0x18c)][_0x426650(0x194)]),__metadata(_0x426650(0x1cb),Function),__metadata(_0x426650(0x19e),[]),__metadata(_0x426650(0x1bb),Promise)],TaskService[_0x426650(0x18e)],'syncMusic',null),__decorate([(0x0,schedule_1[_0x426650(0x184)])(schedule_1[_0x426650(0x18c)][_0x426650(0x1b8)]),__metadata(_0x426650(0x1cb),Function),__metadata('design:paramtypes',[]),__metadata(_0x426650(0x1bb),Promise)],TaskService[_0x426650(0x18e)],_0x426650(0x19d),null),__decorate([(0x0,schedule_1[_0x426650(0x184)])(schedule_1['CronExpression']['EVERY_DAY_AT_MIDNIGHT']),__metadata('design:type',Function),__metadata('design:paramtypes',[]),__metadata('design:returntype',Promise)],TaskService[_0x426650(0x18e)],_0x426650(0x1ce),null),__decorate([(0x0,schedule_1['Cron'])(schedule_1[_0x426650(0x18c)][_0x426650(0x1b8)]),__metadata(_0x426650(0x1cb),Function),__metadata(_0x426650(0x19e),[]),__metadata(_0x426650(0x1bb),Promise)],TaskService[_0x426650(0x18e)],_0x426650(0x193),null),__decorate([(0x0,schedule_1[_0x426650(0x184)])(schedule_1[_0x426650(0x18c)][_0x426650(0x1b2)]),__metadata(_0x426650(0x1cb),Function),__metadata(_0x426650(0x19e),[]),__metadata('design:returntype',Promise)],TaskService['prototype'],'syncLinxFoxGallery',null),__decorate([(0x0,schedule_1[_0x426650(0x184)])(schedule_1[_0x426650(0x18c)][_0x426650(0x199)]),__metadata(_0x426650(0x1cb),Function),__metadata('design:paramtypes',[]),__metadata(_0x426650(0x1bb),Promise)],TaskService['prototype'],'syncLinxFoxTask',null),__decorate([(0x0,schedule_1['Cron'])(schedule_1[_0x426650(0x18c)][_0x426650(0x199)]),__metadata('design:type',Function),__metadata(_0x426650(0x19e),[]),__metadata(_0x426650(0x1bb),Promise)],TaskService['prototype'],'syncPPTTask',null),__decorate([(0x0,schedule_1[_0x426650(0x184)])(schedule_1[_0x426650(0x18c)][_0x426650(0x1d9)]),__metadata(_0x426650(0x1cb),Function),__metadata(_0x426650(0x19e),[]),__metadata('design:returntype',Promise)],TaskService[_0x426650(0x18e)],_0x426650(0x1a0),null),__decorate([(0x0,schedule_1[_0x426650(0x184)])(schedule_1[_0x426650(0x18c)][_0x426650(0x199)]),__metadata(_0x426650(0x1cb),Function),__metadata(_0x426650(0x19e),[]),__metadata(_0x426650(0x1bb),Promise)],TaskService[_0x426650(0x18e)],'syncMusicTask',null),__decorate([(0x0,schedule_1[_0x426650(0x184)])(schedule_1[_0x426650(0x18c)]['EVERY_30_SECONDS']),__metadata(_0x426650(0x1cb),Function),__metadata(_0x426650(0x19e),[]),__metadata(_0x426650(0x1bb),Promise)],TaskService[_0x426650(0x18e)],_0x426650(0x1cf),null),__decorate([(0x0,schedule_1['Cron'])(schedule_1[_0x426650(0x18c)][_0x426650(0x1de)]),__metadata(_0x426650(0x1cb),Function),__metadata(_0x426650(0x19e),[]),__metadata(_0x426650(0x1bb),Promise)],TaskService['prototype'],_0x426650(0x1bf),null),TaskService=__decorate([(0x0,common_1[_0x426650(0x1b0)])(),__metadata(_0x426650(0x19e),[globalConfig_service_1['GlobalConfigService'],midjourney_service_1[_0x426650(0x1ac)],chatgpt_service_1[_0x426650(0x190)],chatLog_service_1[_0x426650(0x1a7)],models_service_1[_0x426650(0x1b9)],auth_service_1[_0x426650(0x1b1)],user_service_1[_0x426650(0x18a)],linkFox_service_1[_0x426650(0x19f)],coze_service_1['CozeService']])],TaskService),exports['TaskService']=TaskService;