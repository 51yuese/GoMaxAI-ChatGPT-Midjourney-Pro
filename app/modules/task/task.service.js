'use strict';const _0x1f9f04=_0x465f;function _0xcc49(){const _0x1bf9c1=['EVERY_5_MINUTES','chatgptService','renewMiniAccessToken','pushAuthLogs','syncTask','1206jkmoVo','../coze/coze.service','design:paramtypes','handleCron','design:type','authService','decorate','WeMiniAKUpdateJob','225iyZwdi','../midjourney/midjourney.service','pushLog','object','syncMjpAccountAutomatic','metadata','musetalkTaskProgressTask','debug','error','Cron','EVERY_30_SECONDS','syncMjTask','syncMjpTask','../linkFox/linkFox.service','userService','design:returntype','../chatLog/chatLog.service','gallery','syncModels','GlobalConfigService','humanService','modelsService','defineProperty','TaskService','syncWorkFlowDict','syncJMengTask','9247nVEFaT','Logger','updateVipExpire2Redis','__decorate','batchMakeInfo','syncKnowledgeTask','chatLogService','ChatgptService','syncAssets','../auth/auth.service','syncMusic','../human/human.service','@nestjs/schedule','syncLinxFoxTask','musetalkTask','69232UzkYTZ','ChatLogService','syncPPTTask','0\x20*/25\x20*\x20*\x20*\x20*','CozeService','batchTaskResult','midjourneyService','syncMjImg','3536698FMbvlO','2pmoOLx','length','UserService','batchKnowledgeResult','cozeService','syncKnowledgeProgressTask','refreshBaiduAccesstoken','refreshBaiduAccessToken','./../globalConfig/globalConfig.service','linkFoxService','../models/models.service','__esModule','2413455WKRToG','EVERY_HOUR','12OrqMqj','EVERY_5_SECONDS','425304SHOyUd','__metadata','EVERY_10_SECONDS','EVERY_DAY_AT_MIDNIGHT','24462JYxQiW','CronExpression','batchMusicResult','globalConfigService','getOwnPropertyDescriptor','function','@nestjs/common','EVERY_2_HOURS','batchBotProgressResult','syncLinxFoxGallery','prototype','4341530tUpMUB','syncLumaTask'];_0xcc49=function(){return _0x1bf9c1;};return _0xcc49();}(function(_0x536acf,_0x8cc716){const _0x2186bf=_0x465f,_0x42c777=_0x536acf();while(!![]){try{const _0xb4e9b7=parseInt(_0x2186bf(0x137))/0x1*(parseInt(_0x2186bf(0x14b))/0x2)+parseInt(_0x2186bf(0x147))/0x3*(-parseInt(_0x2186bf(0x145))/0x4)+parseInt(_0x2186bf(0x143))/0x5+-parseInt(_0x2186bf(0xfd))/0x6*(-parseInt(_0x2186bf(0x11f))/0x7)+-parseInt(_0x2186bf(0x12e))/0x8*(parseInt(_0x2186bf(0x105))/0x9)+parseInt(_0x2186bf(0xf6))/0xa+-parseInt(_0x2186bf(0x136))/0xb;if(_0xb4e9b7===_0x8cc716)break;else _0x42c777['push'](_0x42c777['shift']());}catch(_0x2f747a){_0x42c777['push'](_0x42c777['shift']());}}}(_0xcc49,0x3b7c7));var __decorate=this&&this[_0x1f9f04(0x122)]||function(_0x16be19,_0x51b109,_0x109775,_0x252823){const _0x5823a2=_0x1f9f04;var _0x25629e=arguments[_0x5823a2(0x138)],_0xcb724b=_0x25629e<0x3?_0x51b109:_0x252823===null?_0x252823=Object[_0x5823a2(0xef)](_0x51b109,_0x109775):_0x252823,_0x42386f;if(typeof Reflect===_0x5823a2(0x108)&&typeof Reflect[_0x5823a2(0x103)]===_0x5823a2(0xf0))_0xcb724b=Reflect['decorate'](_0x16be19,_0x51b109,_0x109775,_0x252823);else{for(var _0x28a0db=_0x16be19['length']-0x1;_0x28a0db>=0x0;_0x28a0db--)if(_0x42386f=_0x16be19[_0x28a0db])_0xcb724b=(_0x25629e<0x3?_0x42386f(_0xcb724b):_0x25629e>0x3?_0x42386f(_0x51b109,_0x109775,_0xcb724b):_0x42386f(_0x51b109,_0x109775))||_0xcb724b;}return _0x25629e>0x3&&_0xcb724b&&Object['defineProperty'](_0x51b109,_0x109775,_0xcb724b),_0xcb724b;},__metadata=this&&this[_0x1f9f04(0x148)]||function(_0x46ae49,_0x1e000b){const _0x41e17d=_0x1f9f04;if(typeof Reflect===_0x41e17d(0x108)&&typeof Reflect[_0x41e17d(0x10a)]==='function')return Reflect[_0x41e17d(0x10a)](_0x46ae49,_0x1e000b);};Object[_0x1f9f04(0x11b)](exports,_0x1f9f04(0x142),{'value':!![]}),exports[_0x1f9f04(0x11c)]=void 0x0;const globalConfig_service_1=require(_0x1f9f04(0x13f)),common_1=require(_0x1f9f04(0xf1)),schedule_1=require(_0x1f9f04(0x12b)),models_service_1=require(_0x1f9f04(0x141)),auth_service_1=require(_0x1f9f04(0x128)),midjourney_service_1=require(_0x1f9f04(0x106)),chatLog_service_1=require(_0x1f9f04(0x115)),user_service_1=require('../user/user.service'),chatgpt_service_1=require('../chatgpt/chatgpt.service'),linkFox_service_1=require(_0x1f9f04(0x112)),coze_service_1=require(_0x1f9f04(0xfe)),human_service_1=require(_0x1f9f04(0x12a));let TaskService=class TaskService{constructor(_0x5a7db9,_0x578727,_0x2c3b13,_0x1f6ad2,_0x499666,_0x34b757,_0x573069,_0x5a14a2,_0x1e8cae,_0x20b0b0){const _0x5f2e9f=_0x1f9f04;this[_0x5f2e9f(0x14e)]=_0x5a7db9,this['midjourneyService']=_0x578727,this[_0x5f2e9f(0xf9)]=_0x2c3b13,this[_0x5f2e9f(0x125)]=_0x1f6ad2,this[_0x5f2e9f(0x11a)]=_0x499666,this[_0x5f2e9f(0x102)]=_0x34b757,this['userService']=_0x573069,this['linkFoxService']=_0x5a14a2,this[_0x5f2e9f(0x13b)]=_0x1e8cae,this[_0x5f2e9f(0x119)]=_0x20b0b0;}['onModuleInit'](){const _0x1dbcca=_0x1f9f04;this[_0x1dbcca(0x102)][_0x1dbcca(0xfa)](),this[_0x1dbcca(0x134)][_0x1dbcca(0x109)](),this['midjourneyService'][_0x1dbcca(0xfc)](),this['midjourneyService'][_0x1dbcca(0x135)](),this[_0x1dbcca(0xf9)][_0x1dbcca(0xf7)](),this[_0x1dbcca(0x125)][_0x1dbcca(0x127)](),this[_0x1dbcca(0x134)][_0x1dbcca(0x11d)](),this[_0x1dbcca(0x134)][_0x1dbcca(0x117)]();}[_0x1f9f04(0x100)](){const _0x4163b4=_0x1f9f04;common_1[_0x4163b4(0x120)][_0x4163b4(0x10c)]('Automatically\x20refresh\x20WeChat\x20access\x20every\x20hour\x20Token',_0x4163b4(0x11c)),this[_0x4163b4(0x14e)]['getWechatAccessToken']();}async[_0x1f9f04(0x104)](){const _0x4921ce=_0x1f9f04;try{await this[_0x4921ce(0x102)][_0x4921ce(0xfa)]();}catch(_0x54ea40){common_1['Logger'][_0x4921ce(0x10d)]('WeMiniAKUpdateJobï¼š',_0x54ea40);}}async['checkAuth'](){const _0x239053=_0x1f9f04;await this[_0x239053(0x14e)]['checkAiAuth']();}async[_0x1f9f04(0xfb)](){const _0x52c8a6=_0x1f9f04;await this['globalConfigService'][_0x52c8a6(0x107)]();}[_0x1f9f04(0x13e)](){const _0x1b3719=_0x1f9f04;this['modelsService'][_0x1b3719(0x13d)]();}async[_0x1f9f04(0x109)](){const _0x1e22cb=_0x1f9f04;this[_0x1e22cb(0x134)][_0x1e22cb(0x109)]();}async[_0x1f9f04(0x111)](){const _0x2b71ff=_0x1f9f04;this[_0x2b71ff(0x134)][_0x2b71ff(0xfc)]();}async[_0x1f9f04(0xf7)](){const _0x4172b2=_0x1f9f04;this['chatgptService'][_0x4172b2(0xf7)]();}async[_0x1f9f04(0x135)](){const _0x59b222=_0x1f9f04;this[_0x59b222(0x134)][_0x59b222(0x135)]();}async['syncMusic'](){const _0x9f28ee=_0x1f9f04;this[_0x9f28ee(0x125)]['syncAssets']();}async[_0x1f9f04(0x121)](){const _0x35ac99=_0x1f9f04;this[_0x35ac99(0x113)][_0x35ac99(0x121)]();}async[_0x1f9f04(0x11d)](){const _0x112b7b=_0x1f9f04;this[_0x112b7b(0x134)][_0x112b7b(0x11d)]();}async[_0x1f9f04(0x117)](){const _0x578651=_0x1f9f04;this[_0x578651(0x134)][_0x578651(0x117)]();}async[_0x1f9f04(0xf4)](){const _0x1a6b26=_0x1f9f04;this[_0x1a6b26(0x140)][_0x1a6b26(0x116)]();}async['syncLinxFoxTask'](){const _0x2fda5c=_0x1f9f04;this[_0x2fda5c(0x140)][_0x2fda5c(0x123)]();}async[_0x1f9f04(0x130)](){const _0x96d1f3=_0x1f9f04;this[_0x96d1f3(0xf9)]['batchPPTResult']();}async[_0x1f9f04(0x110)](){const _0x4586b5=_0x1f9f04;this[_0x4586b5(0x134)][_0x4586b5(0x133)]();}async['syncMusicTask'](){const _0x4e4912=_0x1f9f04;this[_0x4e4912(0x125)][_0x4e4912(0x14d)]();}async[_0x1f9f04(0x124)](){const _0x27581a=_0x1f9f04;this[_0x27581a(0x13b)][_0x27581a(0x13a)]();}async[_0x1f9f04(0xf3)](){const _0x592ff2=_0x1f9f04;this[_0x592ff2(0x13b)][_0x592ff2(0xf3)]();}async[_0x1f9f04(0x13c)](){const _0x1c184e=_0x1f9f04;this[_0x1c184e(0x13b)]['batchKnowledgeProgressResult']();}async['musetalkTaskProgressTask'](){const _0x2aeb40=_0x1f9f04;this[_0x2aeb40(0x119)][_0x2aeb40(0x12d)](),this[_0x2aeb40(0x119)]['voiceResult']();}async[_0x1f9f04(0x11e)](){const _0x387710=_0x1f9f04;this[_0x387710(0x125)][_0x387710(0x11e)]();}};function _0x465f(_0x4f0931,_0x55b8af){const _0xcc49bb=_0xcc49();return _0x465f=function(_0x465ff1,_0x39ee3e){_0x465ff1=_0x465ff1-0xef;let _0x356524=_0xcc49bb[_0x465ff1];return _0x356524;},_0x465f(_0x4f0931,_0x55b8af);}__decorate([(0x0,schedule_1[_0x1f9f04(0x10e)])(schedule_1['CronExpression'][_0x1f9f04(0x144)]),__metadata(_0x1f9f04(0x101),Function),__metadata(_0x1f9f04(0xff),[]),__metadata(_0x1f9f04(0x114),void 0x0)],TaskService[_0x1f9f04(0xf5)],'handleCron',null),__decorate([(0x0,schedule_1[_0x1f9f04(0x10e)])(schedule_1[_0x1f9f04(0x14c)][_0x1f9f04(0xf8)]),__metadata(_0x1f9f04(0x101),Function),__metadata('design:paramtypes',[]),__metadata(_0x1f9f04(0x114),Promise)],TaskService['prototype'],_0x1f9f04(0x104),null),__decorate([(0x0,schedule_1[_0x1f9f04(0x10e)])(_0x1f9f04(0x131)),__metadata(_0x1f9f04(0x101),Function),__metadata('design:paramtypes',[]),__metadata('design:returntype',Promise)],TaskService[_0x1f9f04(0xf5)],'checkAuth',null),__decorate([(0x0,schedule_1[_0x1f9f04(0x10e)])(schedule_1[_0x1f9f04(0x14c)][_0x1f9f04(0xf2)]),__metadata('design:type',Function),__metadata('design:paramtypes',[]),__metadata(_0x1f9f04(0x114),Promise)],TaskService[_0x1f9f04(0xf5)],_0x1f9f04(0xfb),null),__decorate([(0x0,schedule_1[_0x1f9f04(0x10e)])(schedule_1[_0x1f9f04(0x14c)][_0x1f9f04(0x144)]),__metadata('design:type',Function),__metadata('design:paramtypes',[]),__metadata('design:returntype',void 0x0)],TaskService[_0x1f9f04(0xf5)],_0x1f9f04(0x13e),null),__decorate([(0x0,schedule_1[_0x1f9f04(0x10e)])(schedule_1[_0x1f9f04(0x14c)]['EVERY_DAY_AT_MIDNIGHT']),__metadata(_0x1f9f04(0x101),Function),__metadata(_0x1f9f04(0xff),[]),__metadata(_0x1f9f04(0x114),Promise)],TaskService[_0x1f9f04(0xf5)],'syncMjpAccountAutomatic',null),__decorate([(0x0,schedule_1[_0x1f9f04(0x10e)])(schedule_1[_0x1f9f04(0x14c)][_0x1f9f04(0xf8)]),__metadata(_0x1f9f04(0x101),Function),__metadata(_0x1f9f04(0xff),[]),__metadata(_0x1f9f04(0x114),Promise)],TaskService['prototype'],_0x1f9f04(0x111),null),__decorate([(0x0,schedule_1[_0x1f9f04(0x10e)])(schedule_1['CronExpression'][_0x1f9f04(0xf8)]),__metadata(_0x1f9f04(0x101),Function),__metadata(_0x1f9f04(0xff),[]),__metadata(_0x1f9f04(0x114),Promise)],TaskService[_0x1f9f04(0xf5)],_0x1f9f04(0xf7),null),__decorate([(0x0,schedule_1[_0x1f9f04(0x10e)])(schedule_1[_0x1f9f04(0x14c)][_0x1f9f04(0xf8)]),__metadata(_0x1f9f04(0x101),Function),__metadata(_0x1f9f04(0xff),[]),__metadata(_0x1f9f04(0x114),Promise)],TaskService[_0x1f9f04(0xf5)],_0x1f9f04(0x135),null),__decorate([(0x0,schedule_1[_0x1f9f04(0x10e)])(schedule_1['CronExpression']['EVERY_5_MINUTES']),__metadata(_0x1f9f04(0x101),Function),__metadata(_0x1f9f04(0xff),[]),__metadata(_0x1f9f04(0x114),Promise)],TaskService[_0x1f9f04(0xf5)],_0x1f9f04(0x129),null),__decorate([(0x0,schedule_1[_0x1f9f04(0x10e)])(schedule_1[_0x1f9f04(0x14c)][_0x1f9f04(0x14a)]),__metadata(_0x1f9f04(0x101),Function),__metadata('design:paramtypes',[]),__metadata(_0x1f9f04(0x114),Promise)],TaskService[_0x1f9f04(0xf5)],_0x1f9f04(0x121),null),__decorate([(0x0,schedule_1[_0x1f9f04(0x10e)])(schedule_1[_0x1f9f04(0x14c)]['EVERY_DAY_AT_MIDNIGHT']),__metadata(_0x1f9f04(0x101),Function),__metadata(_0x1f9f04(0xff),[]),__metadata(_0x1f9f04(0x114),Promise)],TaskService[_0x1f9f04(0xf5)],_0x1f9f04(0x11d),null),__decorate([(0x0,schedule_1['Cron'])(schedule_1['CronExpression']['EVERY_DAY_AT_MIDNIGHT']),__metadata(_0x1f9f04(0x101),Function),__metadata('design:paramtypes',[]),__metadata(_0x1f9f04(0x114),Promise)],TaskService[_0x1f9f04(0xf5)],_0x1f9f04(0x117),null),__decorate([(0x0,schedule_1[_0x1f9f04(0x10e)])(schedule_1[_0x1f9f04(0x14c)]['EVERY_12_HOURS']),__metadata('design:type',Function),__metadata(_0x1f9f04(0xff),[]),__metadata(_0x1f9f04(0x114),Promise)],TaskService[_0x1f9f04(0xf5)],_0x1f9f04(0xf4),null),__decorate([(0x0,schedule_1[_0x1f9f04(0x10e)])(schedule_1[_0x1f9f04(0x14c)][_0x1f9f04(0x146)]),__metadata(_0x1f9f04(0x101),Function),__metadata(_0x1f9f04(0xff),[]),__metadata('design:returntype',Promise)],TaskService['prototype'],_0x1f9f04(0x12c),null),__decorate([(0x0,schedule_1[_0x1f9f04(0x10e)])(schedule_1[_0x1f9f04(0x14c)]['EVERY_5_SECONDS']),__metadata(_0x1f9f04(0x101),Function),__metadata(_0x1f9f04(0xff),[]),__metadata(_0x1f9f04(0x114),Promise)],TaskService['prototype'],_0x1f9f04(0x130),null),__decorate([(0x0,schedule_1[_0x1f9f04(0x10e)])(schedule_1[_0x1f9f04(0x14c)][_0x1f9f04(0x10f)]),__metadata('design:type',Function),__metadata(_0x1f9f04(0xff),[]),__metadata(_0x1f9f04(0x114),Promise)],TaskService[_0x1f9f04(0xf5)],_0x1f9f04(0x110),null),__decorate([(0x0,schedule_1[_0x1f9f04(0x10e)])(schedule_1['CronExpression'][_0x1f9f04(0x146)]),__metadata(_0x1f9f04(0x101),Function),__metadata('design:paramtypes',[]),__metadata('design:returntype',Promise)],TaskService[_0x1f9f04(0xf5)],'syncMusicTask',null),__decorate([(0x0,schedule_1['Cron'])(schedule_1[_0x1f9f04(0x14c)]['EVERY_30_SECONDS']),__metadata(_0x1f9f04(0x101),Function),__metadata(_0x1f9f04(0xff),[]),__metadata('design:returntype',Promise)],TaskService[_0x1f9f04(0xf5)],_0x1f9f04(0x124),null),__decorate([(0x0,schedule_1[_0x1f9f04(0x10e)])(schedule_1[_0x1f9f04(0x14c)][_0x1f9f04(0xf2)]),__metadata(_0x1f9f04(0x101),Function),__metadata('design:paramtypes',[]),__metadata(_0x1f9f04(0x114),Promise)],TaskService[_0x1f9f04(0xf5)],_0x1f9f04(0xf3),null),__decorate([(0x0,schedule_1[_0x1f9f04(0x10e)])(schedule_1[_0x1f9f04(0x14c)]['EVERY_10_SECONDS']),__metadata(_0x1f9f04(0x101),Function),__metadata(_0x1f9f04(0xff),[]),__metadata(_0x1f9f04(0x114),Promise)],TaskService['prototype'],'syncKnowledgeProgressTask',null),__decorate([(0x0,schedule_1['Cron'])(schedule_1[_0x1f9f04(0x14c)][_0x1f9f04(0x149)]),__metadata(_0x1f9f04(0x101),Function),__metadata('design:paramtypes',[]),__metadata(_0x1f9f04(0x114),Promise)],TaskService[_0x1f9f04(0xf5)],_0x1f9f04(0x10b),null),__decorate([(0x0,schedule_1[_0x1f9f04(0x10e)])(schedule_1['CronExpression'][_0x1f9f04(0x10f)]),__metadata('design:type',Function),__metadata('design:paramtypes',[]),__metadata(_0x1f9f04(0x114),Promise)],TaskService[_0x1f9f04(0xf5)],_0x1f9f04(0x11e),null),TaskService=__decorate([(0x0,common_1['Injectable'])(),__metadata(_0x1f9f04(0xff),[globalConfig_service_1[_0x1f9f04(0x118)],midjourney_service_1['MidjourneyService'],chatgpt_service_1[_0x1f9f04(0x126)],chatLog_service_1[_0x1f9f04(0x12f)],models_service_1['ModelsService'],auth_service_1['AuthService'],user_service_1[_0x1f9f04(0x139)],linkFox_service_1['LinkFoxService'],coze_service_1[_0x1f9f04(0x132)],human_service_1['HumanService']])],TaskService),exports[_0x1f9f04(0x11c)]=TaskService;