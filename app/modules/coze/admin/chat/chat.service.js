'use strict';function _0x47fd(_0x51a51e,_0x5d57a3){const _0x264e0c=_0x264e();return _0x47fd=function(_0x47fdf9,_0x41b8f2){_0x47fdf9=_0x47fdf9-0xf0;let _0x7e7660=_0x264e0c[_0x47fdf9];return _0x7e7660;},_0x47fd(_0x51a51e,_0x5d57a3);}function _0x264e(){const _0x2303c4=['select\x20chat.*,user.nickname,user.email,user.phone,user.username\x20from\x20coze_conversation_tb\x20chat\x20left\x20join\x20users\x20user\x20on\x20chat.userId=user.id\x20\x20','InjectRepository','CozeConversationService','1422792ApwFka','24CwtDmZ','@nestjs/typeorm','__esModule','decorate','__param','Repository','__metadata','1390540WFCeDQ','getOwnPropertyDescriptor','metadata','count','length','design:paramtypes','ceil','configEntity','function','object','\x20limit\x20','../../../../common/admin/baseService','282160BoZHFD','HttpStatus','getCondition','27372NCwxZy','nestjs-cls','CozeConversationEntity','814822ALNtpy','query','__decorate','alllist','message','1119622fKdZCS','defineProperty','BaseService','932667BFtOnt'];_0x264e=function(){return _0x2303c4;};return _0x264e();}const _0x1aebc9=_0x47fd;(function(_0x118246,_0x4c3328){const _0x4ccaf5=_0x47fd,_0x2a4cf0=_0x118246();while(!![]){try{const _0x4f83e0=parseInt(_0x4ccaf5(0xfb))/0x1+parseInt(_0x4ccaf5(0xfe))/0x2+parseInt(_0x4ccaf5(0x106))/0x3+-parseInt(_0x4ccaf5(0x112))/0x4+parseInt(_0x4ccaf5(0xf8))/0x5+parseInt(_0x4ccaf5(0x10a))/0x6+parseInt(_0x4ccaf5(0x103))/0x7*(-parseInt(_0x4ccaf5(0x10b))/0x8);if(_0x4f83e0===_0x4c3328)break;else _0x2a4cf0['push'](_0x2a4cf0['shift']());}catch(_0x2273f5){_0x2a4cf0['push'](_0x2a4cf0['shift']());}}}(_0x264e,0x33b33));var __decorate=this&&this[_0x1aebc9(0x100)]||function(_0x38c6b7,_0x3d8741,_0x179cae,_0x44d608){const _0x1b7409=_0x1aebc9;var _0x172960=arguments[_0x1b7409(0xf0)],_0x55464d=_0x172960<0x3?_0x3d8741:_0x44d608===null?_0x44d608=Object[_0x1b7409(0x113)](_0x3d8741,_0x179cae):_0x44d608,_0xf92c48;if(typeof Reflect===_0x1b7409(0xf5)&&typeof Reflect[_0x1b7409(0x10e)]==='function')_0x55464d=Reflect[_0x1b7409(0x10e)](_0x38c6b7,_0x3d8741,_0x179cae,_0x44d608);else{for(var _0x158e4b=_0x38c6b7[_0x1b7409(0xf0)]-0x1;_0x158e4b>=0x0;_0x158e4b--)if(_0xf92c48=_0x38c6b7[_0x158e4b])_0x55464d=(_0x172960<0x3?_0xf92c48(_0x55464d):_0x172960>0x3?_0xf92c48(_0x3d8741,_0x179cae,_0x55464d):_0xf92c48(_0x3d8741,_0x179cae))||_0x55464d;}return _0x172960>0x3&&_0x55464d&&Object['defineProperty'](_0x3d8741,_0x179cae,_0x55464d),_0x55464d;},__metadata=this&&this[_0x1aebc9(0x111)]||function(_0x963393,_0x9d54ce){const _0x1d4de6=_0x1aebc9;if(typeof Reflect===_0x1d4de6(0xf5)&&typeof Reflect[_0x1d4de6(0x114)]===_0x1d4de6(0xf4))return Reflect[_0x1d4de6(0x114)](_0x963393,_0x9d54ce);},__param=this&&this[_0x1aebc9(0x10f)]||function(_0x5b5c29,_0x35ca8d){return function(_0x3b81ab,_0xcd5378){_0x35ca8d(_0x3b81ab,_0xcd5378,_0x5b5c29);};};Object[_0x1aebc9(0x104)](exports,_0x1aebc9(0x10d),{'value':!![]}),exports[_0x1aebc9(0x109)]=void 0x0;const common_1=require('@nestjs/common'),nestjs_cls_1=require(_0x1aebc9(0xfc)),typeorm_1=require(_0x1aebc9(0x10c)),baseService_1=require(_0x1aebc9(0xf7)),typeorm_2=require('typeorm'),conversation_entity_1=require('../../entity/conversation.entity');let CozeConversationService=class CozeConversationService extends baseService_1[_0x1aebc9(0x105)]{constructor(_0x5806d8,_0x4a4cf8){const _0x41b9b6=_0x1aebc9;super(_0x4a4cf8,_0x5806d8),this['clsService']=_0x5806d8,this[_0x41b9b6(0xf3)]=_0x4a4cf8;}async[_0x1aebc9(0x101)](_0x46d9fa){const _0x5b6579=_0x1aebc9;try{const {condition:_0x97b3ad,sort:_0x4274db,page:_0x43ba5a,size:_0x5329b5}=this[_0x5b6579(0xfa)](_0x46d9fa),_0x409a38=this[_0x5b6579(0xf3)][_0x5b6579(0x114)],_0x447990=await this[_0x5b6579(0xf3)][_0x5b6579(0xff)]('select\x20count(0)\x20as\x20count\x20from\x20'+_0x409a38['tableName']+'\x20'+_0x97b3ad),_0x47cfc7=await this[_0x5b6579(0xf3)][_0x5b6579(0xff)](_0x5b6579(0x107)+_0x97b3ad+'\x20\x20'+_0x4274db+_0x5b6579(0xf6)+_0x43ba5a*_0x5329b5+','+_0x5329b5);return{'rows':_0x47cfc7,'size':_0x5329b5,'page':_0x43ba5a,'count':parseInt(_0x447990[0x0][_0x5b6579(0x115)]),'totalPage':Math[_0x5b6579(0xf2)](_0x447990[0x0]['count']/_0x5329b5)};}catch(_0x4da7a0){throw new common_1['HttpException'](_0x4da7a0[_0x5b6579(0x102)],common_1[_0x5b6579(0xf9)]['BAD_REQUEST']);}}};CozeConversationService=__decorate([(0x0,common_1['Injectable'])(),__param(0x1,(0x0,typeorm_1[_0x1aebc9(0x108)])(conversation_entity_1[_0x1aebc9(0xfd)])),__metadata(_0x1aebc9(0xf1),[nestjs_cls_1['ClsService'],typeorm_2[_0x1aebc9(0x110)]])],CozeConversationService),exports[_0x1aebc9(0x109)]=CozeConversationService;