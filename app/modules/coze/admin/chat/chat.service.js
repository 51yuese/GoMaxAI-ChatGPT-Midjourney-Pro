'use strict';const _0xae4feb=_0x5bb0;(function(_0x396bd4,_0x1d50bb){const _0x27b0f0=_0x5bb0,_0x5ce5ba=_0x396bd4();while(!![]){try{const _0x1f1a9f=parseInt(_0x27b0f0(0x1d7))/0x1+parseInt(_0x27b0f0(0x1c7))/0x2*(parseInt(_0x27b0f0(0x1db))/0x3)+-parseInt(_0x27b0f0(0x1bf))/0x4+-parseInt(_0x27b0f0(0x1c8))/0x5+parseInt(_0x27b0f0(0x1c9))/0x6*(parseInt(_0x27b0f0(0x1c3))/0x7)+-parseInt(_0x27b0f0(0x1c1))/0x8+parseInt(_0x27b0f0(0x1cd))/0x9*(parseInt(_0x27b0f0(0x1cb))/0xa);if(_0x1f1a9f===_0x1d50bb)break;else _0x5ce5ba['push'](_0x5ce5ba['shift']());}catch(_0x3b73b3){_0x5ce5ba['push'](_0x5ce5ba['shift']());}}}(_0x5656,0x70cbc));var __decorate=this&&this[_0xae4feb(0x1dc)]||function(_0x44033b,_0x4be40d,_0x37731b,_0xfb7583){const _0x4f2f24=_0xae4feb;var _0xe60ea5=arguments[_0x4f2f24(0x1d6)],_0x4fdfd8=_0xe60ea5<0x3?_0x4be40d:_0xfb7583===null?_0xfb7583=Object[_0x4f2f24(0x1bb)](_0x4be40d,_0x37731b):_0xfb7583,_0x1967cf;if(typeof Reflect===_0x4f2f24(0x1b7)&&typeof Reflect[_0x4f2f24(0x1d4)]==='function')_0x4fdfd8=Reflect[_0x4f2f24(0x1d4)](_0x44033b,_0x4be40d,_0x37731b,_0xfb7583);else{for(var _0x53c0bf=_0x44033b[_0x4f2f24(0x1d6)]-0x1;_0x53c0bf>=0x0;_0x53c0bf--)if(_0x1967cf=_0x44033b[_0x53c0bf])_0x4fdfd8=(_0xe60ea5<0x3?_0x1967cf(_0x4fdfd8):_0xe60ea5>0x3?_0x1967cf(_0x4be40d,_0x37731b,_0x4fdfd8):_0x1967cf(_0x4be40d,_0x37731b))||_0x4fdfd8;}return _0xe60ea5>0x3&&_0x4fdfd8&&Object[_0x4f2f24(0x1bd)](_0x4be40d,_0x37731b,_0x4fdfd8),_0x4fdfd8;},__metadata=this&&this[_0xae4feb(0x1dd)]||function(_0x4c5cb9,_0x5a8f6){const _0x5aa37d=_0xae4feb;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x5aa37d(0x1da))return Reflect[_0x5aa37d(0x1d3)](_0x4c5cb9,_0x5a8f6);},__param=this&&this['__param']||function(_0xaab688,_0x500993){return function(_0x23cab8,_0x5cfbcb){_0x500993(_0x23cab8,_0x5cfbcb,_0xaab688);};};Object[_0xae4feb(0x1bd)](exports,_0xae4feb(0x1b6),{'value':!![]}),exports[_0xae4feb(0x1d5)]=void 0x0;function _0x5bb0(_0x21e7b8,_0x472051){const _0x565650=_0x5656();return _0x5bb0=function(_0x5bb0ee,_0x50ca4e){_0x5bb0ee=_0x5bb0ee-0x1b6;let _0x491784=_0x565650[_0x5bb0ee];return _0x491784;},_0x5bb0(_0x21e7b8,_0x472051);}const common_1=require(_0xae4feb(0x1d9)),nestjs_cls_1=require(_0xae4feb(0x1ba)),typeorm_1=require(_0xae4feb(0x1d2)),baseService_1=require(_0xae4feb(0x1b9)),typeorm_2=require(_0xae4feb(0x1ce)),conversation_entity_1=require(_0xae4feb(0x1bc));let CozeConversationService=class CozeConversationService extends baseService_1[_0xae4feb(0x1b8)]{constructor(_0x1f76b7,_0x5c6de8){const _0x42875d=_0xae4feb;super(_0x5c6de8,_0x1f76b7),this[_0x42875d(0x1ca)]=_0x1f76b7,this[_0x42875d(0x1c6)]=_0x5c6de8;}async['alllist'](_0x1f5f08){const _0x2de957=_0xae4feb;try{const {condition:_0x489f8a,sort:_0x15a86e,page:_0x5f57a2,size:_0x1f773c}=this[_0x2de957(0x1d8)](_0x1f5f08),_0x2ada52=this[_0x2de957(0x1c6)][_0x2de957(0x1d3)],_0x20bb16=await this['configEntity'][_0x2de957(0x1be)]('select\x20count(0)\x20as\x20count\x20from\x20'+_0x2ada52['tableName']+'\x20'+_0x489f8a),_0x5de932=await this[_0x2de957(0x1c6)][_0x2de957(0x1be)]('select\x20chat.*,user.nickname,user.email,user.phone,user.username\x20from\x20coze_conversation_tb\x20chat\x20left\x20join\x20users\x20user\x20on\x20chat.userId=user.id\x20\x20'+_0x489f8a+'\x20\x20'+_0x15a86e+_0x2de957(0x1d0)+_0x5f57a2*_0x1f773c+','+_0x1f773c);return{'rows':_0x5de932,'size':_0x1f773c,'page':_0x5f57a2,'count':parseInt(_0x20bb16[0x0][_0x2de957(0x1c2)]),'totalPage':Math['ceil'](_0x20bb16[0x0]['count']/_0x1f773c)};}catch(_0x451f8a){throw new common_1['HttpException'](_0x451f8a['message'],common_1[_0x2de957(0x1c0)][_0x2de957(0x1d1)]);}}};CozeConversationService=__decorate([(0x0,common_1[_0xae4feb(0x1c4)])(),__param(0x1,(0x0,typeorm_1[_0xae4feb(0x1cf)])(conversation_entity_1['CozeConversationEntity'])),__metadata(_0xae4feb(0x1cc),[nestjs_cls_1[_0xae4feb(0x1de)],typeorm_2[_0xae4feb(0x1c5)]])],CozeConversationService),exports[_0xae4feb(0x1d5)]=CozeConversationService;function _0x5656(){const _0x51beea=['../../../../common/admin/baseService','nestjs-cls','getOwnPropertyDescriptor','../../entity/conversation.entity','defineProperty','query','2133580mtUuwB','HttpStatus','7116704lYndWz','count','478506IJwpQm','Injectable','Repository','configEntity','2udgjRK','4454755oaOrFA','24lvNutI','clsService','3170OnxmPD','design:paramtypes','44667GqeOMK','typeorm','InjectRepository','\x20limit\x20','BAD_REQUEST','@nestjs/typeorm','metadata','decorate','CozeConversationService','length','160240TWIzQe','getCondition','@nestjs/common','function','2307009EVOIQN','__decorate','__metadata','ClsService','__esModule','object','BaseService'];_0x5656=function(){return _0x51beea;};return _0x5656();}