'use strict';const _0x149c32=_0x458f;function _0x3d04(){const _0x5b9e78=['RedisCacheService','nestjs-config','REDIS_SUBSCRIBER','RedisCacheModule','REDIS_USER','Module','ConfigModule','debug','__decorate','2XoqYpM','REDIS_PASSWORD','object','Logger','connect','env','defineProperty','38920TKgFqZ','__esModule','796662PIxNMH','function','ConfigService','8hbgfyc','REDIS_PORT','error','Global','Please\x20config\x20Redis\x20config\x20|\x20未配置\x20Redis\x20配置信息\x20请确认配置redis服务以获得更好的体验','./redisCache.controller','1215810WwuREf','565229odKRHo','getOwnPropertyDescriptor','10QrBHfC','ready','146456ENeTul','844970YdEDAN','createClient','decorate','./redisCache.service','530778WEPVSk','Your\x20Redis\x20connection\x20failed\x20|\x20您的\x20Redis\x20连接失败','RedisCacheController','REDIS_CLIENT'];_0x3d04=function(){return _0x5b9e78;};return _0x3d04();}(function(_0x495478,_0x11165f){const _0xa33d95=_0x458f,_0x1c0442=_0x495478();while(!![]){try{const _0x2d5a2a=-parseInt(_0xa33d95(0x1f9))/0x1*(-parseInt(_0xa33d95(0x200))/0x2)+-parseInt(_0xa33d95(0x1ec))/0x3+parseInt(_0xa33d95(0x1e7))/0x4*(parseInt(_0xa33d95(0x1e5))/0x5)+-parseInt(_0xa33d95(0x1d9))/0x6+parseInt(_0xa33d95(0x1e3))/0x7*(parseInt(_0xa33d95(0x1dc))/0x8)+parseInt(_0xa33d95(0x1e2))/0x9+parseInt(_0xa33d95(0x1e8))/0xa;if(_0x2d5a2a===_0x11165f)break;else _0x1c0442['push'](_0x1c0442['shift']());}catch(_0x11af16){_0x1c0442['push'](_0x1c0442['shift']());}}}(_0x3d04,0x1917b));var __decorate=this&&this[_0x149c32(0x1f8)]||function(_0x2d65da,_0x49b092,_0x2a27ea,_0xb552e1){const _0x1157cd=_0x149c32;var _0x2deea9=arguments['length'],_0x51071e=_0x2deea9<0x3?_0x49b092:_0xb552e1===null?_0xb552e1=Object[_0x1157cd(0x1e4)](_0x49b092,_0x2a27ea):_0xb552e1,_0x24d20f;if(typeof Reflect===_0x1157cd(0x1fb)&&typeof Reflect[_0x1157cd(0x1ea)]===_0x1157cd(0x1da))_0x51071e=Reflect[_0x1157cd(0x1ea)](_0x2d65da,_0x49b092,_0x2a27ea,_0xb552e1);else{for(var _0x5cba06=_0x2d65da['length']-0x1;_0x5cba06>=0x0;_0x5cba06--)if(_0x24d20f=_0x2d65da[_0x5cba06])_0x51071e=(_0x2deea9<0x3?_0x24d20f(_0x51071e):_0x2deea9>0x3?_0x24d20f(_0x49b092,_0x2a27ea,_0x51071e):_0x24d20f(_0x49b092,_0x2a27ea))||_0x51071e;}return _0x2deea9>0x3&&_0x51071e&&Object[_0x1157cd(0x1ff)](_0x49b092,_0x2a27ea,_0x51071e),_0x51071e;};function _0x458f(_0x8f56d0,_0x58aac2){const _0x3d044f=_0x3d04();return _0x458f=function(_0x458f01,_0x4eff56){_0x458f01=_0x458f01-0x1d8;let _0x2aac38=_0x3d044f[_0x458f01];return _0x2aac38;},_0x458f(_0x8f56d0,_0x58aac2);}Object[_0x149c32(0x1ff)](exports,_0x149c32(0x1d8),{'value':!![]}),exports[_0x149c32(0x1f3)]=void 0x0;const common_1=require('@nestjs/common'),redisCache_service_1=require(_0x149c32(0x1eb)),redisCache_controller_1=require(_0x149c32(0x1e1)),nestjs_config_1=require(_0x149c32(0x1f1)),redis_1=require('redis');let RedisCacheModule=class RedisCacheModule{};RedisCacheModule=__decorate([(0x0,common_1[_0x149c32(0x1df)])(),(0x0,common_1[_0x149c32(0x1f5)])({'imports':[nestjs_config_1[_0x149c32(0x1f6)]],'controllers':[redisCache_controller_1[_0x149c32(0x1ee)]],'providers':[{'provide':'REDIS_CLIENT','useFactory':async _0x19bef1=>{const _0x445cef=_0x149c32,_0x4736b9=+process['env']['REDIS_PORT'],_0x595e0d=process['env']['REDIS_HOST'],_0x4aefdf=process[_0x445cef(0x1fe)]['REDIS_PASSWORD'],_0x3c6bba=process[_0x445cef(0x1fe)]['REDIS_USER'];if(!_0x595e0d||!_0x4736b9){common_1[_0x445cef(0x1fc)][_0x445cef(0x1de)](_0x445cef(0x1e0),_0x445cef(0x1f3));return;}const _0x3ecb65=(0x0,redis_1[_0x445cef(0x1e9)])({'socket':{'host':_0x595e0d,'port':_0x4736b9},'username':_0x3c6bba,'password':_0x4aefdf});return await _0x3ecb65[_0x445cef(0x1fd)](),_0x3ecb65['on'](_0x445cef(0x1e6),()=>{const _0xcd416e=_0x445cef;common_1['Logger'][_0xcd416e(0x1f7)]('Your\x20Redis\x20connection\x20successful',_0xcd416e(0x1f3));}),_0x3ecb65['on'](_0x445cef(0x1de),()=>{const _0x2a5291=_0x445cef;common_1[_0x2a5291(0x1fc)]['error']('Your\x20Redis\x20connection\x20failed\x20|\x20您的\x20Redis\x20连接失败',_0x2a5291(0x1f3));}),_0x3ecb65;},'inject':[nestjs_config_1[_0x149c32(0x1db)]]},{'provide':'REDIS_SUBSCRIBER','useFactory':async _0xa3985f=>{const _0x59029b=_0x149c32,_0x39bcbc=+process[_0x59029b(0x1fe)][_0x59029b(0x1dd)],_0x281c10=process[_0x59029b(0x1fe)]['REDIS_HOST'],_0x1fd720=process['env'][_0x59029b(0x1fa)],_0x50b2ec=process[_0x59029b(0x1fe)][_0x59029b(0x1f4)];if(!_0x281c10||!_0x39bcbc){common_1['Logger']['error'](_0x59029b(0x1e0),_0x59029b(0x1f3));return;}const _0x365d03=(0x0,redis_1[_0x59029b(0x1e9)])({'socket':{'host':_0x281c10,'port':_0x39bcbc},'username':_0x50b2ec,'password':_0x1fd720});return await _0x365d03[_0x59029b(0x1fd)](),_0x365d03['on']('ready',()=>{const _0x3bf4a3=_0x59029b;common_1[_0x3bf4a3(0x1fc)][_0x3bf4a3(0x1f7)]('Your\x20Redis\x20connection\x20successful',_0x3bf4a3(0x1f3));}),_0x365d03['on']('error',()=>{const _0x529624=_0x59029b;common_1[_0x529624(0x1fc)][_0x529624(0x1de)](_0x529624(0x1ed),_0x529624(0x1f3));}),_0x365d03;},'inject':[nestjs_config_1[_0x149c32(0x1db)]]},redisCache_service_1[_0x149c32(0x1f0)]],'exports':[_0x149c32(0x1ef),_0x149c32(0x1f2)]})],RedisCacheModule),exports[_0x149c32(0x1f3)]=RedisCacheModule;