'use strict';const _0x32ff54=_0x1777;(function(_0x41d0ea,_0x508ae0){const _0x45a391=_0x1777,_0x4ebb44=_0x41d0ea();while(!![]){try{const _0x52f38b=-parseInt(_0x45a391(0x126))/0x1*(parseInt(_0x45a391(0x123))/0x2)+parseInt(_0x45a391(0x10b))/0x3+parseInt(_0x45a391(0x11d))/0x4*(-parseInt(_0x45a391(0x122))/0x5)+-parseInt(_0x45a391(0x116))/0x6*(parseInt(_0x45a391(0x118))/0x7)+-parseInt(_0x45a391(0x108))/0x8*(-parseInt(_0x45a391(0x10d))/0x9)+parseInt(_0x45a391(0x11c))/0xa*(parseInt(_0x45a391(0x10a))/0xb)+parseInt(_0x45a391(0x11f))/0xc;if(_0x52f38b===_0x508ae0)break;else _0x4ebb44['push'](_0x4ebb44['shift']());}catch(_0x2a69da){_0x4ebb44['push'](_0x4ebb44['shift']());}}}(_0x8e38,0x69af0));var __decorate=this&&this[_0x32ff54(0xfb)]||function(_0x2be591,_0x3c64b4,_0x4bbe02,_0x173ee5){const _0x14fc26=_0x32ff54;var _0x591a1b=arguments[_0x14fc26(0x128)],_0x65e452=_0x591a1b<0x3?_0x3c64b4:_0x173ee5===null?_0x173ee5=Object[_0x14fc26(0x113)](_0x3c64b4,_0x4bbe02):_0x173ee5,_0x354f64;if(typeof Reflect===_0x14fc26(0xfa)&&typeof Reflect[_0x14fc26(0x120)]===_0x14fc26(0x104))_0x65e452=Reflect[_0x14fc26(0x120)](_0x2be591,_0x3c64b4,_0x4bbe02,_0x173ee5);else{for(var _0x49a1a7=_0x2be591[_0x14fc26(0x128)]-0x1;_0x49a1a7>=0x0;_0x49a1a7--)if(_0x354f64=_0x2be591[_0x49a1a7])_0x65e452=(_0x591a1b<0x3?_0x354f64(_0x65e452):_0x591a1b>0x3?_0x354f64(_0x3c64b4,_0x4bbe02,_0x65e452):_0x354f64(_0x3c64b4,_0x4bbe02))||_0x65e452;}return _0x591a1b>0x3&&_0x65e452&&Object['defineProperty'](_0x3c64b4,_0x4bbe02,_0x65e452),_0x65e452;},__metadata=this&&this[_0x32ff54(0x119)]||function(_0x343241,_0x12b7f0){const _0x3a72cb=_0x32ff54;if(typeof Reflect===_0x3a72cb(0xfa)&&typeof Reflect['metadata']===_0x3a72cb(0x104))return Reflect['metadata'](_0x343241,_0x12b7f0);},__param=this&&this['__param']||function(_0x426908,_0x1cb501){return function(_0x1841d0,_0x560d9e){_0x1cb501(_0x1841d0,_0x560d9e,_0x426908);};};Object[_0x32ff54(0x102)](exports,_0x32ff54(0x110),{'value':!![]}),exports[_0x32ff54(0x12c)]=void 0x0;const common_1=require(_0x32ff54(0x125)),typeorm_1=require(_0x32ff54(0x115)),typeorm_2=require(_0x32ff54(0x129)),IndexRecommend_entity_1=require(_0x32ff54(0xff)),utils_1=require(_0x32ff54(0x12b)),nestjs_cls_1=require('nestjs-cls');let IndexRecommendService=class IndexRecommendService{constructor(_0x69878f,_0x24d636,_0x53d71d){const _0x1eb3f5=_0x32ff54;this[_0x1eb3f5(0x10f)]=_0x69878f,this[_0x1eb3f5(0x117)]=_0x24d636,this[_0x1eb3f5(0x121)]=_0x53d71d;}async['page'](_0x25360d){const _0x11bb4a=_0x32ff54,{page:page=0x1,size:size=0x14,type:_0x42c594,tagId:_0x4f21c6,notInTagId:_0x40f0c3,keyword:_0x5198ed,saasId:_0x2504d6}=_0x25360d,_0xf155c9=(0x0,utils_1[_0x11bb4a(0x11b)])(this[_0x11bb4a(0x117)]);let _0x596e8a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20i.del_flag\x20=\x200\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x42c594?_0x11bb4a(0x106)+_0x42c594+'\x27':'')+_0x11bb4a(0x12e)+(_0x4f21c6?_0x11bb4a(0xfc)+_0x4f21c6:'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x40f0c3?_0x11bb4a(0x100)+_0x40f0c3+')':'')+_0x11bb4a(0x12e)+(_0x5198ed?_0x11bb4a(0x10e)+_0x5198ed+'%\x27':'')+_0x11bb4a(0x109);(0x0,utils_1[_0x11bb4a(0x11e)])(this['clsService'])?(0x0,utils_1[_0x11bb4a(0x10c)])(_0x2504d6)&&(_0x596e8a=_0x596e8a+(_0x11bb4a(0x111)+_0x2504d6)):_0x596e8a=_0x596e8a+('\x20AND\x20i.saasId\x20=\x20'+_0xf155c9);const [_0x37ead5]=await this['connection'][_0x11bb4a(0x11a)](_0x11bb4a(0x101)+_0x596e8a+_0x11bb4a(0x112)),_0x15116e=await this['connection'][_0x11bb4a(0x11a)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20i.*,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20i.tag_id\x20AS\x20tagId,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20i.del_flag\x20AS\x20delFlag,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s.`name`\x20AS\x20saasName,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20d.dict_name\x20AS\x20tagName\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20index_recommend\x20i\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20saas\x20s\x20ON\x20i.saasId\x20=\x20s.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20ai_dict\x20d\x20ON\x20i.tag_id\x20=\x20d.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x596e8a+_0x11bb4a(0x124)+size+_0x11bb4a(0x107)+(page-0x1)*size+_0x11bb4a(0x109));return{'rows':_0x15116e,'count':_0x37ead5[_0x11bb4a(0xf9)]};}async['save'](_0x4021d6){const _0x43bfa8=_0x32ff54;try{const _0x1c6324={..._0x4021d6};if(!_0x4021d6['id']){const _0x720652=(0x0,utils_1[_0x43bfa8(0x11b)])(this[_0x43bfa8(0x117)]);_0x1c6324[_0x43bfa8(0x105)]=_0x720652;}return await this[_0x43bfa8(0x10f)]['save'](_0x1c6324),!![];}catch(_0x10db80){console['log'](_0x10db80);}}async[_0x32ff54(0xfd)](_0x531dd9){const _0x16ef50=_0x32ff54;if(!_0x531dd9[_0x16ef50(0xf8)]||!_0x531dd9[_0x16ef50(0xf8)])return!![];return await this[_0x16ef50(0x10f)]['update']({'id':(0x0,typeorm_2['In'])(_0x531dd9[_0x16ef50(0xf8)])},{'delFlag':0x1}),!![];}};function _0x1777(_0x5f2a69,_0x1e48e0){const _0x8e381c=_0x8e38();return _0x1777=function(_0x177776,_0x47b15b){_0x177776=_0x177776-0xf8;let _0x445d73=_0x8e381c[_0x177776];return _0x445d73;},_0x1777(_0x5f2a69,_0x1e48e0);}function _0x8e38(){const _0x1cff89=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20','137698vsBwtL','1818381blimDJ','isDefined','61443vmwrgy','\x20AND\x20i.name\x20LIKE\x20\x27%','entity','__esModule','\x20AND\x20i.saasId\x20=\x20','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','getOwnPropertyDescriptor','Injectable','@nestjs/typeorm','6MxAlPr','clsService','365323ENomOG','__metadata','query','getReqSaasId','20KXKrPu','576208BbzZRf','isPlatform','9695796IrrIFE','decorate','connection','15BXVzFB','458wSYxkl','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ORDER\x20BY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20i.sort\x20ASC,\x20i.createdAt\x20DESC\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LIMIT\x20','@nestjs/common','2935sQjBvQ','Connection','length','typeorm','InjectRepository','../../common/utils','IndexRecommendService','Repository','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ids','count','object','__decorate','\x20AND\x20i.tag_id\x20=\x20','delete','design:paramtypes','./IndexRecommend.entity','AND\x20i.tag_id\x20not\x20in\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20COUNT(*)\x20as\x20count\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20index_recommend\x20i\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','defineProperty','ClsService','function','saasId','\x20AND\x20i.type\x20=\x20\x27','\x20OFFSET\x20','176tzViek'];_0x8e38=function(){return _0x1cff89;};return _0x8e38();}IndexRecommendService=__decorate([(0x0,common_1[_0x32ff54(0x114)])(),__param(0x0,(0x0,typeorm_1[_0x32ff54(0x12a)])(IndexRecommend_entity_1['IndexRecommendEntity'])),__metadata(_0x32ff54(0xfe),[typeorm_2[_0x32ff54(0x12d)],nestjs_cls_1[_0x32ff54(0x103)],typeorm_2[_0x32ff54(0x127)]])],IndexRecommendService),exports[_0x32ff54(0x12c)]=IndexRecommendService;