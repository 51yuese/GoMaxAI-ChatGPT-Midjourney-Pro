'use strict';const _0x1a66ce=_0x2f32;(function(_0xfab5e1,_0x2dc392){const _0x199442=_0x2f32,_0xc3d7fb=_0xfab5e1();while(!![]){try{const _0x22a70d=parseInt(_0x199442(0x95))/0x1+-parseInt(_0x199442(0x7f))/0x2*(parseInt(_0x199442(0x8b))/0x3)+parseInt(_0x199442(0xa9))/0x4+parseInt(_0x199442(0x8e))/0x5*(-parseInt(_0x199442(0x87))/0x6)+-parseInt(_0x199442(0x9d))/0x7+-parseInt(_0x199442(0xa1))/0x8*(parseInt(_0x199442(0x7b))/0x9)+parseInt(_0x199442(0x76))/0xa*(parseInt(_0x199442(0x94))/0xb);if(_0x22a70d===_0x2dc392)break;else _0xc3d7fb['push'](_0xc3d7fb['shift']());}catch(_0x383e38){_0xc3d7fb['push'](_0xc3d7fb['shift']());}}}(_0xfc18,0x466ad));var __decorate=this&&this['__decorate']||function(_0x2847b6,_0x551992,_0x1b55ef,_0x2f3647){const _0x11518c=_0x2f32;var _0x220a3b=arguments['length'],_0x25e20d=_0x220a3b<0x3?_0x551992:_0x2f3647===null?_0x2f3647=Object[_0x11518c(0xa4)](_0x551992,_0x1b55ef):_0x2f3647,_0x51c43c;if(typeof Reflect===_0x11518c(0xaa)&&typeof Reflect[_0x11518c(0x85)]==='function')_0x25e20d=Reflect[_0x11518c(0x85)](_0x2847b6,_0x551992,_0x1b55ef,_0x2f3647);else{for(var _0x10bed2=_0x2847b6[_0x11518c(0x7c)]-0x1;_0x10bed2>=0x0;_0x10bed2--)if(_0x51c43c=_0x2847b6[_0x10bed2])_0x25e20d=(_0x220a3b<0x3?_0x51c43c(_0x25e20d):_0x220a3b>0x3?_0x51c43c(_0x551992,_0x1b55ef,_0x25e20d):_0x51c43c(_0x551992,_0x1b55ef))||_0x25e20d;}return _0x220a3b>0x3&&_0x25e20d&&Object[_0x11518c(0x93)](_0x551992,_0x1b55ef,_0x25e20d),_0x25e20d;},__metadata=this&&this[_0x1a66ce(0x8d)]||function(_0x4d7a97,_0x476cb4){const _0x366960=_0x1a66ce;if(typeof Reflect===_0x366960(0xaa)&&typeof Reflect[_0x366960(0x79)]===_0x366960(0xa0))return Reflect[_0x366960(0x79)](_0x4d7a97,_0x476cb4);},__param=this&&this[_0x1a66ce(0x91)]||function(_0x18ac3a,_0x3bbd6b){return function(_0x51cc35,_0x53e7ea){_0x3bbd6b(_0x51cc35,_0x53e7ea,_0x18ac3a);};};function _0xfc18(){const _0x6e303c=['entity','Repository','__param','@nestjs/common','defineProperty','176mKBeov','146881ermzKe','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ORDER\x20BY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20i.sort\x20ASC,\x20i.createdAt\x20DESC\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LIMIT\x20','\x20AND\x20i.saasId\x20=\x20','query','count','IndexRecommendService','\x20OFFSET\x20','getReqSaasId','1858129wFXvdo','saasId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','function','8gTmyiY','page','\x20AND\x20i.type\x20=\x20\x27','getOwnPropertyDescriptor','Injectable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20COUNT(*)\x20as\x20count\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20index_recommend\x20i\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20i.*,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20i.tag_id\x20AS\x20tagId,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20i.del_flag\x20AS\x20delFlag,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s.`name`\x20AS\x20saasName,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20d.dict_name\x20AS\x20tagName\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20index_recommend\x20i\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20saas\x20s\x20ON\x20i.saasId\x20=\x20s.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20ai_dict\x20d\x20ON\x20i.tag_id\x20=\x20d.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ClsService','1565192VBspPf','object','@nestjs/typeorm','InjectRepository','617910bWfFqy','clsService','isDefined','metadata','design:paramtypes','4345002SGgAVV','length','\x20AND\x20i.tag_id\x20=\x20','../../common/utils','4TZjDHv','save','nestjs-cls','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ids','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20i.del_flag\x20=\x200\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','decorate','\x20AND\x20i.name\x20LIKE\x20\x27%','1723962pWwtyg','connection','IndexRecommendEntity','Connection','304281sWRafo','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','__metadata','5FdljpL'];_0xfc18=function(){return _0x6e303c;};return _0xfc18();}function _0x2f32(_0x5d09ab,_0x4ee356){const _0xfc18d3=_0xfc18();return _0x2f32=function(_0x2f32a0,_0x55f540){_0x2f32a0=_0x2f32a0-0x76;let _0x5906f9=_0xfc18d3[_0x2f32a0];return _0x5906f9;},_0x2f32(_0x5d09ab,_0x4ee356);}Object[_0x1a66ce(0x93)](exports,'__esModule',{'value':!![]}),exports[_0x1a66ce(0x9a)]=void 0x0;const common_1=require(_0x1a66ce(0x92)),typeorm_1=require(_0x1a66ce(0xab)),typeorm_2=require('typeorm'),IndexRecommend_entity_1=require('./IndexRecommend.entity'),utils_1=require(_0x1a66ce(0x7e)),nestjs_cls_1=require(_0x1a66ce(0x81));let IndexRecommendService=class IndexRecommendService{constructor(_0x14ea30,_0x7e8eb2,_0x33eddd){const _0x3d4d58=_0x1a66ce;this[_0x3d4d58(0x8f)]=_0x14ea30,this['clsService']=_0x7e8eb2,this[_0x3d4d58(0x88)]=_0x33eddd;}async[_0x1a66ce(0xa2)](_0x598ea8){const _0x19d4c1=_0x1a66ce,{page:page=0x1,size:size=0x14,type:_0x22ddf1,tagId:_0x261b09,notInTagId:_0x5a4c17,keyword:_0x5b296e,saasId:_0x21fe67}=_0x598ea8,_0x2f72fb=(0x0,utils_1[_0x19d4c1(0x9c)])(this['clsService']);let _0x4329de=_0x19d4c1(0x84)+(_0x22ddf1?_0x19d4c1(0xa3)+_0x22ddf1+'\x27':'')+_0x19d4c1(0x82)+(_0x261b09?_0x19d4c1(0x7d)+_0x261b09:'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5a4c17?'AND\x20i.tag_id\x20not\x20in\x20('+_0x5a4c17+')':'')+_0x19d4c1(0x82)+(_0x5b296e?_0x19d4c1(0x86)+_0x5b296e+'%\x27':'')+_0x19d4c1(0x9f);(0x0,utils_1['isPlatform'])(this[_0x19d4c1(0x77)])?(0x0,utils_1[_0x19d4c1(0x78)])(_0x21fe67)&&(_0x4329de=_0x4329de+(_0x19d4c1(0x97)+_0x21fe67)):_0x4329de=_0x4329de+(_0x19d4c1(0x97)+_0x2f72fb);const [_0x7f0b2c]=await this[_0x19d4c1(0x88)]['query'](_0x19d4c1(0xa6)+_0x4329de+_0x19d4c1(0x8c)),_0x3ff725=await this['connection'][_0x19d4c1(0x98)](_0x19d4c1(0xa7)+_0x4329de+_0x19d4c1(0x96)+size+_0x19d4c1(0x9b)+(page-0x1)*size+_0x19d4c1(0x9f));return{'rows':_0x3ff725,'count':_0x7f0b2c[_0x19d4c1(0x99)]};}async['save'](_0x84aba8){const _0xb4bdd4=_0x1a66ce;try{const _0x191f3e={..._0x84aba8};if(!_0x84aba8['id']){const _0x3944f0=(0x0,utils_1[_0xb4bdd4(0x9c)])(this[_0xb4bdd4(0x77)]);_0x191f3e[_0xb4bdd4(0x9e)]=_0x3944f0;}return await this['entity'][_0xb4bdd4(0x80)](_0x191f3e),!![];}catch(_0x50ee95){console['log'](_0x50ee95);}}async['delete'](_0x1e939f){const _0xa2f420=_0x1a66ce;if(!_0x1e939f[_0xa2f420(0x83)]||!_0x1e939f[_0xa2f420(0x83)])return!![];return await this[_0xa2f420(0x8f)]['update']({'id':(0x0,typeorm_2['In'])(_0x1e939f[_0xa2f420(0x83)])},{'delFlag':0x1}),!![];}};IndexRecommendService=__decorate([(0x0,common_1[_0x1a66ce(0xa5)])(),__param(0x0,(0x0,typeorm_1[_0x1a66ce(0xac)])(IndexRecommend_entity_1[_0x1a66ce(0x89)])),__metadata(_0x1a66ce(0x7a),[typeorm_2[_0x1a66ce(0x90)],nestjs_cls_1[_0x1a66ce(0xa8)],typeorm_2[_0x1a66ce(0x8a)]])],IndexRecommendService),exports['IndexRecommendService']=IndexRecommendService;