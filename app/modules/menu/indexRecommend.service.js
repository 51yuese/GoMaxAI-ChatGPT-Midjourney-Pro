'use strict';const _0x8b054d=_0x35fe;(function(_0x51c664,_0x3701fc){const _0xc18898=_0x35fe,_0x4aadf4=_0x51c664();while(!![]){try{const _0x56ec39=-parseInt(_0xc18898(0xd7))/0x1*(parseInt(_0xc18898(0xcf))/0x2)+parseInt(_0xc18898(0xd1))/0x3+parseInt(_0xc18898(0xef))/0x4*(parseInt(_0xc18898(0xe8))/0x5)+-parseInt(_0xc18898(0xe5))/0x6*(parseInt(_0xc18898(0xca))/0x7)+-parseInt(_0xc18898(0xe1))/0x8*(parseInt(_0xc18898(0xe2))/0x9)+parseInt(_0xc18898(0xcc))/0xa+parseInt(_0xc18898(0xf4))/0xb;if(_0x56ec39===_0x3701fc)break;else _0x4aadf4['push'](_0x4aadf4['shift']());}catch(_0x4e5fff){_0x4aadf4['push'](_0x4aadf4['shift']());}}}(_0x581b,0xe193c));var __decorate=this&&this[_0x8b054d(0xdd)]||function(_0x1e2104,_0x2600af,_0x59a7b2,_0x4857e6){const _0x2d6e6b=_0x8b054d;var _0x37e337=arguments[_0x2d6e6b(0xd2)],_0xcc72b3=_0x37e337<0x3?_0x2600af:_0x4857e6===null?_0x4857e6=Object[_0x2d6e6b(0xde)](_0x2600af,_0x59a7b2):_0x4857e6,_0x5c5e77;if(typeof Reflect===_0x2d6e6b(0xd4)&&typeof Reflect[_0x2d6e6b(0xf5)]===_0x2d6e6b(0xda))_0xcc72b3=Reflect[_0x2d6e6b(0xf5)](_0x1e2104,_0x2600af,_0x59a7b2,_0x4857e6);else{for(var _0x538df2=_0x1e2104[_0x2d6e6b(0xd2)]-0x1;_0x538df2>=0x0;_0x538df2--)if(_0x5c5e77=_0x1e2104[_0x538df2])_0xcc72b3=(_0x37e337<0x3?_0x5c5e77(_0xcc72b3):_0x37e337>0x3?_0x5c5e77(_0x2600af,_0x59a7b2,_0xcc72b3):_0x5c5e77(_0x2600af,_0x59a7b2))||_0xcc72b3;}return _0x37e337>0x3&&_0xcc72b3&&Object[_0x2d6e6b(0xf1)](_0x2600af,_0x59a7b2,_0xcc72b3),_0xcc72b3;},__metadata=this&&this[_0x8b054d(0xd8)]||function(_0x594387,_0x30ce1e){const _0xa7782c=_0x8b054d;if(typeof Reflect===_0xa7782c(0xd4)&&typeof Reflect[_0xa7782c(0xfa)]===_0xa7782c(0xda))return Reflect['metadata'](_0x594387,_0x30ce1e);},__param=this&&this[_0x8b054d(0xd9)]||function(_0x5e2de3,_0xdba3d9){return function(_0x25432b,_0x5bb882){_0xdba3d9(_0x25432b,_0x5bb882,_0x5e2de3);};};Object[_0x8b054d(0xf1)](exports,_0x8b054d(0xf6),{'value':!![]}),exports[_0x8b054d(0xf2)]=void 0x0;function _0x35fe(_0x364d68,_0x268a13){const _0x581bcf=_0x581b();return _0x35fe=function(_0x35fe08,_0x3ae9ad){_0x35fe08=_0x35fe08-0xca;let _0x569f37=_0x581bcf[_0x35fe08];return _0x569f37;},_0x35fe(_0x364d68,_0x268a13);}const common_1=require(_0x8b054d(0xe3)),typeorm_1=require(_0x8b054d(0xed)),typeorm_2=require(_0x8b054d(0xd0)),IndexRecommend_entity_1=require(_0x8b054d(0xdf)),utils_1=require(_0x8b054d(0xea)),nestjs_cls_1=require(_0x8b054d(0xec));let IndexRecommendService=class IndexRecommendService{constructor(_0x3a5940,_0x2c0f66,_0x3b88f6){const _0x245de1=_0x8b054d;this[_0x245de1(0xd5)]=_0x3a5940,this[_0x245de1(0xdb)]=_0x2c0f66,this[_0x245de1(0xeb)]=_0x3b88f6;}async[_0x8b054d(0xfb)](_0x5105d9){const _0x5dae35=_0x8b054d,{page:page=0x1,size:size=0x14,type:_0x316ec7,tagId:_0x35c3cd,keyword:_0x5618c3,saasId:_0x20d30b}=_0x5105d9,_0x4561fc=(0x0,utils_1[_0x5dae35(0xf3)])(this[_0x5dae35(0xdb)]),_0x5c0eeb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20i.del_flag\x20=\x200\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x316ec7?_0x5dae35(0xf9)+_0x316ec7+'\x27':'')+_0x5dae35(0xcb)+(_0x35c3cd?'\x20AND\x20i.tag_id\x20=\x20'+_0x35c3cd:'')+_0x5dae35(0xcb)+(_0x5618c3?_0x5dae35(0xe7)+_0x5618c3+'%\x27':'')+_0x5dae35(0xcd)+(_0x4561fc!==0x0?_0x5dae35(0xce)+_0x4561fc:_0x20d30b!==null&&_0x20d30b!==undefined?_0x5dae35(0xce)+_0x20d30b:'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',[_0x40cda1]=await this[_0x5dae35(0xeb)][_0x5dae35(0xfd)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20COUNT(*)\x20as\x20count\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20index_recommend\x20i\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c0eeb+_0x5dae35(0xdc)),_0x45b1be=await this[_0x5dae35(0xeb)][_0x5dae35(0xfd)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20i.*,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20i.tag_id\x20AS\x20tagId,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20i.del_flag\x20AS\x20delFlag,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s.`name`\x20AS\x20saasName,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20d.dict_name\x20AS\x20tagName\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20index_recommend\x20i\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20saas\x20s\x20ON\x20i.saasId\x20=\x20s.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20ai_dict\x20d\x20ON\x20i.tag_id\x20=\x20d.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c0eeb+_0x5dae35(0xfc)+size+_0x5dae35(0xee)+(page-0x1)*size+_0x5dae35(0xf0));return{'rows':_0x45b1be,'count':_0x40cda1['count']};}async[_0x8b054d(0xe9)](_0x2032ad){const _0x35a315=_0x8b054d;try{return await this[_0x35a315(0xd5)][_0x35a315(0xe9)](_0x2032ad),!![];}catch(_0x1843bd){console[_0x35a315(0xe6)](_0x1843bd);}}async['delete'](_0x4a3c2d){const _0x5b4e69=_0x8b054d;if(!_0x4a3c2d[_0x5b4e69(0xe4)]||!_0x4a3c2d[_0x5b4e69(0xe4)])return!![];return await this['entity'][_0x5b4e69(0xf7)]({'id':(0x0,typeorm_2['In'])(_0x4a3c2d['ids'])},{'delFlag':0x1}),!![];}};function _0x581b(){const _0x2e730c=['defineProperty','IndexRecommendService','getReqSaasId','27321459SLydQe','decorate','__esModule','update','design:paramtypes','\x20AND\x20i.type\x20=\x20\x27','metadata','page','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ORDER\x20BY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20i.sort\x20ASC,\x20i.createdAt\x20DESC\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LIMIT\x20','query','220262NXkOwL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','10969380SMrzHH','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20AND\x20i.saasId\x20=\x20','79018gvWNKh','typeorm','4922022ICeMCx','length','ClsService','object','entity','IndexRecommendEntity','43egqrgR','__metadata','__param','function','clsService','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','__decorate','getOwnPropertyDescriptor','./IndexRecommend.entity','Repository','152pxpDXG','711486fqkBEi','@nestjs/common','ids','318dWXsIB','log','\x20AND\x20i.name\x20LIKE\x20\x27%','12205oWbRUk','save','../../common/utils','connection','nestjs-cls','@nestjs/typeorm','\x20OFFSET\x20','936TjiQdM','\x0a\x20\x20\x20\x20\x20\x20\x20\x20'];_0x581b=function(){return _0x2e730c;};return _0x581b();}IndexRecommendService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,typeorm_1['InjectRepository'])(IndexRecommend_entity_1[_0x8b054d(0xd6)])),__metadata(_0x8b054d(0xf8),[typeorm_2[_0x8b054d(0xe0)],nestjs_cls_1[_0x8b054d(0xd3)],typeorm_2['Connection']])],IndexRecommendService),exports['IndexRecommendService']=IndexRecommendService;