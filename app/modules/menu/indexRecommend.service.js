'use strict';const _0x5d74c6=_0xdafd;(function(_0x48165c,_0x59ef53){const _0x74ab4e=_0xdafd,_0x54b7e8=_0x48165c();while(!![]){try{const _0x52a8ef=-parseInt(_0x74ab4e(0xd9))/0x1+parseInt(_0x74ab4e(0xbe))/0x2+-parseInt(_0x74ab4e(0xca))/0x3+parseInt(_0x74ab4e(0xcd))/0x4+-parseInt(_0x74ab4e(0xab))/0x5+-parseInt(_0x74ab4e(0xac))/0x6+parseInt(_0x74ab4e(0xb7))/0x7*(parseInt(_0x74ab4e(0xc8))/0x8);if(_0x52a8ef===_0x59ef53)break;else _0x54b7e8['push'](_0x54b7e8['shift']());}catch(_0x17bca5){_0x54b7e8['push'](_0x54b7e8['shift']());}}}(_0x5dba,0x2e6fd));function _0x5dba(){const _0xaf7bbb=['\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','clsService','./IndexRecommend.entity','157736QQCMXs','\x20AND\x20i.name\x20LIKE\x20\x27%','370095OBBKBF','__decorate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20COUNT(*)\x20as\x20count\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20index_recommend\x20i\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','976500WKkrTE','\x20OFFSET\x20','query','page','metadata','isDefined','entity','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20i.del_flag\x20=\x200\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','../../common/utils','update','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','@nestjs/common','328892yOfsgs','\x20AND\x20i.type\x20=\x20\x27','connection','AND\x20i.tag_id\x20not\x20in\x20(','__param','316375WuFsBU','1783044SFdwGj','function','design:paramtypes','\x20AND\x20i.saasId\x20=\x20','IndexRecommendEntity','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','saasId','Injectable','InjectRepository','defineProperty','delete','259aMfPUe','object','__metadata','decorate','isPlatform','getReqSaasId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20i.*,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20i.tag_id\x20AS\x20tagId,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20i.del_flag\x20AS\x20delFlag,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s.`name`\x20AS\x20saasName,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20d.dict_name\x20AS\x20tagName\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20index_recommend\x20i\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20saas\x20s\x20ON\x20i.saasId\x20=\x20s.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LEFT\x20JOIN\x20ai_dict\x20d\x20ON\x20i.tag_id\x20=\x20d.id\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','58514tTQhBe','count','ids','nestjs-cls','length','IndexRecommendService','save'];_0x5dba=function(){return _0xaf7bbb;};return _0x5dba();}var __decorate=this&&this[_0x5d74c6(0xcb)]||function(_0x12bde6,_0x4baa33,_0x1d4d18,_0x271b8a){const _0x28d838=_0x5d74c6;var _0x722db7=arguments['length'],_0x5cfa32=_0x722db7<0x3?_0x4baa33:_0x271b8a===null?_0x271b8a=Object['getOwnPropertyDescriptor'](_0x4baa33,_0x1d4d18):_0x271b8a,_0x304a61;if(typeof Reflect===_0x28d838(0xb8)&&typeof Reflect[_0x28d838(0xba)]===_0x28d838(0xad))_0x5cfa32=Reflect[_0x28d838(0xba)](_0x12bde6,_0x4baa33,_0x1d4d18,_0x271b8a);else{for(var _0x1bc432=_0x12bde6[_0x28d838(0xc2)]-0x1;_0x1bc432>=0x0;_0x1bc432--)if(_0x304a61=_0x12bde6[_0x1bc432])_0x5cfa32=(_0x722db7<0x3?_0x304a61(_0x5cfa32):_0x722db7>0x3?_0x304a61(_0x4baa33,_0x1d4d18,_0x5cfa32):_0x304a61(_0x4baa33,_0x1d4d18))||_0x5cfa32;}return _0x722db7>0x3&&_0x5cfa32&&Object[_0x28d838(0xb5)](_0x4baa33,_0x1d4d18,_0x5cfa32),_0x5cfa32;},__metadata=this&&this[_0x5d74c6(0xb9)]||function(_0x84e424,_0xf75435){const _0x56d5b5=_0x5d74c6;if(typeof Reflect===_0x56d5b5(0xb8)&&typeof Reflect[_0x56d5b5(0xd1)]==='function')return Reflect['metadata'](_0x84e424,_0xf75435);},__param=this&&this[_0x5d74c6(0xaa)]||function(_0x347b50,_0x1026fd){return function(_0x5228ea,_0x33cc3f){_0x1026fd(_0x5228ea,_0x33cc3f,_0x347b50);};};Object[_0x5d74c6(0xb5)](exports,'__esModule',{'value':!![]}),exports[_0x5d74c6(0xc3)]=void 0x0;const common_1=require(_0x5d74c6(0xd8)),typeorm_1=require('@nestjs/typeorm'),typeorm_2=require('typeorm'),IndexRecommend_entity_1=require(_0x5d74c6(0xc7)),utils_1=require(_0x5d74c6(0xd5)),nestjs_cls_1=require(_0x5d74c6(0xc1));let IndexRecommendService=class IndexRecommendService{constructor(_0x4f2e95,_0x1775d2,_0x767b21){const _0x205402=_0x5d74c6;this[_0x205402(0xd3)]=_0x4f2e95,this[_0x205402(0xc6)]=_0x1775d2,this[_0x205402(0xdb)]=_0x767b21;}async[_0x5d74c6(0xd0)](_0x5b75e8){const _0x2b8b2c=_0x5d74c6,{page:page=0x1,size:size=0x14,type:_0x44226e,tagId:_0x1cef4c,notInTagId:_0x485671,keyword:_0x116433,saasId:_0x391743}=_0x5b75e8,_0x484ab5=(0x0,utils_1[_0x2b8b2c(0xbc)])(this['clsService']);let _0xec00c9=_0x2b8b2c(0xd4)+(_0x44226e?_0x2b8b2c(0xda)+_0x44226e+'\x27':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1cef4c?'\x20AND\x20i.tag_id\x20=\x20'+_0x1cef4c:'')+_0x2b8b2c(0xb1)+(_0x485671?_0x2b8b2c(0xdc)+_0x485671+')':'')+_0x2b8b2c(0xb1)+(_0x116433?_0x2b8b2c(0xc9)+_0x116433+'%\x27':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';(0x0,utils_1[_0x2b8b2c(0xbb)])(this[_0x2b8b2c(0xc6)])?(0x0,utils_1[_0x2b8b2c(0xd2)])(_0x391743)&&(_0xec00c9=_0xec00c9+(_0x2b8b2c(0xaf)+_0x391743)):_0xec00c9=_0xec00c9+(_0x2b8b2c(0xaf)+_0x484ab5);const [_0x4aa1bc]=await this['connection'][_0x2b8b2c(0xcf)](_0x2b8b2c(0xcc)+_0xec00c9+_0x2b8b2c(0xc5)),_0x3ab69c=await this['connection'][_0x2b8b2c(0xcf)](_0x2b8b2c(0xbd)+_0xec00c9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ORDER\x20BY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20i.sort\x20ASC,\x20i.createdAt\x20DESC\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20LIMIT\x20'+size+_0x2b8b2c(0xce)+(page-0x1)*size+_0x2b8b2c(0xd7));return{'rows':_0x3ab69c,'count':_0x4aa1bc[_0x2b8b2c(0xbf)]};}async[_0x5d74c6(0xc4)](_0x17df18){const _0x5e7a3f=_0x5d74c6;try{const _0x4be3f0={..._0x17df18};if(!_0x17df18['id']){const _0x5d9513=(0x0,utils_1[_0x5e7a3f(0xbc)])(this[_0x5e7a3f(0xc6)]);_0x4be3f0[_0x5e7a3f(0xb2)]=_0x5d9513;}return await this[_0x5e7a3f(0xd3)]['save'](_0x4be3f0),!![];}catch(_0x29a0f8){console['log'](_0x29a0f8);}}async[_0x5d74c6(0xb6)](_0x1abdfd){const _0x3ff120=_0x5d74c6;if(!_0x1abdfd[_0x3ff120(0xc0)]||!_0x1abdfd[_0x3ff120(0xc0)])return!![];return await this[_0x3ff120(0xd3)][_0x3ff120(0xd6)]({'id':(0x0,typeorm_2['In'])(_0x1abdfd[_0x3ff120(0xc0)])},{'delFlag':0x1}),!![];}};function _0xdafd(_0x37fe14,_0x590b4a){const _0x5dba2a=_0x5dba();return _0xdafd=function(_0xdafd10,_0x2ee12f){_0xdafd10=_0xdafd10-0xaa;let _0x14a547=_0x5dba2a[_0xdafd10];return _0x14a547;},_0xdafd(_0x37fe14,_0x590b4a);}IndexRecommendService=__decorate([(0x0,common_1[_0x5d74c6(0xb3)])(),__param(0x0,(0x0,typeorm_1[_0x5d74c6(0xb4)])(IndexRecommend_entity_1[_0x5d74c6(0xb0)])),__metadata(_0x5d74c6(0xae),[typeorm_2['Repository'],nestjs_cls_1['ClsService'],typeorm_2['Connection']])],IndexRecommendService),exports[_0x5d74c6(0xc3)]=IndexRecommendService;