'use strict';const _0xfffce=_0x43e8;function _0x43e8(_0x167158,_0x35efbc){const _0x361fb9=_0x361f();return _0x43e8=function(_0x43e868,_0x1c7cb3){_0x43e868=_0x43e868-0x153;let _0x23e24d=_0x361fb9[_0x43e868];return _0x23e24d;},_0x43e8(_0x167158,_0x35efbc);}(function(_0x3aa270,_0x56d3ae){const _0x4d1ae4=_0x43e8,_0xf9aad0=_0x3aa270();while(!![]){try{const _0xc89491=parseInt(_0x4d1ae4(0x18b))/0x1+parseInt(_0x4d1ae4(0x17f))/0x2*(parseInt(_0x4d1ae4(0x189))/0x3)+parseInt(_0x4d1ae4(0x157))/0x4+parseInt(_0x4d1ae4(0x182))/0x5+-parseInt(_0x4d1ae4(0x16c))/0x6*(-parseInt(_0x4d1ae4(0x181))/0x7)+parseInt(_0x4d1ae4(0x153))/0x8*(parseInt(_0x4d1ae4(0x15d))/0x9)+parseInt(_0x4d1ae4(0x158))/0xa*(-parseInt(_0x4d1ae4(0x17b))/0xb);if(_0xc89491===_0x56d3ae)break;else _0xf9aad0['push'](_0xf9aad0['shift']());}catch(_0x1b4238){_0xf9aad0['push'](_0xf9aad0['shift']());}}}(_0x361f,0x91eb0));var __decorate=this&&this[_0xfffce(0x155)]||function(_0x203d2b,_0x5dcad2,_0x553d8e,_0xf1b612){const _0x205b4d=_0xfffce;var _0x2b278e=arguments[_0x205b4d(0x17e)],_0x1310eb=_0x2b278e<0x3?_0x5dcad2:_0xf1b612===null?_0xf1b612=Object[_0x205b4d(0x18f)](_0x5dcad2,_0x553d8e):_0xf1b612,_0x46f7f0;if(typeof Reflect===_0x205b4d(0x190)&&typeof Reflect['decorate']===_0x205b4d(0x163))_0x1310eb=Reflect[_0x205b4d(0x188)](_0x203d2b,_0x5dcad2,_0x553d8e,_0xf1b612);else{for(var _0x40359f=_0x203d2b[_0x205b4d(0x17e)]-0x1;_0x40359f>=0x0;_0x40359f--)if(_0x46f7f0=_0x203d2b[_0x40359f])_0x1310eb=(_0x2b278e<0x3?_0x46f7f0(_0x1310eb):_0x2b278e>0x3?_0x46f7f0(_0x5dcad2,_0x553d8e,_0x1310eb):_0x46f7f0(_0x5dcad2,_0x553d8e))||_0x1310eb;}return _0x2b278e>0x3&&_0x1310eb&&Object[_0x205b4d(0x179)](_0x5dcad2,_0x553d8e,_0x1310eb),_0x1310eb;},__metadata=this&&this['__metadata']||function(_0x38a87e,_0x25e021){const _0x55e08c=_0xfffce;if(typeof Reflect===_0x55e08c(0x190)&&typeof Reflect[_0x55e08c(0x169)]==='function')return Reflect[_0x55e08c(0x169)](_0x38a87e,_0x25e021);},__param=this&&this[_0xfffce(0x162)]||function(_0x4a5abf,_0x42eaa5){return function(_0x5c8245,_0x347b7e){_0x42eaa5(_0x5c8245,_0x347b7e,_0x4a5abf);};};Object[_0xfffce(0x179)](exports,_0xfffce(0x161),{'value':!![]}),exports['MenuService']=void 0x0;const common_1=require('@nestjs/common'),typeorm_1=require(_0xfffce(0x18d)),typeorm_2=require(_0xfffce(0x15f)),menu_entity_1=require(_0xfffce(0x15c));let MenuService=class MenuService{constructor(_0x1d20ee){const _0x5d5d01=_0xfffce;this[_0x5d5d01(0x177)]=_0x1d20ee;}async[_0xfffce(0x184)](){const _0xd58f55=_0xfffce;await this[_0xd58f55(0x180)]();}async[_0xfffce(0x180)](){const _0x269797=_0xfffce,_0x5b4d1b=[{'menuTipText':_0x269797(0x17a),'menuIcon':_0x269797(0x165),'menuName':'聊天','menuPath':_0x269797(0x191),'menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':'专业绘画','menuIcon':_0x269797(0x187),'menuName':'绘画','menuPath':_0x269797(0x176),'menuType':0x0,'menuPlatform':0x1,'order':0xc8}],_0x27d607=[{'menuTipText':'聊天','menuIcon':_0x269797(0x165),'menuName':'聊天','menuPath':'/chat','menuType':0x0,'menuPlatform':0x0,'order':0x64},{'menuTipText':'绘画','menuIcon':_0x269797(0x187),'menuName':'绘画','menuPath':_0x269797(0x176),'menuType':0x0,'menuPlatform':0x0,'order':0xc8},{'menuTipText':'应用','menuIcon':'ant-design:appstore-outlined','menuName':'应用','menuPath':_0x269797(0x166),'menuType':0x0,'menuPlatform':0x0,'order':0x12c},{'menuTipText':_0x269797(0x173),'menuIcon':_0x269797(0x186),'menuName':_0x269797(0x173),'menuPath':_0x269797(0x16e),'menuType':0x0,'menuPlatform':0x0,'order':0x190},{'menuTipText':'我的','menuIcon':_0x269797(0x17c),'menuName':'我的','menuPath':'/user-center','menuType':0x0,'menuPlatform':0x0,'order':0x1f4}],_0x10d017=_0x5b4d1b[_0x269797(0x16d)](_0x27d607),_0x3700e9=await this[_0x269797(0x177)]['find']({'where':{'menuType':0x0}});for(let _0x58858d=0x0;_0x58858d<_0x10d017[_0x269797(0x17e)];_0x58858d++){const _0x9850d5=_0x10d017[_0x58858d],_0x5c1b07=_0x3700e9[_0x269797(0x154)](_0x184a31=>_0x184a31[_0x269797(0x17d)]===_0x9850d5[_0x269797(0x17d)]&&_0x184a31[_0x269797(0x171)]===_0x9850d5[_0x269797(0x171)]);!_0x5c1b07&&await this[_0x269797(0x177)][_0x269797(0x16b)](_0x9850d5);}}async[_0xfffce(0x15b)](_0xf621b6){const _0x4bbf2f=_0xfffce,{menuPlatform:_0x45e3b5}=_0xf621b6;let _0x2361fc={};return _0x45e3b5&&(_0x2361fc[_0x4bbf2f(0x171)]=_0x45e3b5),await this[_0x4bbf2f(0x177)][_0x4bbf2f(0x154)]({'where':_0x2361fc,'order':{'order':_0x4bbf2f(0x183)}});}async[_0xfffce(0x18a)](_0xc9bf65){const _0x541a5e=_0xfffce,{menuPlatform:_0x350e1b}=_0xc9bf65;let _0x50ebe8={'isShow':!![]};return _0x350e1b&&(_0x50ebe8[_0x541a5e(0x171)]=_0x350e1b),await this[_0x541a5e(0x177)][_0x541a5e(0x154)]({'where':_0x50ebe8,'order':{'order':_0x541a5e(0x183)}});}async[_0xfffce(0x178)](_0x2999c8){const _0xe924b8=_0xfffce,{id:_0x490b2d}=_0x2999c8;if(!_0x490b2d)return;const _0x40993d=await this[_0xe924b8(0x177)][_0xe924b8(0x15e)]({'where':{'id':_0x490b2d}});if(!_0x40993d)return;const {isShow:_0x513d19}=_0x40993d,_0x3757bc=await this[_0xe924b8(0x177)][_0xe924b8(0x175)]({'id':_0x490b2d},{'isShow':!_0x513d19});return _0x3757bc[_0xe924b8(0x159)]>0x0;}async[_0xfffce(0x156)](_0x579f3c){const _0x8fc468=_0xfffce,{id:_0x11c4b9}=_0x579f3c;delete _0x579f3c[_0x8fc468(0x174)];try{if(_0x11c4b9){const _0x296ee0=await this['menuEntity']['update']({'id':_0x11c4b9},_0x579f3c);return _0x296ee0[_0x8fc468(0x159)]>0x0;}else{const _0x5c624c=await this[_0x8fc468(0x177)][_0x8fc468(0x16b)](_0x579f3c);return _0x5c624c;}}catch(_0x328e4a){console[_0x8fc468(0x16f)](_0x8fc468(0x172),_0x328e4a);throw new common_1[(_0x8fc468(0x16a))](_0x8fc468(0x168),common_1['HttpStatus']['BAD_REQUEST']);}}async[_0xfffce(0x185)](_0x5c8c4c){const _0x3244e=_0xfffce,{id:_0x4930bb}=_0x5c8c4c;if(!_0x4930bb)throw new common_1['HttpException'](_0x3244e(0x164),common_1['HttpStatus'][_0x3244e(0x170)]);const _0x40f182=await this['menuEntity'][_0x3244e(0x18e)]({'id':_0x4930bb});return _0x40f182;}async[_0xfffce(0x167)](_0x2b3ab6){const _0x40a0c2=_0xfffce,{id:_0x835236,menuIcon:_0x32b46a,menuName:_0xb02544,order:_0x14fe17}=_0x2b3ab6;if(!_0x835236||!_0x32b46a||!_0xb02544||!_0x14fe17)throw new common_1[(_0x40a0c2(0x16a))](_0x40a0c2(0x164),common_1['HttpStatus'][_0x40a0c2(0x170)]);const _0x3fcc73=await this[_0x40a0c2(0x177)][_0x40a0c2(0x175)]({'id':_0x835236},{'menuIcon':_0x32b46a,'menuName':_0xb02544,'order':_0x14fe17});return _0x3fcc73[_0x40a0c2(0x159)]>0x0;}};MenuService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,typeorm_1[_0xfffce(0x15a)])(menu_entity_1['MenuEntity'])),__metadata('design:paramtypes',[typeorm_2[_0xfffce(0x160)]])],MenuService),exports[_0xfffce(0x18c)]=MenuService;function _0x361f(){const _0x701be5=['findOne','typeorm','Repository','__esModule','__param','function','缺失必要参数!','fluent:chat-16-regular','/app-store','updateIcon','操作菜单失败!','metadata','HttpException','save','5168040jTYrno','concat','/gpts','log','BAD_REQUEST','menuPlatform','保存菜单失败error','GPTS','isSystem','update','/midjourney','menuEntity','visibleMenu','defineProperty','对话聊天','43617926eYvGmY','ri:account-pin-box-line','menuPath','length','1438eHrRNf','initMenu','7kkBmBT','5763070tRcLfC','ASC','onModuleInit','delMenu','tdesign:letters-g','mdi:paint-outline','decorate','1281bIslOS','menuListFront','1029804DyDWZD','MenuService','@nestjs/typeorm','delete','getOwnPropertyDescriptor','object','/chat','152FKEJnu','find','__decorate','setMenu','3583224txEbZZ','10fOaCgY','affected','InjectRepository','queryMenu','./menu.entity','149859uQnnzd'];_0x361f=function(){return _0x701be5;};return _0x361f();}