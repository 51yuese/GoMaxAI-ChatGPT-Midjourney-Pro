'use strict';const _0x2363cd=_0x2748;(function(_0x55fea1,_0x5997ec){const _0x162da8=_0x2748,_0x3204eb=_0x55fea1();while(!![]){try{const _0xebb17a=-parseInt(_0x162da8(0xe5))/0x1*(-parseInt(_0x162da8(0xb0))/0x2)+parseInt(_0x162da8(0xe3))/0x3+parseInt(_0x162da8(0xd7))/0x4+parseInt(_0x162da8(0xd9))/0x5*(-parseInt(_0x162da8(0xc1))/0x6)+parseInt(_0x162da8(0xb9))/0x7+-parseInt(_0x162da8(0xc2))/0x8*(parseInt(_0x162da8(0xd6))/0x9)+parseInt(_0x162da8(0xdd))/0xa;if(_0xebb17a===_0x5997ec)break;else _0x3204eb['push'](_0x3204eb['shift']());}catch(_0x2b6193){_0x3204eb['push'](_0x3204eb['shift']());}}}(_0x3f25,0x4ead4));var __decorate=this&&this['__decorate']||function(_0x57459d,_0x35f98d,_0x4aae40,_0x4f535a){const _0x2f3d37=_0x2748;var _0x1b3bf6=arguments[_0x2f3d37(0xd3)],_0x18a84f=_0x1b3bf6<0x3?_0x35f98d:_0x4f535a===null?_0x4f535a=Object['getOwnPropertyDescriptor'](_0x35f98d,_0x4aae40):_0x4f535a,_0x130010;if(typeof Reflect===_0x2f3d37(0xad)&&typeof Reflect['decorate']===_0x2f3d37(0xbe))_0x18a84f=Reflect['decorate'](_0x57459d,_0x35f98d,_0x4aae40,_0x4f535a);else{for(var _0x4e1e67=_0x57459d['length']-0x1;_0x4e1e67>=0x0;_0x4e1e67--)if(_0x130010=_0x57459d[_0x4e1e67])_0x18a84f=(_0x1b3bf6<0x3?_0x130010(_0x18a84f):_0x1b3bf6>0x3?_0x130010(_0x35f98d,_0x4aae40,_0x18a84f):_0x130010(_0x35f98d,_0x4aae40))||_0x18a84f;}return _0x1b3bf6>0x3&&_0x18a84f&&Object[_0x2f3d37(0xdb)](_0x35f98d,_0x4aae40,_0x18a84f),_0x18a84f;},__metadata=this&&this[_0x2363cd(0xd4)]||function(_0x3d8d8b,_0x33b9b6){const _0x128a9b=_0x2363cd;if(typeof Reflect===_0x128a9b(0xad)&&typeof Reflect[_0x128a9b(0xae)]===_0x128a9b(0xbe))return Reflect[_0x128a9b(0xae)](_0x3d8d8b,_0x33b9b6);},__param=this&&this[_0x2363cd(0xc6)]||function(_0x146ee4,_0x1dbb8b){return function(_0x369509,_0x4cdadc){_0x1dbb8b(_0x369509,_0x4cdadc,_0x146ee4);};};Object[_0x2363cd(0xdb)](exports,_0x2363cd(0xca),{'value':!![]}),exports[_0x2363cd(0xd0)]=void 0x0;const common_1=require(_0x2363cd(0xe2)),typeorm_1=require('@nestjs/typeorm'),typeorm_2=require(_0x2363cd(0xba)),menu_entity_1=require(_0x2363cd(0xbf));function _0x3f25(){const _0x4e1c1e=['defineProperty','update','1952680WZCbpe','ri:account-pin-box-line','design:paramtypes','GPTS','操作菜单失败!','@nestjs/common','37503xBCaXb','/user-center','487zpzFmJ','menuEntity','affected','queryMenu','object','metadata','对话聊天','458FhcXDc','ASC','menuPath','HttpException','menuListFront','updateIcon','缺失必要参数!','findOne','mdi:paint-outline','1693062LBXrpx','typeorm','find','menuPlatform','/chat','function','./menu.entity','BAD_REQUEST','1501614LcBEfE','120xfcVTL','/midjourney','save','ant-design:appstore-outlined','__param','delete','tdesign:letters-g','delMenu','__esModule','InjectRepository','/app-store','专业绘画','HttpStatus','visibleMenu','MenuService','concat','保存菜单失败error','length','__metadata','initMenu','225495gSWiVN','2549860qEhDdn','/gpts','10IWJQlE','log'];_0x3f25=function(){return _0x4e1c1e;};return _0x3f25();}function _0x2748(_0x38e8bc,_0x22805a){const _0x3f25c1=_0x3f25();return _0x2748=function(_0x2748c7,_0x534d81){_0x2748c7=_0x2748c7-0xab;let _0x359d7c=_0x3f25c1[_0x2748c7];return _0x359d7c;},_0x2748(_0x38e8bc,_0x22805a);}let MenuService=class MenuService{constructor(_0x50ed42){const _0x508e04=_0x2363cd;this[_0x508e04(0xe6)]=_0x50ed42;}async['onModuleInit'](){const _0x227262=_0x2363cd;await this[_0x227262(0xd5)]();}async[_0x2363cd(0xd5)](){const _0x10ea4a=_0x2363cd,_0x323a0c=[{'menuTipText':_0x10ea4a(0xaf),'menuIcon':'fluent:chat-16-regular','menuName':'聊天','menuPath':_0x10ea4a(0xbd),'menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':_0x10ea4a(0xcd),'menuIcon':'mdi:paint-outline','menuName':'绘画','menuPath':_0x10ea4a(0xc3),'menuType':0x0,'menuPlatform':0x1,'order':0xc8}],_0x544978=[{'menuTipText':'聊天','menuIcon':'fluent:chat-16-regular','menuName':'聊天','menuPath':_0x10ea4a(0xbd),'menuType':0x0,'menuPlatform':0x0,'order':0x64},{'menuTipText':'绘画','menuIcon':_0x10ea4a(0xb8),'menuName':'绘画','menuPath':_0x10ea4a(0xc3),'menuType':0x0,'menuPlatform':0x0,'order':0xc8},{'menuTipText':'应用','menuIcon':_0x10ea4a(0xc5),'menuName':'应用','menuPath':_0x10ea4a(0xcc),'menuType':0x0,'menuPlatform':0x0,'order':0x12c},{'menuTipText':_0x10ea4a(0xe0),'menuIcon':_0x10ea4a(0xc8),'menuName':'GPTS','menuPath':_0x10ea4a(0xd8),'menuType':0x0,'menuPlatform':0x0,'order':0x190},{'menuTipText':'我的','menuIcon':_0x10ea4a(0xde),'menuName':'我的','menuPath':_0x10ea4a(0xe4),'menuType':0x0,'menuPlatform':0x0,'order':0x1f4}],_0x55d07f=_0x323a0c[_0x10ea4a(0xd1)](_0x544978),_0x1e69bf=await this[_0x10ea4a(0xe6)][_0x10ea4a(0xbb)]({'where':{'menuType':0x0}});for(let _0xeb96a8=0x0;_0xeb96a8<_0x55d07f[_0x10ea4a(0xd3)];_0xeb96a8++){const _0x4bfea2=_0x55d07f[_0xeb96a8],_0x3409cb=_0x1e69bf[_0x10ea4a(0xbb)](_0x1096ab=>_0x1096ab['menuPath']===_0x4bfea2[_0x10ea4a(0xb2)]&&_0x1096ab[_0x10ea4a(0xbc)]===_0x4bfea2['menuPlatform']);!_0x3409cb&&await this[_0x10ea4a(0xe6)][_0x10ea4a(0xc4)](_0x4bfea2);}}async[_0x2363cd(0xac)](_0x5360c6){const _0x9a3328=_0x2363cd,{menuPlatform:_0x418a37}=_0x5360c6;let _0x4b8c2f={};return _0x418a37&&(_0x4b8c2f[_0x9a3328(0xbc)]=_0x418a37),await this[_0x9a3328(0xe6)][_0x9a3328(0xbb)]({'where':_0x4b8c2f,'order':{'order':_0x9a3328(0xb1)}});}async[_0x2363cd(0xb4)](_0x55788a){const _0x3427e4=_0x2363cd,{menuPlatform:_0x685e4d}=_0x55788a;let _0x29af7f={'isShow':!![]};return _0x685e4d&&(_0x29af7f['menuPlatform']=_0x685e4d),await this['menuEntity'][_0x3427e4(0xbb)]({'where':_0x29af7f,'order':{'order':_0x3427e4(0xb1)}});}async[_0x2363cd(0xcf)](_0xff6a15){const _0x565f6c=_0x2363cd,{id:_0x4b0613}=_0xff6a15;if(!_0x4b0613)return;const _0x53450a=await this[_0x565f6c(0xe6)][_0x565f6c(0xb7)]({'where':{'id':_0x4b0613}});if(!_0x53450a)return;const {isShow:_0x3a390d}=_0x53450a,_0x1c441a=await this[_0x565f6c(0xe6)]['update']({'id':_0x4b0613},{'isShow':!_0x3a390d});return _0x1c441a[_0x565f6c(0xab)]>0x0;}async['setMenu'](_0x126fec){const _0x186593=_0x2363cd,{id:_0x13d7ad}=_0x126fec;delete _0x126fec['isSystem'];try{if(_0x13d7ad){const _0x3ffcb8=await this[_0x186593(0xe6)][_0x186593(0xdc)]({'id':_0x13d7ad},_0x126fec);return _0x3ffcb8[_0x186593(0xab)]>0x0;}else{const _0x1c9e9c=await this[_0x186593(0xe6)][_0x186593(0xc4)](_0x126fec);return _0x1c9e9c;}}catch(_0x4ae30e){console[_0x186593(0xda)](_0x186593(0xd2),_0x4ae30e);throw new common_1[(_0x186593(0xb3))](_0x186593(0xe1),common_1[_0x186593(0xce)]['BAD_REQUEST']);}}async[_0x2363cd(0xc9)](_0x2e09ca){const _0x5d1f28=_0x2363cd,{id:_0x30d3e6}=_0x2e09ca;if(!_0x30d3e6)throw new common_1['HttpException']('缺失必要参数!',common_1[_0x5d1f28(0xce)]['BAD_REQUEST']);const _0x34742b=await this['menuEntity'][_0x5d1f28(0xc7)]({'id':_0x30d3e6});return _0x34742b;}async[_0x2363cd(0xb5)](_0x4b95b7){const _0x59af08=_0x2363cd,{id:_0x5ccc5e,menuIcon:_0xdc43a2,menuName:_0x4bf9a3,order:_0x1b1c8c}=_0x4b95b7;if(!_0x5ccc5e||!_0xdc43a2||!_0x4bf9a3||!_0x1b1c8c)throw new common_1['HttpException'](_0x59af08(0xb6),common_1['HttpStatus'][_0x59af08(0xc0)]);const _0x382613=await this['menuEntity']['update']({'id':_0x5ccc5e},{'menuIcon':_0xdc43a2,'menuName':_0x4bf9a3,'order':_0x1b1c8c});return _0x382613['affected']>0x0;}};MenuService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,typeorm_1[_0x2363cd(0xcb)])(menu_entity_1['MenuEntity'])),__metadata(_0x2363cd(0xdf),[typeorm_2['Repository']])],MenuService),exports['MenuService']=MenuService;