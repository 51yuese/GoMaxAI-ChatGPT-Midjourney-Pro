'use strict';function _0x1256(_0x419d26,_0x8922fb){const _0x24fd00=_0x24fd();return _0x1256=function(_0x12566e,_0x54c1c1){_0x12566e=_0x12566e-0x1f3;let _0x347fbc=_0x24fd00[_0x12566e];return _0x347fbc;},_0x1256(_0x419d26,_0x8922fb);}const _0x5db970=_0x1256;(function(_0x5be3e1,_0x27ace3){const _0x236779=_0x1256,_0x66cf45=_0x5be3e1();while(!![]){try{const _0x379928=parseInt(_0x236779(0x1fb))/0x1+parseInt(_0x236779(0x1fe))/0x2*(parseInt(_0x236779(0x219))/0x3)+parseInt(_0x236779(0x213))/0x4*(parseInt(_0x236779(0x22e))/0x5)+-parseInt(_0x236779(0x207))/0x6*(parseInt(_0x236779(0x1f9))/0x7)+parseInt(_0x236779(0x21b))/0x8+-parseInt(_0x236779(0x210))/0x9*(-parseInt(_0x236779(0x223))/0xa)+-parseInt(_0x236779(0x21e))/0xb;if(_0x379928===_0x27ace3)break;else _0x66cf45['push'](_0x66cf45['shift']());}catch(_0x3c1f1a){_0x66cf45['push'](_0x66cf45['shift']());}}}(_0x24fd,0xba1ac));var __decorate=this&&this[_0x5db970(0x20b)]||function(_0x1edea1,_0xec6607,_0x1c1573,_0x265356){const _0x1cb6ba=_0x5db970;var _0x539320=arguments['length'],_0x13628c=_0x539320<0x3?_0xec6607:_0x265356===null?_0x265356=Object['getOwnPropertyDescriptor'](_0xec6607,_0x1c1573):_0x265356,_0x267232;if(typeof Reflect===_0x1cb6ba(0x20d)&&typeof Reflect[_0x1cb6ba(0x212)]==='function')_0x13628c=Reflect['decorate'](_0x1edea1,_0xec6607,_0x1c1573,_0x265356);else{for(var _0x399f05=_0x1edea1[_0x1cb6ba(0x22b)]-0x1;_0x399f05>=0x0;_0x399f05--)if(_0x267232=_0x1edea1[_0x399f05])_0x13628c=(_0x539320<0x3?_0x267232(_0x13628c):_0x539320>0x3?_0x267232(_0xec6607,_0x1c1573,_0x13628c):_0x267232(_0xec6607,_0x1c1573))||_0x13628c;}return _0x539320>0x3&&_0x13628c&&Object['defineProperty'](_0xec6607,_0x1c1573,_0x13628c),_0x13628c;},__metadata=this&&this[_0x5db970(0x22c)]||function(_0x5995f6,_0x19e6b2){const _0x4a2807=_0x5db970;if(typeof Reflect===_0x4a2807(0x20d)&&typeof Reflect['metadata']===_0x4a2807(0x217))return Reflect['metadata'](_0x5995f6,_0x19e6b2);},__param=this&&this[_0x5db970(0x226)]||function(_0x4c1892,_0x2f16ba){return function(_0x16d33b,_0x19faff){_0x2f16ba(_0x16d33b,_0x19faff,_0x4c1892);};};Object[_0x5db970(0x1f8)](exports,_0x5db970(0x201),{'value':!![]}),exports[_0x5db970(0x21f)]=void 0x0;const common_1=require('@nestjs/common'),typeorm_1=require('@nestjs/typeorm'),typeorm_2=require(_0x5db970(0x20e)),menu_entity_1=require(_0x5db970(0x1ff));function _0x24fd(){const _0x4f5e73=['HttpException','9izECvn','ASC','7402112eoFhfa','affected','操作菜单失败!','26180517GEFYZR','MenuService','/user-center','save','queryMenu','10lOuzRg','initMenu','find','__param','HttpStatus','MenuEntity','update','Injectable','length','__metadata','mdi:paint-outline','35XtFuia','GPTS','visibleMenu','BAD_REQUEST','ri:account-pin-box-line','delMenu','defineProperty','5089dGMSDU','fluent:chat-16-regular','674060KSwGEt','log','concat','552674oekWqQ','./menu.entity','/midjourney','__esModule','InjectRepository','缺失必要参数!','/chat','ant-design:appstore-outlined','delete','6198avTZFX','menuPlatform','/gpts','专业绘画','__decorate','tdesign:letters-g','object','typeorm','保存菜单失败error','3212046iPcteB','menuPath','decorate','633196LYJfkl','updateIcon','menuEntity','onModuleInit','function'];_0x24fd=function(){return _0x4f5e73;};return _0x24fd();}let MenuService=class MenuService{constructor(_0x536e9e){const _0x2eda39=_0x5db970;this[_0x2eda39(0x215)]=_0x536e9e;}async[_0x5db970(0x216)](){const _0x77f3a6=_0x5db970;await this[_0x77f3a6(0x224)]();}async[_0x5db970(0x224)](){const _0x1d9d5d=_0x5db970,_0x40da99=[{'menuTipText':'对话聊天','menuIcon':_0x1d9d5d(0x1fa),'menuName':'聊天','menuPath':_0x1d9d5d(0x204),'menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':_0x1d9d5d(0x20a),'menuIcon':'mdi:paint-outline','menuName':'绘画','menuPath':_0x1d9d5d(0x200),'menuType':0x0,'menuPlatform':0x1,'order':0xc8}],_0x5f2d1a=[{'menuTipText':'聊天','menuIcon':'fluent:chat-16-regular','menuName':'聊天','menuPath':'/chat','menuType':0x0,'menuPlatform':0x0,'order':0x64},{'menuTipText':'绘画','menuIcon':_0x1d9d5d(0x22d),'menuName':'绘画','menuPath':_0x1d9d5d(0x200),'menuType':0x0,'menuPlatform':0x0,'order':0xc8},{'menuTipText':'应用','menuIcon':_0x1d9d5d(0x205),'menuName':'应用','menuPath':'/app-store','menuType':0x0,'menuPlatform':0x0,'order':0x12c},{'menuTipText':_0x1d9d5d(0x1f3),'menuIcon':_0x1d9d5d(0x20c),'menuName':_0x1d9d5d(0x1f3),'menuPath':_0x1d9d5d(0x209),'menuType':0x0,'menuPlatform':0x0,'order':0x190},{'menuTipText':'我的','menuIcon':_0x1d9d5d(0x1f6),'menuName':'我的','menuPath':_0x1d9d5d(0x220),'menuType':0x0,'menuPlatform':0x0,'order':0x1f4}],_0x191808=_0x40da99[_0x1d9d5d(0x1fd)](_0x5f2d1a),_0x24bbaa=await this['menuEntity'][_0x1d9d5d(0x225)]({'where':{'menuType':0x0}});for(let _0x311b25=0x0;_0x311b25<_0x191808[_0x1d9d5d(0x22b)];_0x311b25++){const _0x46cb34=_0x191808[_0x311b25],_0x35927=_0x24bbaa[_0x1d9d5d(0x225)](_0x1c7d04=>_0x1c7d04[_0x1d9d5d(0x211)]===_0x46cb34['menuPath']&&_0x1c7d04[_0x1d9d5d(0x208)]===_0x46cb34['menuPlatform']);!_0x35927&&await this['menuEntity'][_0x1d9d5d(0x221)](_0x46cb34);}}async[_0x5db970(0x222)](_0x396167){const _0x42be94=_0x5db970,{menuPlatform:_0x22ee91}=_0x396167;let _0x324f5f={};return _0x22ee91&&(_0x324f5f[_0x42be94(0x208)]=_0x22ee91),await this['menuEntity'][_0x42be94(0x225)]({'where':_0x324f5f,'order':{'order':_0x42be94(0x21a)}});}async['menuListFront'](_0x5b05c6){const _0x5b5b4f=_0x5db970,{menuPlatform:_0x2c7830}=_0x5b05c6;let _0x2663d2={'isShow':!![]};return _0x2c7830&&(_0x2663d2[_0x5b5b4f(0x208)]=_0x2c7830),await this[_0x5b5b4f(0x215)][_0x5b5b4f(0x225)]({'where':_0x2663d2,'order':{'order':_0x5b5b4f(0x21a)}});}async[_0x5db970(0x1f4)](_0x32ca00){const _0x38eeca=_0x5db970,{id:_0x3d37fa}=_0x32ca00;if(!_0x3d37fa)return;const _0x3776f5=await this[_0x38eeca(0x215)]['findOne']({'where':{'id':_0x3d37fa}});if(!_0x3776f5)return;const {isShow:_0x32e372}=_0x3776f5,_0x51800e=await this[_0x38eeca(0x215)][_0x38eeca(0x229)]({'id':_0x3d37fa},{'isShow':!_0x32e372});return _0x51800e[_0x38eeca(0x21c)]>0x0;}async['setMenu'](_0x6c84c7){const _0x461e43=_0x5db970,{id:_0x30d961}=_0x6c84c7;delete _0x6c84c7['isSystem'];try{if(_0x30d961){const _0x2a9490=await this[_0x461e43(0x215)]['update']({'id':_0x30d961},_0x6c84c7);return _0x2a9490[_0x461e43(0x21c)]>0x0;}else{const _0x36e1d5=await this['menuEntity'][_0x461e43(0x221)](_0x6c84c7);return _0x36e1d5;}}catch(_0x448f54){console[_0x461e43(0x1fc)](_0x461e43(0x20f),_0x448f54);throw new common_1[(_0x461e43(0x218))](_0x461e43(0x21d),common_1[_0x461e43(0x227)][_0x461e43(0x1f5)]);}}async[_0x5db970(0x1f7)](_0x4f5011){const _0x4df515=_0x5db970,{id:_0x12eb46}=_0x4f5011;if(!_0x12eb46)throw new common_1[(_0x4df515(0x218))](_0x4df515(0x203),common_1[_0x4df515(0x227)][_0x4df515(0x1f5)]);const _0x3ce569=await this[_0x4df515(0x215)][_0x4df515(0x206)]({'id':_0x12eb46});return _0x3ce569;}async[_0x5db970(0x214)](_0x2ec9c0){const _0x291cef=_0x5db970,{id:_0x3ac86b,menuIcon:_0x24ab61,menuName:_0x1bbe2b,order:_0x20560d}=_0x2ec9c0;if(!_0x3ac86b||!_0x24ab61||!_0x1bbe2b||!_0x20560d)throw new common_1[(_0x291cef(0x218))](_0x291cef(0x203),common_1['HttpStatus']['BAD_REQUEST']);const _0x17434f=await this[_0x291cef(0x215)][_0x291cef(0x229)]({'id':_0x3ac86b},{'menuIcon':_0x24ab61,'menuName':_0x1bbe2b,'order':_0x20560d});return _0x17434f[_0x291cef(0x21c)]>0x0;}};MenuService=__decorate([(0x0,common_1[_0x5db970(0x22a)])(),__param(0x0,(0x0,typeorm_1[_0x5db970(0x202)])(menu_entity_1[_0x5db970(0x228)])),__metadata('design:paramtypes',[typeorm_2['Repository']])],MenuService),exports[_0x5db970(0x21f)]=MenuService;