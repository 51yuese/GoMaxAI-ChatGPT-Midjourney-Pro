'use strict';function _0x458a(){const _0x4b2ad2=['decorate','save','design:paramtypes','681836XBNjqH','getVideoDurationByFFmpeg','fileService','InjectRepository','Repository','../../../file/file.service','MarketService','length','1203668ncbgDa','update','object','6edRKEY','getAudioDurationByFFmpeg','typeorm','Injectable','ClsService','__param','117950VtqMnq','200uChFDC','704135SZzIZt','metadata','__metadata','@nestjs/typeorm','BAD_REQUEST','BaseService','duration','8411346OYTvwP','3UGBzft','13366290MWTgiZ','HttpException','2526032smBdmH','configEntity','../../entity/market.entity','__decorate','getOwnPropertyDescriptor','@nestjs/common','FileService'];_0x458a=function(){return _0x4b2ad2;};return _0x458a();}function _0xc771(_0x4fe705,_0x366e9a){const _0x458a12=_0x458a();return _0xc771=function(_0xc771b7,_0x1cfdec){_0xc771b7=_0xc771b7-0x71;let _0xa03079=_0x458a12[_0xc771b7];return _0xa03079;},_0xc771(_0x4fe705,_0x366e9a);}const _0x48c63e=_0xc771;(function(_0x50353e,_0x2831f6){const _0x374672=_0xc771,_0x2c68d2=_0x50353e();while(!![]){try{const _0x19b9f8=parseInt(_0x374672(0x8f))/0x1+parseInt(_0x374672(0x97))/0x2+parseInt(_0x374672(0x82))/0x3*(-parseInt(_0x374672(0x85))/0x4)+parseInt(_0x374672(0x7a))/0x5*(-parseInt(_0x374672(0x72))/0x6)+-parseInt(_0x374672(0x78))/0x7*(parseInt(_0x374672(0x79))/0x8)+-parseInt(_0x374672(0x81))/0x9+parseInt(_0x374672(0x83))/0xa;if(_0x19b9f8===_0x2831f6)break;else _0x2c68d2['push'](_0x2c68d2['shift']());}catch(_0x26a0ad){_0x2c68d2['push'](_0x2c68d2['shift']());}}}(_0x458a,0x78258));var __decorate=this&&this[_0x48c63e(0x88)]||function(_0xd946d7,_0xa1270,_0x40521c,_0x2149e2){const _0xa1ca17=_0x48c63e;var _0x5388fe=arguments['length'],_0x3a3f84=_0x5388fe<0x3?_0xa1270:_0x2149e2===null?_0x2149e2=Object[_0xa1ca17(0x89)](_0xa1270,_0x40521c):_0x2149e2,_0x45e56c;if(typeof Reflect==='object'&&typeof Reflect[_0xa1ca17(0x8c)]==='function')_0x3a3f84=Reflect['decorate'](_0xd946d7,_0xa1270,_0x40521c,_0x2149e2);else{for(var _0x580b5f=_0xd946d7[_0xa1ca17(0x96)]-0x1;_0x580b5f>=0x0;_0x580b5f--)if(_0x45e56c=_0xd946d7[_0x580b5f])_0x3a3f84=(_0x5388fe<0x3?_0x45e56c(_0x3a3f84):_0x5388fe>0x3?_0x45e56c(_0xa1270,_0x40521c,_0x3a3f84):_0x45e56c(_0xa1270,_0x40521c))||_0x3a3f84;}return _0x5388fe>0x3&&_0x3a3f84&&Object['defineProperty'](_0xa1270,_0x40521c,_0x3a3f84),_0x3a3f84;},__metadata=this&&this[_0x48c63e(0x7c)]||function(_0x6b6817,_0x1d1444){const _0x2179af=_0x48c63e;if(typeof Reflect===_0x2179af(0x71)&&typeof Reflect[_0x2179af(0x7b)]==='function')return Reflect['metadata'](_0x6b6817,_0x1d1444);},__param=this&&this[_0x48c63e(0x77)]||function(_0x4f3c50,_0x15ff2f){return function(_0x527327,_0x4ba9e8){_0x15ff2f(_0x527327,_0x4ba9e8,_0x4f3c50);};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[_0x48c63e(0x95)]=void 0x0;const common_1=require(_0x48c63e(0x8a)),nestjs_cls_1=require('nestjs-cls'),typeorm_1=require(_0x48c63e(0x7d)),baseService_1=require('../../../../common/admin/baseService'),typeorm_2=require(_0x48c63e(0x74)),market_entity_1=require(_0x48c63e(0x87)),file_service_1=require(_0x48c63e(0x94));let MarketService=class MarketService extends baseService_1[_0x48c63e(0x7f)]{constructor(_0x4fdbd5,_0xd54f9e,_0x8cf55f){const _0x4c2a44=_0x48c63e;super(_0x8cf55f,_0x4fdbd5),this['clsService']=_0x4fdbd5,this[_0x4c2a44(0x91)]=_0xd54f9e,this['configEntity']=_0x8cf55f;}async['release'](_0x3d1bc2,_0x47ee30){const _0x34f5de=_0x48c63e;return await this['configEntity'][_0x34f5de(0x98)]({'id':_0x3d1bc2},{'isRelease':_0x47ee30,'recommendAt':new Date()}),!![];}async[_0x48c63e(0x8d)](_0x19c162){const _0x1af85a=_0x48c63e;try{return _0x19c162['type']==0x1?_0x19c162[_0x1af85a(0x80)]=await this[_0x1af85a(0x91)][_0x1af85a(0x90)](_0x19c162['fileUrl']):_0x19c162['duration']=await this['fileService'][_0x1af85a(0x73)](_0x19c162['fileUrl']),await this[_0x1af85a(0x86)][_0x1af85a(0x8d)]({..._0x19c162}),!![];}catch(_0xa00e69){throw new common_1[(_0x1af85a(0x84))](_0xa00e69['message'],common_1['HttpStatus'][_0x1af85a(0x7e)]);}}};MarketService=__decorate([(0x0,common_1[_0x48c63e(0x75)])(),__param(0x2,(0x0,typeorm_1[_0x48c63e(0x92)])(market_entity_1['DhHumanmarketEntity'])),__metadata(_0x48c63e(0x8e),[nestjs_cls_1[_0x48c63e(0x76)],file_service_1[_0x48c63e(0x8b)],typeorm_2[_0x48c63e(0x93)]])],MarketService),exports[_0x48c63e(0x95)]=MarketService;