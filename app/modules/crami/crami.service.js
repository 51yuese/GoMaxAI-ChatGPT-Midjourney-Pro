'use strict';const _0xad2b48=_0x4d6e;(function(_0x5c3224,_0x5b1a6e){const _0x26353e=_0x4d6e,_0x417cb2=_0x5c3224();while(!![]){try{const _0x3c8bf2=-parseInt(_0x26353e(0x113))/0x1*(-parseInt(_0x26353e(0xcc))/0x2)+-parseInt(_0x26353e(0xde))/0x3*(-parseInt(_0x26353e(0x10d))/0x4)+-parseInt(_0x26353e(0xb8))/0x5+parseInt(_0x26353e(0xdb))/0x6+-parseInt(_0x26353e(0x105))/0x7+-parseInt(_0x26353e(0xe8))/0x8*(parseInt(_0x26353e(0x9f))/0x9)+parseInt(_0x26353e(0xec))/0xa*(parseInt(_0x26353e(0xb3))/0xb);if(_0x3c8bf2===_0x5b1a6e)break;else _0x417cb2['push'](_0x417cb2['shift']());}catch(_0x3faa5e){_0x417cb2['push'](_0x417cb2['shift']());}}}(_0x339e,0x6a515));function _0x4d6e(_0x2e957c,_0x38fccb){const _0x339e49=_0x339e();return _0x4d6e=function(_0x4d6e8c,_0xf379a5){_0x4d6e8c=_0x4d6e8c-0x94;let _0x206c13=_0x339e49[_0x4d6e8c];return _0x206c13;},_0x4d6e(_0x2e957c,_0x38fccb);}var __decorate=this&&this[_0xad2b48(0xa6)]||function(_0x380439,_0x158629,_0xaff9d4,_0xc5981b){const _0x4635a5=_0xad2b48;var _0x206b0c=arguments[_0x4635a5(0xfc)],_0x513374=_0x206b0c<0x3?_0x158629:_0xc5981b===null?_0xc5981b=Object[_0x4635a5(0xc2)](_0x158629,_0xaff9d4):_0xc5981b,_0x2afbbe;if(typeof Reflect===_0x4635a5(0xe2)&&typeof Reflect[_0x4635a5(0xcb)]===_0x4635a5(0xee))_0x513374=Reflect['decorate'](_0x380439,_0x158629,_0xaff9d4,_0xc5981b);else{for(var _0x2fef63=_0x380439[_0x4635a5(0xfc)]-0x1;_0x2fef63>=0x0;_0x2fef63--)if(_0x2afbbe=_0x380439[_0x2fef63])_0x513374=(_0x206b0c<0x3?_0x2afbbe(_0x513374):_0x206b0c>0x3?_0x2afbbe(_0x158629,_0xaff9d4,_0x513374):_0x2afbbe(_0x158629,_0xaff9d4))||_0x513374;}return _0x206b0c>0x3&&_0x513374&&Object[_0x4635a5(0x9d)](_0x158629,_0xaff9d4,_0x513374),_0x513374;},__metadata=this&&this[_0xad2b48(0xb9)]||function(_0x54799b,_0x5ee3c0){const _0x530d30=_0xad2b48;if(typeof Reflect===_0x530d30(0xe2)&&typeof Reflect['metadata']==='function')return Reflect[_0x530d30(0xb6)](_0x54799b,_0x5ee3c0);},__param=this&&this[_0xad2b48(0xc3)]||function(_0x23bfb8,_0xab467){return function(_0xf4eafb,_0x26c6b7){_0xab467(_0xf4eafb,_0x26c6b7,_0x23bfb8);};};Object[_0xad2b48(0x9d)](exports,_0xad2b48(0xc5),{'value':!![]}),exports[_0xad2b48(0xed)]=void 0x0;const common_1=require(_0xad2b48(0xbe)),crami_entity_1=require(_0xad2b48(0xae)),typeorm_1=require('@nestjs/typeorm'),typeorm_2=require(_0xad2b48(0xf1)),cramiPackage_entity_1=require(_0xad2b48(0xf8)),utils_1=require(_0xad2b48(0xe0)),balance_constant_1=require(_0xad2b48(0xcf)),user_service_1=require(_0xad2b48(0xb5)),nestjs_cls_1=require(_0xad2b48(0x10e));let CramiService=class CramiService{constructor(_0x3aa282,_0x49c529,_0x5ea30c,_0x10698e,_0x1eda61){const _0x5c45ea=_0xad2b48;this['cramiEntity']=_0x3aa282,this[_0x5c45ea(0x101)]=_0x49c529,this[_0x5c45ea(0xf7)]=_0x5ea30c,this['userService']=_0x10698e,this[_0x5c45ea(0xa7)]=_0x1eda61;}async[_0xad2b48(0xad)](_0x395245){const _0x57a577=_0xad2b48;if(!_0x395245[_0x57a577(0xfc)])return[];return this['cramiPackageEntity']['find']({'where':{'id':(0x0,typeorm_2['In'])(_0x395245)}});}async['savePackageV2'](_0x1aa1e2){const _0x343797=_0xad2b48;try{let _0x4e697a;const _0x243384=(0x0,utils_1[_0x343797(0x111)])(this[_0x343797(0xf7)]),_0x15eec0=Number(_0x1aa1e2[_0x343797(0x98)]);if(_0x15eec0<0x0)throw new Error(_0x343797(0xca));const _0x40e087=await this[_0x343797(0x101)][_0x343797(0xb2)]({'where':{'delFlag':0x0,'name':_0x1aa1e2[_0x343797(0xa1)],'saasId':_0x243384}});if(_0x40e087)throw new Error(_0x343797(0xc1));if(_0x243384!==0x0){_0x1aa1e2=_0x1aa1e2;if(!_0x1aa1e2['originId'])throw new Error(_0x343797(0xa9));if(!_0x1aa1e2[_0x343797(0x97)])throw new Error(_0x343797(0x106));if(!_0x1aa1e2[_0x343797(0x98)])throw new Error(_0x343797(0x95));if(isNaN(_0x15eec0))throw new Error(_0x343797(0xf4));const _0x59496f=await this[_0x343797(0x101)]['findOne']({'where':{'id':_0x1aa1e2['originId'],'status':0x1}});if(!_0x59496f)throw new Error(_0x343797(0xb0));_0x4e697a=Object['assign']({},_0x59496f,_0x1aa1e2),_0x4e697a[_0x343797(0xf0)]=Number((Number(_0x59496f[_0x343797(0xe4)])+Number(_0x1aa1e2[_0x343797(0x98)]))[_0x343797(0x100)](0x2)),!_0x1aa1e2['id']&&delete _0x4e697a['id'];}else _0x1aa1e2=_0x1aa1e2,_0x4e697a=Object['assign']({},_0x1aa1e2),_0x4e697a['price']=Number((_0x1aa1e2[_0x343797(0xe4)]+_0x1aa1e2[_0x343797(0x98)])[_0x343797(0x100)](0x2));_0x4e697a[_0x343797(0xe7)]=_0x243384,await this['cramiPackageEntity'][_0x343797(0xf3)](_0x4e697a);}catch(_0x48292b){throw new common_1[(_0x343797(0x96))](_0x48292b[_0x343797(0xa5)],common_1[_0x343797(0xe6)][_0x343797(0xbf)]);}}async['updatePackageV2'](_0x533510){const _0x6e25c3=_0xad2b48;try{if(!(0x0,utils_1[_0x6e25c3(0xac)])(this[_0x6e25c3(0xf7)]))throw new common_1[(_0x6e25c3(0x96))](_0x6e25c3(0xb1),common_1['HttpStatus']['BAD_REQUEST']);await this[_0x6e25c3(0xa7)][_0x6e25c3(0x99)](async()=>{const _0x5a6b9e=_0x6e25c3,_0x5e500d=(0x0,utils_1[_0x5a6b9e(0x111)])(this['clsService']);let _0x2928a3=await this[_0x5a6b9e(0x101)][_0x5a6b9e(0xc4)]({'where':{'id':_0x533510['id']}});if(_0x2928a3['saasId']!==_0x5e500d)throw new Error(_0x5a6b9e(0x9e));const _0x341067=await this['cramiPackageEntity'][_0x5a6b9e(0xc4)]({'where':{'id':(0x0,typeorm_2[_0x5a6b9e(0x102)])(_0x533510['id']),'name':_0x533510[_0x5a6b9e(0xa1)],'delFlag':0x0,'saasId':_0x5e500d}});if(_0x341067)throw new Error('套餐已存在，请修改套餐名称！');await this[_0x5a6b9e(0x101)][_0x5a6b9e(0xf3)](_0x533510),_0x2928a3=await this[_0x5a6b9e(0x101)][_0x5a6b9e(0xc4)]({'where':{'id':_0x533510['id']}}),_0x2928a3[_0x5a6b9e(0xf0)]=Number((Number(_0x2928a3[_0x5a6b9e(0xe4)])+Number(_0x2928a3[_0x5a6b9e(0x98)]))[_0x5a6b9e(0x100)](0x2)),await this[_0x5a6b9e(0x101)][_0x5a6b9e(0xf3)](_0x2928a3);if(_0x5e500d===0x0){if(_0x2928a3[_0x5a6b9e(0xaa)]!==_0x533510[_0x5a6b9e(0xaa)]&&!_0x533510[_0x5a6b9e(0xaa)]){const _0x293674=await this[_0x5a6b9e(0x101)][_0x5a6b9e(0xb4)]({'where':{'originId':_0x533510['id']},'select':['id']}),_0x592239=_0x293674;if(_0x293674[_0x5a6b9e(0xfc)])for(let _0x150b23=0x0;_0x150b23<_0x293674[_0x5a6b9e(0xfc)];_0x150b23++){_0x293674[_0x150b23][_0x5a6b9e(0xf0)]=Number((Number(_0x293674[_0x150b23]['costs'])+Number(_0x293674[_0x150b23]['markup']))['toFixed'](0x2)),_0x293674[_0x150b23][_0x5a6b9e(0xaa)]=_0x533510[_0x5a6b9e(0xaa)],await this[_0x5a6b9e(0x101)]['save'](_0x293674[_0x150b23]);}}}else delete _0x533510[_0x5a6b9e(0xaa)];});}catch(_0x38b153){throw new common_1[(_0x6e25c3(0x96))](_0x38b153[_0x6e25c3(0xa5)],common_1[_0x6e25c3(0xe6)][_0x6e25c3(0xbf)]);}}async[_0xad2b48(0xc6)](_0xcacf2e){const _0x5eafd1=_0xad2b48;if(!_0xcacf2e['ids'])return!![];return await this[_0x5eafd1(0x101)]['update']({'id':(0x0,typeorm_2['In'])(_0xcacf2e[_0x5eafd1(0xef)])},{'delFlag':0x1}),!![];}[_0xad2b48(0xd9)](_0x3f89f6){const _0x3579cf=_0xad2b48,_0x5df3c1={'saasId':0x0,'delFlag':0x0,'status':0x1};return _0x3f89f6&&(_0x5df3c1[_0x3579cf(0xe3)]=_0x3f89f6),this[_0x3579cf(0x101)][_0x3579cf(0xb4)]({'where':_0x5df3c1});}async[_0xad2b48(0x9a)](_0x55c096,_0x3edb50){const _0x327d13=_0xad2b48,_0xddebbb=(0x0,utils_1['getReqSaasId'])(this['clsService']),{page:page=0x1,size:size=0x14,name:_0x485737,type:_0x3f846c,status:_0xce1e53,saasId:_0x2de34c}=_0x3edb50,_0x34c4c0={'delFlag':0x0};_0x485737&&(_0x34c4c0[_0x327d13(0xa1)]=(0x0,typeorm_2['Like'])('%'+_0x485737+'%'));_0x3f846c&&(_0x34c4c0[_0x327d13(0xe3)]=_0x3f846c);if(_0x55c096[_0x327d13(0xc8)][_0x327d13(0xdd)])_0x34c4c0['status']=0x1;else _0xce1e53&&(_0x34c4c0[_0x327d13(0xaa)]=_0xce1e53);(0x0,utils_1[_0x327d13(0xff)])(this['clsService'])?(0x0,utils_1[_0x327d13(0xe1)])(this[_0x327d13(0xf7)])&&_0x2de34c&&(_0x34c4c0[_0x327d13(0xe7)]=_0x2de34c):_0x34c4c0[_0x327d13(0xe7)]=_0xddebbb;const [_0x12d4f5,_0x391493]=await this[_0x327d13(0x101)][_0x327d13(0x103)]({'where':_0x34c4c0,'order':{'order':_0x327d13(0x112)},'skip':(page-0x1)*size,'take':size});return{'rows':_0x12d4f5,'count':_0x391493};}async[_0xad2b48(0x10c)](_0x4e85a1){const _0x587d80=_0xad2b48,_0x5a924e=await this['cramiPackageEntity'][_0x587d80(0xc4)]({'where':{'id':_0x4e85a1}});return _0x5a924e;}async[_0xad2b48(0xa2)](_0x5c9daf,_0x111dd1){const _0x5af726=_0xad2b48,_0x16b6f4=(0x0,utils_1[_0x5af726(0x111)])(this[_0x5af726(0xf7)]),{page:page=0x1,size:size=0xa,useId:_0x49e80d,status:_0x499573,saasId:_0x214254}=_0x5c9daf,_0xd02492={};(0x0,utils_1[_0x5af726(0xe9)])(_0x49e80d)&&(_0xd02492[_0x5af726(0x108)]=_0x49e80d);(0x0,utils_1['isDefined'])(_0x499573)&&(_0xd02492['status']=_0x499573);(0x0,utils_1[_0x5af726(0xff)])(this[_0x5af726(0xf7)])?(0x0,utils_1[_0x5af726(0xe1)])(this[_0x5af726(0xf7)])&&_0x214254&&(_0xd02492['saasId']=_0x214254):_0xd02492[_0x5af726(0xe7)]=_0x16b6f4;const [_0x2e0514,_0x286999]=await this[_0x5af726(0xf6)][_0x5af726(0x103)]({'where':_0xd02492,'take':size,'skip':(page-0x1)*size,'order':{'createdAt':'DESC'}}),_0x44bfca=[],_0x154bf9=[],_0x33f649=[];_0x2e0514['forEach'](_0x72b8ff=>{const _0x4f73f4=_0x5af726;_0x72b8ff[_0x4f73f4(0x108)]&&_0x44bfca[_0x4f73f4(0xa4)](_0x72b8ff['useId']),_0x72b8ff[_0x4f73f4(0xe7)]&&_0x154bf9[_0x4f73f4(0xa4)](_0x72b8ff[_0x4f73f4(0xe7)]),_0x72b8ff[_0x4f73f4(0xda)]&&_0x33f649[_0x4f73f4(0xa4)](_0x72b8ff[_0x4f73f4(0xda)]);});const _0xe26065=new Map(),_0x3299ae=await this[_0x5af726(0xe5)][_0x5af726(0xcd)](_0x44bfca);_0x3299ae[_0x5af726(0xa0)](_0x376a73=>_0xe26065[_0x5af726(0xd8)](_0x376a73['id'],_0x376a73));const _0x25a170=new Map(),_0x43d2f8=await this[_0x5af726(0xe5)]['ListSaasByIds'](_0x154bf9);_0x43d2f8[_0x5af726(0xa0)](_0x3742fd=>_0x25a170[_0x5af726(0xd8)](_0x3742fd['id'],_0x3742fd));const _0x36825d=new Map(),_0x49bf10=await this[_0x5af726(0xad)](_0x33f649);_0x49bf10[_0x5af726(0xa0)](_0xa1decb=>_0x36825d[_0x5af726(0xd8)](_0xa1decb['id'],_0xa1decb));const _0x5c3641=_0x2e0514['map'](_0x41bdab=>{const _0xb4c361=_0x5af726,_0x113fc8=Object[_0xb4c361(0xd2)]({},_0x41bdab);if(_0x41bdab['useId']){const _0x21edf9=_0xe26065[_0xb4c361(0xd6)](_0x41bdab[_0xb4c361(0x108)]);_0x113fc8[_0xb4c361(0xfe)]=_0x21edf9?.[_0xb4c361(0xfe)],_0x113fc8[_0xb4c361(0x94)]=_0x21edf9?.['phone'];}if(_0x41bdab[_0xb4c361(0xe7)]){const _0x5a945f=_0x25a170[_0xb4c361(0xd6)](_0x41bdab[_0xb4c361(0xe7)]);_0x113fc8[_0xb4c361(0xd3)]=_0x5a945f?.[_0xb4c361(0xa1)];}else _0x113fc8['saasName']='平台';if(_0x41bdab[_0xb4c361(0xda)]){const _0x28132=_0x36825d['get'](_0x41bdab[_0xb4c361(0xda)]);_0x113fc8['packageName']=_0x28132?.[_0xb4c361(0xa1)];}return _0x113fc8;});return{'rows':_0x5c3641,'count':_0x286999};}async[_0xad2b48(0xbd)](_0x1203d9,_0x2680d3){const _0x25388e=_0xad2b48,_0x536f5e=[],_0x5d4166=await(0x0,utils_1[_0x25388e(0x111)])(this[_0x25388e(0xf7)]);for(let _0x564d59=0x0;_0x564d59<_0x2680d3;_0x564d59++){const _0x382ebc=(0x0,utils_1[_0x25388e(0x115)])(),_0x535b07=this['cramiEntity'][_0x25388e(0xaf)]({..._0x1203d9,'code':_0x382ebc,'saasId':_0x5d4166});_0x536f5e[_0x25388e(0xa4)](_0x535b07);}await this['cramiEntity'][_0x25388e(0xf3)](_0x536f5e);}async[_0xad2b48(0xd4)](_0x47d452){const _0x279e42=_0xad2b48;try{const {packageId:_0x23a24e,score:_0x29203e,count:count=0x1}=_0x47d452;if(!(0x0,utils_1[_0x279e42(0xff)])(this[_0x279e42(0xf7)]))throw new common_1[(_0x279e42(0x96))](_0x279e42(0x107),common_1[_0x279e42(0xe6)][_0x279e42(0x114)]);if(_0x23a24e){const _0x41599b=await this[_0x279e42(0x101)][_0x279e42(0xc4)]({'where':{'id':_0x23a24e}});if(!_0x41599b)throw new Error('当前套餐不存在、请确认您选择的套餐是否存在！');await this[_0x279e42(0xbd)]({'packageId':_0x23a24e},count);}else{if(!_0x29203e)throw new Error(_0x279e42(0xb7));await this[_0x279e42(0xbd)]({'score':_0x29203e},count);}return!![];}catch(_0x46008e){if(_0x46008e instanceof common_1['HttpException'])throw _0x46008e;else throw new common_1[(_0x279e42(0x96))](_0x46008e[_0x279e42(0xa5)],common_1[_0x279e42(0xe6)][_0x279e42(0xbf)]);}}async[_0xad2b48(0x104)](_0x587c23){const _0x53977c=_0xad2b48,_0x27a357=await this[_0x53977c(0xf6)][_0x53977c(0xc4)]({'where':{'id':_0x587c23}});if(!_0x27a357)throw new common_1['HttpException'](_0x53977c(0xbb),common_1[_0x53977c(0xe6)][_0x53977c(0xbf)]);if(_0x27a357[_0x53977c(0xaa)]===0x1)throw new common_1[(_0x53977c(0x96))]('当前卡密已被使用、已使用的卡密禁止删除！',common_1[_0x53977c(0xe6)][_0x53977c(0xbf)]);return await this[_0x53977c(0xf6)][_0x53977c(0xfa)]({'id':_0x587c23}),!![];}async[_0xad2b48(0x9c)](_0xb914d5){const _0x2e0f65=_0xad2b48,{ids:_0x4ec91a}=_0xb914d5,_0x4be7c9=await this[_0x2e0f65(0xf6)][_0x2e0f65(0xfa)]({'id':(0x0,typeorm_2['In'])(_0x4ec91a),'status':(0x0,typeorm_2['Not'])(0x1)});return _0x4be7c9[_0x2e0f65(0xf5)]===_0x4ec91a[_0x2e0f65(0xfc)]?_0x2e0f65(0xeb):'共'+_0x4ec91a[_0x2e0f65(0xfc)]+_0x2e0f65(0x10f)+_0x4be7c9[_0x2e0f65(0xf5)]+_0x2e0f65(0x9b);}async['distribute'](_0x364e19){const _0xfcc647=_0xad2b48,{ids:_0x565b55,saasId:_0x342d46}=_0x364e19;if(!(0x0,utils_1['isPlatform'])(this[_0xfcc647(0xf7)]))throw new common_1['HttpException']('非法访问',common_1[_0xfcc647(0xe6)][_0xfcc647(0x114)]);return await this[_0xfcc647(0xf6)][_0xfcc647(0xd5)]({'id':(0x0,typeorm_2['In'])(_0x565b55),'status':0x0,'saasId':0x0},{'saasId':_0x342d46}),!![];}async[_0xad2b48(0xa8)](_0x2897b3,_0x6274d5){const _0x4b31bc=_0xad2b48;return await this[_0x4b31bc(0xa7)][_0x4b31bc(0x99)](async()=>{const _0x43e736=_0x4b31bc,_0x5cad1c=(0x0,utils_1[_0x43e736(0x111)])(this['clsService']),_0x21e942=await this[_0x43e736(0xe5)][_0x43e736(0xfb)](_0x2897b3[_0x43e736(0xea)]['id']),_0x3a838e=await this[_0x43e736(0xf6)][_0x43e736(0xc4)]({'where':{'code':_0x6274d5['code'],'saasId':_0x5cad1c}});if(!_0x3a838e)throw new common_1[(_0x43e736(0x96))]('当前卡密不存在、请确认您输入的卡密是否正确！',common_1[_0x43e736(0xe6)][_0x43e736(0xbf)]);const {status:_0x372951,score:_0x476b7d,packageId:_0x5a72e0}=_0x3a838e;if(_0x372951===0x1)throw new common_1[(_0x43e736(0x96))](_0x43e736(0xdc),common_1[_0x43e736(0xe6)]['BAD_REQUEST']);if(_0x5a72e0){const _0xf8051d=await this[_0x43e736(0x101)][_0x43e736(0xc4)]({'where':{'id':_0x5a72e0,'status':0x1}});if(!_0xf8051d)throw new common_1[(_0x43e736(0x96))](_0x43e736(0xce),common_1[_0x43e736(0xe6)]['BAD_REQUEST']);_0xf8051d['score']>0x0&&await this[_0x43e736(0xe5)][_0x43e736(0x109)](_0x21e942,balance_constant_1[_0x43e736(0xf2)][_0x43e736(0xd1)],_0xf8051d['score'],_0x43e736(0x110)+_0xf8051d[_0x43e736(0xa1)],_0x6274d5[_0x43e736(0xd0)]),_0xf8051d[_0x43e736(0x10a)]!==0x0&&await this[_0x43e736(0xe5)][_0x43e736(0xdf)](_0x21e942,balance_constant_1[_0x43e736(0xf2)][_0x43e736(0xd1)],_0xf8051d[_0x43e736(0x10a)],_0x43e736(0xc0)+_0xf8051d['name'],_0x6274d5[_0x43e736(0xd0)]);}else await this[_0x43e736(0xe5)][_0x43e736(0x109)](_0x21e942,balance_constant_1[_0x43e736(0xf2)][_0x43e736(0xd1)],_0x476b7d,_0x43e736(0x10b),_0x6274d5['code']);await this['cramiEntity'][_0x43e736(0xd5)]({'code':_0x6274d5[_0x43e736(0xd0)]},{'useId':_0x21e942['id'],'status':0x1});}),_0x4b31bc(0xab);}};function _0x339e(){const _0x382fa4=['metadata','自定义卡密积分余额不为0️零！','2665555DCPniA','__metadata','ClsService','当前卡密不存在、请确认您要删除的卡密是否存在！','UserService','generateCrami','@nestjs/common','BAD_REQUEST','卡密兑换：','套餐已存在，请修改套餐名称！','getOwnPropertyDescriptor','__param','findOne','__esModule','packageDeleteV2','Injectable','headers','design:paramtypes','套餐差价不能小于0！','decorate','367538slVbUg','findByIds','当前充值套餐已经停用或已删除！','../../common/constants/balance.constant','code','CRAMI','assign','saasName','createCrami','update','get','CramiPackageEntity','set','package4Select','packageId','3321876fmEBxS','当前卡密已被使用、请确认您输入的卡密是否正确！','fingerprint','21jWyDRo','updateVipExpire','../../common/utils','isManage','object','type','costs','userService','HttpStatus','saasId','119672TxZaBB','isDefined','user','删除成功！','11610wFOLOW','CramiService','function','ids','price','typeorm','EChangeType','save','套餐差价格式错误！','affected','cramiEntity','clsService','./cramiPackage.entity','InjectRepository','delete','getUserById','length','Repository','email','isPlatform','toFixed','cramiPackageEntity','Not','findAndCount','delCrami','799750uHGJyW','套餐原价不能为空！','非法操作','useId','changeScore4Other','days','卡密兑换积分','packageDetailV2','155388bySgDm','nestjs-cls','条记录，成功删除','卡密兑换套餐：','getReqSaasId','DESC','3KfcGIK','FORBIDDEN','generateCramiCode','phone','套餐差价不能为空！','HttpException','originPrice','markup','transaction','packagePageV2','条记录！','batchDelCrami','defineProperty','不是套餐创建saas，无法修改！','369QHARtw','forEach','name','queryAllCrami','CramiEntity','push','message','__decorate','connection','useCrami','平台套餐id不能为空！','status','使用卡密成功','isSuper','listPackageByIds','./crami.entity','create','原始套餐不存在！','非管理员或者代理商无法操作','exists','3025AHBsuO','find','../user/user.service'];_0x339e=function(){return _0x382fa4;};return _0x339e();}CramiService=__decorate([(0x0,common_1[_0xad2b48(0xc7)])(),__param(0x0,(0x0,typeorm_1[_0xad2b48(0xf9)])(crami_entity_1[_0xad2b48(0xa3)])),__param(0x1,(0x0,typeorm_1[_0xad2b48(0xf9)])(cramiPackage_entity_1[_0xad2b48(0xd7)])),__metadata(_0xad2b48(0xc9),[typeorm_2[_0xad2b48(0xfd)],typeorm_2[_0xad2b48(0xfd)],nestjs_cls_1[_0xad2b48(0xba)],user_service_1[_0xad2b48(0xbc)],typeorm_2['Connection']])],CramiService),exports[_0xad2b48(0xed)]=CramiService;