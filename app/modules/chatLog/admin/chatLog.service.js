'use strict';function _0x54ef(){const _0x5748ad=['../entity/chatLog.entity','BAD_REQUEST','assetsList','length','7xgojls','InjectRepository','decorate','1940697lsnIzI','message','metadata','HttpStatus','52zuMBgz','ClsService','25720WruIMA','ChatLogEntity','78815Qvjjbs','object','\x20limit\x20','nestjs-cls','900xSisyR','12242923adiTjN','update\x20ai_assets\x20set\x20publish_flag=','Injectable','typeorm','count','delete\x20from\x20ai_assets\x20where\x20chat_log_id=','__metadata','delete','__param','design:paramtypes','749731Ozvnjw','select\x20log.*,assets.cover\x20as\x20assets_cover,assets.mp3\x20as\x20assets_mp3,assets.publish_flag\x20from\x20chatlog\x20log\x20left\x20join\x20ai_assets\x20assets\x20on\x20log.id=assets.chat_log_id\x20','__decorate','function','__esModule','@nestjs/common','1264308nQWjNI','ceil','clsService','6424300ayinnm','defineProperty','query','chatLogEntity','Repository','\x20where\x20chat_log_id=','2lSxyGy','HttpException','getOwnPropertyDescriptor'];_0x54ef=function(){return _0x5748ad;};return _0x54ef();}const _0x38d095=_0x2369;function _0x2369(_0xe91db0,_0x2c8403){const _0x54ef5e=_0x54ef();return _0x2369=function(_0x23694e,_0x4a13ce){_0x23694e=_0x23694e-0x1ec;let _0x32eff5=_0x54ef5e[_0x23694e];return _0x32eff5;},_0x2369(_0xe91db0,_0x2c8403);}(function(_0x3ff44c,_0x33815c){const _0x33acf6=_0x2369,_0x2b973d=_0x3ff44c();while(!![]){try{const _0x4f6493=-parseInt(_0x33acf6(0x212))/0x1*(-parseInt(_0x33acf6(0x1f1))/0x2)+-parseInt(_0x33acf6(0x1fb))/0x3+-parseInt(_0x33acf6(0x1ff))/0x4*(parseInt(_0x33acf6(0x203))/0x5)+parseInt(_0x33acf6(0x218))/0x6*(-parseInt(_0x33acf6(0x1f8))/0x7)+-parseInt(_0x33acf6(0x201))/0x8*(-parseInt(_0x33acf6(0x207))/0x9)+-parseInt(_0x33acf6(0x21b))/0xa+parseInt(_0x33acf6(0x208))/0xb;if(_0x4f6493===_0x33815c)break;else _0x2b973d['push'](_0x2b973d['shift']());}catch(_0x26042d){_0x2b973d['push'](_0x2b973d['shift']());}}}(_0x54ef,0x7501a));var __decorate=this&&this[_0x38d095(0x214)]||function(_0x48bee9,_0x256698,_0x56c7cc,_0x4c37f5){const _0x5060fc=_0x38d095;var _0x334fe2=arguments[_0x5060fc(0x1f7)],_0x4daf15=_0x334fe2<0x3?_0x256698:_0x4c37f5===null?_0x4c37f5=Object[_0x5060fc(0x1f3)](_0x256698,_0x56c7cc):_0x4c37f5,_0x46ad07;if(typeof Reflect===_0x5060fc(0x204)&&typeof Reflect[_0x5060fc(0x1fa)]===_0x5060fc(0x215))_0x4daf15=Reflect[_0x5060fc(0x1fa)](_0x48bee9,_0x256698,_0x56c7cc,_0x4c37f5);else{for(var _0x792c04=_0x48bee9[_0x5060fc(0x1f7)]-0x1;_0x792c04>=0x0;_0x792c04--)if(_0x46ad07=_0x48bee9[_0x792c04])_0x4daf15=(_0x334fe2<0x3?_0x46ad07(_0x4daf15):_0x334fe2>0x3?_0x46ad07(_0x256698,_0x56c7cc,_0x4daf15):_0x46ad07(_0x256698,_0x56c7cc))||_0x4daf15;}return _0x334fe2>0x3&&_0x4daf15&&Object[_0x5060fc(0x1ec)](_0x256698,_0x56c7cc,_0x4daf15),_0x4daf15;},__metadata=this&&this[_0x38d095(0x20e)]||function(_0x193ca6,_0xb3af35){const _0x2859a0=_0x38d095;if(typeof Reflect===_0x2859a0(0x204)&&typeof Reflect['metadata']==='function')return Reflect[_0x2859a0(0x1fd)](_0x193ca6,_0xb3af35);},__param=this&&this[_0x38d095(0x210)]||function(_0x596c73,_0x562733){return function(_0x2f2516,_0x5c5d85){_0x562733(_0x2f2516,_0x5c5d85,_0x596c73);};};Object[_0x38d095(0x1ec)](exports,_0x38d095(0x216),{'value':!![]}),exports['ChatLogService']=void 0x0;const common_1=require(_0x38d095(0x217)),nestjs_cls_1=require(_0x38d095(0x206)),typeorm_1=require('@nestjs/typeorm'),baseService_1=require('../../../common/admin/baseService'),typeorm_2=require(_0x38d095(0x20b)),chatLog_entity_1=require(_0x38d095(0x1f4));let ChatLogService=class ChatLogService extends baseService_1['BaseService']{constructor(_0x2b23fa,_0x386a0e){const _0x48cc7f=_0x38d095;super(_0x386a0e,_0x2b23fa),this[_0x48cc7f(0x21a)]=_0x2b23fa,this[_0x48cc7f(0x1ee)]=_0x386a0e;}async[_0x38d095(0x1f6)](_0x31e4bf){const _0x5611be=_0x38d095;try{const {condition:_0x739159,sort:_0x32f993,page:_0x4e38f3,size:_0x48d408}=this['getCondition'](_0x31e4bf),_0x207c1e=await this[_0x5611be(0x1ee)]['query']('select\x20count(0)\x20as\x20count\x20from\x20chatlog\x20log\x20left\x20join\x20ai_assets\x20assets\x20on\x20log.id=assets.chat_log_id\x20'+_0x739159),_0x329c74=await this['chatLogEntity'][_0x5611be(0x1ed)](_0x5611be(0x213)+_0x739159+'\x20\x20'+_0x32f993+_0x5611be(0x205)+_0x4e38f3*_0x48d408+','+_0x48d408);return{'rows':_0x329c74,'size':_0x48d408,'page':_0x4e38f3,'count':parseInt(_0x207c1e[0x0][_0x5611be(0x20c)]),'totalPage':Math[_0x5611be(0x219)](_0x207c1e[0x0][_0x5611be(0x20c)]/_0x48d408)};}catch(_0x5ab3dc){throw new common_1[(_0x5611be(0x1f2))](_0x5ab3dc[_0x5611be(0x1fc)],common_1[_0x5611be(0x1fe)][_0x5611be(0x1f5)]);}}async['rec'](_0x1da6c1,_0x42b32b){const _0x2feafd=_0x38d095;return await this['chatLogEntity'][_0x2feafd(0x1ed)](_0x2feafd(0x209)+_0x42b32b+_0x2feafd(0x1f0)+_0x1da6c1),!![];}async[_0x38d095(0x20f)](_0x4cb164){const _0xd56c2a=_0x38d095;return await this[_0xd56c2a(0x1ee)][_0xd56c2a(0x20f)](_0x4cb164),await this[_0xd56c2a(0x1ee)][_0xd56c2a(0x1ed)](_0xd56c2a(0x20d)+_0x4cb164),!![];}};ChatLogService=__decorate([(0x0,common_1[_0x38d095(0x20a)])(),__param(0x1,(0x0,typeorm_1[_0x38d095(0x1f9)])(chatLog_entity_1[_0x38d095(0x202)])),__metadata(_0x38d095(0x211),[nestjs_cls_1[_0x38d095(0x200)],typeorm_2[_0x38d095(0x1ef)]])],ChatLogService),exports['ChatLogService']=ChatLogService;