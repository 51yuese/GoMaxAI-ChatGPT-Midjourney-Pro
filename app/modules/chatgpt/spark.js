'use strict';const _0x140a75=_0x55c0;function _0x55c0(_0x29483d,_0x41788d){const _0x3e5302=_0x3e53();return _0x55c0=function(_0x55c068,_0x1aaa32){_0x55c068=_0x55c068-0x198;let _0x4a31f5=_0x3e5302[_0x55c068];return _0x4a31f5;},_0x55c0(_0x29483d,_0x41788d);}(function(_0x429cf8,_0x16f366){const _0x2542fd=_0x55c0,_0x513bc2=_0x429cf8();while(!![]){try{const _0x335b54=parseInt(_0x2542fd(0x1b1))/0x1+-parseInt(_0x2542fd(0x1a8))/0x2*(-parseInt(_0x2542fd(0x1a7))/0x3)+parseInt(_0x2542fd(0x19d))/0x4+parseInt(_0x2542fd(0x1ac))/0x5+-parseInt(_0x2542fd(0x1b0))/0x6+parseInt(_0x2542fd(0x1b7))/0x7*(-parseInt(_0x2542fd(0x1ad))/0x8)+-parseInt(_0x2542fd(0x1b6))/0x9;if(_0x335b54===_0x16f366)break;else _0x513bc2['push'](_0x513bc2['shift']());}catch(_0x3b3f47){_0x513bc2['push'](_0x513bc2['shift']());}}}(_0x3e53,0x91173));Object[_0x140a75(0x1a0)](exports,_0x140a75(0x1a6),{'value':!![]}),exports['sendMessageFromSpark']=void 0x0;const axios=require(_0x140a75(0x198));async function sendMessageFromSpark(_0x2daacf,{onProgress:_0x261ce4,key:_0x1f5ec7,model:_0xd892bc,temperature:temperature=0.95}){return new Promise((_0x1b7caa,_0x4972a5)=>{const _0x2133f8=_0x55c0,_0x305603=_0x2133f8(0x1a1),_0x8d59d8={'method':_0x2133f8(0x1a2),'url':_0x305603,'responseType':'stream','headers':{'Content-Type':_0x2133f8(0x1ab),'Authorization':_0x2133f8(0x19c)+_0x1f5ec7},'data':{'model':_0xd892bc,'messages':_0x2daacf,'temperature':temperature,'stream':!![]}};axios(_0x8d59d8)[_0x2133f8(0x1b4)](_0x42f56e=>{const _0x3d6e68=_0x2133f8,_0x3eeafd=_0x42f56e['data'];let _0xe27272,_0x208dcf='';_0x3eeafd['on'](_0x3d6e68(0x19b),_0x5a9de3=>{const _0x296d27=_0x3d6e68,_0x2b7ef1=_0x5a9de3[_0x296d27(0x1b8)]()['split']('\x0a')['filter'](_0x5872bd=>_0x5872bd[_0x296d27(0x1a9)]()!==''),_0xc60049=_0x2b7ef1;console[_0x296d27(0x19e)](_0xc60049);if(!_0xc60049)return;let _0x31c85=![],_0x4794dd='',_0x12ae59='',_0x4dccbd='',_0x453bde=null;_0xc60049[_0x296d27(0x19f)](_0x5c09c7=>{const _0x538969=_0x296d27;if(_0x5c09c7[_0x538969(0x19a)](_0x538969(0x1aa))>-0x1)_0x31c85=!![];else{const _0x2bb828=JSON[_0x538969(0x1b5)](_0x5c09c7[_0x538969(0x1a5)]('data:\x20',''));_0x4794dd=_0x2bb828['id'],_0x12ae59=_0x2bb828[_0x538969(0x1a3)],_0x4dccbd=_0x2bb828['model'],_0x2bb828[_0x538969(0x1ae)]&&(_0x453bde=_0x2bb828[_0x538969(0x1ae)]),_0x2bb828[_0x538969(0x1b2)]['forEach'](_0x3e0ef1=>{const _0x5a907c=_0x538969;_0x208dcf+=_0x3e0ef1[_0x5a907c(0x1a4)][_0x5a907c(0x199)];});}});let _0x42d1b5={'role':_0x296d27(0x1b3),'id':_0x4794dd,'text':_0x208dcf,'delta':_0x208dcf,'detail':{'choices':[{'delta':{'content':_0x208dcf,'role':'assistant'},'index':0x0}],'created':_0x12ae59,'id':_0x4794dd,'model':_0x4dccbd,'object':_0x296d27(0x1ba),'usage':_0x453bde}};_0x31c85&&(_0x42d1b5[_0x296d27(0x1af)]=![],_0xe27272=_0x42d1b5,_0xe27272['text']=_0x208dcf),_0x261ce4(_0x42d1b5);}),_0x3eeafd['on']('end',()=>{_0x1b7caa(_0xe27272),_0x208dcf='';});})['catch'](_0x4f999b=>{const _0x161286=_0x2133f8;console[_0x161286(0x19e)](_0x161286(0x1b9),_0x4f999b);});});}exports[_0x140a75(0x1bb)]=sendMessageFromSpark;function _0x3e53(){const _0x1575e5=['defineProperty','https://spark-api-open.xf-yun.com/v1/chat/completions','POST','created','delta','replace','__esModule','147ZtIXRa','16402kWzWCm','trim','[DONE]','application/json','2192615xUBFvS','352IysRGB','usage','is_end','2651526jIcqkv','689656LrzIzY','choices','assistant','then','parse','11373309wdnexs','27426vrnkfQ','toString','error:\x20','chat.completion.chunk','sendMessageFromSpark','axios','content','indexOf','data','Bearer\x20','3769108WuMcKy','log','forEach'];_0x3e53=function(){return _0x1575e5;};return _0x3e53();}