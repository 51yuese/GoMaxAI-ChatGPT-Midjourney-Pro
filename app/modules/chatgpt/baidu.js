'use strict';const _0x32269c=_0x319b;(function(_0x374c89,_0x1320d5){const _0x353561=_0x319b,_0x3a23c7=_0x374c89();while(!![]){try{const _0x2b72ff=-parseInt(_0x353561(0xd0))/0x1*(-parseInt(_0x353561(0xe1))/0x2)+-parseInt(_0x353561(0xfe))/0x3*(parseInt(_0x353561(0xc3))/0x4)+-parseInt(_0x353561(0xdc))/0x5*(-parseInt(_0x353561(0x109))/0x6)+parseInt(_0x353561(0xe5))/0x7*(parseInt(_0x353561(0xdf))/0x8)+-parseInt(_0x353561(0xd3))/0x9*(-parseInt(_0x353561(0xcc))/0xa)+-parseInt(_0x353561(0xfb))/0xb*(parseInt(_0x353561(0xfa))/0xc)+parseInt(_0x353561(0xeb))/0xd;if(_0x2b72ff===_0x1320d5)break;else _0x3a23c7['push'](_0x3a23c7['shift']());}catch(_0x5b29bb){_0x3a23c7['push'](_0x3a23c7['shift']());}}}(_0x54d3,0x40df5));Object[_0x32269c(0xca)](exports,'__esModule',{'value':!![]}),exports[_0x32269c(0xc7)]=exports[_0x32269c(0xff)]=void 0x0;const common_1=require(_0x32269c(0xd7)),axios=require(_0x32269c(0x104)),getApiModelMaps=()=>{const _0xdd9052=_0x32269c;let _0x210535={};const _0x40474c={'ERNIE-4.0-8K':'completions_pro','ERNIE-4.0-8K-Latest':_0xdd9052(0xda),'ERNIE-4.0-8K-Preview':_0xdd9052(0xf3),'ERNIE-4.0-8K-Preview-0518':_0xdd9052(0xd1),'ERNIE-4.0-8K-0613':_0xdd9052(0xea),'ERNIE-4.0-8K-0329':_0xdd9052(0xfd),'ERNIE-4.0-Turbo-8K':_0xdd9052(0xd4),'ERNIE-3.5-128K':_0xdd9052(0x102),'ERNIE-3.5-8K':_0xdd9052(0xcb),'ERNIE-3.5-8K-Preview':'ernie-3.5-8k-preview','ERNIE-3.5-8K-0613':_0xdd9052(0xef),'ERNIE-3.5-8K-0329':'ernie-3.5-8k-0329','ERNIE-Speed-128K':'ernie-speed-128k','ERNIE-Speed-8K':'ernie_speed','ERNIE\x20Speed-AppBuilder':_0xdd9052(0x10a),'ERNIE-Character-8K':_0xdd9052(0x101),'ERNIE-Functions-8K':_0xdd9052(0x105),'ERNIE-Lite-8K':'ernie-lite-8k','ERNIE-Lite-8K-0922（原ERNIE-Bot-turbo-0922）':'eb-instant','ERNIE-Lite-AppBuilder-8K':_0xdd9052(0xf1),'ERNIE-Tiny-8K':'ernie-tiny-8k','ERNIE-Novel-8K':_0xdd9052(0x10d),'Qianfan-Chinese-Llama-2-7B':'qianfan_chinese_llama_2_7b','Qianfan-Chinese-Llama-2-13B':_0xdd9052(0xfc),'Qianfan-Chinese-Llama-2-70B':_0xdd9052(0xcd),'Meta-Llama-3-8B':_0xdd9052(0x100),'Meta-Llama-3-70B':_0xdd9052(0xdb),'Llama-2-7B-Chat':_0xdd9052(0x10c),'Llama-2-13B-Chat':_0xdd9052(0xc5),'Llama-2-70B-Chat':_0xdd9052(0xc6),'ChatGLM2-6B-32K':_0xdd9052(0xde),'XuanYuan-70B-Chat-4bit':_0xdd9052(0xf7),'Gemma-7B-It':_0xdd9052(0xe2),'Yi-34B-Chat':_0xdd9052(0xed),'Mixtral-8x7B-Instruct':'mixtral_8x7b_instruct','SQLCoder-7B':'sqlcoder_7b','CodeLlama-7B-Instruct':'codellama_7b_instruct','ChatLaw':_0xdd9052(0xc4),'Qianfan-BLOOMZ-7B-compressed':_0xdd9052(0xe0),'BLOOMZ-7B':_0xdd9052(0xd5),'AquilaChat-7B':_0xdd9052(0xce),'Stable-Diffusion-XL':_0xdd9052(0xd6),'Fuyu-8B':'fuyu_8b','bge-large-en':_0xdd9052(0xf5),'bge-large-zh':_0xdd9052(0xcf),'tao-8k':_0xdd9052(0x108),'Embedding-V1':_0xdd9052(0xf8),'bce-reranker-base':_0xdd9052(0xf0),'tokenizer':'erniebot','Prompt模板':_0xdd9052(0x107),'ERNIE-Character-Fiction-8K':'ernie-char-fiction-8k','ERNIE-4.0-Turbo-8K-Preview':_0xdd9052(0xdd),'ERNIE-3.5-8K-0701':_0xdd9052(0x10e),'Qianfan-Dynamic-8k':_0xdd9052(0xec)};return Object[_0xdd9052(0xc2)](_0x40474c)[_0xdd9052(0xc8)](_0x3c0ed2=>{const _0xf8fb0b=_0xdd9052;_0x210535[''+_0x3c0ed2[_0xf8fb0b(0xe8)]()]=_0x40474c[_0x3c0ed2];}),_0x210535;};function _0x54d3(){const _0x3e124a=['sendMessageFromBaidu','map','message','defineProperty','completions','3810250GpgXNO','qianfan_chinese_llama_2_70b','aquilachat_7b','bge_large_zh','1hhbBMR','completions_adv_pro','replace','9vZZYxx','ernie-4.0-turbo-8k','bloomz_7b1','sd_xl','@nestjs/common','parse','post','ernie-4.0-8k-latest','llama_3_70b','5lqhzyd','ernie-4.0-turbo-8k-preview','chatglm2_6b_32k','32ooBswe','qianfan_bloomz_7b_compressed','13672quOXSy','gemma_7b_it','data','[百度签名校验失败]','493878aZTvCn','end','data:\x20','toLowerCase','Logger','ernie-4.0-8k-0613','139308julUcp','qianfan-dynamic-8k','yi_34b_chat','access_token','ernie-3.5-8k-0613','bce_reranker_base','ai_apaas_lite','&client_secret=','ernie-4.0-8k-preview','trim','bge_large_en','toString','xuanyuan_70b_chat','embedding-v1','https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/','24RPgCoa','1417361TyCoxP','qianfan_chinese_llama_2_13b','ernie-4.0-8k-0329','15PrNjQk','getAccessToken','llama_3_8b','ernie-char-8k','ernie-3.5-128k','https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id=','axios','ernie-func-8k','then','info','tao_8k','1829406RLkJaC','ai_apaas','catch','llama_2_7b','ernie-novel-8k','ernie-3.5-8k-0701','text','application/json','POST','keys','369820SGPDUP','chatlaw','llama_2_13b','llama_2_70b'];_0x54d3=function(){return _0x3e124a;};return _0x54d3();}function getAccessToken(_0x3bea43,_0x523d10){const _0x1e7d59=_0x32269c;let _0x2dc888=_0x1e7d59(0x103)+_0x3bea43+_0x1e7d59(0xf2)+_0x523d10;return new Promise((_0x652b8f,_0x1ba776)=>{const _0x4b3122=_0x1e7d59;axios[_0x4b3122(0xd9)](_0x2dc888)['then'](_0x390d99=>{const _0x4c82fe=_0x4b3122;_0x652b8f(_0x390d99[_0x4c82fe(0xe3)][_0x4c82fe(0xee)]);})[_0x4b3122(0x10b)](_0x2ef99b=>{const _0x672406=_0x4b3122;common_1[_0x672406(0xe9)]['error'](_0x2ef99b[_0x672406(0xc9)],_0x672406(0xe4));});});}function _0x319b(_0x1730ae,_0xc26813){const _0x54d37d=_0x54d3();return _0x319b=function(_0x319be0,_0x1b13dc){_0x319be0=_0x319be0-0xc2;let _0x3c25ab=_0x54d37d[_0x319be0];return _0x3c25ab;},_0x319b(_0x1730ae,_0xc26813);}exports[_0x32269c(0xff)]=getAccessToken;function sendMessageFromBaidu(_0x267182,{onProgress:_0x525a60,accessToken:_0x2d3f61,model:_0x582f92,temperature:temperature=0.95}){const _0x23be21=_0x32269c,_0x41690d=getApiModelMaps()[_0x582f92[_0x23be21(0xf4)]()[_0x23be21(0xe8)]()];return new Promise((_0x5ebb97,_0x496758)=>{const _0x3505fd=_0x23be21,_0x26c1f1=_0x3505fd(0xf9)+_0x41690d+'?access_token='+_0x2d3f61,_0x5a2747={'method':_0x3505fd(0x111),'url':_0x26c1f1,'responseType':'stream','headers':{'Content-Type':_0x3505fd(0x110)},'data':{'stream':!![],'messages':_0x267182}};axios(_0x5a2747)[_0x3505fd(0x106)](_0x41f941=>{const _0x592438=_0x3505fd,_0x36cda7=_0x41f941['data'];let _0x5964a2={},_0x55c4a5='',_0x3147b6='';_0x36cda7['on'](_0x592438(0xe3),_0x367883=>{const _0x2c81f0=_0x592438,_0x1be322=_0x367883[_0x2c81f0(0xf6)]()['split']('\x0a\x0a')['filter'](_0x2c193d=>_0x2c193d[_0x2c81f0(0xf4)]()!=='');for(const _0x3f13ae of _0x1be322){const _0x31b113=_0x3f13ae[_0x2c81f0(0xd2)](_0x2c81f0(0xe7),'');try{const _0x1ab4f0=_0x55c4a5+_0x31b113,_0x354387=JSON[_0x2c81f0(0xd8)](_0x1ab4f0);_0x55c4a5='';const {is_end:_0x5016c9,result:_0x46eac4}=_0x354387;_0x46eac4&&(_0x3147b6+=_0x46eac4),_0x5016c9&&(_0x5964a2=_0x354387,_0x5964a2[_0x2c81f0(0x10f)]=_0x3147b6),_0x525a60(_0x354387);}catch(_0x580fba){_0x55c4a5=_0x31b113;}}}),_0x36cda7['on'](_0x592438(0xe6),()=>{_0x3147b6='',_0x55c4a5='',_0x5ebb97(_0x5964a2);});})[_0x3505fd(0x10b)](_0x15bd12=>{console['log'](_0x15bd12),_0x496758(new Error(_0x15bd12));});});}exports[_0x32269c(0xc7)]=sendMessageFromBaidu;