'use strict';const _0x2b4e6c=_0x40e6;(function(_0x41a51a,_0x46dd83){const _0x2c49e0=_0x40e6,_0x32b811=_0x41a51a();while(!![]){try{const _0x24b2be=parseInt(_0x2c49e0(0x14d))/0x1*(-parseInt(_0x2c49e0(0x16b))/0x2)+parseInt(_0x2c49e0(0x18b))/0x3+-parseInt(_0x2c49e0(0x147))/0x4*(parseInt(_0x2c49e0(0x188))/0x5)+-parseInt(_0x2c49e0(0x164))/0x6*(-parseInt(_0x2c49e0(0x173))/0x7)+parseInt(_0x2c49e0(0x15f))/0x8*(parseInt(_0x2c49e0(0x15e))/0x9)+parseInt(_0x2c49e0(0x159))/0xa+-parseInt(_0x2c49e0(0x166))/0xb*(parseInt(_0x2c49e0(0x180))/0xc);if(_0x24b2be===_0x46dd83)break;else _0x32b811['push'](_0x32b811['shift']());}catch(_0x1a1c0b){_0x32b811['push'](_0x32b811['shift']());}}}(_0x5cf6,0x39014));function _0x5cf6(){const _0x30774f=['replace','ernie-novel-8k','codellama_7b_instruct','1692hPvjhf','ernie-3.5-8k-0613','stream','qianfan_bloomz_7b_compressed','eb-instant','aquilachat_7b','653MhjNox','data','https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id=','llama_2_7b','ernie-4.0-8k-0329','ernie-3.5-8k-0329','ernie-4.0-turbo-8k-preview','fuyu_8b','sqlcoder_7b','chatglm2_6b_32k','ernie-4.0-8k-latest','log','2523350YlaGRa','?access_token=','ernie-func-8k','split','filter','1107FRrlif','23256xqfcWE','yi_34b_chat','completions_adv_pro','ernie-speed-128k','bloomz_7b1','468arhItv','sendMessageFromBaidu','8393VjOwbG','ernie_speed','ernie-4.0-8k-0613','data:\x20','llama_2_70b','206jVeWFa','trim','keys','completions_pro','application/json','parse','xuanyuan_70b_chat','bce_reranker_base','6839ZgEHGD','Logger','&client_secret=','toLowerCase','ernie-3.5-8k-preview','getAccessToken','error','text','message','tao_8k','defineProperty','end','ernie-4.0-8k-preview','2880oILBSj','__esModule','axios','llama_3_8b','catch','qianfan_chinese_llama_2_70b','ernie-4.0-turbo-8k','POST','3925ThvXCo','@nestjs/common','qianfan_chinese_llama_2_13b','389472mpqwIO','then','completions','qianfan_chinese_llama_2_7b','llama_2_13b','llama_3_70b','mixtral_8x7b_instruct'];_0x5cf6=function(){return _0x30774f;};return _0x5cf6();}Object[_0x2b4e6c(0x17d)](exports,_0x2b4e6c(0x181),{'value':!![]}),exports[_0x2b4e6c(0x165)]=exports['getAccessToken']=void 0x0;const common_1=require(_0x2b4e6c(0x189)),axios=require(_0x2b4e6c(0x182)),getApiModelMaps=()=>{const _0x40c45b=_0x2b4e6c;let _0x559953={};const _0x492345={'ERNIE-4.0-8K':_0x40c45b(0x16e),'ERNIE-4.0-8K-Latest':_0x40c45b(0x157),'ERNIE-4.0-8K-Preview':_0x40c45b(0x17f),'ERNIE-4.0-8K-Preview-0518':_0x40c45b(0x161),'ERNIE-4.0-8K-0613':_0x40c45b(0x168),'ERNIE-4.0-8K-0329':_0x40c45b(0x151),'ERNIE-4.0-Turbo-8K':_0x40c45b(0x186),'ERNIE-3.5-128K':'ernie-3.5-128k','ERNIE-3.5-8K':_0x40c45b(0x18d),'ERNIE-3.5-8K-Preview':_0x40c45b(0x177),'ERNIE-3.5-8K-0613':_0x40c45b(0x148),'ERNIE-3.5-8K-0329':_0x40c45b(0x152),'ERNIE-Speed-128K':_0x40c45b(0x162),'ERNIE-Speed-8K':_0x40c45b(0x167),'ERNIE\x20Speed-AppBuilder':'ai_apaas','ERNIE-Character-8K':'ernie-char-8k','ERNIE-Functions-8K':_0x40c45b(0x15b),'ERNIE-Lite-8K':'ernie-lite-8k','ERNIE-Lite-8K-0922（原ERNIE-Bot-turbo-0922）':_0x40c45b(0x14b),'ERNIE-Lite-AppBuilder-8K':'ai_apaas_lite','ERNIE-Tiny-8K':'ernie-tiny-8k','ERNIE-Novel-8K':_0x40c45b(0x193),'Qianfan-Chinese-Llama-2-7B':_0x40c45b(0x18e),'Qianfan-Chinese-Llama-2-13B':_0x40c45b(0x18a),'Qianfan-Chinese-Llama-2-70B':_0x40c45b(0x185),'Meta-Llama-3-8B':_0x40c45b(0x183),'Meta-Llama-3-70B':_0x40c45b(0x190),'Llama-2-7B-Chat':_0x40c45b(0x150),'Llama-2-13B-Chat':_0x40c45b(0x18f),'Llama-2-70B-Chat':_0x40c45b(0x16a),'ChatGLM2-6B-32K':_0x40c45b(0x156),'XuanYuan-70B-Chat-4bit':_0x40c45b(0x171),'Gemma-7B-It':'gemma_7b_it','Yi-34B-Chat':_0x40c45b(0x160),'Mixtral-8x7B-Instruct':_0x40c45b(0x191),'SQLCoder-7B':_0x40c45b(0x155),'CodeLlama-7B-Instruct':_0x40c45b(0x146),'ChatLaw':'chatlaw','Qianfan-BLOOMZ-7B-compressed':_0x40c45b(0x14a),'BLOOMZ-7B':_0x40c45b(0x163),'AquilaChat-7B':_0x40c45b(0x14c),'Stable-Diffusion-XL':'sd_xl','Fuyu-8B':_0x40c45b(0x154),'bge-large-en':'bge_large_en','bge-large-zh':'bge_large_zh','tao-8k':_0x40c45b(0x17c),'Embedding-V1':'embedding-v1','bce-reranker-base':_0x40c45b(0x172),'tokenizer':'erniebot','Prompt模板':'info','ERNIE-Character-Fiction-8K':'ernie-char-fiction-8k','ERNIE-4.0-Turbo-8K-Preview':_0x40c45b(0x153),'ERNIE-3.5-8K-0701':'ernie-3.5-8k-0701','Qianfan-Dynamic-8k':'qianfan-dynamic-8k'};return Object[_0x40c45b(0x16d)](_0x492345)['map'](_0x16117f=>{const _0x2b0458=_0x40c45b;_0x559953[''+_0x16117f[_0x2b0458(0x176)]()]=_0x492345[_0x16117f];}),_0x559953;};function getAccessToken(_0x144200,_0x254a2a){const _0x660e15=_0x2b4e6c;let _0x531f3d=_0x660e15(0x14f)+_0x144200+_0x660e15(0x175)+_0x254a2a;return new Promise((_0x3f9e96,_0x4e2849)=>{const _0x3a5c9c=_0x660e15;axios['post'](_0x531f3d)[_0x3a5c9c(0x18c)](_0x325988=>{const _0x1fa633=_0x3a5c9c;_0x3f9e96(_0x325988[_0x1fa633(0x14e)]['access_token']);})[_0x3a5c9c(0x184)](_0x185855=>{const _0x2ce008=_0x3a5c9c;common_1[_0x2ce008(0x174)][_0x2ce008(0x179)](_0x185855[_0x2ce008(0x17b)],'[百度签名校验失败]');});});}exports[_0x2b4e6c(0x178)]=getAccessToken;function _0x40e6(_0xfb5c78,_0x469b1d){const _0x5cf612=_0x5cf6();return _0x40e6=function(_0x40e688,_0x3c3928){_0x40e688=_0x40e688-0x146;let _0x55dac2=_0x5cf612[_0x40e688];return _0x55dac2;},_0x40e6(_0xfb5c78,_0x469b1d);}function sendMessageFromBaidu(_0x5aac22,{onProgress:_0x11d659,accessToken:_0x3cf8c7,model:_0x3a84f4,temperature:temperature=0.95}){const _0x3fd0ea=_0x2b4e6c,_0xd67d0f=getApiModelMaps()[_0x3a84f4['trim']()[_0x3fd0ea(0x176)]()];return new Promise((_0x2be16a,_0x11a934)=>{const _0x502444=_0x3fd0ea,_0x3e7250='https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/'+_0xd67d0f+_0x502444(0x15a)+_0x3cf8c7,_0x384a76={'method':_0x502444(0x187),'url':_0x3e7250,'responseType':_0x502444(0x149),'headers':{'Content-Type':_0x502444(0x16f)},'data':{'stream':!![],'messages':_0x5aac22}};axios(_0x384a76)[_0x502444(0x18c)](_0x42d230=>{const _0x38338a=_0x502444,_0x1b18ce=_0x42d230[_0x38338a(0x14e)];let _0x418f7a={},_0x4d6b09='',_0x29947c='';_0x1b18ce['on'](_0x38338a(0x14e),_0x58105b=>{const _0x59545b=_0x38338a,_0x5a9df1=_0x58105b['toString']()[_0x59545b(0x15c)]('\x0a\x0a')[_0x59545b(0x15d)](_0x17ae65=>_0x17ae65[_0x59545b(0x16c)]()!=='');for(const _0x2cb9d2 of _0x5a9df1){const _0xec6d09=_0x2cb9d2[_0x59545b(0x192)](_0x59545b(0x169),'');try{const _0x2ab4a9=_0x4d6b09+_0xec6d09,_0x5ace4b=JSON[_0x59545b(0x170)](_0x2ab4a9);_0x4d6b09='';const {is_end:_0x4c7f71,result:_0x3c25e0}=_0x5ace4b;_0x3c25e0&&(_0x29947c+=_0x3c25e0),_0x4c7f71&&(_0x418f7a=_0x5ace4b,_0x418f7a[_0x59545b(0x17a)]=_0x29947c),_0x11d659(_0x5ace4b);}catch(_0x1294ce){_0x4d6b09=_0xec6d09;}}}),_0x1b18ce['on'](_0x38338a(0x17e),()=>{_0x29947c='',_0x4d6b09='',_0x2be16a(_0x418f7a);});})[_0x502444(0x184)](_0x131742=>{const _0x423e2c=_0x502444;console[_0x423e2c(0x158)](_0x131742),_0x11a934(new Error(_0x131742));});});}exports[_0x2b4e6c(0x165)]=sendMessageFromBaidu;