'use strict';const _0x27e6c7=_0x10c8;(function(_0x274ec9,_0x2428c3){const _0x54bb69=_0x10c8,_0x5f3674=_0x274ec9();while(!![]){try{const _0x500772=parseInt(_0x54bb69(0x126))/0x1+parseInt(_0x54bb69(0x154))/0x2*(parseInt(_0x54bb69(0x134))/0x3)+-parseInt(_0x54bb69(0x12e))/0x4+-parseInt(_0x54bb69(0x114))/0x5+parseInt(_0x54bb69(0x127))/0x6+-parseInt(_0x54bb69(0x139))/0x7*(-parseInt(_0x54bb69(0x128))/0x8)+-parseInt(_0x54bb69(0x147))/0x9*(-parseInt(_0x54bb69(0x12f))/0xa);if(_0x500772===_0x2428c3)break;else _0x5f3674['push'](_0x5f3674['shift']());}catch(_0x98c8af){_0x5f3674['push'](_0x5f3674['shift']());}}}(_0x3d12,0x731b8));function _0x10c8(_0x3e4997,_0x1667f7){const _0x3d1239=_0x3d12();return _0x10c8=function(_0x10c82f,_0x36defd){_0x10c82f=_0x10c82f-0x10e;let _0x287cd8=_0x3d1239[_0x10c82f];return _0x287cd8;},_0x10c8(_0x3e4997,_0x1667f7);}Object[_0x27e6c7(0x11d)](exports,_0x27e6c7(0x11e),{'value':!![]}),exports[_0x27e6c7(0x115)]=exports[_0x27e6c7(0x112)]=void 0x0;function _0x3d12(){const _0x3e872b=['codellama_7b_instruct','@nestjs/common','sqlcoder_7b','defineProperty','__esModule','toLowerCase','&client_secret=','catch','application/json','qianfan_chinese_llama_2_13b','gemma_7b_it','replace','103981IMRJux','2259066OJfMau','4856JSBoay','end','ernie_speed','ernie-char-fiction-8k','ernie-char-8k','sd_xl','955276oyCKSL','277420nucZnP','ernie-4.0-8k-latest','bce_reranker_base','llama_3_70b','bge_large_zh','78324gRTLYn','parse','ernie-4.0-turbo-8k-preview','ernie-speed-128k','https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id=','3668KLgPiJ','mixtral_8x7b_instruct','llama_2_70b','chatglm2_6b_32k','text','fuyu_8b','error','then','log','message','ernie-3.5-8k-preview','keys','access_token','split','261MpDlGD','toString','https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/','aquilachat_7b','xuanyuan_70b_chat','trim','qianfan_chinese_llama_2_7b','axios','completions_adv_pro','ernie-3.5-8k-0613','data','ernie-3.5-128k','POST','2DQljgy','post','stream','data:\x20','embedding-v1','ernie-lite-8k','ernie-4.0-8k-preview','ernie-func-8k','ernie-novel-8k','filter','bge_large_en','llama_2_13b','chatlaw','erniebot','llama_2_7b','getAccessToken','?access_token=','4594435LciKiH','sendMessageFromBaidu','yi_34b_chat','ernie-4.0-8k-0329','info','completions'];_0x3d12=function(){return _0x3e872b;};return _0x3d12();}const common_1=require(_0x27e6c7(0x11b)),axios=require(_0x27e6c7(0x14e)),getApiModelMaps=()=>{const _0x1f0709=_0x27e6c7;let _0xcf57d6={};const _0x13699b={'ERNIE-4.0-8K':'completions_pro','ERNIE-4.0-8K-Latest':_0x1f0709(0x130),'ERNIE-4.0-8K-Preview':_0x1f0709(0x15a),'ERNIE-4.0-8K-Preview-0518':_0x1f0709(0x14f),'ERNIE-4.0-8K-0613':'ernie-4.0-8k-0613','ERNIE-4.0-8K-0329':_0x1f0709(0x117),'ERNIE-4.0-Turbo-8K':'ernie-4.0-turbo-8k','ERNIE-3.5-128K':_0x1f0709(0x152),'ERNIE-3.5-8K':_0x1f0709(0x119),'ERNIE-3.5-8K-Preview':_0x1f0709(0x143),'ERNIE-3.5-8K-0613':_0x1f0709(0x150),'ERNIE-3.5-8K-0329':'ernie-3.5-8k-0329','ERNIE-Speed-128K':_0x1f0709(0x137),'ERNIE-Speed-8K':_0x1f0709(0x12a),'ERNIE\x20Speed-AppBuilder':'ai_apaas','ERNIE-Character-8K':_0x1f0709(0x12c),'ERNIE-Functions-8K':_0x1f0709(0x15b),'ERNIE-Lite-8K':_0x1f0709(0x159),'ERNIE-Lite-8K-0922（原ERNIE-Bot-turbo-0922）':'eb-instant','ERNIE-Lite-AppBuilder-8K':'ai_apaas_lite','ERNIE-Tiny-8K':'ernie-tiny-8k','ERNIE-Novel-8K':_0x1f0709(0x15c),'Qianfan-Chinese-Llama-2-7B':_0x1f0709(0x14d),'Qianfan-Chinese-Llama-2-13B':_0x1f0709(0x123),'Qianfan-Chinese-Llama-2-70B':'qianfan_chinese_llama_2_70b','Meta-Llama-3-8B':'llama_3_8b','Meta-Llama-3-70B':_0x1f0709(0x132),'Llama-2-7B-Chat':_0x1f0709(0x111),'Llama-2-13B-Chat':_0x1f0709(0x10e),'Llama-2-70B-Chat':_0x1f0709(0x13b),'ChatGLM2-6B-32K':_0x1f0709(0x13c),'XuanYuan-70B-Chat-4bit':_0x1f0709(0x14b),'Gemma-7B-It':_0x1f0709(0x124),'Yi-34B-Chat':_0x1f0709(0x116),'Mixtral-8x7B-Instruct':_0x1f0709(0x13a),'SQLCoder-7B':_0x1f0709(0x11c),'CodeLlama-7B-Instruct':_0x1f0709(0x11a),'ChatLaw':_0x1f0709(0x10f),'Qianfan-BLOOMZ-7B-compressed':'qianfan_bloomz_7b_compressed','BLOOMZ-7B':'bloomz_7b1','AquilaChat-7B':_0x1f0709(0x14a),'Stable-Diffusion-XL':_0x1f0709(0x12d),'Fuyu-8B':_0x1f0709(0x13e),'bge-large-en':_0x1f0709(0x15e),'bge-large-zh':_0x1f0709(0x133),'tao-8k':'tao_8k','Embedding-V1':_0x1f0709(0x158),'bce-reranker-base':_0x1f0709(0x131),'tokenizer':_0x1f0709(0x110),'Prompt模板':_0x1f0709(0x118),'ERNIE-Character-Fiction-8K':_0x1f0709(0x12b),'ERNIE-4.0-Turbo-8K-Preview':_0x1f0709(0x136),'ERNIE-3.5-8K-0701':'ernie-3.5-8k-0701','Qianfan-Dynamic-8k':'qianfan-dynamic-8k'};return Object[_0x1f0709(0x144)](_0x13699b)['map'](_0x49bae0=>{const _0x190d7f=_0x1f0709;_0xcf57d6[''+_0x49bae0[_0x190d7f(0x11f)]()]=_0x13699b[_0x49bae0];}),_0xcf57d6;};function getAccessToken(_0x29f6f3,_0x3ff5f4){const _0x1c39dc=_0x27e6c7;let _0x364b8c=_0x1c39dc(0x138)+_0x29f6f3+_0x1c39dc(0x120)+_0x3ff5f4;return new Promise((_0x508ac7,_0x5621ef)=>{const _0x2b2929=_0x1c39dc;axios[_0x2b2929(0x155)](_0x364b8c)['then'](_0x14643e=>{const _0x4369a8=_0x2b2929;_0x508ac7(_0x14643e['data'][_0x4369a8(0x145)]);})[_0x2b2929(0x121)](_0x40a0af=>{const _0xbb5167=_0x2b2929;common_1['Logger'][_0xbb5167(0x13f)](_0x40a0af[_0xbb5167(0x142)],'[百度签名校验失败]');});});}exports[_0x27e6c7(0x112)]=getAccessToken;function sendMessageFromBaidu(_0x11f25e,{onProgress:_0x23fbf3,accessToken:_0x589cb6,model:_0x462442,temperature:temperature=0.95}){const _0x37d9b9=_0x27e6c7,_0x46fd85=getApiModelMaps()[_0x462442[_0x37d9b9(0x14c)]()[_0x37d9b9(0x11f)]()];return new Promise((_0x2e40ab,_0x7911f4)=>{const _0xffcb3c=_0x37d9b9,_0x556915=_0xffcb3c(0x149)+_0x46fd85+_0xffcb3c(0x113)+_0x589cb6,_0x536e49={'method':_0xffcb3c(0x153),'url':_0x556915,'responseType':_0xffcb3c(0x156),'headers':{'Content-Type':_0xffcb3c(0x122)},'data':{'stream':!![],'messages':_0x11f25e}};axios(_0x536e49)[_0xffcb3c(0x140)](_0x50bcc7=>{const _0xcd8f1d=_0xffcb3c,_0x5ae597=_0x50bcc7[_0xcd8f1d(0x151)];let _0x110cf2={},_0x449d47='',_0x379b26='';_0x5ae597['on']('data',_0x55a8bc=>{const _0x17f7db=_0xcd8f1d,_0x19d903=_0x55a8bc[_0x17f7db(0x148)]()[_0x17f7db(0x146)]('\x0a\x0a')[_0x17f7db(0x15d)](_0x4028b1=>_0x4028b1[_0x17f7db(0x14c)]()!=='');for(const _0xa74a95 of _0x19d903){const _0x2d688e=_0xa74a95[_0x17f7db(0x125)](_0x17f7db(0x157),'');try{const _0x162d04=_0x449d47+_0x2d688e,_0x286b37=JSON[_0x17f7db(0x135)](_0x162d04);_0x449d47='';const {is_end:_0x2cc3de,result:_0x29232b}=_0x286b37;_0x29232b&&(_0x379b26+=_0x29232b),_0x2cc3de&&(_0x110cf2=_0x286b37,_0x110cf2[_0x17f7db(0x13d)]=_0x379b26),_0x23fbf3(_0x286b37);}catch(_0x232fde){_0x449d47=_0x2d688e;}}}),_0x5ae597['on'](_0xcd8f1d(0x129),()=>{_0x379b26='',_0x449d47='',_0x2e40ab(_0x110cf2);});})[_0xffcb3c(0x121)](_0x2bca25=>{const _0x34a79c=_0xffcb3c;console[_0x34a79c(0x141)](_0x2bca25),_0x7911f4(new Error(_0x2bca25));});});}exports['sendMessageFromBaidu']=sendMessageFromBaidu;