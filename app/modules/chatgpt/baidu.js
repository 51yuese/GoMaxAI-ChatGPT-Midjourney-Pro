'use strict';const _0x427377=_0x45f7;function _0x45f7(_0x48bae9,_0x3c44ec){const _0x2aff24=_0x2aff();return _0x45f7=function(_0x45f7ab,_0x3926b1){_0x45f7ab=_0x45f7ab-0x1cf;let _0x2456fe=_0x2aff24[_0x45f7ab];return _0x2456fe;},_0x45f7(_0x48bae9,_0x3c44ec);}(function(_0x58001d,_0x545a1f){const _0x12d8dc=_0x45f7,_0xf848b9=_0x58001d();while(!![]){try{const _0x31ab32=parseInt(_0x12d8dc(0x1ea))/0x1*(-parseInt(_0x12d8dc(0x1f2))/0x2)+-parseInt(_0x12d8dc(0x1fc))/0x3*(-parseInt(_0x12d8dc(0x1f7))/0x4)+-parseInt(_0x12d8dc(0x1fa))/0x5*(parseInt(_0x12d8dc(0x21d))/0x6)+-parseInt(_0x12d8dc(0x221))/0x7*(parseInt(_0x12d8dc(0x207))/0x8)+-parseInt(_0x12d8dc(0x1eb))/0x9*(parseInt(_0x12d8dc(0x20b))/0xa)+parseInt(_0x12d8dc(0x20d))/0xb+-parseInt(_0x12d8dc(0x222))/0xc*(-parseInt(_0x12d8dc(0x1ec))/0xd);if(_0x31ab32===_0x545a1f)break;else _0xf848b9['push'](_0xf848b9['shift']());}catch(_0x2dfa46){_0xf848b9['push'](_0xf848b9['shift']());}}}(_0x2aff,0x71496));Object[_0x427377(0x1da)](exports,_0x427377(0x208),{'value':!![]}),exports[_0x427377(0x1cf)]=exports[_0x427377(0x1ee)]=void 0x0;const common_1=require(_0x427377(0x1d5)),axios=require('axios'),getApiModelMaps=()=>{const _0x579808=_0x427377;let _0x2b76da={};const _0x2ccb40={'ERNIE-4.0-8K':'completions_pro','ERNIE-4.0-8K-Latest':_0x579808(0x210),'ERNIE-4.0-8K-Preview':_0x579808(0x1f8),'ERNIE-4.0-8K-Preview-0518':_0x579808(0x1e8),'ERNIE-4.0-8K-0613':_0x579808(0x215),'ERNIE-4.0-8K-0329':_0x579808(0x21f),'ERNIE-4.0-Turbo-8K':'ernie-4.0-turbo-8k','ERNIE-3.5-128K':'ernie-3.5-128k','ERNIE-3.5-8K':_0x579808(0x1e1),'ERNIE-3.5-8K-Preview':'ernie-3.5-8k-preview','ERNIE-3.5-8K-0613':_0x579808(0x1d4),'ERNIE-3.5-8K-0329':_0x579808(0x1ed),'ERNIE-Speed-128K':_0x579808(0x220),'ERNIE-Speed-8K':_0x579808(0x1d9),'ERNIE\x20Speed-AppBuilder':'ai_apaas','ERNIE-Character-8K':_0x579808(0x214),'ERNIE-Functions-8K':_0x579808(0x205),'ERNIE-Lite-8K':'ernie-lite-8k','ERNIE-Lite-8K-0922（原ERNIE-Bot-turbo-0922）':_0x579808(0x1d3),'ERNIE-Lite-AppBuilder-8K':_0x579808(0x1f6),'ERNIE-Tiny-8K':_0x579808(0x217),'ERNIE-Novel-8K':'ernie-novel-8k','Qianfan-Chinese-Llama-2-7B':_0x579808(0x1d2),'Qianfan-Chinese-Llama-2-13B':_0x579808(0x204),'Qianfan-Chinese-Llama-2-70B':_0x579808(0x212),'Meta-Llama-3-8B':_0x579808(0x1e0),'Meta-Llama-3-70B':'llama_3_70b','Llama-2-7B-Chat':_0x579808(0x20c),'Llama-2-13B-Chat':_0x579808(0x20a),'Llama-2-70B-Chat':'llama_2_70b','ChatGLM2-6B-32K':_0x579808(0x1ff),'XuanYuan-70B-Chat-4bit':_0x579808(0x1e7),'Gemma-7B-It':_0x579808(0x213),'Yi-34B-Chat':_0x579808(0x1d7),'Mixtral-8x7B-Instruct':_0x579808(0x1dd),'SQLCoder-7B':_0x579808(0x200),'CodeLlama-7B-Instruct':_0x579808(0x1d8),'ChatLaw':_0x579808(0x1d1),'Qianfan-BLOOMZ-7B-compressed':_0x579808(0x216),'BLOOMZ-7B':_0x579808(0x1f9),'AquilaChat-7B':_0x579808(0x20e),'Stable-Diffusion-XL':_0x579808(0x1fe),'Fuyu-8B':_0x579808(0x1f3),'bge-large-en':_0x579808(0x1e9),'bge-large-zh':_0x579808(0x1f1),'tao-8k':_0x579808(0x21b),'Embedding-V1':_0x579808(0x1f5),'bce-reranker-base':_0x579808(0x21c),'tokenizer':_0x579808(0x1e2),'Prompt模板':_0x579808(0x1e6),'ERNIE-Character-Fiction-8K':_0x579808(0x1e3),'ERNIE-4.0-Turbo-8K-Preview':'ernie-4.0-turbo-8k-preview','ERNIE-3.5-8K-0701':_0x579808(0x1f4),'Qianfan-Dynamic-8k':_0x579808(0x1fb)};return Object[_0x579808(0x1de)](_0x2ccb40)[_0x579808(0x1fd)](_0x1ac6f4=>{const _0x2d3782=_0x579808;_0x2b76da[''+_0x1ac6f4[_0x2d3782(0x1d0)]()]=_0x2ccb40[_0x1ac6f4];}),_0x2b76da;};function _0x2aff(){const _0x389475=['embedding-v1','ai_apaas_lite','4mSeaex','ernie-4.0-8k-preview','bloomz_7b1','5IXJkEy','qianfan-dynamic-8k','646467ufQXVu','map','sd_xl','chatglm2_6b_32k','sqlcoder_7b','trim','[百度签名校验失败]','parse','qianfan_chinese_llama_2_13b','ernie-func-8k','replace','447152ZFAgYh','__esModule','error','llama_2_13b','7430TIFSxF','llama_2_7b','9692056VmUBdI','aquilachat_7b','data:\x20','ernie-4.0-8k-latest','&client_secret=','qianfan_chinese_llama_2_70b','gemma_7b_it','ernie-char-8k','ernie-4.0-8k-0613','qianfan_bloomz_7b_compressed','ernie-tiny-8k','filter','data','catch','tao_8k','bce_reranker_base','775308rYcwyw','application/json','ernie-4.0-8k-0329','ernie-speed-128k','28DueicS','1199904qUDqps','sendMessageFromBaidu','toLowerCase','chatlaw','qianfan_chinese_llama_2_7b','eb-instant','ernie-3.5-8k-0613','@nestjs/common','stream','yi_34b_chat','codellama_7b_instruct','ernie_speed','defineProperty','https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id=','then','mixtral_8x7b_instruct','keys','POST','llama_3_8b','completions','erniebot','ernie-char-fiction-8k','message','post','info','xuanyuan_70b_chat','completions_adv_pro','bge_large_en','1pIfEOz','2556GXWCnV','13NctuHY','ernie-3.5-8k-0329','getAccessToken','toString','?access_token=','bge_large_zh','337498fsDTkt','fuyu_8b','ernie-3.5-8k-0701'];_0x2aff=function(){return _0x389475;};return _0x2aff();}function getAccessToken(_0x2e75c4,_0x556e62){const _0x495e4d=_0x427377;let _0x38ccb0=_0x495e4d(0x1db)+_0x2e75c4+_0x495e4d(0x211)+_0x556e62;return new Promise((_0x53651f,_0x1d1266)=>{const _0x328fa9=_0x495e4d;axios[_0x328fa9(0x1e5)](_0x38ccb0)[_0x328fa9(0x1dc)](_0x1bf5d5=>{const _0x2c59e2=_0x328fa9;_0x53651f(_0x1bf5d5[_0x2c59e2(0x219)]['access_token']);})[_0x328fa9(0x21a)](_0x4a4f1a=>{const _0x5c8f7f=_0x328fa9;common_1['Logger'][_0x5c8f7f(0x209)](_0x4a4f1a[_0x5c8f7f(0x1e4)],_0x5c8f7f(0x202));});});}exports[_0x427377(0x1ee)]=getAccessToken;function sendMessageFromBaidu(_0x560012,{onProgress:_0x1b6068,accessToken:_0x4cc25d,model:_0x55063a,temperature:temperature=0.95}){const _0x1a55f0=_0x427377,_0x263c07=getApiModelMaps()[_0x55063a[_0x1a55f0(0x201)]()[_0x1a55f0(0x1d0)]()];return new Promise((_0x448749,_0x3cf25b)=>{const _0x350086=_0x1a55f0,_0x1a6f3c='https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/'+_0x263c07+_0x350086(0x1f0)+_0x4cc25d,_0x2529d7={'method':_0x350086(0x1df),'url':_0x1a6f3c,'responseType':_0x350086(0x1d6),'headers':{'Content-Type':_0x350086(0x21e)},'data':{'stream':!![],'messages':_0x560012}};axios(_0x2529d7)['then'](_0xf64172=>{const _0x56ccfb=_0x350086,_0x5d4eba=_0xf64172['data'];let _0x383dc2={},_0x5793fe='',_0x2f4416='';_0x5d4eba['on'](_0x56ccfb(0x219),_0x3b0594=>{const _0x1b5bd9=_0x56ccfb,_0x34abbe=_0x3b0594[_0x1b5bd9(0x1ef)]()['split']('\x0a\x0a')[_0x1b5bd9(0x218)](_0x573b15=>_0x573b15[_0x1b5bd9(0x201)]()!=='');for(const _0x21c04d of _0x34abbe){const _0x10cf31=_0x21c04d[_0x1b5bd9(0x206)](_0x1b5bd9(0x20f),'');try{const _0x450777=_0x5793fe+_0x10cf31,_0x3dd680=JSON[_0x1b5bd9(0x203)](_0x450777);_0x5793fe='';const {is_end:_0x4a3243,result:_0x504315}=_0x3dd680;_0x504315&&(_0x2f4416+=_0x504315),_0x4a3243&&(_0x383dc2=_0x3dd680,_0x383dc2['text']=_0x2f4416),_0x1b6068(_0x3dd680);}catch(_0x501f41){_0x5793fe=_0x10cf31;}}}),_0x5d4eba['on']('end',()=>{_0x2f4416='',_0x5793fe='',_0x448749(_0x383dc2);});})['catch'](_0x5384a3=>{console['log'](_0x5384a3),_0x3cf25b(new Error(_0x5384a3));});});}exports[_0x427377(0x1cf)]=sendMessageFromBaidu;