'use strict';const _0x5621c6=_0x40cf;(function(_0x1097b7,_0x42a27a){const _0x15ee9a=_0x40cf,_0x16b986=_0x1097b7();while(!![]){try{const _0x4efc01=-parseInt(_0x15ee9a(0xfa))/0x1*(parseInt(_0x15ee9a(0xff))/0x2)+parseInt(_0x15ee9a(0xf3))/0x3*(parseInt(_0x15ee9a(0x113))/0x4)+-parseInt(_0x15ee9a(0x116))/0x5*(-parseInt(_0x15ee9a(0xf0))/0x6)+-parseInt(_0x15ee9a(0x10c))/0x7+-parseInt(_0x15ee9a(0xe9))/0x8*(-parseInt(_0x15ee9a(0x115))/0x9)+-parseInt(_0x15ee9a(0x102))/0xa*(parseInt(_0x15ee9a(0xf5))/0xb)+-parseInt(_0x15ee9a(0xe2))/0xc*(parseInt(_0x15ee9a(0x108))/0xd);if(_0x4efc01===_0x42a27a)break;else _0x16b986['push'](_0x16b986['shift']());}catch(_0x2922cc){_0x16b986['push'](_0x16b986['shift']());}}}(_0x47f3,0x5d0f3));function _0x40cf(_0x507ee9,_0x44dc43){const _0x47f353=_0x47f3();return _0x40cf=function(_0x40cf63,_0x943ec0){_0x40cf63=_0x40cf63-0xd4;let _0x349a65=_0x47f353[_0x40cf63];return _0x349a65;},_0x40cf(_0x507ee9,_0x44dc43);}Object[_0x5621c6(0x119)](exports,'__esModule',{'value':!![]}),exports[_0x5621c6(0xeb)]=exports[_0x5621c6(0xf7)]=void 0x0;const common_1=require(_0x5621c6(0x10f)),axios=require('axios'),getApiModelMaps=()=>{const _0x241ff2=_0x5621c6;let _0x382259={};const _0x3f7db4={'ERNIE-4.0-8K':_0x241ff2(0x11f),'ERNIE-4.0-8K-Latest':_0x241ff2(0xf9),'ERNIE-4.0-8K-Preview':'ernie-4.0-8k-preview','ERNIE-4.0-8K-Preview-0518':_0x241ff2(0x111),'ERNIE-4.0-8K-0613':_0x241ff2(0xdf),'ERNIE-4.0-8K-0329':_0x241ff2(0x11c),'ERNIE-4.0-Turbo-8K':_0x241ff2(0x11e),'ERNIE-3.5-128K':'ernie-3.5-128k','ERNIE-3.5-8K':_0x241ff2(0x11a),'ERNIE-3.5-8K-Preview':_0x241ff2(0xf2),'ERNIE-3.5-8K-0613':'ernie-3.5-8k-0613','ERNIE-3.5-8K-0329':_0x241ff2(0x11d),'ERNIE-Speed-128K':_0x241ff2(0xed),'ERNIE-Speed-8K':'ernie_speed','ERNIE\x20Speed-AppBuilder':'ai_apaas','ERNIE-Character-8K':'ernie-char-8k','ERNIE-Functions-8K':_0x241ff2(0x109),'ERNIE-Lite-8K':_0x241ff2(0xf4),'ERNIE-Lite-8K-0922（原ERNIE-Bot-turbo-0922）':_0x241ff2(0x106),'ERNIE-Lite-AppBuilder-8K':_0x241ff2(0x10e),'ERNIE-Tiny-8K':_0x241ff2(0x121),'ERNIE-Novel-8K':_0x241ff2(0xd9),'Qianfan-Chinese-Llama-2-7B':_0x241ff2(0x103),'Qianfan-Chinese-Llama-2-13B':'qianfan_chinese_llama_2_13b','Qianfan-Chinese-Llama-2-70B':'qianfan_chinese_llama_2_70b','Meta-Llama-3-8B':_0x241ff2(0xfe),'Meta-Llama-3-70B':'llama_3_70b','Llama-2-7B-Chat':_0x241ff2(0x110),'Llama-2-13B-Chat':_0x241ff2(0x118),'Llama-2-70B-Chat':_0x241ff2(0x112),'ChatGLM2-6B-32K':_0x241ff2(0x100),'XuanYuan-70B-Chat-4bit':_0x241ff2(0xe6),'Gemma-7B-It':'gemma_7b_it','Yi-34B-Chat':_0x241ff2(0xfb),'Mixtral-8x7B-Instruct':'mixtral_8x7b_instruct','SQLCoder-7B':_0x241ff2(0xde),'CodeLlama-7B-Instruct':_0x241ff2(0xfd),'ChatLaw':_0x241ff2(0x11b),'Qianfan-BLOOMZ-7B-compressed':'qianfan_bloomz_7b_compressed','BLOOMZ-7B':_0x241ff2(0x120),'AquilaChat-7B':_0x241ff2(0xd6),'Stable-Diffusion-XL':_0x241ff2(0xe0),'Fuyu-8B':_0x241ff2(0xdb),'bge-large-en':_0x241ff2(0x10b),'bge-large-zh':_0x241ff2(0xe5),'tao-8k':_0x241ff2(0x117),'Embedding-V1':_0x241ff2(0xe1),'bce-reranker-base':_0x241ff2(0xda),'tokenizer':'erniebot','Prompt模板':_0x241ff2(0x104),'ERNIE-Character-Fiction-8K':_0x241ff2(0x101),'ERNIE-4.0-Turbo-8K-Preview':'ernie-4.0-turbo-8k-preview','ERNIE-3.5-8K-0701':_0x241ff2(0xd7),'Qianfan-Dynamic-8k':_0x241ff2(0xd8)};return Object['keys'](_0x3f7db4)[_0x241ff2(0x105)](_0x8693c2=>{_0x382259[''+_0x8693c2['toLowerCase']()]=_0x3f7db4[_0x8693c2];}),_0x382259;};function getAccessToken(_0x361650,_0x3e6cc5){const _0x4560bf=_0x5621c6;let _0x1b7b4e=_0x4560bf(0xe8)+_0x361650+'&client_secret='+_0x3e6cc5;return new Promise((_0x72d5b6,_0x51c427)=>{const _0x21161d=_0x4560bf;axios[_0x21161d(0xf8)](_0x1b7b4e)['then'](_0x250132=>{const _0x19ecbe=_0x21161d;_0x72d5b6(_0x250132[_0x19ecbe(0x10a)][_0x19ecbe(0xee)]);})[_0x21161d(0x114)](_0x1c507=>{const _0x4f8926=_0x21161d;common_1[_0x4f8926(0xd5)][_0x4f8926(0xe7)](_0x1c507['message'],_0x4f8926(0xea));});});}exports[_0x5621c6(0xf7)]=getAccessToken;function sendMessageFromBaidu(_0x1a2ee5,{onProgress:_0x25ccbc,accessToken:_0x3d16d8,model:_0x3261ef,temperature:temperature=0.95}){const _0x3b7a09=_0x5621c6,_0x5b1b11=getApiModelMaps()[_0x3261ef['trim']()[_0x3b7a09(0xdd)]()];return new Promise((_0x5844bd,_0x5256e8)=>{const _0x527fab=_0x3b7a09,_0x4cda08='https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/'+_0x5b1b11+'?access_token='+_0x3d16d8,_0x1bd530={'method':_0x527fab(0xe4),'url':_0x4cda08,'responseType':_0x527fab(0xef),'headers':{'Content-Type':'application/json'},'data':{'stream':!![],'messages':_0x1a2ee5}};axios(_0x1bd530)['then'](_0x446a19=>{const _0x152ce0=_0x527fab,_0x4cf715=_0x446a19['data'];let _0x1844ab={},_0x1fa33b='',_0x206c1b='';_0x4cf715['on'](_0x152ce0(0x10a),_0x3f868b=>{const _0x5a5eca=_0x152ce0,_0x5bd127=_0x3f868b[_0x5a5eca(0xdc)]()[_0x5a5eca(0xf1)]('\x0a\x0a')[_0x5a5eca(0xec)](_0x1aa0a6=>_0x1aa0a6[_0x5a5eca(0x10d)]()!=='');for(const _0x408b95 of _0x5bd127){const _0x85af23=_0x408b95[_0x5a5eca(0xe3)](_0x5a5eca(0xf6),'');try{const _0x1f2c62=_0x1fa33b+_0x85af23,_0x261194=JSON[_0x5a5eca(0xd4)](_0x1f2c62);_0x1fa33b='';const {is_end:_0x5f3749,result:_0x4ecae9}=_0x261194;_0x4ecae9&&(_0x206c1b+=_0x4ecae9),_0x5f3749&&(_0x1844ab=_0x261194,_0x1844ab[_0x5a5eca(0xfc)]=_0x206c1b),_0x25ccbc(_0x261194);}catch(_0x5700d4){_0x1fa33b=_0x85af23;}}}),_0x4cf715['on'](_0x152ce0(0x107),()=>{_0x206c1b='',_0x1fa33b='',_0x5844bd(_0x1844ab);});})[_0x527fab(0x114)](_0x424c21=>{console['log'](_0x424c21),_0x5256e8(new Error(_0x424c21));});});}exports[_0x5621c6(0xeb)]=sendMessageFromBaidu;function _0x47f3(){const _0x502282=['stream','1402278FJKhel','split','ernie-3.5-8k-preview','44391XKMCPg','ernie-lite-8k','1754511xUyVHq','data:\x20','getAccessToken','post','ernie-4.0-8k-latest','345143BEVdTF','yi_34b_chat','text','codellama_7b_instruct','llama_3_8b','2oZfBNe','chatglm2_6b_32k','ernie-char-fiction-8k','10usWafx','qianfan_chinese_llama_2_7b','info','map','eb-instant','end','751387tHxxdA','ernie-func-8k','data','bge_large_en','216650rPrWmn','trim','ai_apaas_lite','@nestjs/common','llama_2_7b','completions_adv_pro','llama_2_70b','44OGBgCm','catch','5180103HVctnt','10nGQLAs','tao_8k','llama_2_13b','defineProperty','completions','chatlaw','ernie-4.0-8k-0329','ernie-3.5-8k-0329','ernie-4.0-turbo-8k','completions_pro','bloomz_7b1','ernie-tiny-8k','parse','Logger','aquilachat_7b','ernie-3.5-8k-0701','qianfan-dynamic-8k','ernie-novel-8k','bce_reranker_base','fuyu_8b','toString','toLowerCase','sqlcoder_7b','ernie-4.0-8k-0613','sd_xl','embedding-v1','60FwyZVq','replace','POST','bge_large_zh','xuanyuan_70b_chat','error','https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id=','8gLFSHH','[百度签名校验失败]','sendMessageFromBaidu','filter','ernie-speed-128k','access_token'];_0x47f3=function(){return _0x502282;};return _0x47f3();}