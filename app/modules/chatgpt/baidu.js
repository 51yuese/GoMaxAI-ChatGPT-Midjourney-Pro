'use strict';const _0x2f9396=_0x4a6f;function _0x4a6f(_0x325e23,_0x44c20f){const _0x26a2d0=_0x26a2();return _0x4a6f=function(_0x4a6f11,_0x1577de){_0x4a6f11=_0x4a6f11-0xab;let _0x506ff3=_0x26a2d0[_0x4a6f11];return _0x506ff3;},_0x4a6f(_0x325e23,_0x44c20f);}(function(_0x37429a,_0x249f74){const _0x1b309f=_0x4a6f,_0x381330=_0x37429a();while(!![]){try{const _0x5f0021=parseInt(_0x1b309f(0xd3))/0x1*(-parseInt(_0x1b309f(0xef))/0x2)+-parseInt(_0x1b309f(0xb0))/0x3+parseInt(_0x1b309f(0xeb))/0x4*(-parseInt(_0x1b309f(0xd4))/0x5)+-parseInt(_0x1b309f(0xc1))/0x6+parseInt(_0x1b309f(0xc0))/0x7+parseInt(_0x1b309f(0xf0))/0x8*(-parseInt(_0x1b309f(0xf7))/0x9)+-parseInt(_0x1b309f(0xd9))/0xa*(-parseInt(_0x1b309f(0xd5))/0xb);if(_0x5f0021===_0x249f74)break;else _0x381330['push'](_0x381330['shift']());}catch(_0xbcd134){_0x381330['push'](_0x381330['shift']());}}}(_0x26a2,0xce9d9));function _0x26a2(){const _0x39a598=['ai_apaas_lite','sd_xl','toLowerCase','1224903efBxps','data','chatglm2_6b_32k','ernie-3.5-8k-0613','qianfan_chinese_llama_2_7b','ai_apaas','replace','ernie-3.5-8k-preview','[百度签名校验失败]','data:\x20','qianfan-dynamic-8k','ernie-4.0-8k-latest','codellama_7b_instruct','text','llama_3_8b','aquilachat_7b','6931414kPAnUM','7622628eeGGPF','toString','ernie-4.0-turbo-8k-preview','ernie-speed-128k','gemma_7b_it','map','qianfan_chinese_llama_2_13b','completions_adv_pro','bge_large_zh','chatlaw','ernie-novel-8k','ernie-tiny-8k','llama_2_70b','qianfan_bloomz_7b_compressed','message','bloomz_7b1','getAccessToken','error','190CtlhHz','30GcJUGZ','37961fdWdXE','sqlcoder_7b','completions','@nestjs/common','12170tsskmD','POST','yi_34b_chat','llama_2_13b','bce_reranker_base','&client_secret=','trim','ernie-4.0-8k-0613','keys','https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/','ernie-func-8k','https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id=','llama_2_7b','mixtral_8x7b_instruct','embedding-v1','completions_pro','?access_token=','ernie-lite-8k','344952TvNJgB','parse','ernie-3.5-8k-0329','catch','9494yvYYPq','132872BuoHqK','__esModule','ernie-3.5-8k-0701','ernie-char-8k','fuyu_8b','Logger','filter','675ahERdI','ernie-4.0-8k-preview','axios','ernie_speed','ernie-3.5-128k','post','then','qianfan_chinese_llama_2_70b','bge_large_en','xuanyuan_70b_chat','sendMessageFromBaidu','stream'];_0x26a2=function(){return _0x39a598;};return _0x26a2();}Object['defineProperty'](exports,_0x2f9396(0xf1),{'value':!![]}),exports[_0x2f9396(0xab)]=exports[_0x2f9396(0xd1)]=void 0x0;const common_1=require(_0x2f9396(0xd8)),axios=require(_0x2f9396(0xf9)),getApiModelMaps=()=>{const _0x30c564=_0x2f9396;let _0x144f2c={};const _0x5a283a={'ERNIE-4.0-8K':_0x30c564(0xe8),'ERNIE-4.0-8K-Latest':_0x30c564(0xbb),'ERNIE-4.0-8K-Preview':_0x30c564(0xf8),'ERNIE-4.0-8K-Preview-0518':_0x30c564(0xc8),'ERNIE-4.0-8K-0613':_0x30c564(0xe0),'ERNIE-4.0-8K-0329':'ernie-4.0-8k-0329','ERNIE-4.0-Turbo-8K':'ernie-4.0-turbo-8k','ERNIE-3.5-128K':_0x30c564(0xfb),'ERNIE-3.5-8K':_0x30c564(0xd7),'ERNIE-3.5-8K-Preview':_0x30c564(0xb7),'ERNIE-3.5-8K-0613':_0x30c564(0xb3),'ERNIE-3.5-8K-0329':_0x30c564(0xed),'ERNIE-Speed-128K':_0x30c564(0xc4),'ERNIE-Speed-8K':_0x30c564(0xfa),'ERNIE\x20Speed-AppBuilder':_0x30c564(0xb5),'ERNIE-Character-8K':_0x30c564(0xf3),'ERNIE-Functions-8K':_0x30c564(0xe3),'ERNIE-Lite-8K':_0x30c564(0xea),'ERNIE-Lite-8K-0922（原ERNIE-Bot-turbo-0922）':'eb-instant','ERNIE-Lite-AppBuilder-8K':_0x30c564(0xad),'ERNIE-Tiny-8K':_0x30c564(0xcc),'ERNIE-Novel-8K':_0x30c564(0xcb),'Qianfan-Chinese-Llama-2-7B':_0x30c564(0xb4),'Qianfan-Chinese-Llama-2-13B':_0x30c564(0xc7),'Qianfan-Chinese-Llama-2-70B':_0x30c564(0xfe),'Meta-Llama-3-8B':_0x30c564(0xbe),'Meta-Llama-3-70B':'llama_3_70b','Llama-2-7B-Chat':_0x30c564(0xe5),'Llama-2-13B-Chat':_0x30c564(0xdc),'Llama-2-70B-Chat':_0x30c564(0xcd),'ChatGLM2-6B-32K':_0x30c564(0xb2),'XuanYuan-70B-Chat-4bit':_0x30c564(0x100),'Gemma-7B-It':_0x30c564(0xc5),'Yi-34B-Chat':_0x30c564(0xdb),'Mixtral-8x7B-Instruct':_0x30c564(0xe6),'SQLCoder-7B':_0x30c564(0xd6),'CodeLlama-7B-Instruct':_0x30c564(0xbc),'ChatLaw':_0x30c564(0xca),'Qianfan-BLOOMZ-7B-compressed':_0x30c564(0xce),'BLOOMZ-7B':_0x30c564(0xd0),'AquilaChat-7B':_0x30c564(0xbf),'Stable-Diffusion-XL':_0x30c564(0xae),'Fuyu-8B':_0x30c564(0xf4),'bge-large-en':_0x30c564(0xff),'bge-large-zh':_0x30c564(0xc9),'tao-8k':'tao_8k','Embedding-V1':_0x30c564(0xe7),'bce-reranker-base':_0x30c564(0xdd),'tokenizer':'erniebot','Prompt模板':'info','ERNIE-Character-Fiction-8K':'ernie-char-fiction-8k','ERNIE-4.0-Turbo-8K-Preview':_0x30c564(0xc3),'ERNIE-3.5-8K-0701':_0x30c564(0xf2),'Qianfan-Dynamic-8k':_0x30c564(0xba)};return Object[_0x30c564(0xe1)](_0x5a283a)[_0x30c564(0xc6)](_0x4f4334=>{const _0x4aa713=_0x30c564;_0x144f2c[''+_0x4f4334[_0x4aa713(0xaf)]()]=_0x5a283a[_0x4f4334];}),_0x144f2c;};function getAccessToken(_0x380dcf,_0x3c1b85){const _0x22a308=_0x2f9396;let _0x3d7c0f=_0x22a308(0xe4)+_0x380dcf+_0x22a308(0xde)+_0x3c1b85;return new Promise((_0x5e4089,_0x3f2c13)=>{const _0x49fad1=_0x22a308;axios[_0x49fad1(0xfc)](_0x3d7c0f)[_0x49fad1(0xfd)](_0x20332c=>{const _0x33212b=_0x49fad1;_0x5e4089(_0x20332c[_0x33212b(0xb1)]['access_token']);})['catch'](_0x93387b=>{const _0x36eb7a=_0x49fad1;common_1[_0x36eb7a(0xf5)][_0x36eb7a(0xd2)](_0x93387b[_0x36eb7a(0xcf)],_0x36eb7a(0xb8));});});}exports[_0x2f9396(0xd1)]=getAccessToken;function sendMessageFromBaidu(_0x3caead,{onProgress:_0x1b0f85,accessToken:_0x110b4e,model:_0x3ce3cc,temperature:temperature=0.95}){const _0x4fd18a=_0x2f9396,_0x3a66f7=getApiModelMaps()[_0x3ce3cc[_0x4fd18a(0xdf)]()[_0x4fd18a(0xaf)]()];return new Promise((_0x831f82,_0x4f972d)=>{const _0x3609dd=_0x4fd18a,_0x4db268=_0x3609dd(0xe2)+_0x3a66f7+_0x3609dd(0xe9)+_0x110b4e,_0x4a446b={'method':_0x3609dd(0xda),'url':_0x4db268,'responseType':_0x3609dd(0xac),'headers':{'Content-Type':'application/json'},'data':{'stream':!![],'messages':_0x3caead}};axios(_0x4a446b)['then'](_0x4fc2a2=>{const _0x557305=_0x3609dd,_0x2d4786=_0x4fc2a2[_0x557305(0xb1)];let _0x37f4d9={},_0x39e987='',_0x29cdf6='';_0x2d4786['on'](_0x557305(0xb1),_0x45fbf3=>{const _0x4fdac0=_0x557305,_0x44d329=_0x45fbf3[_0x4fdac0(0xc2)]()['split']('\x0a\x0a')[_0x4fdac0(0xf6)](_0xa767c2=>_0xa767c2[_0x4fdac0(0xdf)]()!=='');for(const _0x5ae0a5 of _0x44d329){const _0x2003d0=_0x5ae0a5[_0x4fdac0(0xb6)](_0x4fdac0(0xb9),'');try{const _0x1b9c35=_0x39e987+_0x2003d0,_0x5d89bc=JSON[_0x4fdac0(0xec)](_0x1b9c35);_0x39e987='';const {is_end:_0x256bfc,result:_0x9ac6b4}=_0x5d89bc;_0x9ac6b4&&(_0x29cdf6+=_0x9ac6b4),_0x256bfc&&(_0x37f4d9=_0x5d89bc,_0x37f4d9[_0x4fdac0(0xbd)]=_0x29cdf6),_0x1b0f85(_0x5d89bc);}catch(_0x57c361){_0x39e987=_0x2003d0;}}}),_0x2d4786['on']('end',()=>{_0x29cdf6='',_0x39e987='',_0x831f82(_0x37f4d9);});})[_0x3609dd(0xee)](_0x56675c=>{console['log'](_0x56675c),_0x4f972d(new Error(_0x56675c));});});}exports[_0x2f9396(0xab)]=sendMessageFromBaidu;