'use strict';const _0x3f238f=_0x440e;(function(_0x4c7c31,_0x483ec3){const _0x29d9ce=_0x440e,_0x1e12c2=_0x4c7c31();while(!![]){try{const _0x127aae=-parseInt(_0x29d9ce(0x189))/0x1*(parseInt(_0x29d9ce(0x159))/0x2)+-parseInt(_0x29d9ce(0x15d))/0x3*(-parseInt(_0x29d9ce(0x148))/0x4)+parseInt(_0x29d9ce(0x179))/0x5*(parseInt(_0x29d9ce(0x13b))/0x6)+-parseInt(_0x29d9ce(0x164))/0x7+parseInt(_0x29d9ce(0x16d))/0x8*(parseInt(_0x29d9ce(0x163))/0x9)+parseInt(_0x29d9ce(0x160))/0xa+-parseInt(_0x29d9ce(0x185))/0xb*(parseInt(_0x29d9ce(0x143))/0xc);if(_0x127aae===_0x483ec3)break;else _0x1e12c2['push'](_0x1e12c2['shift']());}catch(_0x2e645c){_0x1e12c2['push'](_0x1e12c2['shift']());}}}(_0x472d,0x590d2));Object['defineProperty'](exports,_0x3f238f(0x14b),{'value':!![]}),exports[_0x3f238f(0x169)]=exports[_0x3f238f(0x17a)]=void 0x0;function _0x472d(){const _0x1dabb4=['llama_3_70b','keys','qianfan_chinese_llama_2_13b','replace','stream','yi_34b_chat','https://aip.baidubce.com/rpc/2.0/ai_custom/v1/wenxinworkshop/chat/','ernie-3.5-8k-preview','completions_adv_pro','5OLXVhb','getAccessToken','codellama_7b_instruct','parse','data','ernie_speed','tao_8k','fuyu_8b','toString','bce_reranker_base','ernie-4.0-8k-0613','split','495iGLWBP','then','gemma_7b_it','aquilachat_7b','27UZlnAf','completions_pro','completions','map','@nestjs/common','&client_secret=','328926ZbbyWd','log','toLowerCase','bge_large_en','bge_large_zh','eb-instant','ernie-char-fiction-8k','llama_2_7b','139884JFsYEe','info','chatglm2_6b_32k','ernie-3.5-8k-0329','qianfan-dynamic-8k','1132tKhJGz','ernie-3.5-8k-0701','ernie-4.0-8k-preview','__esModule','llama_3_8b','ernie-4.0-turbo-8k-preview','catch','POST','data:\x20','ernie-4.0-8k-0329','llama_2_13b','ernie-3.5-128k','ernie-tiny-8k','chatlaw','ernie-lite-8k','post','ernie-3.5-8k-0613','8982LgYIGG','mixtral_8x7b_instruct','filter','trim','6717mAGZYF','application/json','ernie-func-8k','1883800HrXNUl','ernie-4.0-8k-latest','text','9ALMUji','3537646tHDikv','end','ernie-novel-8k','ernie-char-8k','[百度签名校验失败]','sendMessageFromBaidu','qianfan_bloomz_7b_compressed','axios','sqlcoder_7b','5112928JMsmJs','https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id=','llama_2_70b'];_0x472d=function(){return _0x1dabb4;};return _0x472d();}const common_1=require(_0x3f238f(0x139)),axios=require(_0x3f238f(0x16b)),getApiModelMaps=()=>{const _0x3eb9ef=_0x3f238f;let _0x4426a9={};const _0x39b993={'ERNIE-4.0-8K':_0x3eb9ef(0x18a),'ERNIE-4.0-8K-Latest':_0x3eb9ef(0x161),'ERNIE-4.0-8K-Preview':_0x3eb9ef(0x14a),'ERNIE-4.0-8K-Preview-0518':_0x3eb9ef(0x178),'ERNIE-4.0-8K-0613':_0x3eb9ef(0x183),'ERNIE-4.0-8K-0329':_0x3eb9ef(0x151),'ERNIE-4.0-Turbo-8K':'ernie-4.0-turbo-8k','ERNIE-3.5-128K':_0x3eb9ef(0x153),'ERNIE-3.5-8K':_0x3eb9ef(0x18b),'ERNIE-3.5-8K-Preview':_0x3eb9ef(0x177),'ERNIE-3.5-8K-0613':_0x3eb9ef(0x158),'ERNIE-3.5-8K-0329':_0x3eb9ef(0x146),'ERNIE-Speed-128K':'ernie-speed-128k','ERNIE-Speed-8K':_0x3eb9ef(0x17e),'ERNIE\x20Speed-AppBuilder':'ai_apaas','ERNIE-Character-8K':_0x3eb9ef(0x167),'ERNIE-Functions-8K':_0x3eb9ef(0x15f),'ERNIE-Lite-8K':_0x3eb9ef(0x156),'ERNIE-Lite-8K-0922（原ERNIE-Bot-turbo-0922）':_0x3eb9ef(0x140),'ERNIE-Lite-AppBuilder-8K':'ai_apaas_lite','ERNIE-Tiny-8K':_0x3eb9ef(0x154),'ERNIE-Novel-8K':_0x3eb9ef(0x166),'Qianfan-Chinese-Llama-2-7B':'qianfan_chinese_llama_2_7b','Qianfan-Chinese-Llama-2-13B':_0x3eb9ef(0x172),'Qianfan-Chinese-Llama-2-70B':'qianfan_chinese_llama_2_70b','Meta-Llama-3-8B':_0x3eb9ef(0x14c),'Meta-Llama-3-70B':_0x3eb9ef(0x170),'Llama-2-7B-Chat':_0x3eb9ef(0x142),'Llama-2-13B-Chat':_0x3eb9ef(0x152),'Llama-2-70B-Chat':_0x3eb9ef(0x16f),'ChatGLM2-6B-32K':_0x3eb9ef(0x145),'XuanYuan-70B-Chat-4bit':'xuanyuan_70b_chat','Gemma-7B-It':_0x3eb9ef(0x187),'Yi-34B-Chat':_0x3eb9ef(0x175),'Mixtral-8x7B-Instruct':_0x3eb9ef(0x15a),'SQLCoder-7B':_0x3eb9ef(0x16c),'CodeLlama-7B-Instruct':_0x3eb9ef(0x17b),'ChatLaw':_0x3eb9ef(0x155),'Qianfan-BLOOMZ-7B-compressed':_0x3eb9ef(0x16a),'BLOOMZ-7B':'bloomz_7b1','AquilaChat-7B':_0x3eb9ef(0x188),'Stable-Diffusion-XL':'sd_xl','Fuyu-8B':_0x3eb9ef(0x180),'bge-large-en':_0x3eb9ef(0x13e),'bge-large-zh':_0x3eb9ef(0x13f),'tao-8k':_0x3eb9ef(0x17f),'Embedding-V1':'embedding-v1','bce-reranker-base':_0x3eb9ef(0x182),'tokenizer':'erniebot','Prompt模板':_0x3eb9ef(0x144),'ERNIE-Character-Fiction-8K':_0x3eb9ef(0x141),'ERNIE-4.0-Turbo-8K-Preview':_0x3eb9ef(0x14d),'ERNIE-3.5-8K-0701':_0x3eb9ef(0x149),'Qianfan-Dynamic-8k':_0x3eb9ef(0x147)};return Object[_0x3eb9ef(0x171)](_0x39b993)[_0x3eb9ef(0x138)](_0x4dd528=>{const _0x52c2c4=_0x3eb9ef;_0x4426a9[''+_0x4dd528[_0x52c2c4(0x13d)]()]=_0x39b993[_0x4dd528];}),_0x4426a9;};function getAccessToken(_0xe53855,_0x1352b8){const _0x3bdee5=_0x3f238f;let _0x505ab1=_0x3bdee5(0x16e)+_0xe53855+_0x3bdee5(0x13a)+_0x1352b8;return new Promise((_0x9dec1b,_0x18a9c1)=>{const _0x581a90=_0x3bdee5;axios[_0x581a90(0x157)](_0x505ab1)[_0x581a90(0x186)](_0x3df241=>{const _0x172952=_0x581a90;_0x9dec1b(_0x3df241[_0x172952(0x17d)]['access_token']);})[_0x581a90(0x14e)](_0x6010a2=>{const _0x2a991d=_0x581a90;common_1['Logger']['error'](_0x6010a2['message'],_0x2a991d(0x168));});});}exports[_0x3f238f(0x17a)]=getAccessToken;function _0x440e(_0x1727a1,_0x58673c){const _0x472dae=_0x472d();return _0x440e=function(_0x440e45,_0x9add7e){_0x440e45=_0x440e45-0x138;let _0x1fcff4=_0x472dae[_0x440e45];return _0x1fcff4;},_0x440e(_0x1727a1,_0x58673c);}function sendMessageFromBaidu(_0x6e408a,{onProgress:_0x3970e0,accessToken:_0x53fa48,model:_0x589dfb,temperature:temperature=0.95}){const _0x18ffc8=_0x3f238f,_0x1a48c7=getApiModelMaps()[_0x589dfb[_0x18ffc8(0x15c)]()[_0x18ffc8(0x13d)]()];return new Promise((_0xf7dea8,_0x348493)=>{const _0x595559=_0x18ffc8,_0x3599e2=_0x595559(0x176)+_0x1a48c7+'?access_token='+_0x53fa48,_0x39768d={'method':_0x595559(0x14f),'url':_0x3599e2,'responseType':_0x595559(0x174),'headers':{'Content-Type':_0x595559(0x15e)},'data':{'stream':!![],'messages':_0x6e408a}};axios(_0x39768d)[_0x595559(0x186)](_0x1d4cbf=>{const _0x280618=_0x595559,_0x1214c9=_0x1d4cbf[_0x280618(0x17d)];let _0x458e77={},_0x55008f='',_0x691df1='';_0x1214c9['on'](_0x280618(0x17d),_0x939466=>{const _0x3cad69=_0x280618,_0x457171=_0x939466[_0x3cad69(0x181)]()[_0x3cad69(0x184)]('\x0a\x0a')[_0x3cad69(0x15b)](_0x541a43=>_0x541a43['trim']()!=='');for(const _0x212909 of _0x457171){const _0x5054f4=_0x212909[_0x3cad69(0x173)](_0x3cad69(0x150),'');try{const _0x3f116b=_0x55008f+_0x5054f4,_0x241998=JSON[_0x3cad69(0x17c)](_0x3f116b);_0x55008f='';const {is_end:_0x3348c9,result:_0x393932}=_0x241998;_0x393932&&(_0x691df1+=_0x393932),_0x3348c9&&(_0x458e77=_0x241998,_0x458e77[_0x3cad69(0x162)]=_0x691df1),_0x3970e0(_0x241998);}catch(_0x57602a){_0x55008f=_0x5054f4;}}}),_0x1214c9['on'](_0x280618(0x165),()=>{_0x691df1='',_0x55008f='',_0xf7dea8(_0x458e77);});})[_0x595559(0x14e)](_0x5dfb19=>{const _0xa44ff0=_0x595559;console[_0xa44ff0(0x13c)](_0x5dfb19),_0x348493(new Error(_0x5dfb19));});});}exports['sendMessageFromBaidu']=sendMessageFromBaidu;